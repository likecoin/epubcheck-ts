/**
 * Auto-generated schema constants
 *
 * DO NOT EDIT MANUALLY - Run "npm run generate:schemas" to regenerate
 *
 * Generated: 2026-01-20T20:47:22.679Z
 */

export const APPLICATIONS_RNG = `<?xml version="1.0" encoding="UTF-8"?>
<grammar xmlns:a="http://relaxng.org/ns/compatibility/annotations/1.0" xmlns="http://relaxng.org/ns/structure/1.0">
  <!-- ##################################################################### -->
  <define name="common.attrs.interact" combine="interleave">
    <a:documentation> RELAX NG Schema for HTML 5: Web Application Features              #</a:documentation>
    <!-- ##################################################################### -->
    <a:documentation>Additions to Common Attributes</a:documentation>
    <interleave>
      <optional>
        <ref name="common.attrs.contenteditable"/>
      </optional>
      <optional>
        <ref name="common.attrs.draggable"/>
      </optional>
      <optional>
        <ref name="common.attrs.hidden"/>
      </optional>
      <optional>
        <ref name="common.attrs.popover"/>
      </optional>
    </interleave>
  </define>
  <define name="common.attrs.other" combine="interleave">
    <ref name="common.attrs.interact"/>
  </define>
  <define name="common.attrs.contenteditable">
    <a:documentation>Editable Content: contenteditable</a:documentation>
    <attribute name="contenteditable">
      <choice>
        <value>true</value>
        <value>plaintext-only</value>
        <value>false</value>
        <value/>
      </choice>
    </attribute>
  </define>
  <define name="common.attrs.draggable">
    <a:documentation>Draggable Element: draggable</a:documentation>
    <attribute name="draggable">
      <choice>
        <value>true</value>
        <value>false</value>
      </choice>
    </attribute>
  </define>
  <define name="common.attrs.hidden">
    <a:documentation>Hidden Element: hidden</a:documentation>
    <attribute name="hidden">
      <choice>
        <value>hidden</value>
        <value>until-found</value>
        <value/>
      </choice>
    </attribute>
  </define>
  <define name="common.attrs.popover">
    <a:documentation>Popover Element: popover</a:documentation>
    <attribute name="popover">
      <choice>
        <value>auto</value>
        <value>manual</value>
        <value>hint</value>
        <value/>
      </choice>
    </attribute>
  </define>
  <define name="common.attrs.editing" combine="interleave">
    <a:documentation>Global attributes applicable on elements with editable content</a:documentation>
    <interleave>
      <optional>
        <ref name="common.attrs.inputmode"/>
      </optional>
      <optional>
        <ref name="common.attrs.spellcheck"/>
      </optional>
      <optional>
        <ref name="common.attrs.autocapitalize"/>
      </optional>
      <optional>
        <ref name="common.attrs.enterkeyhint"/>
      </optional>
    </interleave>
  </define>
  <define name="common.attrs.other" combine="interleave">
    <ref name="common.attrs.editing"/>
  </define>
  <define name="common.attrs.inputmode">
    <a:documentation>Hint expected data type: inputmode</a:documentation>
    <attribute name="inputmode">
      <choice>
        <value>none</value>
        <value>text</value>
        <value>tel</value>
        <value>url</value>
        <value>email</value>
        <value>numeric</value>
        <value>decimal</value>
        <value>search</value>
      </choice>
    </attribute>
  </define>
  <define name="common.attrs.spellcheck">
    <a:documentation>Spellchecking and grammar checking: spellcheck</a:documentation>
    <attribute name="spellcheck">
      <choice>
        <value>true</value>
        <value>false</value>
        <value/>
      </choice>
    </attribute>
  </define>
  <define name="common.attrs.autocapitalize">
    <a:documentation>Autocapitalization</a:documentation>
    <attribute name="autocapitalize">
      <choice>
        <value>off</value>
        <value>none</value>
        <value>on</value>
        <value>sentences</value>
        <value>words</value>
        <value>characters</value>
      </choice>
    </attribute>
  </define>
  <define name="common.attrs.enterkeyhint">
    <a:documentation>Type of Enter button on virtual keyboards: enterkeyhint</a:documentation>
    <attribute name="enterkeyhint">
      <choice>
        <value>enter</value>
        <value>done</value>
        <value>go</value>
        <value>next</value>
        <value>previous</value>
        <value>search</value>
        <value>send</value>
      </choice>
    </attribute>
  </define>
  <define name="progress.elem">
    <a:documentation>Progess Indicator: &lt;progress&gt;</a:documentation>
    <element name="progress">
      <interleave>
        <ref name="progress.inner"/>
        <ref name="progress.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="progress.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <ref name="progress.attrs.value"/>
      </optional>
      <optional>
        <ref name="progress.attrs.max"/>
      </optional>
      <optional>
        <choice>
          <ref name="common.attrs.aria.implicit.progressbar"/>
          <ref name="common.attrs.aria.role.progressbar"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="progress.attrs.value">
    <attribute name="value">
      <ref name="common.data.float.non-negative"/>
    </attribute>
  </define>
  <define name="progress.attrs.max">
    <attribute name="max">
      <ref name="common.data.float.positive"/>
    </attribute>
  </define>
  <define name="progress.inner">
    <ref name="common.inner.phrasing"/>
  </define>
  <!-- Cannot enforce textContent format here -->
  <define name="common.elem.phrasing" combine="choice">
    <ref name="progress.elem"/>
  </define>
  <define name="dialog.elem">
    <a:documentation>Dialog box, inspector, or window: &lt;dialog&gt;</a:documentation>
    <element name="dialog">
      <interleave>
        <ref name="dialog.inner"/>
        <ref name="dialog.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="dialog.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <ref name="dialog.attrs.open"/>
      </optional>
      <optional>
        <choice>
          <ref name="common.attrs.aria.implicit.dialog"/>
          <ref name="common.attrs.aria.role.alertdialog"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="dialog.attrs.open">
    <attribute name="open">
      <choice>
        <value>open</value>
        <value/>
      </choice>
    </attribute>
  </define>
  <define name="dialog.inner">
    <ref name="common.inner.flow"/>
  </define>
  <define name="common.elem.flow" combine="choice">
    <ref name="dialog.elem"/>
  </define>
  <define name="menu.elem">
    <a:documentation>Toolbar: &lt;menu&gt;</a:documentation>
    <element name="menu">
      <interleave>
        <ref name="menu.inner"/>
        <ref name="menu.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="menu.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <choice>
          <ref name="common.attrs.aria.implicit.list"/>
          <ref name="common.attrs.aria.role.directory"/>
          <ref name="common.attrs.aria.role.group"/>
          <ref name="common.attrs.aria.role.list"/>
          <ref name="common.attrs.aria.role.listbox"/>
          <ref name="common.attrs.aria.role.menu"/>
          <ref name="common.attrs.aria.role.menubar"/>
          <ref name="common.attrs.aria.role.radiogroup"/>
          <ref name="common.attrs.aria.role.tablist"/>
          <ref name="common.attrs.aria.role.toolbar"/>
          <ref name="common.attrs.aria.role.tree"/>
          <ref name="common.attrs.aria.role.presentation"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="menu.inner">
    <interleave>
      <zeroOrMore>
        <ref name="mli.elem"/>
      </zeroOrMore>
      <zeroOrMore>
        <ref name="common.elem.script-supporting"/>
      </zeroOrMore>
    </interleave>
  </define>
  <define name="common.elem.flow" combine="choice">
    <ref name="menu.elem"/>
  </define>
  <define name="mli.elem">
    <a:documentation>Toolbar item: &lt;li&gt;</a:documentation>
    <element name="li">
      <interleave>
        <ref name="mli.inner"/>
        <ref name="mli.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="mli.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <choice>
          <ref name="common.attrs.aria.role.listitem"/>
          <ref name="common.attrs.aria.role.menuitem"/>
          <ref name="common.attrs.aria.role.menuitemcheckbox"/>
          <ref name="common.attrs.aria.role.menuitemradio"/>
          <ref name="common.attrs.aria.role.option"/>
          <ref name="common.attrs.aria.role.tab"/>
          <ref name="common.attrs.aria.role.treeitem"/>
          <ref name="common.attrs.aria.role.presentation"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="mli.inner">
    <ref name="common.inner.flow"/>
  </define>
  <define name="canvas.elem.flow">
    <a:documentation>Canvas for Dynamic Graphics: &lt;canvas&gt;</a:documentation>
    <element name="canvas">
      <interleave>
        <ref name="canvas.inner.flow"/>
        <ref name="canvas.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="canvas.elem.phrasing">
    <element name="canvas">
      <interleave>
        <ref name="canvas.inner.phrasing"/>
        <ref name="canvas.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="canvas.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <ref name="canvas.attrs.height"/>
      </optional>
      <optional>
        <ref name="canvas.attrs.width"/>
      </optional>
      <optional>
        <ref name="common.attrs.aria"/>
      </optional>
    </interleave>
  </define>
  <define name="canvas.attrs.height">
    <attribute name="height">
      <ref name="common.data.integer.non-negative"/>
    </attribute>
  </define>
  <define name="canvas.attrs.width">
    <attribute name="width">
      <ref name="common.data.integer.non-negative"/>
    </attribute>
  </define>
  <define name="canvas.inner.flow">
    <ref name="common.inner.transparent.flow"/>
  </define>
  <define name="canvas.inner.phrasing">
    <ref name="common.inner.phrasing"/>
  </define>
  <define name="common.elem.flow" combine="choice">
    <ref name="canvas.elem.flow"/>
  </define>
  <define name="common.elem.phrasing" combine="choice">
    <ref name="canvas.elem.phrasing"/>
  </define>
  <define name="details.elem">
    <a:documentation>Additional On-Demand Information: &lt;details&gt;</a:documentation>
    <element name="details">
      <interleave>
        <ref name="details.inner"/>
        <ref name="details.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="details.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <ref name="details.attrs.open"/>
      </optional>
      <optional>
        <choice>
          <ref name="common.attrs.aria.implicit.group"/>
          <!-- aria-expanded must be true if open attr present; check by assertions -->
          <ref name="common.attrs.aria.role.group"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="details.attrs.open">
    <attribute name="open">
      <choice>
        <value>open</value>
        <value/>
      </choice>
    </attribute>
  </define>
  <define name="details.inner">
    <ref name="summary.elem"/>
    <ref name="common.inner.flow"/>
  </define>
  <define name="common.elem.flow" combine="choice">
    <ref name="details.elem"/>
  </define>
  <define name="summary.elem">
    <a:documentation>Caption/summary for details element: &lt;summary&gt;</a:documentation>
    <element name="summary">
      <interleave>
        <ref name="summary.inner"/>
        <ref name="summary.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="summary.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <choice>
          <ref name="common.attrs.aria.implicit.button"/>
          <ref name="common.attrs.aria.role.button"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="summary.inner">
    <interleave>
      <ref name="common.inner.phrasing"/>
      <optional>
        <ref name="h1.elem"/>
      </optional>
      <optional>
        <ref name="h2.elem"/>
      </optional>
      <optional>
        <ref name="h3.elem"/>
      </optional>
      <optional>
        <ref name="h4.elem"/>
      </optional>
      <optional>
        <ref name="h5.elem"/>
      </optional>
      <optional>
        <ref name="h6.elem"/>
      </optional>
      <optional>
        <ref name="hgroup.elem"/>
      </optional>
    </interleave>
  </define>
</grammar>
`;

export const ARIA_RNG = `<?xml version="1.0" encoding="UTF-8"?>
<grammar xmlns:a="http://relaxng.org/ns/compatibility/annotations/1.0" xmlns="http://relaxng.org/ns/structure/1.0" datatypeLibrary="">
  <!-- ##################################################################### -->
  <define name="aria.global">
    <a:documentation>	RELAX NG Schema for HTML 5: Accessible Rich Internet Applications #</a:documentation>
    <!--
      #####################################################################
      
      history: http://hsivonen.iki.fi/aria-html5-bis/
    -->
    <!-- ##################################################################### -->
    <a:documentation>ARIA</a:documentation>
    <a:documentation>Global states and properties</a:documentation>
    <interleave>
      <optional>
        <ref name="aria.prop.atomic"/>
      </optional>
      <optional>
        <ref name="aria.state.busy"/>
      </optional>
      <optional>
        <ref name="aria.prop.controls"/>
      </optional>
      <optional>
        <ref name="aria.state.current"/>
      </optional>
      <optional>
        <ref name="aria.prop.describedby"/>
      </optional>
      <optional>
        <ref name="aria.prop.details"/>
      </optional>
      <optional>
        <ref name="aria.state.disabled"/>
      </optional>
      <optional>
        <ref name="aria.prop.errormessage"/>
      </optional>
      <optional>
        <ref name="aria.prop.flowto"/>
      </optional>
      <optional>
        <ref name="aria.prop.haspopup"/>
      </optional>
      <optional>
        <ref name="aria.state.hidden"/>
      </optional>
      <optional>
        <ref name="aria.state.invalid"/>
      </optional>
      <optional>
        <ref name="aria.prop.keyshortcuts"/>
      </optional>
      <optional>
        <ref name="aria.prop.label"/>
      </optional>
      <optional>
        <ref name="aria.prop.labelledby"/>
      </optional>
      <optional>
        <ref name="aria.prop.live"/>
      </optional>
      <optional>
        <ref name="aria.prop.owns"/>
      </optional>
      <optional>
        <ref name="aria.prop.relevant"/>
      </optional>
      <optional>
        <ref name="aria.prop.roledescription"/>
      </optional>
      <optional>
        <ref name="aria.prop.description"/>
      </optional>
    </interleave>
  </define>
  <define name="common.attrs.other" combine="interleave">
    <optional>
      <ref name="aria.global"/>
    </optional>
  </define>
  <define name="common.attrs.aria.implicit.button" combine="choice">
    <a:documentation>States and Properties for Native Roles</a:documentation>
    <interleave>
      <optional>
        <ref name="aria.state.expanded"/>
      </optional>
      <optional>
        <ref name="aria.state.pressed"/>
      </optional>
    </interleave>
  </define>
  <define name="common.attrs.aria.implicit.cell" combine="choice">
    <interleave>
      <optional>
        <ref name="aria.prop.colspan"/>
      </optional>
      <optional>
        <ref name="aria.prop.rowspan"/>
      </optional>
      <optional>
        <ref name="aria.prop.rowindex"/>
      </optional>
    </interleave>
  </define>
  <define name="common.attrs.aria.implicit.checkbox" combine="choice">
    <optional>
      <ref name="aria.state.checked"/>
    </optional>
  </define>
  <define name="common.attrs.aria.implicit.combobox" combine="choice">
    <interleave>
      <optional>
        <ref name="aria.state.expanded"/>
      </optional>
      <optional>
        <ref name="aria.prop.autocomplete"/>
      </optional>
      <optional>
        <ref name="aria.prop.required"/>
      </optional>
      <optional>
        <ref name="aria.prop.activedescendant"/>
      </optional>
      <optional>
        <ref name="aria.prop.readonly"/>
      </optional>
    </interleave>
  </define>
  <define name="common.attrs.aria.implicit.definition" combine="choice">
    <optional>
      <ref name="aria.state.expanded"/>
    </optional>
  </define>
  <define name="common.attrs.aria.implicit.dialog" combine="choice">
    <optional>
      <ref name="aria.state.expanded"/>
    </optional>
  </define>
  <define name="common.attrs.aria.implicit.document" combine="choice">
    <optional>
      <ref name="aria.state.expanded"/>
    </optional>
  </define>
  <define name="common.attrs.aria.implicit.figure" combine="choice">
    <optional>
      <ref name="aria.state.expanded"/>
    </optional>
  </define>
  <define name="common.attrs.aria.implicit.form" combine="choice">
    <optional>
      <ref name="aria.state.expanded"/>
    </optional>
  </define>
  <define name="common.attrs.aria.implicit.group" combine="choice">
    <interleave>
      <optional>
        <ref name="aria.state.expanded"/>
      </optional>
      <optional>
        <ref name="aria.prop.activedescendant"/>
      </optional>
    </interleave>
  </define>
  <define name="common.attrs.aria.implicit.heading" combine="choice">
    <interleave>
      <optional>
        <ref name="aria.state.expanded"/>
      </optional>
      <optional>
        <ref name="aria.prop.level"/>
      </optional>
    </interleave>
  </define>
  <define name="common.attrs.aria.implicit.img" combine="choice">
    <optional>
      <ref name="aria.state.expanded"/>
    </optional>
  </define>
  <define name="common.attrs.aria.implicit.link" combine="choice">
    <optional>
      <ref name="aria.state.expanded"/>
    </optional>
  </define>
  <define name="common.attrs.aria.implicit.listbox" combine="choice">
    <interleave>
      <optional>
        <ref name="aria.prop.multiselectable"/>
      </optional>
      <optional>
        <ref name="aria.prop.required"/>
      </optional>
      <optional>
        <ref name="aria.prop.activedescendant"/>
      </optional>
      <optional>
        <ref name="aria.state.expanded"/>
      </optional>
    </interleave>
  </define>
  <define name="common.attrs.aria.implicit.listitem" combine="choice">
    <interleave>
      <optional>
        <ref name="aria.prop.level"/>
      </optional>
      <optional>
        <ref name="aria.prop.posinset"/>
      </optional>
      <optional>
        <ref name="aria.prop.setsize"/>
      </optional>
      <optional>
        <ref name="aria.state.expanded"/>
      </optional>
    </interleave>
  </define>
  <define name="common.attrs.aria.implicit.math" combine="choice">
    <optional>
      <ref name="aria.state.expanded"/>
    </optional>
  </define>
  <define name="common.attrs.aria.implicit.option" combine="choice">
    <interleave>
      <optional>
        <ref name="aria.prop.posinset"/>
      </optional>
      <optional>
        <ref name="aria.prop.setsize"/>
      </optional>
      <optional>
        <ref name="aria.state.checked"/>
      </optional>
      <optional>
        <ref name="aria.state.selected"/>
      </optional>
    </interleave>
  </define>
  <define name="common.attrs.aria.implicit.progressbar" combine="choice">
    <interleave>
      <optional>
        <ref name="aria.prop.valuemax"/>
      </optional>
      <optional>
        <ref name="aria.prop.valuemin"/>
      </optional>
      <optional>
        <ref name="aria.prop.valuenow"/>
      </optional>
      <optional>
        <ref name="aria.prop.valuetext"/>
      </optional>
    </interleave>
  </define>
  <define name="common.attrs.aria.implicit.radio" combine="choice">
    <interleave>
      <optional>
        <ref name="aria.prop.posinset"/>
      </optional>
      <optional>
        <ref name="aria.prop.setsize"/>
      </optional>
      <optional>
        <ref name="aria.state.checked"/>
      </optional>
      <optional>
        <ref name="aria.state.selected"/>
      </optional>
    </interleave>
  </define>
  <define name="common.attrs.aria.implicit.row" combine="choice">
    <interleave>
      <optional>
        <ref name="aria.prop.level"/>
      </optional>
      <optional>
        <!-- not inherited -->
        <ref name="aria.state.selected"/>
      </optional>
      <optional>
        <!-- not inherited -->
        <ref name="aria.prop.activedescendant"/>
      </optional>
      <optional>
        <ref name="aria.state.expanded"/>
      </optional>
    </interleave>
  </define>
  <define name="common.attrs.aria.implicit.rowgroup" combine="choice">
    <interleave>
      <optional>
        <ref name="aria.prop.activedescendant"/>
      </optional>
      <optional>
        <ref name="aria.state.expanded"/>
      </optional>
    </interleave>
  </define>
  <define name="common.attrs.aria.implicit.searchbox" combine="choice">
    <interleave>
      <optional>
        <ref name="aria.prop.activedescendant"/>
      </optional>
      <optional>
        <ref name="aria.prop.autocomplete"/>
      </optional>
      <optional>
        <ref name="aria.prop.multiline"/>
      </optional>
      <optional>
        <ref name="aria.prop.readonly"/>
      </optional>
      <optional>
        <ref name="aria.prop.required"/>
      </optional>
    </interleave>
  </define>
  <define name="common.attrs.aria.implicit.separator" combine="choice">
    <interleave>
      <optional>
        <ref name="aria.prop.valuemax"/>
      </optional>
      <optional>
        <ref name="aria.prop.valuemin"/>
      </optional>
      <optional>
        <ref name="aria.prop.valuenow"/>
      </optional>
      <optional>
        <ref name="aria.prop.valuetext"/>
      </optional>
      <optional>
        <ref name="aria.prop.orientation"/>
      </optional>
    </interleave>
  </define>
  <define name="common.attrs.aria.implicit.slider" combine="choice">
    <interleave>
      <optional>
        <ref name="aria.prop.valuemax"/>
      </optional>
      <optional>
        <ref name="aria.prop.valuemin"/>
      </optional>
      <optional>
        <ref name="aria.prop.valuenow"/>
      </optional>
      <optional>
        <ref name="aria.prop.valuetext"/>
      </optional>
      <optional>
        <ref name="aria.prop.orientation"/>
      </optional>
    </interleave>
  </define>
  <define name="common.attrs.aria.implicit.spinbutton" combine="choice">
    <interleave>
      <optional>
        <ref name="aria.prop.valuemax"/>
      </optional>
      <optional>
        <ref name="aria.prop.valuemin"/>
      </optional>
      <optional>
        <ref name="aria.prop.valuenow"/>
      </optional>
      <optional>
        <ref name="aria.prop.valuetext"/>
      </optional>
      <optional>
        <ref name="aria.prop.required"/>
      </optional>
    </interleave>
  </define>
  <define name="common.attrs.aria.implicit.table" combine="choice">
    <interleave>
      <optional>
        <ref name="aria.prop.colcount"/>
      </optional>
      <optional>
        <ref name="aria.prop.rowcount"/>
      </optional>
    </interleave>
  </define>
  <define name="common.attrs.aria.implicit.term" combine="choice">
    <optional>
      <ref name="aria.state.expanded"/>
    </optional>
  </define>
  <define name="common.attrs.aria.implicit.textbox" combine="choice">
    <interleave>
      <optional>
        <ref name="aria.prop.activedescendant"/>
      </optional>
      <optional>
        <ref name="aria.prop.autocomplete"/>
      </optional>
      <optional>
        <ref name="aria.prop.multiline"/>
      </optional>
      <optional>
        <ref name="aria.prop.readonly"/>
      </optional>
      <optional>
        <ref name="aria.prop.required"/>
      </optional>
    </interleave>
  </define>
  <define name="common.attrs.aria.implicit.toolbar" combine="choice">
    <interleave>
      <optional>
        <ref name="aria.state.expanded"/>
      </optional>
      <optional>
        <ref name="aria.prop.activedescendant"/>
      </optional>
    </interleave>
  </define>
  <define name="common.attrs.aria.implicit.column-or-row-header" combine="choice">
    <interleave>
      <optional>
        <ref name="aria.prop.sort"/>
      </optional>
      <optional>
        <ref name="aria.prop.readonly"/>
      </optional>
      <optional>
        <ref name="aria.prop.required"/>
      </optional>
      <optional>
        <ref name="aria.prop.colspan"/>
      </optional>
      <optional>
        <ref name="aria.prop.colindex"/>
      </optional>
      <optional>
        <ref name="aria.prop.rowspan"/>
      </optional>
      <optional>
        <ref name="aria.prop.rowindex"/>
      </optional>
      <optional>
        <ref name="aria.state.selected"/>
      </optional>
      <optional>
        <ref name="aria.state.expanded"/>
      </optional>
    </interleave>
  </define>
  <!--
    common.attrs.aria.implicit.select |=
    		(	aria.state.invalid?
    	&	aria.prop.required?
    	&	aria.prop.atomic?
    	&	aria.state.busy?
    	&	aria.prop.channel?
    	&	aria.prop.controls?
    	&	aria.prop.live?
    	&	aria.prop.relevant?
    	)
  -->
  <!--
    section
      |
      |_ region
           |
           |_ article
           |
           |_ landmark
           |     |_ banner
           |     |_ complementary
           |     |_ contentinfo
           |     |_ main
           |     |_ navigation
           |
           |_ list
           |
           |_ status
  -->
  <define name="common.attrs.aria.implicit.section" combine="choice">
    <optional>
      <ref name="aria.state.expanded"/>
    </optional>
  </define>
  <define name="common.attrs.aria.implicit.region" combine="choice">
    <ref name="common.attrs.aria.implicit.section"/>
  </define>
  <define name="common.attrs.aria.implicit.article" combine="choice">
    <ref name="common.attrs.aria.implicit.region"/>
  </define>
  <define name="common.attrs.aria.implicit.landmark" combine="choice">
    <ref name="common.attrs.aria.implicit.region"/>
  </define>
  <define name="common.attrs.aria.implicit.list" combine="choice">
    <ref name="common.attrs.aria.implicit.region"/>
  </define>
  <define name="common.attrs.aria.implicit.status" combine="choice">
    <ref name="common.attrs.aria.implicit.region"/>
  </define>
  <define name="common.attrs.aria.implicit.banner" combine="choice">
    <ref name="common.attrs.aria.implicit.landmark"/>
  </define>
  <define name="common.attrs.aria.implicit.complementary" combine="choice">
    <ref name="common.attrs.aria.implicit.landmark"/>
  </define>
  <define name="common.attrs.aria.implicit.contentinfo" combine="choice">
    <ref name="common.attrs.aria.implicit.landmark"/>
  </define>
  <define name="common.attrs.aria.implicit.main" combine="choice">
    <ref name="common.attrs.aria.implicit.landmark"/>
  </define>
  <define name="common.attrs.aria.implicit.navigation" combine="choice">
    <ref name="common.attrs.aria.implicit.landmark"/>
  </define>
  <define name="common.attrs.aria.implicit.search" combine="choice">
    <ref name="common.attrs.aria.implicit.landmark"/>
  </define>
  <!-- ##################################################################### -->
  <define name="aria.state.busy">
    <a:documentation>States</a:documentation>
    <a:documentation>busy</a:documentation>
    <attribute name="aria-busy">
      <choice>
        <value type="string">true</value>
        <value type="string">false</value>
      </choice>
      <!-- default -->
    </attribute>
  </define>
  <define name="aria.state.current">
    <a:documentation>current</a:documentation>
    <attribute name="aria-current">
      <choice>
        <value type="string">page</value>
        <value type="string">step</value>
        <value type="string">location</value>
        <value type="string">date</value>
        <value type="string">time</value>
        <value type="string">true</value>
        <value type="string">false</value>
      </choice>
      <!-- default -->
    </attribute>
  </define>
  <define name="aria.state.checked">
    <a:documentation>checked</a:documentation>
    <attribute name="aria-checked">
      <choice>
        <value type="string">true</value>
        <value type="string">false</value>
        <value type="string">mixed</value>
        <value type="string">undefined</value>
      </choice>
      <!-- default -->
    </attribute>
  </define>
  <define name="aria.state.disabled">
    <a:documentation>disabled</a:documentation>
    <attribute name="aria-disabled">
      <choice>
        <value type="string">true</value>
        <value type="string">false</value>
      </choice>
      <!-- default -->
    </attribute>
  </define>
  <define name="aria.state.expanded">
    <a:documentation>expanded</a:documentation>
    <attribute name="aria-expanded">
      <choice>
        <value type="string">true</value>
        <value type="string">false</value>
        <value type="string">undefined</value>
      </choice>
      <!-- default -->
    </attribute>
  </define>
  <define name="aria.state.hidden">
    <a:documentation>hidden</a:documentation>
    <attribute name="aria-hidden">
      <choice>
        <value type="string">true</value>
        <value type="string">false</value>
      </choice>
      <!-- default -->
    </attribute>
  </define>
  <define name="aria.state.invalid">
    <a:documentation>invalid</a:documentation>
    <attribute name="aria-invalid">
      <choice>
        <value type="string">true</value>
        <value type="string">false</value>
        <!-- default -->
        <value type="string">grammar</value>
        <value type="string">spelling</value>
      </choice>
    </attribute>
  </define>
  <define name="aria.state.pressed">
    <a:documentation>pressed</a:documentation>
    <attribute name="aria-pressed">
      <choice>
        <value type="string">true</value>
        <value type="string">false</value>
        <value type="string">mixed</value>
        <value type="string">undefined</value>
      </choice>
      <!-- default -->
    </attribute>
  </define>
  <define name="aria.state.selected">
    <a:documentation>selected</a:documentation>
    <attribute name="aria-selected">
      <choice>
        <value type="string">true</value>
        <value type="string">false</value>
        <value type="string">undefined</value>
      </choice>
      <!-- default -->
    </attribute>
  </define>
  <!-- ##################################################################### -->
  <define name="aria.prop.activedescendant">
    <a:documentation>Properties</a:documentation>
    <a:documentation>activedescendant</a:documentation>
    <attribute name="aria-activedescendant">
      <ref name="common.data.idref"/>
      <!-- REVISIT add Schematron check -->
    </attribute>
  </define>
  <define name="aria.prop.atomic">
    <a:documentation>atomic</a:documentation>
    <attribute name="aria-atomic">
      <choice>
        <value type="string">true</value>
        <value type="string">false</value>
      </choice>
      <!-- default -->
    </attribute>
  </define>
  <define name="aria.prop.autocomplete">
    <a:documentation>autocomplete</a:documentation>
    <attribute name="aria-autocomplete">
      <choice>
        <value type="string">inline</value>
        <value type="string">list</value>
        <value type="string">both</value>
        <value type="string">none</value>
      </choice>
      <!-- default -->
    </attribute>
  </define>
  <define name="aria.prop.colcount">
    <a:documentation>colcount</a:documentation>
    <attribute name="aria-colcount">
      <choice>
        <ref name="common.data.integer.non-negative"/>
        <value type="string">-1</value>
      </choice>
    </attribute>
  </define>
  <define name="aria.prop.colindex">
    <a:documentation>colindex</a:documentation>
    <attribute name="aria-colindex">
      <ref name="common.data.integer.positive"/>
    </attribute>
  </define>
  <define name="aria.prop.colspan">
    <a:documentation>colspan</a:documentation>
    <attribute name="aria-colspan">
      <ref name="common.data.integer.positive"/>
    </attribute>
  </define>
  <define name="aria.prop.controls">
    <a:documentation>controls</a:documentation>
    <attribute name="aria-controls">
      <ref name="common.data.idrefs"/>
      <!-- REVISIT add Schematron check -->
    </attribute>
  </define>
  <define name="aria.prop.describedby">
    <a:documentation>describedby</a:documentation>
    <attribute name="aria-describedby">
      <ref name="common.data.idrefs"/>
      <!-- REVISIT add Schematron check -->
    </attribute>
  </define>
  <define name="aria.prop.description">
    <a:documentation>description</a:documentation>
    <attribute name="aria-description">
      <data type="string"/>
    </attribute>
  </define>
  <define name="aria.prop.details">
    <a:documentation>details</a:documentation>
    <attribute name="aria-details">
      <ref name="common.data.idref"/>
    </attribute>
  </define>
  <define name="aria.prop.errormessage">
    <a:documentation>errormessage</a:documentation>
    <attribute name="aria-errormessage">
      <ref name="common.data.idref"/>
    </attribute>
  </define>
  <define name="aria.prop.flowto">
    <a:documentation>flowto</a:documentation>
    <attribute name="aria-flowto">
      <ref name="common.data.idrefs"/>
      <!-- REVISIT add Schematron check -->
    </attribute>
  </define>
  <define name="aria.prop.haspopup">
    <a:documentation>haspopup</a:documentation>
    <attribute name="aria-haspopup">
      <choice>
        <value type="string">true</value>
        <!-- REVISIT check owns or descendant -->
        <value type="string">false</value>
        <!-- default -->
        <value type="string">menu</value>
        <value type="string">listbox</value>
        <value type="string">tree</value>
        <value type="string">grid</value>
        <value type="string">dialog</value>
      </choice>
    </attribute>
  </define>
  <define name="aria.prop.keyshortcuts">
    <a:documentation>keyshortcuts</a:documentation>
    <attribute name="aria-keyshortcuts">
      <data type="string"/>
    </attribute>
  </define>
  <define name="aria.prop.label">
    <a:documentation>label</a:documentation>
    <attribute name="aria-label">
      <data type="string"/>
    </attribute>
  </define>
  <define name="aria.prop.labelledby">
    <a:documentation>labelledby</a:documentation>
    <attribute name="aria-labelledby">
      <ref name="common.data.idrefs"/>
      <!-- REVISIT add Schematron check -->
    </attribute>
  </define>
  <define name="aria.prop.level">
    <a:documentation>level</a:documentation>
    <attribute name="aria-level">
      <ref name="common.data.integer.positive"/>
    </attribute>
  </define>
  <define name="aria.prop.live">
    <a:documentation>live</a:documentation>
    <attribute name="aria-live">
      <choice>
        <value type="string">off</value>
        <!-- default -->
        <value type="string">polite</value>
        <value type="string">assertive</value>
      </choice>
    </attribute>
  </define>
  <define name="aria.prop.modal">
    <a:documentation>modal</a:documentation>
    <attribute name="aria-modal">
      <choice>
        <value type="string">true</value>
        <value type="string">false</value>
      </choice>
      <!-- default -->
    </attribute>
  </define>
  <define name="aria.prop.multiline">
    <a:documentation>multiline</a:documentation>
    <attribute name="aria-multiline">
      <choice>
        <value type="string">true</value>
        <value type="string">false</value>
      </choice>
      <!-- default -->
    </attribute>
  </define>
  <define name="aria.prop.multiselectable">
    <a:documentation>multiselectable</a:documentation>
    <attribute name="aria-multiselectable">
      <choice>
        <value type="string">true</value>
        <value type="string">false</value>
      </choice>
      <!-- default -->
    </attribute>
  </define>
  <define name="aria.prop.orientation">
    <a:documentation>orientation</a:documentation>
    <attribute name="aria-orientation">
      <choice>
        <value type="string">vertical</value>
        <value type="string">horizontal</value>
        <!-- default -->
        <value type="string">undefined</value>
      </choice>
    </attribute>
  </define>
  <define name="aria.prop.owns">
    <a:documentation>owns</a:documentation>
    <attribute name="aria-owns">
      <ref name="common.data.idrefs"/>
      <!-- REVISIT add Schematron check -->
    </attribute>
  </define>
  <define name="aria.prop.placeholder">
    <a:documentation>placeholder</a:documentation>
    <attribute name="aria-placeholder">
      <data type="string"/>
    </attribute>
  </define>
  <define name="aria.prop.posinset">
    <a:documentation>posinset</a:documentation>
    <attribute name="aria-posinset">
      <ref name="common.data.integer.positive"/>
    </attribute>
  </define>
  <define name="aria.prop.readonly">
    <a:documentation>readonly</a:documentation>
    <attribute name="aria-readonly">
      <choice>
        <value type="string">true</value>
        <value type="string">false</value>
      </choice>
      <!-- default -->
    </attribute>
  </define>
  <define name="common.attrs.aria.prop.readonly" combine="choice">
    <ref name="aria.prop.readonly"/>
  </define>
  <define name="aria.prop.relevant">
    <a:documentation>relevant</a:documentation>
    <attribute name="aria-relevant">
      <choice>
        <value>all</value>
        <list>
          <value type="string">additions</value>
          <optional>
            <value type="string">removals</value>
          </optional>
          <optional>
            <value type="string">text</value>
          </optional>
        </list>
        <list>
          <value type="string">additions</value>
          <optional>
            <value type="string">text</value>
          </optional>
          <optional>
            <value type="string">removals</value>
          </optional>
        </list>
        <list>
          <value type="string">removals</value>
          <optional>
            <value type="string">additions</value>
          </optional>
          <optional>
            <value type="string">text</value>
          </optional>
        </list>
        <list>
          <value type="string">removals</value>
          <optional>
            <value type="string">text</value>
          </optional>
          <optional>
            <value type="string">additions</value>
          </optional>
        </list>
        <list>
          <value type="string">text</value>
          <optional>
            <value type="string">additions</value>
          </optional>
          <optional>
            <value type="string">removals</value>
          </optional>
        </list>
        <list>
          <value type="string">text</value>
          <optional>
            <value type="string">removals</value>
          </optional>
          <optional>
            <value type="string">additions</value>
          </optional>
        </list>
      </choice>
    </attribute>
  </define>
  <define name="aria.prop.required">
    <a:documentation>required</a:documentation>
    <attribute name="aria-required">
      <choice>
        <value type="string">true</value>
        <value type="string">false</value>
      </choice>
      <!-- default -->
    </attribute>
  </define>
  <define name="aria.prop.roledescription">
    <a:documentation>roledescription</a:documentation>
    <attribute name="aria-roledescription">
      <data type="string"/>
    </attribute>
  </define>
  <define name="aria.prop.rowcount">
    <a:documentation>rowcount</a:documentation>
    <attribute name="aria-rowcount">
      <choice>
        <ref name="common.data.integer.non-negative"/>
        <value type="string">-1</value>
      </choice>
    </attribute>
  </define>
  <define name="aria.prop.rowindex">
    <a:documentation>rowindex</a:documentation>
    <attribute name="aria-rowindex">
      <ref name="common.data.integer.positive"/>
    </attribute>
  </define>
  <define name="aria.prop.rowspan">
    <a:documentation>rowspan</a:documentation>
    <attribute name="aria-rowspan">
      <ref name="common.data.integer.positive"/>
    </attribute>
  </define>
  <define name="aria.prop.setsize">
    <a:documentation>setsize</a:documentation>
    <attribute name="aria-setsize">
      <choice>
        <ref name="common.data.integer.non-negative"/>
        <value type="string">-1</value>
      </choice>
    </attribute>
  </define>
  <define name="aria.prop.sort">
    <a:documentation>sort</a:documentation>
    <attribute name="aria-sort">
      <choice>
        <value type="string">ascending</value>
        <value type="string">descending</value>
        <value type="string">none</value>
        <!-- default -->
        <value type="string">other</value>
      </choice>
    </attribute>
  </define>
  <define name="aria.prop.valuemax">
    <a:documentation>valuemax</a:documentation>
    <attribute name="aria-valuemax">
      <ref name="common.data.float"/>
      <!-- REVISIT -->
    </attribute>
  </define>
  <define name="aria.prop.valuemin">
    <a:documentation>valuemin</a:documentation>
    <attribute name="aria-valuemin">
      <ref name="common.data.float"/>
      <!-- REVISIT -->
    </attribute>
  </define>
  <define name="aria.prop.valuenow">
    <a:documentation>valuenow</a:documentation>
    <attribute name="aria-valuenow">
      <ref name="common.data.float"/>
      <!-- REVISIT -->
    </attribute>
  </define>
  <define name="aria.prop.valuetext">
    <a:documentation>valuetext</a:documentation>
    <attribute name="aria-valuetext">
      <data type="string"/>
    </attribute>
  </define>
  <!-- ##################################################################### -->
  <define name="aria.alert">
    <a:documentation>Roles</a:documentation>
    <a:documentation>alert</a:documentation>
    <interleave>
      <ref name="aria.role.alert"/>
      <optional>
        <ref name="aria.state.expanded"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.alert">
    <attribute name="role">
      <value type="string">alert</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.alert"/>
  </define>
  <define name="common.attrs.aria.role.alert" combine="choice">
    <ref name="aria.alert"/>
  </define>
  <define name="aria.alertdialog">
    <a:documentation>alertdialog</a:documentation>
    <interleave>
      <ref name="aria.role.alertdialog"/>
      <optional>
        <ref name="aria.state.expanded"/>
      </optional>
      <optional>
        <ref name="aria.prop.modal"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.alertdialog">
    <attribute name="role">
      <value type="string">alertdialog</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.alertdialog"/>
  </define>
  <define name="common.attrs.aria.role.alertdialog" combine="choice">
    <ref name="aria.alertdialog"/>
  </define>
  <define name="aria.application">
    <a:documentation>application</a:documentation>
    <interleave>
      <ref name="aria.role.application"/>
      <optional>
        <ref name="aria.state.expanded"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.application">
    <attribute name="role">
      <value type="string">application</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.application"/>
  </define>
  <define name="common.attrs.aria.role.application" combine="choice">
    <ref name="aria.application"/>
  </define>
  <define name="aria.article">
    <a:documentation>article</a:documentation>
    <interleave>
      <ref name="aria.role.article"/>
      <optional>
        <ref name="aria.state.expanded"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.article">
    <attribute name="role">
      <value type="string">article</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.article"/>
  </define>
  <define name="common.attrs.aria.landmark.article" combine="choice">
    <ref name="aria.article"/>
  </define>
  <define name="aria.banner">
    <a:documentation>banner</a:documentation>
    <interleave>
      <ref name="aria.role.banner"/>
      <optional>
        <ref name="aria.state.expanded"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.banner">
    <attribute name="role">
      <value type="string">banner</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.banner"/>
  </define>
  <define name="common.attrs.aria.landmark.banner" combine="choice">
    <ref name="aria.banner"/>
  </define>
  <define name="aria.button">
    <a:documentation>button</a:documentation>
    <interleave>
      <ref name="aria.role.button"/>
      <optional>
        <ref name="aria.state.expanded"/>
      </optional>
      <optional>
        <ref name="aria.state.pressed"/>
      </optional>
    </interleave>
    <!-- not inherited -->
  </define>
  <define name="aria.role.button">
    <attribute name="role">
      <value type="string">button</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.button"/>
  </define>
  <define name="common.attrs.aria.role.button" combine="choice">
    <ref name="aria.button"/>
  </define>
  <define name="aria.cell">
    <a:documentation>cell</a:documentation>
    <interleave>
      <ref name="aria.role.cell"/>
      <optional>
        <ref name="aria.prop.colspan"/>
      </optional>
      <optional>
        <ref name="aria.prop.colindex"/>
      </optional>
      <optional>
        <ref name="aria.prop.rowspan"/>
      </optional>
      <optional>
        <ref name="aria.prop.rowindex"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.cell">
    <attribute name="role">
      <value type="string">cell</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.cell"/>
  </define>
  <define name="common.attrs.aria.role.cell" combine="choice">
    <ref name="aria.cell"/>
  </define>
  <define name="aria.checkbox">
    <a:documentation>checkbox</a:documentation>
    <interleave>
      <ref name="aria.role.checkbox"/>
      <ref name="aria.state.checked"/>
    </interleave>
    <!-- required! -->
  </define>
  <define name="aria.role.checkbox">
    <attribute name="role">
      <value type="string">checkbox</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.checkbox"/>
  </define>
  <define name="common.attrs.aria.role.checkbox" combine="choice">
    <ref name="aria.checkbox"/>
  </define>
  <!-- columnheader -->
  <define name="aria.columnheader">
    <interleave>
      <ref name="aria.role.columnheader"/>
      <optional>
        <ref name="aria.prop.sort"/>
      </optional>
      <optional>
        <!-- not inherited -->
        <ref name="aria.prop.readonly"/>
      </optional>
      <optional>
        <!-- not inherited -->
        <ref name="aria.state.selected"/>
      </optional>
      <optional>
        <!-- not inherited -->
        <ref name="aria.state.expanded"/>
      </optional>
      <optional>
        <ref name="aria.prop.required"/>
      </optional>
      <optional>
        <ref name="aria.prop.colspan"/>
      </optional>
      <optional>
        <ref name="aria.prop.rowspan"/>
      </optional>
      <optional>
        <ref name="aria.prop.rowindex"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.columnheader">
    <attribute name="role">
      <value type="string">columnheader</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.columnheader"/>
  </define>
  <define name="aria.combobox">
    <a:documentation>combobox</a:documentation>
    <!-- 	aria.prop.controls TODO: required! add check to Assertions -->
    <interleave>
      <ref name="aria.role.combobox"/>
      <optional>
        <ref name="aria.prop.activedescendant"/>
      </optional>
      <ref name="aria.state.expanded"/>
      <optional>
        <!-- required! -->
        <ref name="aria.prop.autocomplete"/>
      </optional>
      <optional>
        <ref name="aria.prop.required"/>
      </optional>
      <optional>
        <ref name="aria.prop.readonly"/>
      </optional>
      <optional>
        <ref name="aria.prop.orientation"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.combobox">
    <attribute name="role">
      <value type="string">combobox</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.combobox"/>
  </define>
  <define name="common.attrs.aria.role.combobox" combine="choice">
    <ref name="aria.combobox"/>
  </define>
  <define name="aria.complementary">
    <a:documentation>complementary</a:documentation>
    <interleave>
      <ref name="aria.role.complementary"/>
      <optional>
        <ref name="aria.state.expanded"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.complementary">
    <attribute name="role">
      <value type="string">complementary</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.complementary"/>
  </define>
  <define name="common.attrs.aria.landmark.complementary" combine="choice">
    <ref name="aria.complementary"/>
  </define>
  <define name="aria.contentinfo">
    <a:documentation>contentinfo</a:documentation>
    <interleave>
      <ref name="aria.role.contentinfo"/>
      <optional>
        <ref name="aria.state.expanded"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.contentinfo">
    <attribute name="role">
      <value type="string">contentinfo</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.contentinfo"/>
  </define>
  <define name="common.attrs.aria.landmark.contentinfo" combine="choice">
    <ref name="aria.contentinfo"/>
  </define>
  <define name="aria.definition">
    <a:documentation>definition</a:documentation>
    <interleave>
      <ref name="aria.role.definition"/>
      <optional>
        <ref name="aria.state.expanded"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.definition">
    <attribute name="role">
      <value type="string">definition</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.definition"/>
  </define>
  <define name="common.attrs.aria.role.definition" combine="choice">
    <ref name="aria.definition"/>
  </define>
  <define name="aria.dialog">
    <a:documentation>dialog</a:documentation>
    <interleave>
      <ref name="aria.role.dialog"/>
      <optional>
        <ref name="aria.state.expanded"/>
      </optional>
      <optional>
        <ref name="aria.prop.modal"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.dialog">
    <attribute name="role">
      <value type="string">dialog</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.dialog"/>
  </define>
  <define name="common.attrs.aria.role.dialog" combine="choice">
    <ref name="aria.dialog"/>
  </define>
  <define name="aria.directory">
    <a:documentation>directory</a:documentation>
    <interleave>
      <ref name="aria.role.directory"/>
      <optional>
        <ref name="aria.state.expanded"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.directory">
    <attribute name="role">
      <value type="string">directory</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.directory"/>
  </define>
  <define name="common.attrs.aria.role.directory" combine="choice">
    <ref name="aria.directory"/>
  </define>
  <define name="aria.document">
    <a:documentation>document</a:documentation>
    <interleave>
      <ref name="aria.role.document"/>
      <optional>
        <ref name="aria.state.expanded"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.document">
    <attribute name="role">
      <value type="string">document</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.document"/>
  </define>
  <define name="common.attrs.aria.landmark.document" combine="choice">
    <ref name="aria.document"/>
  </define>
  <define name="aria.feed">
    <a:documentation>feed</a:documentation>
    <interleave>
      <ref name="aria.role.feed"/>
      <optional>
        <ref name="aria.state.expanded"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.feed">
    <attribute name="role">
      <value type="string">feed</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.feed"/>
  </define>
  <define name="common.attrs.aria.role.feed" combine="choice">
    <ref name="aria.feed"/>
  </define>
  <define name="aria.figure">
    <a:documentation>figure</a:documentation>
    <interleave>
      <ref name="aria.role.figure"/>
      <optional>
        <ref name="aria.state.expanded"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.figure">
    <attribute name="role">
      <value type="string">figure</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.figure"/>
  </define>
  <define name="common.attrs.aria.role.figure" combine="choice">
    <ref name="aria.figure"/>
  </define>
  <define name="aria.form">
    <a:documentation>form</a:documentation>
    <interleave>
      <ref name="aria.role.form"/>
      <optional>
        <ref name="aria.state.expanded"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.form">
    <attribute name="role">
      <value type="string">form</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.form"/>
  </define>
  <define name="common.attrs.aria.landmark.form" combine="choice">
    <ref name="aria.form"/>
  </define>
  <define name="aria.grid">
    <a:documentation>grid</a:documentation>
    <interleave>
      <ref name="aria.role.grid"/>
      <optional>
        <ref name="aria.prop.level"/>
      </optional>
      <optional>
        <!-- not inherited -->
        <ref name="aria.prop.multiselectable"/>
      </optional>
      <optional>
        <!-- not inherited -->
        <ref name="aria.prop.readonly"/>
      </optional>
      <optional>
        <!-- not inherited -->
        <ref name="aria.prop.activedescendant"/>
      </optional>
      <optional>
        <ref name="aria.state.expanded"/>
      </optional>
      <optional>
        <ref name="aria.prop.colcount"/>
      </optional>
      <optional>
        <ref name="aria.prop.rowcount"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.grid">
    <attribute name="role">
      <value type="string">grid</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.grid"/>
  </define>
  <define name="aria.gridcell">
    <a:documentation>gridcell</a:documentation>
    <interleave>
      <ref name="aria.role.gridcell"/>
      <optional>
        <ref name="aria.prop.level"/>
      </optional>
      <optional>
        <!-- net inherited -->
        <ref name="aria.prop.readonly"/>
      </optional>
      <optional>
        <!-- not inherited -->
        <ref name="aria.state.selected"/>
      </optional>
      <optional>
        <!-- not inherited -->
        <ref name="aria.state.expanded"/>
      </optional>
      <optional>
        <ref name="aria.prop.required"/>
      </optional>
      <optional>
        <ref name="aria.prop.colspan"/>
      </optional>
      <optional>
        <ref name="aria.prop.colindex"/>
      </optional>
      <optional>
        <ref name="aria.prop.rowspan"/>
      </optional>
      <optional>
        <ref name="aria.prop.rowindex"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.gridcell">
    <attribute name="role">
      <value type="string">gridcell</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.gridcell"/>
  </define>
  <define name="aria.group">
    <a:documentation>group</a:documentation>
    <interleave>
      <ref name="aria.role.group"/>
      <optional>
        <ref name="aria.prop.activedescendant"/>
      </optional>
      <optional>
        <!-- not inherited -->
        <ref name="aria.state.expanded"/>
      </optional>
    </interleave>
    <!-- not inherited -->
  </define>
  <define name="aria.role.group">
    <attribute name="role">
      <value type="string">group</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.group"/>
  </define>
  <define name="common.attrs.aria.role.group" combine="choice">
    <ref name="aria.group"/>
  </define>
  <define name="aria.graphics-document">
    <a:documentation>graphics-document</a:documentation>
    <ref name="aria.role.graphics-document"/>
  </define>
  <define name="aria.role.graphics-document">
    <attribute name="role">
      <value type="string">graphics-document</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.graphics-document"/>
  </define>
  <define name="common.attrs.aria.role.graphics-document" combine="choice">
    <ref name="aria.graphics-document"/>
  </define>
  <define name="aria.graphics-object">
    <a:documentation>graphics-object</a:documentation>
    <ref name="aria.role.graphics-object"/>
  </define>
  <define name="aria.role.graphics-object">
    <attribute name="role">
      <value type="string">graphics-object</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.graphics-object"/>
  </define>
  <define name="common.attrs.aria.role.graphics-object" combine="choice">
    <ref name="aria.graphics-object"/>
  </define>
  <define name="aria.graphics-symbol">
    <a:documentation>graphics-symbol</a:documentation>
    <ref name="aria.role.graphics-symbol"/>
  </define>
  <define name="aria.role.graphics-symbol">
    <attribute name="role">
      <value type="string">graphics-symbol</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.graphics-symbol"/>
  </define>
  <define name="common.attrs.aria.role.graphics-symbol" combine="choice">
    <ref name="aria.graphics-symbol"/>
  </define>
  <define name="aria.heading">
    <a:documentation>heading</a:documentation>
    <interleave>
      <ref name="aria.role.heading"/>
      <optional>
        <ref name="aria.prop.level"/>
      </optional>
      <optional>
        <!-- not inherited -->
        <ref name="aria.state.expanded"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.heading">
    <attribute name="role">
      <value type="string">heading</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.heading"/>
  </define>
  <define name="common.attrs.aria.role.heading" combine="choice">
    <ref name="aria.heading"/>
  </define>
  <define name="aria.img">
    <a:documentation>img</a:documentation>
    <interleave>
      <ref name="aria.role.img"/>
      <optional>
        <ref name="aria.state.expanded"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.img">
    <attribute name="role">
      <value type="string">img</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.img"/>
  </define>
  <define name="common.attrs.aria.role.img" combine="choice">
    <ref name="aria.img"/>
  </define>
  <define name="aria.link">
    <a:documentation>link</a:documentation>
    <interleave>
      <ref name="aria.role.link"/>
      <optional>
        <ref name="aria.state.expanded"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.link">
    <attribute name="role">
      <value type="string">link</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.link"/>
  </define>
  <define name="common.attrs.aria.role.link" combine="choice">
    <ref name="aria.link"/>
  </define>
  <define name="aria.list">
    <a:documentation>list</a:documentation>
    <interleave>
      <ref name="aria.role.list"/>
      <optional>
        <ref name="aria.state.expanded"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.list">
    <attribute name="role">
      <value type="string">list</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.list"/>
  </define>
  <define name="common.attrs.aria.role.list" combine="choice">
    <ref name="aria.list"/>
  </define>
  <define name="aria.listbox">
    <a:documentation>listbox</a:documentation>
    <interleave>
      <ref name="aria.role.listbox"/>
      <optional>
        <ref name="aria.prop.multiselectable"/>
      </optional>
      <optional>
        <!-- not inherited -->
        <ref name="aria.prop.required"/>
      </optional>
      <optional>
        <ref name="aria.prop.activedescendant"/>
      </optional>
      <optional>
        <ref name="aria.state.expanded"/>
      </optional>
      <optional>
        <ref name="aria.prop.orientation"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.listbox">
    <attribute name="role">
      <value type="string">listbox</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.listbox"/>
  </define>
  <define name="common.attrs.aria.role.listbox" combine="choice">
    <ref name="aria.listbox"/>
  </define>
  <define name="aria.listitem">
    <a:documentation>listitem</a:documentation>
    <interleave>
      <ref name="aria.role.listitem"/>
      <optional>
        <ref name="aria.prop.posinset"/>
      </optional>
      <optional>
        <!-- not inherited -->
        <ref name="aria.prop.setsize"/>
      </optional>
      <optional>
        <!-- not inherited -->
        <ref name="aria.prop.level"/>
      </optional>
      <optional>
        <!-- not inherited -->
        <ref name="aria.state.expanded"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.listitem">
    <attribute name="role">
      <value type="string">listitem</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.listitem"/>
  </define>
  <define name="common.attrs.aria.role.listitem" combine="choice">
    <ref name="aria.listitem"/>
  </define>
  <define name="aria.log">
    <a:documentation>log</a:documentation>
    <interleave>
      <ref name="aria.role.log"/>
      <optional>
        <ref name="aria.state.expanded"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.log">
    <attribute name="role">
      <value type="string">log</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.log"/>
  </define>
  <define name="common.attrs.aria.role.log" combine="choice">
    <ref name="aria.log"/>
  </define>
  <define name="aria.main">
    <a:documentation>main</a:documentation>
    <interleave>
      <ref name="aria.role.main"/>
      <optional>
        <ref name="aria.state.expanded"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.main">
    <attribute name="role">
      <value type="string">main</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.main"/>
  </define>
  <define name="common.attrs.aria.landmark.main" combine="choice">
    <ref name="aria.main"/>
  </define>
  <define name="aria.marquee">
    <a:documentation>marquee</a:documentation>
    <interleave>
      <ref name="aria.role.marquee"/>
      <optional>
        <ref name="aria.state.expanded"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.marquee">
    <attribute name="role">
      <value type="string">marquee</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.marquee"/>
  </define>
  <define name="common.attrs.aria.role.marquee" combine="choice">
    <ref name="aria.marquee"/>
  </define>
  <define name="aria.math">
    <a:documentation>math</a:documentation>
    <interleave>
      <ref name="aria.role.math"/>
      <optional>
        <ref name="aria.state.expanded"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.math">
    <attribute name="role">
      <value type="string">math</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.math"/>
  </define>
  <define name="common.attrs.aria.role.math" combine="choice">
    <ref name="aria.math"/>
  </define>
  <define name="aria.menu">
    <a:documentation>menu</a:documentation>
    <interleave>
      <ref name="aria.role.menu"/>
      <optional>
        <ref name="aria.prop.activedescendant"/>
      </optional>
      <optional>
        <ref name="aria.state.expanded"/>
      </optional>
      <optional>
        <ref name="aria.prop.orientation"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.menu">
    <attribute name="role">
      <value type="string">menu</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.menu"/>
  </define>
  <define name="common.attrs.aria.role.menu" combine="choice">
    <ref name="aria.menu"/>
  </define>
  <define name="aria.menubar">
    <a:documentation>menubar</a:documentation>
    <interleave>
      <ref name="aria.role.menubar"/>
      <optional>
        <ref name="aria.prop.activedescendant"/>
      </optional>
      <optional>
        <ref name="aria.state.expanded"/>
      </optional>
      <optional>
        <ref name="aria.prop.orientation"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.menubar">
    <attribute name="role">
      <value type="string">menubar</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.menubar"/>
  </define>
  <define name="common.attrs.aria.role.menubar" combine="choice">
    <ref name="aria.menubar"/>
  </define>
  <define name="aria.menuitem">
    <a:documentation>menuitem</a:documentation>
    <interleave>
      <ref name="aria.role.menuitem"/>
      <optional>
        <ref name="aria.state.expanded"/>
      </optional>
      <optional>
        <ref name="aria.prop.posinset"/>
      </optional>
      <optional>
        <ref name="aria.prop.setsize"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.menuitem">
    <attribute name="role">
      <value type="string">menuitem</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.menuitem"/>
  </define>
  <define name="common.attrs.aria.role.menuitem" combine="choice">
    <ref name="aria.menuitem"/>
  </define>
  <define name="aria.menuitemcheckbox">
    <a:documentation>menuitemcheckbox</a:documentation>
    <interleave>
      <ref name="aria.role.menuitemcheckbox"/>
      <ref name="aria.state.checked"/>
    </interleave>
    <!-- required -->
  </define>
  <define name="aria.role.menuitemcheckbox">
    <attribute name="role">
      <value type="string">menuitemcheckbox</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.menuitemcheckbox"/>
  </define>
  <define name="common.attrs.aria.role.menuitemcheckbox" combine="choice">
    <ref name="aria.menuitemcheckbox"/>
  </define>
  <define name="aria.menuitemcheckbox-checked-not-required">
    <a:documentation>menuitemcheckbox w/o checked required</a:documentation>
    <ref name="aria.role.menuitemcheckbox"/>
  </define>
  <define name="aria.role.menuitemcheckbox-checked-not-required">
    <attribute name="role">
      <value type="string">menuitemcheckbox</value>
    </attribute>
  </define>
  <define name="common.attrs.aria.role.menuitemcheckbox-checked-not-required" combine="choice">
    <ref name="aria.menuitemcheckbox-checked-not-required"/>
  </define>
  <define name="aria.menuitemradio">
    <a:documentation>menuitemradio</a:documentation>
    <interleave>
      <ref name="aria.role.menuitemradio"/>
      <ref name="aria.state.checked"/>
      <optional>
        <!-- required -->
        <ref name="aria.state.selected"/>
      </optional>
      <optional>
        <ref name="aria.prop.posinset"/>
      </optional>
      <optional>
        <ref name="aria.prop.setsize"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.menuitemradio">
    <attribute name="role">
      <value type="string">menuitemradio</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.menuitemradio"/>
  </define>
  <define name="common.attrs.aria.role.menuitemradio" combine="choice">
    <ref name="aria.menuitemradio"/>
  </define>
  <define name="aria.menuitemradio-checked-not-required">
    <a:documentation>menuitemradio w/o checked required</a:documentation>
    <interleave>
      <ref name="aria.role.menuitemradio"/>
      <optional>
        <ref name="aria.state.selected"/>
      </optional>
      <optional>
        <ref name="aria.prop.posinset"/>
      </optional>
      <optional>
        <ref name="aria.prop.setsize"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.menuitemradio-checked-not-required">
    <attribute name="role">
      <value type="string">menuitemradio</value>
    </attribute>
  </define>
  <define name="common.attrs.aria.role.menuitemradio-checked-not-required" combine="choice">
    <ref name="aria.menuitemradio-checked-not-required"/>
  </define>
  <define name="aria.navigation">
    <a:documentation>navigation</a:documentation>
    <interleave>
      <ref name="aria.role.navigation"/>
      <optional>
        <ref name="aria.state.expanded"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.navigation">
    <attribute name="role">
      <value type="string">navigation</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.navigation"/>
  </define>
  <define name="common.attrs.aria.landmark.navigation" combine="choice">
    <ref name="aria.navigation"/>
  </define>
  <define name="aria.none">
    <a:documentation>none</a:documentation>
    <ref name="aria.role.none"/>
  </define>
  <define name="aria.role.none">
    <attribute name="role">
      <value type="string">none</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.none"/>
  </define>
  <define name="common.attrs.aria.role.none" combine="choice">
    <ref name="aria.none"/>
  </define>
  <define name="aria.note">
    <a:documentation>note</a:documentation>
    <interleave>
      <ref name="aria.role.note"/>
      <optional>
        <ref name="aria.state.expanded"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.note">
    <attribute name="role">
      <value type="string">note</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.note"/>
  </define>
  <define name="common.attrs.aria.landmark.note" combine="choice">
    <ref name="aria.note"/>
  </define>
  <define name="aria.option">
    <a:documentation>option</a:documentation>
    <interleave>
      <ref name="aria.role.option"/>
      <optional>
        <ref name="aria.state.checked"/>
      </optional>
      <optional>
        <!-- not inherited -->
        <ref name="aria.state.selected"/>
      </optional>
      <optional>
        <!-- not inherited -->
        <ref name="aria.prop.posinset"/>
      </optional>
      <optional>
        <ref name="aria.prop.setsize"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.option">
    <attribute name="role">
      <value type="string">option</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.option"/>
  </define>
  <define name="common.attrs.aria.role.option" combine="choice">
    <ref name="aria.option"/>
  </define>
  <define name="aria.presentation">
    <a:documentation>presentation</a:documentation>
    <ref name="aria.role.presentation"/>
  </define>
  <define name="aria.role.presentation">
    <attribute name="role">
      <value type="string">presentation</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.presentation"/>
  </define>
  <define name="common.attrs.aria.role.presentation" combine="choice">
    <ref name="aria.presentation"/>
  </define>
  <define name="common.attrs.aria.role.presentation" combine="choice">
    <ref name="aria.none"/>
  </define>
  <define name="aria.progressbar">
    <a:documentation>progressbar</a:documentation>
    <interleave>
      <ref name="aria.role.progressbar"/>
      <optional>
        <ref name="aria.prop.valuemax"/>
      </optional>
      <optional>
        <!-- not inherited -->
        <ref name="aria.prop.valuemin"/>
      </optional>
      <optional>
        <!-- not inherited -->
        <ref name="aria.prop.valuenow"/>
      </optional>
      <optional>
        <!-- not inherited -->
        <ref name="aria.prop.valuetext"/>
      </optional>
    </interleave>
    <!-- not inherited -->
  </define>
  <define name="aria.role.progressbar">
    <attribute name="role">
      <value type="string">progressbar</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.progressbar"/>
  </define>
  <define name="common.attrs.aria.role.progressbar" combine="choice">
    <ref name="aria.progressbar"/>
  </define>
  <define name="aria.radio">
    <a:documentation>radio</a:documentation>
    <interleave>
      <ref name="aria.role.radio"/>
      <ref name="aria.state.checked"/>
      <optional>
        <!-- required! -->
        <ref name="aria.state.selected"/>
      </optional>
      <optional>
        <ref name="aria.prop.posinset"/>
      </optional>
      <optional>
        <ref name="aria.prop.setsize"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.radio">
    <attribute name="role">
      <value type="string">radio</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.radio"/>
  </define>
  <define name="common.attrs.aria.role.radio" combine="choice">
    <ref name="aria.radio"/>
  </define>
  <define name="aria.radiogroup">
    <a:documentation>radiogroup</a:documentation>
    <interleave>
      <ref name="aria.role.radiogroup"/>
      <optional>
        <ref name="aria.prop.activedescendant"/>
      </optional>
      <optional>
        <ref name="aria.state.expanded"/>
      </optional>
      <optional>
        <ref name="aria.prop.required"/>
      </optional>
      <optional>
        <ref name="aria.prop.orientation"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.radiogroup">
    <attribute name="role">
      <value type="string">radiogroup</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.radiogroup"/>
  </define>
  <define name="common.attrs.aria.role.radiogroup" combine="choice">
    <ref name="aria.radiogroup"/>
  </define>
  <define name="aria.region">
    <a:documentation>region</a:documentation>
    <interleave>
      <ref name="aria.role.region"/>
      <optional>
        <ref name="aria.state.expanded"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.region">
    <attribute name="role">
      <value type="string">region</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.region"/>
  </define>
  <define name="common.attrs.aria.role.region" combine="choice">
    <ref name="aria.region"/>
  </define>
  <define name="aria.row">
    <a:documentation>row</a:documentation>
    <interleave>
      <ref name="aria.role.row"/>
      <optional>
        <ref name="aria.prop.level"/>
      </optional>
      <optional>
        <!-- not inherited -->
        <ref name="aria.state.selected"/>
      </optional>
      <optional>
        <!-- not inherited -->
        <ref name="aria.prop.activedescendant"/>
      </optional>
      <optional>
        <ref name="aria.state.expanded"/>
      </optional>
      <optional>
        <ref name="aria.prop.colindex"/>
      </optional>
      <optional>
        <ref name="aria.prop.rowindex"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.row">
    <attribute name="role">
      <value type="string">row</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.row"/>
  </define>
  <define name="aria.rowgroup">
    <a:documentation>rowgroup</a:documentation>
    <interleave>
      <ref name="aria.role.rowgroup"/>
      <optional>
        <ref name="aria.prop.activedescendant"/>
      </optional>
      <optional>
        <ref name="aria.state.expanded"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.rowgroup">
    <attribute name="role">
      <value type="string">rowgroup</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.rowgroup"/>
  </define>
  <define name="common.attrs.aria.role.rowgroup" combine="choice">
    <ref name="aria.rowgroup"/>
  </define>
  <!-- rowheader -->
  <define name="aria.rowheader">
    <interleave>
      <ref name="aria.role.rowheader"/>
      <optional>
        <ref name="aria.prop.sort"/>
      </optional>
      <optional>
        <!-- not inherited -->
        <ref name="aria.prop.readonly"/>
      </optional>
      <optional>
        <!-- not inherited -->
        <ref name="aria.state.selected"/>
      </optional>
      <optional>
        <!-- not inherited -->
        <ref name="aria.state.expanded"/>
      </optional>
      <optional>
        <ref name="aria.prop.required"/>
      </optional>
      <optional>
        <ref name="aria.prop.colspan"/>
      </optional>
      <optional>
        <ref name="aria.prop.rowspan"/>
      </optional>
      <optional>
        <ref name="aria.prop.rowindex"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.rowheader">
    <attribute name="role">
      <value type="string">rowheader</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.rowheader"/>
  </define>
  <define name="aria.searchbox">
    <a:documentation>searchbox</a:documentation>
    <interleave>
      <ref name="aria.role.searchbox"/>
      <optional>
        <ref name="aria.prop.activedescendant"/>
      </optional>
      <optional>
        <ref name="aria.prop.autocomplete"/>
      </optional>
      <optional>
        <ref name="aria.prop.multiline"/>
      </optional>
      <optional>
        <ref name="aria.prop.readonly"/>
      </optional>
      <optional>
        <ref name="aria.prop.required"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.searchbox">
    <attribute name="role">
      <value type="string">searchbox</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.searchbox"/>
  </define>
  <define name="common.attrs.aria.role.searchbox" combine="choice">
    <ref name="aria.searchbox"/>
  </define>
  <define name="aria.scrollbar">
    <a:documentation>scrollbar</a:documentation>
    <interleave>
      <ref name="aria.role.scrollbar"/>
      <ref name="aria.prop.orientation"/>
      <ref name="aria.prop.valuemax"/>
      <ref name="aria.prop.valuemin"/>
      <ref name="aria.prop.valuenow"/>
      <optional>
        <ref name="aria.prop.valuetext"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.scrollbar">
    <attribute name="role">
      <value type="string">scrollbar</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.scrollbar"/>
  </define>
  <define name="common.attrs.aria.role.scrollbar" combine="choice">
    <ref name="aria.scrollbar"/>
  </define>
  <define name="aria.search">
    <a:documentation>search</a:documentation>
    <interleave>
      <ref name="aria.role.search"/>
      <optional>
        <ref name="aria.state.expanded"/>
      </optional>
      <optional>
        <ref name="aria.prop.orientation"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.search">
    <attribute name="role">
      <value type="string">search</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.search"/>
  </define>
  <define name="common.attrs.aria.landmark.search" combine="choice">
    <ref name="aria.search"/>
  </define>
  <define name="aria.separator">
    <a:documentation>separator</a:documentation>
    <interleave>
      <ref name="aria.role.separator"/>
      <optional>
        <ref name="aria.state.expanded"/>
      </optional>
      <optional>
        <ref name="aria.prop.orientation"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.separator">
    <attribute name="role">
      <value type="string">separator</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.separator"/>
  </define>
  <define name="common.attrs.aria.role.separator" combine="choice">
    <ref name="aria.separator"/>
  </define>
  <define name="aria.slider">
    <a:documentation>slider</a:documentation>
    <interleave>
      <ref name="aria.role.slider"/>
      <ref name="aria.prop.valuemax"/>
      <ref name="aria.prop.valuemin"/>
      <ref name="aria.prop.valuenow"/>
      <optional>
        <ref name="aria.prop.valuetext"/>
      </optional>
      <optional>
        <ref name="aria.prop.orientation"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.slider">
    <attribute name="role">
      <value type="string">slider</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.slider"/>
  </define>
  <define name="common.attrs.aria.role.slider" combine="choice">
    <ref name="aria.slider"/>
  </define>
  <define name="aria.spinbutton">
    <a:documentation>spinbutton</a:documentation>
    <interleave>
      <ref name="aria.role.spinbutton"/>
      <ref name="aria.prop.valuemax"/>
      <ref name="aria.prop.valuemin"/>
      <ref name="aria.prop.valuenow"/>
      <optional>
        <ref name="aria.prop.valuetext"/>
      </optional>
      <optional>
        <ref name="aria.prop.required"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.spinbutton">
    <attribute name="role">
      <value type="string">spinbutton</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.spinbutton"/>
  </define>
  <define name="common.attrs.aria.role.spinbutton" combine="choice">
    <ref name="aria.spinbutton"/>
  </define>
  <define name="aria.status">
    <a:documentation>status</a:documentation>
    <interleave>
      <ref name="aria.role.status"/>
      <optional>
        <ref name="aria.state.expanded"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.status">
    <attribute name="role">
      <value type="string">status</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.status"/>
  </define>
  <define name="common.attrs.aria.role.status" combine="choice">
    <ref name="aria.status"/>
  </define>
  <define name="aria.switch">
    <a:documentation>switch</a:documentation>
    <interleave>
      <ref name="aria.role.switch"/>
      <ref name="aria.state.checked"/>
    </interleave>
    <!-- required! -->
  </define>
  <define name="aria.role.switch">
    <attribute name="role">
      <value type="string">switch</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.switch"/>
  </define>
  <define name="common.attrs.aria.role.switch" combine="choice">
    <ref name="aria.switch"/>
  </define>
  <define name="aria.switch-checked-not-required">
    <a:documentation>switch w/o checked required</a:documentation>
    <ref name="aria.role.switch"/>
  </define>
  <define name="aria.role.switch-checked-not-required">
    <attribute name="role">
      <value type="string">switch</value>
    </attribute>
  </define>
  <define name="common.attrs.aria.role.switch-checked-not-required" combine="choice">
    <ref name="aria.switch-checked-not-required"/>
  </define>
  <define name="aria.tab">
    <a:documentation>tab</a:documentation>
    <interleave>
      <ref name="aria.role.tab"/>
      <optional>
        <ref name="aria.state.selected"/>
      </optional>
      <optional>
        <ref name="aria.state.expanded"/>
      </optional>
      <optional>
        <ref name="aria.prop.posinset"/>
      </optional>
      <optional>
        <ref name="aria.prop.setsize"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.tab">
    <attribute name="role">
      <value type="string">tab</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.tab"/>
  </define>
  <define name="common.attrs.aria.role.tab" combine="choice">
    <ref name="aria.tab"/>
  </define>
  <define name="aria.table">
    <a:documentation>table</a:documentation>
    <interleave>
      <ref name="aria.role.table"/>
      <optional>
        <ref name="aria.prop.colcount"/>
      </optional>
      <optional>
        <ref name="aria.prop.rowcount"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.table">
    <attribute name="role">
      <value type="string">table</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.table"/>
  </define>
  <define name="common.attrs.aria.role.table" combine="choice">
    <ref name="aria.table"/>
  </define>
  <define name="aria.tablist">
    <a:documentation>tablist</a:documentation>
    <interleave>
      <ref name="aria.role.tablist"/>
      <optional>
        <ref name="aria.prop.activedescendant"/>
      </optional>
      <optional>
        <ref name="aria.state.expanded"/>
      </optional>
      <optional>
        <ref name="aria.prop.level"/>
      </optional>
      <optional>
        <ref name="aria.prop.multiselectable"/>
      </optional>
      <optional>
        <ref name="aria.prop.orientation"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.tablist">
    <attribute name="role">
      <value type="string">tablist</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.tablist"/>
  </define>
  <define name="common.attrs.aria.role.tablist" combine="choice">
    <ref name="aria.tablist"/>
  </define>
  <define name="aria.tabpanel">
    <a:documentation>tabpanel</a:documentation>
    <interleave>
      <ref name="aria.role.tabpanel"/>
      <optional>
        <ref name="aria.state.expanded"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.tabpanel">
    <attribute name="role">
      <value type="string">tabpanel</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.tabpanel"/>
  </define>
  <define name="common.attrs.aria.role.tabpanel" combine="choice">
    <ref name="aria.tabpanel"/>
  </define>
  <define name="aria.term">
    <a:documentation>term</a:documentation>
    <interleave>
      <ref name="aria.role.term"/>
      <optional>
        <ref name="aria.state.expanded"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.term">
    <attribute name="role">
      <value type="string">term</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.term"/>
  </define>
  <define name="common.attrs.aria.role.term" combine="choice">
    <ref name="aria.term"/>
  </define>
  <define name="aria.textbox">
    <a:documentation>textbox</a:documentation>
    <interleave>
      <ref name="aria.role.textbox"/>
      <optional>
        <ref name="aria.prop.activedescendant"/>
      </optional>
      <optional>
        <ref name="aria.prop.autocomplete"/>
      </optional>
      <optional>
        <!-- not inherited -->
        <ref name="aria.prop.multiline"/>
      </optional>
      <optional>
        <!-- not inherited -->
        <ref name="aria.prop.readonly"/>
      </optional>
      <optional>
        <!-- not inherited -->
        <ref name="aria.prop.required"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.textbox">
    <attribute name="role">
      <value type="string">textbox</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.textbox"/>
  </define>
  <define name="common.attrs.aria.role.textbox" combine="choice">
    <ref name="aria.textbox"/>
  </define>
  <define name="aria.timer">
    <a:documentation>timer</a:documentation>
    <interleave>
      <ref name="aria.role.timer"/>
      <optional>
        <ref name="aria.state.expanded"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.timer">
    <attribute name="role">
      <value type="string">timer</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.timer"/>
  </define>
  <define name="aria.toolbar">
    <a:documentation>toolbar</a:documentation>
    <interleave>
      <ref name="aria.role.toolbar"/>
      <optional>
        <ref name="aria.prop.activedescendant"/>
      </optional>
      <optional>
        <ref name="aria.state.expanded"/>
      </optional>
      <optional>
        <ref name="aria.prop.orientation"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.toolbar">
    <attribute name="role">
      <value type="string">toolbar</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.toolbar"/>
  </define>
  <define name="common.attrs.aria.role.toolbar" combine="choice">
    <ref name="aria.toolbar"/>
  </define>
  <define name="aria.tooltip">
    <a:documentation>tooltip</a:documentation>
    <interleave>
      <ref name="aria.role.tooltip"/>
      <optional>
        <ref name="aria.state.expanded"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.tooltip">
    <attribute name="role">
      <value type="string">tooltip</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.tooltip"/>
  </define>
  <define name="aria.tree">
    <a:documentation>tree</a:documentation>
    <interleave>
      <ref name="aria.role.tree"/>
      <optional>
        <ref name="aria.prop.multiselectable"/>
      </optional>
      <optional>
        <!-- not inherited -->
        <ref name="aria.prop.activedescendant"/>
      </optional>
      <optional>
        <ref name="aria.state.expanded"/>
      </optional>
      <optional>
        <ref name="aria.prop.required"/>
      </optional>
      <optional>
        <ref name="aria.prop.orientation"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.tree">
    <attribute name="role">
      <value type="string">tree</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.tree"/>
  </define>
  <define name="common.attrs.aria.role.tree" combine="choice">
    <ref name="aria.tree"/>
  </define>
  <define name="aria.treegrid">
    <a:documentation>treegrid</a:documentation>
    <interleave>
      <ref name="aria.role.treegrid"/>
      <optional>
        <ref name="aria.prop.activedescendant"/>
      </optional>
      <optional>
        <ref name="aria.state.expanded"/>
      </optional>
      <optional>
        <ref name="aria.prop.level"/>
      </optional>
      <optional>
        <ref name="aria.prop.multiselectable"/>
      </optional>
      <optional>
        <ref name="aria.prop.readonly"/>
      </optional>
      <optional>
        <ref name="aria.prop.required"/>
      </optional>
      <optional>
        <ref name="aria.prop.orientation"/>
      </optional>
      <optional>
        <ref name="aria.prop.colcount"/>
      </optional>
      <optional>
        <ref name="aria.prop.rowcount"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.treegrid">
    <attribute name="role">
      <value type="string">treegrid</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.treegrid"/>
  </define>
  <define name="aria.treeitem">
    <a:documentation>treeitem</a:documentation>
    <interleave>
      <ref name="aria.role.treeitem"/>
      <optional>
        <ref name="aria.state.checked"/>
      </optional>
      <optional>
        <ref name="aria.state.expanded"/>
      </optional>
      <optional>
        <ref name="aria.prop.level"/>
      </optional>
      <optional>
        <ref name="aria.prop.posinset"/>
      </optional>
      <optional>
        <ref name="aria.state.selected"/>
      </optional>
      <optional>
        <ref name="aria.prop.setsize"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.treeitem">
    <attribute name="role">
      <value type="string">treeitem</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.treeitem"/>
  </define>
  <define name="common.attrs.aria.role.treeitem" combine="choice">
    <ref name="aria.treeitem"/>
  </define>
  <!-- ##################################################################### -->
  <define name="aria.doc-abstract">
    <a:documentation>https://w3c.github.io/aria/aria/dpub.html</a:documentation>
    <ref name="aria.role.doc-abstract"/>
  </define>
  <define name="aria.role.doc-abstract">
    <attribute name="role">
      <value type="string">doc-abstract</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.doc-abstract"/>
  </define>
  <define name="common.attrs.aria.role.doc-abstract" combine="choice">
    <ref name="aria.doc-abstract"/>
  </define>
  <define name="aria.doc-acknowledgments">
    <ref name="aria.role.doc-acknowledgments"/>
  </define>
  <define name="aria.role.doc-acknowledgments">
    <attribute name="role">
      <value type="string">doc-acknowledgments</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.doc-acknowledgments"/>
  </define>
  <define name="common.attrs.aria.role.doc-acknowledgments" combine="choice">
    <ref name="aria.doc-acknowledgments"/>
  </define>
  <define name="aria.doc-afterword">
    <ref name="aria.role.doc-afterword"/>
  </define>
  <define name="aria.role.doc-afterword">
    <attribute name="role">
      <value type="string">doc-afterword</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.doc-afterword"/>
  </define>
  <define name="common.attrs.aria.role.doc-afterword" combine="choice">
    <ref name="aria.doc-afterword"/>
  </define>
  <define name="aria.doc-appendix">
    <ref name="aria.role.doc-appendix"/>
  </define>
  <define name="aria.role.doc-appendix">
    <attribute name="role">
      <value type="string">doc-appendix</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.doc-appendix"/>
  </define>
  <define name="common.attrs.aria.role.doc-appendix" combine="choice">
    <ref name="aria.doc-appendix"/>
  </define>
  <define name="aria.doc-backlink">
    <ref name="aria.role.doc-backlink"/>
  </define>
  <define name="aria.role.doc-backlink">
    <attribute name="role">
      <value type="string">doc-backlink</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.doc-backlink"/>
  </define>
  <define name="common.attrs.aria.role.doc-backlink" combine="choice">
    <ref name="aria.doc-backlink"/>
  </define>
  <define name="aria.doc-biblioentry">
    <ref name="aria.role.doc-biblioentry"/>
  </define>
  <define name="aria.role.doc-biblioentry">
    <attribute name="role">
      <value type="string">doc-biblioentry</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.doc-biblioentry"/>
  </define>
  <define name="common.attrs.aria.role.doc-biblioentry" combine="choice">
    <ref name="aria.doc-biblioentry"/>
  </define>
  <define name="aria.doc-bibliography">
    <ref name="aria.role.doc-bibliography"/>
  </define>
  <define name="aria.role.doc-bibliography">
    <attribute name="role">
      <value type="string">doc-bibliography</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.doc-bibliography"/>
  </define>
  <define name="common.attrs.aria.role.doc-bibliography" combine="choice">
    <ref name="aria.doc-bibliography"/>
  </define>
  <define name="aria.doc-biblioref">
    <ref name="aria.role.doc-biblioref"/>
  </define>
  <define name="aria.role.doc-biblioref">
    <attribute name="role">
      <value type="string">doc-biblioref</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.doc-biblioref"/>
  </define>
  <define name="common.attrs.aria.role.doc-biblioref" combine="choice">
    <ref name="aria.doc-biblioref"/>
  </define>
  <define name="aria.doc-chapter">
    <ref name="aria.role.doc-chapter"/>
  </define>
  <define name="aria.role.doc-chapter">
    <attribute name="role">
      <value type="string">doc-chapter</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.doc-chapter"/>
  </define>
  <define name="common.attrs.aria.role.doc-chapter" combine="choice">
    <ref name="aria.doc-chapter"/>
  </define>
  <define name="aria.doc-colophon">
    <ref name="aria.role.doc-colophon"/>
  </define>
  <define name="aria.role.doc-colophon">
    <attribute name="role">
      <value type="string">doc-colophon</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.doc-colophon"/>
  </define>
  <define name="common.attrs.aria.role.doc-colophon" combine="choice">
    <ref name="aria.doc-colophon"/>
  </define>
  <define name="aria.doc-conclusion">
    <ref name="aria.role.doc-conclusion"/>
  </define>
  <define name="aria.role.doc-conclusion">
    <attribute name="role">
      <value type="string">doc-conclusion</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.doc-conclusion"/>
  </define>
  <define name="common.attrs.aria.role.doc-conclusion" combine="choice">
    <ref name="aria.doc-conclusion"/>
  </define>
  <define name="aria.doc-cover">
    <ref name="aria.role.doc-cover"/>
  </define>
  <define name="aria.role.doc-cover">
    <attribute name="role">
      <value type="string">doc-cover</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.doc-cover"/>
  </define>
  <define name="common.attrs.aria.role.doc-cover" combine="choice">
    <ref name="aria.doc-cover"/>
  </define>
  <define name="aria.doc-credit">
    <ref name="aria.role.doc-credit"/>
  </define>
  <define name="aria.role.doc-credit">
    <attribute name="role">
      <value type="string">doc-credit</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.doc-credit"/>
  </define>
  <define name="common.attrs.aria.role.doc-credit" combine="choice">
    <ref name="aria.doc-credit"/>
  </define>
  <define name="aria.doc-credits">
    <ref name="aria.role.doc-credits"/>
  </define>
  <define name="aria.role.doc-credits">
    <attribute name="role">
      <value type="string">doc-credits</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.doc-credits"/>
  </define>
  <define name="common.attrs.aria.role.doc-credits" combine="choice">
    <ref name="aria.doc-credits"/>
  </define>
  <define name="aria.doc-dedication">
    <ref name="aria.role.doc-dedication"/>
  </define>
  <define name="aria.role.doc-dedication">
    <attribute name="role">
      <value type="string">doc-dedication</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.doc-dedication"/>
  </define>
  <define name="common.attrs.aria.role.doc-dedication" combine="choice">
    <ref name="aria.doc-dedication"/>
  </define>
  <define name="aria.doc-endnote">
    <ref name="aria.role.doc-endnote"/>
  </define>
  <define name="aria.role.doc-endnote">
    <attribute name="role">
      <value type="string">doc-endnote</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.doc-endnote"/>
  </define>
  <define name="common.attrs.aria.role.doc-endnote" combine="choice">
    <ref name="aria.doc-endnote"/>
  </define>
  <define name="aria.doc-endnotes">
    <ref name="aria.role.doc-endnotes"/>
  </define>
  <define name="aria.role.doc-endnotes">
    <attribute name="role">
      <value type="string">doc-endnotes</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.doc-endnotes"/>
  </define>
  <define name="common.attrs.aria.role.doc-endnotes" combine="choice">
    <ref name="aria.doc-endnotes"/>
  </define>
  <define name="aria.doc-epigraph">
    <ref name="aria.role.doc-epigraph"/>
  </define>
  <define name="aria.role.doc-epigraph">
    <attribute name="role">
      <value type="string">doc-epigraph</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.doc-epigraph"/>
  </define>
  <define name="common.attrs.aria.role.doc-epigraph" combine="choice">
    <ref name="aria.doc-epigraph"/>
  </define>
  <define name="aria.doc-epilogue">
    <ref name="aria.role.doc-epilogue"/>
  </define>
  <define name="aria.role.doc-epilogue">
    <attribute name="role">
      <value type="string">doc-epilogue</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.doc-epilogue"/>
  </define>
  <define name="common.attrs.aria.role.doc-epilogue" combine="choice">
    <ref name="aria.doc-epilogue"/>
  </define>
  <define name="aria.doc-errata">
    <ref name="aria.role.doc-errata"/>
  </define>
  <define name="aria.role.doc-errata">
    <attribute name="role">
      <value type="string">doc-errata</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.doc-errata"/>
  </define>
  <define name="common.attrs.aria.role.doc-errata" combine="choice">
    <ref name="aria.doc-errata"/>
  </define>
  <define name="aria.doc-example">
    <ref name="aria.role.doc-example"/>
  </define>
  <define name="aria.role.doc-example">
    <attribute name="role">
      <value type="string">doc-example</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.doc-example"/>
  </define>
  <define name="common.attrs.aria.role.doc-example" combine="choice">
    <ref name="aria.doc-example"/>
  </define>
  <define name="aria.doc-footnote">
    <ref name="aria.role.doc-footnote"/>
  </define>
  <define name="aria.role.doc-footnote">
    <attribute name="role">
      <value type="string">doc-footnote</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.doc-footnote"/>
  </define>
  <define name="common.attrs.aria.role.doc-footnote" combine="choice">
    <ref name="aria.doc-footnote"/>
  </define>
  <define name="aria.doc-foreword">
    <ref name="aria.role.doc-foreword"/>
  </define>
  <define name="aria.role.doc-foreword">
    <attribute name="role">
      <value type="string">doc-foreword</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.doc-foreword"/>
  </define>
  <define name="common.attrs.aria.role.doc-foreword" combine="choice">
    <ref name="aria.doc-foreword"/>
  </define>
  <define name="aria.doc-glossary">
    <ref name="aria.role.doc-glossary"/>
  </define>
  <define name="aria.role.doc-glossary">
    <attribute name="role">
      <value type="string">doc-glossary</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.doc-glossary"/>
  </define>
  <define name="common.attrs.aria.role.doc-glossary" combine="choice">
    <ref name="aria.doc-glossary"/>
  </define>
  <define name="aria.doc-glossref">
    <ref name="aria.role.doc-glossref"/>
  </define>
  <define name="aria.role.doc-glossref">
    <attribute name="role">
      <value type="string">doc-glossref</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.doc-glossref"/>
  </define>
  <define name="common.attrs.aria.role.doc-glossref" combine="choice">
    <ref name="aria.doc-glossref"/>
  </define>
  <define name="aria.doc-index">
    <ref name="aria.role.doc-index"/>
  </define>
  <define name="aria.role.doc-index">
    <attribute name="role">
      <value type="string">doc-index</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.doc-index"/>
  </define>
  <define name="common.attrs.aria.role.doc-index" combine="choice">
    <ref name="aria.doc-index"/>
  </define>
  <define name="aria.doc-introduction">
    <ref name="aria.role.doc-introduction"/>
  </define>
  <define name="aria.role.doc-introduction">
    <attribute name="role">
      <value type="string">doc-introduction</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.doc-introduction"/>
  </define>
  <define name="common.attrs.aria.role.doc-introduction" combine="choice">
    <ref name="aria.doc-introduction"/>
  </define>
  <define name="aria.doc-noteref">
    <ref name="aria.role.doc-noteref"/>
  </define>
  <define name="aria.role.doc-noteref">
    <attribute name="role">
      <value type="string">doc-noteref</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.doc-noteref"/>
  </define>
  <define name="common.attrs.aria.role.doc-noteref" combine="choice">
    <ref name="aria.doc-noteref"/>
  </define>
  <define name="aria.doc-notice">
    <ref name="aria.role.doc-notice"/>
  </define>
  <define name="aria.role.doc-notice">
    <attribute name="role">
      <value type="string">doc-notice</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.doc-notice"/>
  </define>
  <define name="common.attrs.aria.role.doc-notice" combine="choice">
    <ref name="aria.doc-notice"/>
  </define>
  <define name="aria.doc-pagebreak">
    <ref name="aria.role.doc-pagebreak"/>
  </define>
  <define name="aria.role.doc-pagebreak">
    <attribute name="role">
      <value type="string">doc-pagebreak</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.doc-pagebreak"/>
  </define>
  <define name="common.attrs.aria.role.doc-pagebreak" combine="choice">
    <ref name="aria.doc-pagebreak"/>
  </define>
  <define name="aria.doc-pagelist">
    <ref name="aria.role.doc-pagelist"/>
  </define>
  <define name="aria.role.doc-pagelist">
    <attribute name="role">
      <value type="string">doc-pagelist</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.doc-pagelist"/>
  </define>
  <define name="common.attrs.aria.role.doc-pagelist" combine="choice">
    <ref name="aria.doc-pagelist"/>
  </define>
  <define name="aria.doc-part">
    <ref name="aria.role.doc-part"/>
  </define>
  <define name="aria.role.doc-part">
    <attribute name="role">
      <value type="string">doc-part</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.doc-part"/>
  </define>
  <define name="common.attrs.aria.role.doc-part" combine="choice">
    <ref name="aria.doc-part"/>
  </define>
  <define name="aria.doc-preface">
    <ref name="aria.role.doc-preface"/>
  </define>
  <define name="aria.role.doc-preface">
    <attribute name="role">
      <value type="string">doc-preface</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.doc-preface"/>
  </define>
  <define name="common.attrs.aria.role.doc-preface" combine="choice">
    <ref name="aria.doc-preface"/>
  </define>
  <define name="aria.doc-prologue">
    <ref name="aria.role.doc-prologue"/>
  </define>
  <define name="aria.role.doc-prologue">
    <attribute name="role">
      <value type="string">doc-prologue</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.doc-prologue"/>
  </define>
  <define name="common.attrs.aria.role.doc-prologue" combine="choice">
    <ref name="aria.doc-prologue"/>
  </define>
  <define name="aria.doc-pullquote">
    <ref name="aria.role.doc-pullquote"/>
  </define>
  <define name="aria.role.doc-pullquote">
    <attribute name="role">
      <value type="string">doc-pullquote</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.doc-pullquote"/>
  </define>
  <define name="common.attrs.aria.role.doc-pullquote" combine="choice">
    <ref name="aria.doc-pullquote"/>
  </define>
  <define name="aria.doc-qna">
    <ref name="aria.role.doc-qna"/>
  </define>
  <define name="aria.role.doc-qna">
    <attribute name="role">
      <value type="string">doc-qna</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.doc-qna"/>
  </define>
  <define name="common.attrs.aria.role.doc-qna" combine="choice">
    <ref name="aria.doc-qna"/>
  </define>
  <define name="aria.doc-subtitle">
    <ref name="aria.role.doc-subtitle"/>
  </define>
  <define name="aria.role.doc-subtitle">
    <attribute name="role">
      <value type="string">doc-subtitle</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.doc-subtitle"/>
  </define>
  <define name="common.attrs.aria.role.doc-subtitle" combine="choice">
    <ref name="aria.doc-subtitle"/>
  </define>
  <define name="aria.doc-tip">
    <ref name="aria.role.doc-tip"/>
  </define>
  <define name="aria.role.doc-tip">
    <attribute name="role">
      <value type="string">doc-tip</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.doc-tip"/>
  </define>
  <define name="common.attrs.aria.role.doc-tip" combine="choice">
    <ref name="aria.doc-tip"/>
  </define>
  <define name="aria.doc-toc">
    <ref name="aria.role.doc-toc"/>
  </define>
  <define name="aria.role.doc-toc">
    <attribute name="role">
      <value type="string">doc-toc</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.doc-toc"/>
  </define>
  <define name="common.attrs.aria.role.doc-toc" combine="choice">
    <ref name="aria.doc-toc"/>
  </define>
</grammar>
`;

export const BLOCK_RNG = `<?xml version="1.0" encoding="UTF-8"?>
<grammar xmlns:a="http://relaxng.org/ns/compatibility/annotations/1.0" xmlns="http://relaxng.org/ns/structure/1.0">
  <!-- ##################################################################### -->
  <define name="p.elem">
    <a:documentation> RELAX NG Schema for HTML 5: Basic Prose Markup                    #</a:documentation>
    <!-- ##################################################################### -->
    <!-- ##################################################################### -->
    <a:documentation>Paragraph-Level</a:documentation>
    <a:documentation>Paragraph: &lt;p&gt;</a:documentation>
    <element name="p">
      <interleave>
        <ref name="p.inner"/>
        <ref name="p.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="p.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <ref name="common.attrs.aria"/>
      </optional>
    </interleave>
  </define>
  <define name="p.inner">
    <ref name="common.inner.phrasing"/>
  </define>
  <!-- REVISIT lists in span? -->
  <define name="common.elem.flow" combine="choice">
    <ref name="p.elem"/>
  </define>
  <define name="hr.elem">
    <a:documentation>Hint Transition: &lt;hr&gt;</a:documentation>
    <element name="hr">
      <interleave>
        <ref name="hr.inner"/>
        <ref name="hr.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="hr.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <choice>
          <ref name="common.attrs.aria.implicit.separator"/>
          <ref name="common.attrs.aria.role.separator"/>
          <ref name="common.attrs.aria.role.presentation"/>
          <ref name="common.attrs.aria.role.doc-pagebreak"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="hr.inner">
    <empty/>
  </define>
  <define name="common.elem.flow" combine="choice">
    <ref name="hr.elem"/>
  </define>
  <!-- ##################################################################### -->
  <define name="pre.elem">
    <a:documentation>Preformatting Blocks</a:documentation>
    <a:documentation>Preformatted Text: &lt;pre&gt;</a:documentation>
    <element name="pre">
      <interleave>
        <ref name="pre.inner"/>
        <ref name="pre.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="pre.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <ref name="common.attrs.aria"/>
      </optional>
    </interleave>
  </define>
  <define name="pre.inner">
    <ref name="common.inner.phrasing"/>
  </define>
  <define name="common.elem.flow" combine="choice">
    <ref name="pre.elem"/>
  </define>
  <!-- ##################################################################### -->
  <define name="ul.elem">
    <a:documentation>Simple Lists</a:documentation>
    <a:documentation>Unordered List: &lt;ul&gt;</a:documentation>
    <element name="ul">
      <interleave>
        <ref name="ul.inner"/>
        <ref name="ul.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="ul.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <choice>
          <choice>
            <ref name="common.attrs.aria.role.directory"/>
            <ref name="common.attrs.aria.role.group"/>
            <ref name="common.attrs.aria.role.list"/>
            <ref name="common.attrs.aria.role.listbox"/>
            <ref name="common.attrs.aria.role.menu"/>
            <ref name="common.attrs.aria.role.menubar"/>
            <ref name="common.attrs.aria.role.radiogroup"/>
            <ref name="common.attrs.aria.role.tablist"/>
            <ref name="common.attrs.aria.role.toolbar"/>
            <ref name="common.attrs.aria.role.tree"/>
            <ref name="common.attrs.aria.role.presentation"/>
          </choice>
          <ref name="common.attrs.aria.implicit.list"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="ul.inner">
    <interleave>
      <zeroOrMore>
        <ref name="li.elem"/>
      </zeroOrMore>
      <zeroOrMore>
        <ref name="common.elem.script-supporting"/>
      </zeroOrMore>
    </interleave>
  </define>
  <define name="common.elem.flow" combine="choice">
    <ref name="ul.elem"/>
  </define>
  <define name="li.elem">
    <a:documentation>Unordered List Item: &lt;li&gt;</a:documentation>
    <element name="li">
      <interleave>
        <ref name="li.inner"/>
        <ref name="li.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="li.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <choice>
          <ref name="common.attrs.aria.implicit.listitem"/>
          <ref name="common.attrs.aria.role.listitem"/>
          <ref name="common.attrs.aria.role.menuitem"/>
          <ref name="common.attrs.aria.role.menuitemcheckbox"/>
          <ref name="common.attrs.aria.role.menuitemradio"/>
          <ref name="common.attrs.aria.role.option"/>
          <ref name="common.attrs.aria.role.radio"/>
          <ref name="common.attrs.aria.role.tab"/>
          <ref name="common.attrs.aria.role.treeitem"/>
          <ref name="common.attrs.aria.role.separator"/>
          <ref name="common.attrs.aria.role.presentation"/>
          <ref name="common.attrs.aria.role.doc-biblioentry"/>
          <ref name="common.attrs.aria.role.doc-endnote"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="li.inner">
    <ref name="common.inner.flow"/>
  </define>
  <define name="ol.elem">
    <a:documentation>Ordered List: &lt;ol&gt;</a:documentation>
    <element name="ol">
      <interleave>
        <ref name="ol.inner"/>
        <ref name="ol.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="ol.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <ref name="ol.attrs.start"/>
      </optional>
      <optional>
        <ref name="ol.attrs.reversed"/>
      </optional>
      <optional>
        <ref name="ol.attrs.type"/>
      </optional>
      <optional>
        <choice>
          <choice>
            <ref name="common.attrs.aria.role.directory"/>
            <ref name="common.attrs.aria.role.group"/>
            <ref name="common.attrs.aria.role.list"/>
            <ref name="common.attrs.aria.role.listbox"/>
            <ref name="common.attrs.aria.role.menu"/>
            <ref name="common.attrs.aria.role.menubar"/>
            <ref name="common.attrs.aria.role.radiogroup"/>
            <ref name="common.attrs.aria.role.tablist"/>
            <ref name="common.attrs.aria.role.toolbar"/>
            <ref name="common.attrs.aria.role.tree"/>
            <ref name="common.attrs.aria.role.presentation"/>
          </choice>
          <ref name="common.attrs.aria.implicit.list"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="ol.attrs.start">
    <attribute name="start">
      <ref name="common.data.integer"/>
    </attribute>
  </define>
  <define name="ol.attrs.reversed">
    <attribute name="reversed">
      <choice>
        <value>reversed</value>
        <value/>
      </choice>
    </attribute>
  </define>
  <define name="ol.attrs.type">
    <attribute name="type">
      <choice>
        <value>1</value>
        <value>a</value>
        <value>A</value>
        <value>i</value>
        <value>I</value>
      </choice>
    </attribute>
  </define>
  <define name="ol.inner">
    <interleave>
      <zeroOrMore>
        <ref name="oli.elem"/>
      </zeroOrMore>
      <zeroOrMore>
        <ref name="common.elem.script-supporting"/>
      </zeroOrMore>
    </interleave>
  </define>
  <define name="common.elem.flow" combine="choice">
    <ref name="ol.elem"/>
  </define>
  <define name="oli.elem">
    <a:documentation>Ordered List Item: &lt;li&gt;</a:documentation>
    <element name="li">
      <interleave>
        <ref name="oli.inner"/>
        <ref name="oli.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="oli.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <ref name="oli.attrs.value"/>
      </optional>
      <optional>
        <choice>
          <ref name="common.attrs.aria.implicit.listitem"/>
          <ref name="common.attrs.aria.role.listitem"/>
          <ref name="common.attrs.aria.role.menuitem"/>
          <ref name="common.attrs.aria.role.menuitemcheckbox"/>
          <ref name="common.attrs.aria.role.menuitemradio"/>
          <ref name="common.attrs.aria.role.option"/>
          <ref name="common.attrs.aria.role.radio"/>
          <ref name="common.attrs.aria.role.tab"/>
          <ref name="common.attrs.aria.role.treeitem"/>
          <ref name="common.attrs.aria.role.separator"/>
          <ref name="common.attrs.aria.role.presentation"/>
          <ref name="common.attrs.aria.role.doc-biblioentry"/>
          <ref name="common.attrs.aria.role.doc-endnote"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="oli.attrs.value">
    <attribute name="value">
      <ref name="common.data.integer"/>
    </attribute>
  </define>
  <define name="oli.inner">
    <ref name="common.inner.flow"/>
  </define>
  <!-- ##################################################################### -->
  <define name="dl.elem">
    <a:documentation>Definition Lists</a:documentation>
    <a:documentation>Definition List: &lt;dl&gt;</a:documentation>
    <element name="dl">
      <interleave>
        <ref name="dl.inner"/>
        <ref name="dl.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="dl.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <choice>
          <ref name="common.attrs.aria.role.list"/>
          <ref name="common.attrs.aria.role.group"/>
          <ref name="common.attrs.aria.role.presentation"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="dl.inner">
    <choice>
      <zeroOrMore>
        <oneOrMore>
          <interleave>
            <ref name="dt.elem"/>
            <zeroOrMore>
              <ref name="common.elem.script-supporting"/>
            </zeroOrMore>
          </interleave>
        </oneOrMore>
        <oneOrMore>
          <interleave>
            <ref name="dd.elem"/>
            <zeroOrMore>
              <ref name="common.elem.script-supporting"/>
            </zeroOrMore>
          </interleave>
        </oneOrMore>
      </zeroOrMore>
      <oneOrMore>
        <interleave>
          <ref name="dldiv.elem"/>
          <zeroOrMore>
            <ref name="common.elem.script-supporting"/>
          </zeroOrMore>
        </interleave>
      </oneOrMore>
      <zeroOrMore>
        <ref name="common.elem.script-supporting"/>
      </zeroOrMore>
    </choice>
  </define>
  <define name="common.elem.flow" combine="choice">
    <ref name="dl.elem"/>
  </define>
  <define name="dt.elem">
    <a:documentation>Definition Term: &lt;dt&gt;</a:documentation>
    <element name="dt">
      <interleave>
        <ref name="dt.inner"/>
        <ref name="dt.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="dt.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <choice>
        <ref name="common.attrs.aria.implicit.term"/>
        <ref name="common.attrs.aria.role.term"/>
        <ref name="common.attrs.aria.role.listitem"/>
      </choice>
    </interleave>
  </define>
  <define name="dt.inner">
    <ref name="common.inner.flow"/>
  </define>
  <define name="dd.elem">
    <a:documentation>Definition Description: &lt;dd&gt;</a:documentation>
    <element name="dd">
      <interleave>
        <ref name="dd.inner"/>
        <ref name="dd.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="dd.elem.phrasing">
    <element name="dd">
      <interleave>
        <ref name="dd.inner.phrasing"/>
        <ref name="dd.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="dd.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <choice>
        <ref name="common.attrs.aria.implicit.definition"/>
        <ref name="common.attrs.aria.role.definition"/>
      </choice>
    </interleave>
  </define>
  <define name="dd.inner">
    <ref name="common.inner.flow"/>
  </define>
  <define name="dd.inner.phrasing">
    <ref name="common.inner.phrasing"/>
  </define>
  <!-- ##################################################################### -->
  <define name="div.elem">
    <a:documentation>Miscellaneous Elements</a:documentation>
    <a:documentation>Generic Container: &lt;div&gt;</a:documentation>
    <element name="div">
      <interleave>
        <ref name="div.inner"/>
        <ref name="div.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="div.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <ref name="common.attrs.aria"/>
      </optional>
    </interleave>
  </define>
  <define name="div.inner">
    <ref name="common.inner.flow"/>
  </define>
  <define name="common.elem.flow" combine="choice">
    <ref name="div.elem"/>
  </define>
  <define name="dldiv.elem">
    <element name="div">
      <interleave>
        <ref name="dldiv.inner"/>
        <ref name="div.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="dldiv.inner">
    <oneOrMore>
      <interleave>
        <ref name="dt.elem"/>
        <zeroOrMore>
          <ref name="common.elem.script-supporting"/>
        </zeroOrMore>
      </interleave>
    </oneOrMore>
    <oneOrMore>
      <interleave>
        <ref name="dd.elem"/>
        <zeroOrMore>
          <ref name="common.elem.script-supporting"/>
        </zeroOrMore>
      </interleave>
    </oneOrMore>
  </define>
  <define name="legend.elem">
    <a:documentation>Title or Explanatory Caption: &lt;legend&gt;</a:documentation>
    <element name="legend">
      <interleave>
        <ref name="legend.inner"/>
        <ref name="legend.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="legend.attrs">
    <ref name="common.attrs"/>
  </define>
  <define name="legend.inner">
    <interleave>
      <ref name="common.inner.phrasing"/>
      <optional>
        <ref name="h1.elem"/>
      </optional>
      <optional>
        <ref name="h2.elem"/>
      </optional>
      <optional>
        <ref name="h3.elem"/>
      </optional>
      <optional>
        <ref name="h4.elem"/>
      </optional>
      <optional>
        <ref name="h5.elem"/>
      </optional>
      <optional>
        <ref name="h6.elem"/>
      </optional>
      <optional>
        <ref name="hgroup.elem"/>
      </optional>
    </interleave>
  </define>
</grammar>
`;

export const COMMON_RNG = `<?xml version="1.0" encoding="UTF-8"?>
<grammar xmlns:a="http://relaxng.org/ns/compatibility/annotations/1.0" xmlns="http://relaxng.org/ns/structure/1.0" datatypeLibrary="http://www.w3.org/2001/XMLSchema-datatypes">
  <!-- ##################################################################### -->
  <define name="XMLonly">
    <a:documentation> RELAX NG Schema for HTML 5: Common Definitions                    #</a:documentation>
    <!-- ##################################################################### -->
    <!-- ##################################################################### -->
    <a:documentation> Language Parameters - redefine in inclusion block as necessary    #</a:documentation>
    <!-- ##################################################################### -->
    <a:documentation>HTML vs. XHTML restrictions</a:documentation>
    <empty/>
  </define>
  <define name="HTMLonly">
    <notAllowed/>
  </define>
  <!--
                            (This only affects mixed-version modules; wholly HTML5
                             modules should simply be left out of the inclusion list.)
  -->
  <define name="v5only">
    <a:documentation>HTML 4 Compatibility - set to notAllowed to disallow markup introduced in HTML 5</a:documentation>
    <empty/>
  </define>
  <!--  (xml:base on elements other than <html>) -->
  <define name="nonRoundtrippable">
    <a:documentation>HTML Compatibility Switches - set to notAllowed to disallow</a:documentation>
    <a:documentation>XML features that can't be roundtripped HTML &lt;-&gt; XHTML</a:documentation>
    <empty/>
  </define>
  <define name="nonHTMLizable">
    <a:documentation>XML features that can't be serialized as HTML</a:documentation>
    <empty/>
  </define>
  <!-- ##################################################################### -->
  <define name="common.attr.anything">
    <a:documentation> Wildcards                                                         #</a:documentation>
    <!-- ##################################################################### -->
    <a:documentation>Any attribute from any namespace</a:documentation>
    <zeroOrMore>
      <attribute>
        <anyName/>
      </attribute>
    </zeroOrMore>
  </define>
  <define name="common.elem.anything">
    <a:documentation>Any element from any namespace</a:documentation>
    <element>
      <anyName/>
      <interleave>
        <ref name="common.inner.anything"/>
        <ref name="common.attr.anything"/>
      </interleave>
    </element>
  </define>
  <define name="common.inner.anything">
    <a:documentation>Any content from any namespace</a:documentation>
    <interleave>
      <text/>
      <zeroOrMore>
        <ref name="common.elem.anything"/>
      </zeroOrMore>
    </interleave>
  </define>
  <!-- ##################################################################### -->
  <define name="common.elem.metadata">
    <a:documentation> Common Element Classes                                            #</a:documentation>
    <!-- ##################################################################### -->
    <a:documentation>Metadata Elements</a:documentation>
    <notAllowed/>
  </define>
  <define name="common.elem.phrasing">
    <a:documentation>Phrase Elements</a:documentation>
    <notAllowed/>
  </define>
  <define name="common.elem.flow">
    <a:documentation>Prose Elements</a:documentation>
    <ref name="common.elem.phrasing"/>
  </define>
  <!-- ##################################################################### -->
  <define name="common.inner.metadata">
    <a:documentation> Common Content Models                                             #</a:documentation>
    <!-- ##################################################################### -->
    <a:documentation>Metadata Content</a:documentation>
    <zeroOrMore>
      <ref name="common.elem.metadata"/>
    </zeroOrMore>
  </define>
  <define name="common.inner.phrasing">
    <a:documentation>Phrase Content</a:documentation>
    <interleave>
      <text/>
      <zeroOrMore>
        <ref name="common.elem.phrasing"/>
      </zeroOrMore>
    </interleave>
  </define>
  <define name="common.inner.transparent.flow">
    <a:documentation>Prose Content</a:documentation>
    <interleave>
      <text/>
      <zeroOrMore>
        <ref name="common.elem.flow"/>
      </zeroOrMore>
    </interleave>
  </define>
  <define name="common.inner.flow">
    <interleave>
      <text/>
      <zeroOrMore>
        <ref name="common.elem.flow"/>
      </zeroOrMore>
    </interleave>
  </define>
  <!-- ##################################################################### -->
  <!-- ##################################################################### -->
  <!-- When updating, check <bdo> definition too -->
  <define name="common.attrs">
    <a:documentation> Common Attributes                                                 #</a:documentation>
    <interleave>
      <ref name="common.attrs.basic"/>
      <ref name="common.attrs.i18n"/>
      <ref name="common.attrs.present"/>
      <ref name="common.attrs.other"/>
    </interleave>
  </define>
  <define name="common.attrs.basic">
    <interleave>
      <optional>
        <ref name="common.attrs.id"/>
      </optional>
      <optional>
        <ref name="common.attrs.class"/>
      </optional>
      <optional>
        <ref name="common.attrs.title"/>
      </optional>
      <optional>
        <ref name="common.attrs.base"/>
      </optional>
      <optional>
        <ref name="common.attrs.space"/>
      </optional>
    </interleave>
  </define>
  <define name="common.attrs.id">
    <attribute name="id">
      <ref name="common.data.id"/>
    </attribute>
  </define>
  <define name="common.attrs.class">
    <attribute name="class">
      <ref name="common.data.tokens"/>
    </attribute>
  </define>
  <define name="common.attrs.title">
    <attribute name="title"/>
  </define>
  <define name="common.attrs.base">
    <interleave>
      <ref name="common.attrs.xmlbase"/>
      <ref name="nonRoundtrippable"/>
    </interleave>
  </define>
  <define name="common.attrs.xmlbase">
    <interleave>
      <attribute name="xml:base">
        <ref name="common.data.uri"/>
      </attribute>
      <ref name="XMLonly"/>
    </interleave>
  </define>
  <define name="common.attrs.space">
    <ref name="common.attrs.xmlspace"/>
  </define>
  <define name="common.attrs.xmlspace">
    <interleave>
      <attribute name="xml:space">
        <choice>
          <value type="string" datatypeLibrary="">preserve</value>
          <value type="string" datatypeLibrary="">default</value>
        </choice>
      </attribute>
      <ref name="XMLonly"/>
    </interleave>
  </define>
  <define name="common.attrs.i18n">
    <interleave>
      <optional>
        <ref name="common.attrs.dir"/>
      </optional>
      <optional>
        <ref name="common.attrs.language"/>
      </optional>
      <optional>
        <ref name="common.attrs.translate"/>
      </optional>
    </interleave>
  </define>
  <define name="common.attrs.dir">
    <attribute name="dir">
      <choice>
        <value>ltr</value>
        <value>rtl</value>
        <value>auto</value>
      </choice>
    </attribute>
  </define>
  <!--
    This lang definition is a hack for environments where
    the HTML5 parser maps lang to xml:lang.
    Sameness check left to Schematron
  -->
  <define name="common.attrs.language">
    <interleave>
      <optional>
        <ref name="common.attrs.xmllang"/>
      </optional>
      <optional>
        <ref name="common.attrs.lang"/>
      </optional>
    </interleave>
  </define>
  <define name="common.attrs.lang">
    <interleave>
      <attribute name="lang">
        <ref name="common.data.langcode"/>
      </attribute>
      <ref name="XMLonly"/>
    </interleave>
  </define>
  <define name="common.attrs.xmllang">
    <attribute name="xml:lang">
      <ref name="common.data.langcode"/>
    </attribute>
  </define>
  <!--
    	common.attrs.language =
    		(	common.attrs.lang
    		|	common.attrs.xmllang
    		)
    	common.attrs.lang =
    		attribute lang {
    			common.data.langcode
    		} & HTMLonly
    	common.attrs.xmllang =
    		attribute xml:lang {
    			common.data.langcode
    		} & XMLonly
  -->
  <define name="common.attrs.translate">
    <attribute name="translate">
      <choice>
        <value/>
        <value>yes</value>
        <value>no</value>
      </choice>
    </attribute>
  </define>
  <define name="common.attrs.present">
    <interleave>
      <optional>
        <ref name="common.attrs.style"/>
      </optional>
      <optional>
        <ref name="common.attrs.tabindex"/>
      </optional>
      <optional>
        <ref name="common.attrs.accesskey"/>
      </optional>
    </interleave>
  </define>
  <define name="common.attrs.style">
    <attribute name="style">
      <data type="string" datatypeLibrary=""/>
    </attribute>
  </define>
  <define name="common.attrs.tabindex">
    <attribute name="tabindex">
      <ref name="common.data.integer"/>
    </attribute>
  </define>
  <!-- REVISIT move style to a module and bundle tabindex with ARIA -->
  <define name="common.attrs.accesskey">
    <attribute name="accesskey">
      <ref name="common.data.keylabellist"/>
    </attribute>
  </define>
  <define name="common.attrs.other">
    <interleave>
      <optional>
        <ref name="common.attrs.autofocus"/>
      </optional>
      <optional>
        <ref name="common.attrs.nonce"/>
      </optional>
      <optional>
        <ref name="common.attrs.inert"/>
      </optional>
    </interleave>
  </define>
  <define name="common.attrs.autofocus">
    <attribute name="autofocus">
      <choice>
        <value>autofocus</value>
        <value/>
      </choice>
    </attribute>
  </define>
  <define name="common.attrs.blocking">
    <attribute name="blocking">
      <list>
        <value>render</value>
      </list>
    </attribute>
  </define>
  <define name="common.attrs.fetchpriority">
    <attribute name="fetchpriority">
      <choice>
        <value>high</value>
        <value>low</value>
        <value>auto</value>
      </choice>
    </attribute>
  </define>
  <define name="common.attrs.nonce">
    <attribute name="nonce">
      <data type="string" datatypeLibrary=""/>
    </attribute>
  </define>
  <define name="common.attrs.inert">
    <attribute name="inert">
      <choice>
        <value type="string" datatypeLibrary="">inert</value>
        <value type="string" datatypeLibrary=""/>
      </choice>
    </attribute>
  </define>
  <!-- ##################################################################### -->
  <define name="common.data.tokens">
    <a:documentation> Common Datatypes                                                  #</a:documentation>
    <!-- ##################################################################### -->
    <a:documentation>Names and Tokens</a:documentation>
    <list>
      <zeroOrMore>
        <data type="token" datatypeLibrary=""/>
      </zeroOrMore>
    </list>
  </define>
  <define name="common.data.browsing-context">
    <ref name="datatype.html5.browsing.context.name"/>
  </define>
  <define name="common.data.browsing-context-or-keyword">
    <ref name="datatype.html5.browsing.context.name.or.keyword"/>
  </define>
  <!--
    		xsd:string {
    			pattern = "()|([^_].*)|(_[bB][lL][aA][nN][kK])|(_[sS][eE][lL][fF])|(_[pP][aA][rR][eE][nN][tT])|(_[tT][oO][pP])"
    		}
  -->
  <define name="common.data.id">
    <a:documentation>IDs and IDREFs</a:documentation>
    <ref name="datatype.html5.token"/>
  </define>
  <!--
    		xsd:string {
    			pattern = "\\S+"
    		}
  -->
  <define name="common.data.idref">
    <ref name="datatype.html5.token"/>
  </define>
  <define name="common.data.idrefs">
    <ref name="datatype.html5.space.separated.tokens"/>
  </define>
  <define name="common.data.name">
    <ref name="datatype.html5.token"/>
  </define>
  <define name="common.data.hash-name">
    <ref name="datatype.html5.name.reference"/>
  </define>
  <!--
    		xsd:string {
    			pattern = "#.+"
    		}
  -->
  <define name="common.data.integer">
    <a:documentation>Numerical</a:documentation>
    <ref name="datatype.integer"/>
  </define>
  <!--
    		xsd:string {
    			pattern = "-?[0-9]+"
    		}
  -->
  <define name="common.data.integer.positive">
    <ref name="datatype.positive.integer"/>
  </define>
  <!--
    		xsd:string {
    			pattern = "0*[1-9][0-9]*"
    		}
  -->
  <define name="common.data.integer.non-negative">
    <ref name="datatype.non-negative.integer"/>
  </define>
  <!--
    		xsd:string {
    			pattern = "[0-9]+"
    		}
  -->
  <!--
    	common.data.percent =
    		xsd:string {
    			pattern = "(100)|([1-9]?[0-9](\\.[0-9]+)?)%"
    		}
  -->
  <define name="common.data.float">
    <ref name="datatype.float"/>
  </define>
  <!--
    		xsd:string {
    			pattern = "-?[0-9]+(\\.[0-9]+)?([eE]-?[0-9]+)?"
    		}
  -->
  <define name="common.data.float.positive">
    <ref name="datatype.float.positive"/>
  </define>
  <!--
    		xsd:string {
    			pattern = "(0*[1-9][0-9]*(\\.[0-9]+)?)|([0-9]+(\\.0*[1-9][0-9]*)?)([eE]-?[0-9]+)?"
    		}
  -->
  <define name="common.data.float.non-negative">
    <ref name="datatype.float.non-negative"/>
  </define>
  <!--
    		xsd:string {
    			pattern = "[0-9]+(\\.[0-9]+)?([eE]-?[0-9]+)?"
    		}
  -->
  <define name="common.data.datetime">
    <a:documentation>Temporal</a:documentation>
    <ref name="datatype.html5.datetime"/>
  </define>
  <define name="common.data.date">
    <ref name="datatype.html5.date"/>
  </define>
  <define name="common.data.time-datetime">
    <ref name="datatype.html5.date.or.time"/>
  </define>
  <define name="common.data.uri">
    <a:documentation>IRIs</a:documentation>
    <!--
      allow either a non-empty IRI ref or zero or more HTML
      space characters (which are: space, tab, LF, FF, CR)
    -->
    <choice>
      <ref name="datatype.IRI"/>
      <data type="string">
        <param name="pattern">[ 
-&#xD;]*</param>
      </data>
    </choice>
    <!--
      NOTE The range above incorrectly allows U+000B
      in addition to the HTML space characters; but
      that's not a problem in practice because HTML
      and XML parsers will both catch any U+000B
      and report an error for it before that pattern
      ever gets evaluated.
    -->
  </define>
  <define name="common.data.uri.non-empty">
    <ref name="datatype.string.nonempty"/>
  </define>
  <define name="common.data.uris">
    <list>
      <zeroOrMore>
        <ref name="datatype.IRI"/>
      </zeroOrMore>
    </list>
  </define>
  <define name="common.data.uris.http.or.https">
    <list>
      <zeroOrMore>
        <ref name="datatype.URI.absolute"/>
      </zeroOrMore>
    </list>
  </define>
  <define name="common.data.uri.absolute">
    <ref name="datatype.URI.absolute"/>
  </define>
  <define name="common.data.sizes">
    <a:documentation>&lt;link type='icon'&gt; sizes</a:documentation>
    <!-- 		list { w:sizes } -->
    <list>
      <oneOrMore>
        <data type="string">
          <param name="pattern">[1-9][0-9]*x[1-9][0-9]*</param>
        </data>
      </oneOrMore>
    </list>
  </define>
  <define name="common.data.color">
    <a:documentation>color for &lt;link rel="mask-icon"&gt; and &lt;meta name="theme-color"&gt;</a:documentation>
    <ref name="datatype.html5.color"/>
  </define>
  <define name="common.data.mimetype">
    <a:documentation>MIME types</a:documentation>
    <ref name="datatype.mimetype"/>
  </define>
  <define name="common.data.scripttype">
    <a:documentation>Script type</a:documentation>
    <ref name="datatype.string"/>
  </define>
  <define name="common.data.charset">
    <a:documentation>Encodings</a:documentation>
    <ref name="datatype.character.encoding"/>
  </define>
  <define name="common.data.meta-charset">
    <ref name="datatype.string"/>
  </define>
  <define name="common.data.refresh">
    <a:documentation>Refresh</a:documentation>
    <ref name="datatype.string"/>
  </define>
  <define name="common.data.default-style">
    <a:documentation>Default style</a:documentation>
    <data type="string" datatypeLibrary=""/>
  </define>
  <!-- 		w:default-style -->
  <define name="common.data.x-ua-compatible">
    <a:documentation>X-UA-Compatible</a:documentation>
    <data type="string" datatypeLibrary=""/>
  </define>
  <define name="common.data.mediaquery">
    <a:documentation>Media Queries</a:documentation>
    <ref name="datatype.html5.media.query"/>
  </define>
  <define name="common.data.langcode">
    <a:documentation>Language Codes</a:documentation>
    <choice>
      <value/>
      <ref name="datatype.languagecode"/>
    </choice>
  </define>
  <define name="common.data.keylabellist">
    <a:documentation>List of Key Labels</a:documentation>
    <ref name="datatype.html5.accesskey"/>
  </define>
  <define name="common.data.source.size.list">
    <a:documentation>List of Source Sizes</a:documentation>
    <ref name="datatype.string"/>
  </define>
  <define name="common.data.integrity">
    <a:documentation>Subresource Integrity</a:documentation>
    <ref name="datatype.string"/>
  </define>
  <define name="common.data.content-security-policy">
    <a:documentation>Content Security Policy</a:documentation>
    <ref name="datatype.string"/>
  </define>
  <define name="common.data.feature-policy">
    <a:documentation>Feature Policy</a:documentation>
    <data type="string" datatypeLibrary=""/>
  </define>
  <define name="common.data.sandbox-allow-list">
    <a:documentation>List of sandbox keywords</a:documentation>
    <choice>
      <value/>
      <list>
        <optional>
          <value>allow-top-navigation</value>
        </optional>
        <optional>
          <value>allow-same-origin</value>
        </optional>
        <optional>
          <value>allow-forms</value>
        </optional>
        <optional>
          <value>allow-scripts</value>
        </optional>
      </list>
      <list>
        <optional>
          <value>allow-top-navigation</value>
        </optional>
        <optional>
          <value>allow-same-origin</value>
        </optional>
        <optional>
          <value>allow-scripts</value>
        </optional>
        <optional>
          <value>allow-forms</value>
        </optional>
      </list>
    </choice>
  </define>
  <define name="common.data.custom.element.name">
    <a:documentation>Custom element name</a:documentation>
    <ref name="datatype.string"/>
  </define>
  <define name="common.data.microdata-properties">
    <a:documentation>Microdata Properties</a:documentation>
    <list>
      <oneOrMore>
        <ref name="datatype.string"/>
      </oneOrMore>
    </list>
  </define>
  <define name="common.data.zero">
    <a:documentation>Zero</a:documentation>
    <value>0</value>
  </define>
  <define name="common.data.functionbody">
    <a:documentation>ECMAScript FunctionBody</a:documentation>
    <data type="string" datatypeLibrary=""/>
  </define>
  <define name="common.data.autocomplete.any">
    <a:documentation>autocomplete</a:documentation>
    <ref name="datatype.string"/>
  </define>
  <!-- ##################################################################### -->
  <!-- ##################################################################### -->
  <define name="common-form.attrs.form">
    <a:documentation> WF2 Module Hook                                                   #</a:documentation>
    <notAllowed/>
  </define>
  <!-- ##################################################################### -->
  <!-- ##################################################################### -->
  <define name="common.elem.script-supporting">
    <a:documentation> Script-supporting elements</a:documentation>
    <notAllowed/>
  </define>
  <!-- ##################################################################### -->
  <!-- ##################################################################### -->
  <define name="common.attrs.aria">
    <a:documentation> ARIA Module Hooks                                                 #</a:documentation>
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.alert">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.alertdialog">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.application">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.article">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.banner">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.button">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.cell" combine="choice">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.checkbox">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.combobox">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.complementary">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.dialog">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.directory">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.document">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.feed" combine="choice">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.figure" combine="choice">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.group">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.heading">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.img">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.link">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.list">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.listitem">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.log">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.listbox">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.main">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.marquee">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.menu">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.menubar">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.menuitem">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.menuitemcheckbox">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.menuitemradio">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.option">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.presentation">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.progressbar">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.radio">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.radiogroup" combine="choice">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.region">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.rowgroup" combine="choice">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.search">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.searchbox" combine="choice">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.separator">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.slider">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.spinbutton">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.status">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.switch">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.tab">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.table" combine="choice">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.tablist">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.tabpanel">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.textbox">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.toolbar">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.tree">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.treeitem">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.implicit.article">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.implicit.banner">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.implicit.button">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.implicit.cell" combine="choice">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.implicit.checkbox">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.implicit.column-or-row-header">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.implicit.combobox">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.implicit.complementary">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.implicit.contentinfo">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.implicit.dialog">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.implicit.figure" combine="choice">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.implicit.document">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.implicit.form">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.implicit.group">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.implicit.heading">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.implicit.img">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.implicit.landmark">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.implicit.link">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.implicit.list">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.implicit.listbox">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.implicit.listitem">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.implicit.main">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.implicit.math" combine="choice">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.implicit.navigation">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.implicit.option">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.implicit.progressbar">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.implicit.radio">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.implicit.region">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.implicit.row" combine="choice">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.implicit.rowgroup" combine="choice">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.implicit.search">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.implicit.searchbox" combine="choice">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.implicit.section">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.implicit.select">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.implicit.separator">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.implicit.slider">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.implicit.spinbutton">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.implicit.status">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.implicit.structure">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.implicit.table" combine="choice">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.implicit.textbox">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.implicit.toolbar">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.prop.readonly">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.landmark.banner">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.landmark.complementary">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.landmark.contentinfo">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.landmark.form">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.landmark.main">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.landmark.navigation">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.landmark.search">
    <notAllowed/>
  </define>
  <!-- per ARIA spec: article, document, and note are not actually landmarks -->
  <define name="common.attrs.aria.landmark.article">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.landmark.document">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.landmark.note">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.doc-abstract">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.doc-acknowledgments">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.doc-afterword">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.doc-appendix">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.doc-backlink">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.doc-biblioentry">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.doc-bibliography">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.doc-biblioref">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.doc-chapter">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.doc-colophon">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.doc-conclusion">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.doc-cover">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.doc-credit">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.doc-credits">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.doc-dedication">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.doc-endnote">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.doc-endnotes">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.doc-epigraph">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.doc-epilogue">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.doc-errata">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.doc-example">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.doc-footnote">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.doc-foreword">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.doc-glossary">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.doc-glossref">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.doc-index">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.doc-introduction">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.doc-noteref">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.doc-notice">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.doc-pagebreak">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.doc-pagelist">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.doc-part">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.doc-preface">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.doc-prologue">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.doc-pullquote">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.doc-qna">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.doc-subtitle">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.doc-tip">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.doc-toc">
    <notAllowed/>
  </define>
</grammar>
`;

export const CONTAINER_RNG = `<?xml version="1.0"?>
<grammar xmlns="http://relaxng.org/ns/structure/1.0"
         ns="urn:oasis:names:tc:opendocument:xmlns:container"
         datatypeLibrary="http://www.w3.org/2001/XMLSchema-datatypes">
	<start>
		<element name="container">
  			<attribute name="version">
  				<text/>
  			</attribute>
			<element name="rootfiles">
				<oneOrMore>
					<element name="rootfile">
	  					<attribute name="full-path">
	  						<text/>
	  					</attribute>
	  					<attribute name="media-type">
	  						<text/>
	  					</attribute>
					</element>
      			</oneOrMore>
      		</element>
    	</element>
   </start>
</grammar>`;

export const CORE_SCRIPTING_RNG = `<?xml version="1.0" encoding="UTF-8"?>
<grammar xmlns:a="http://relaxng.org/ns/compatibility/annotations/1.0" xmlns="http://relaxng.org/ns/structure/1.0" datatypeLibrary="">
  <!-- ##################################################################### -->
  <define name="script.elem.embedded">
    <a:documentation> RELAX NG Schema for HTML 5: Core Scripting                        #</a:documentation>
    <!-- ##################################################################### -->
    <!-- ##################################################################### -->
    <a:documentation>Scripting Elements</a:documentation>
    <a:documentation>Inline Scripts: &lt;script&gt;</a:documentation>
    <element name="script">
      <interleave>
        <ref name="script.inner.embedded"/>
        <ref name="script.attrs.embedded"/>
      </interleave>
    </element>
  </define>
  <define name="script.attrs.embedded">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <ref name="script.attrs.type"/>
      </optional>
      <optional>
        <ref name="script.attrs.nomodule"/>
      </optional>
      <optional>
        <ref name="script.attrs.language"/>
      </optional>
      <optional>
        <!-- restricted in Schematron -->
        <ref name="script.attrs.integrity"/>
      </optional>
      <optional>
        <ref name="embedded.content.attrs.crossorigin"/>
      </optional>
      <optional>
        <ref name="referrerpolicy"/>
      </optional>
    </interleave>
  </define>
  <define name="script.elem.imported">
    <element name="script">
      <interleave>
        <ref name="script.inner.imported"/>
        <ref name="script.attrs.imported"/>
      </interleave>
    </element>
  </define>
  <define name="script.attrs.imported">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <ref name="script.attrs.src"/>
      </optional>
      <optional>
        <ref name="script.attrs.defer"/>
      </optional>
      <optional>
        <ref name="script.attrs.async"/>
      </optional>
      <optional>
        <ref name="script.attrs.type"/>
      </optional>
      <optional>
        <ref name="script.attrs.nomodule"/>
      </optional>
      <optional>
        <ref name="script.attrs.charset"/>
      </optional>
      <optional>
        <ref name="script.attrs.language"/>
      </optional>
      <optional>
        <!-- restricted in Schematron -->
        <ref name="script.attrs.integrity"/>
      </optional>
      <optional>
        <ref name="embedded.content.attrs.crossorigin"/>
      </optional>
      <optional>
        <ref name="common.attrs.blocking"/>
      </optional>
      <optional>
        <ref name="common.attrs.fetchpriority"/>
      </optional>
      <optional>
        <ref name="referrerpolicy"/>
      </optional>
    </interleave>
  </define>
  <define name="script.attrs.src">
    <attribute name="src">
      <ref name="common.data.uri.non-empty"/>
    </attribute>
  </define>
  <define name="script.attrs.defer">
    <attribute name="defer">
      <choice>
        <value>defer</value>
        <value/>
      </choice>
    </attribute>
  </define>
  <define name="script.attrs.async">
    <interleave>
      <attribute name="async">
        <choice>
          <value>async</value>
          <value/>
        </choice>
      </attribute>
      <ref name="v5only"/>
    </interleave>
  </define>
  <define name="script.attrs.type">
    <attribute name="type">
      <choice>
        <value>module</value>
        <value>importmap</value>
        <value/>
        <ref name="common.data.scripttype"/>
      </choice>
      <!-- XXX without charset parameter! -->
    </attribute>
  </define>
  <define name="script.attrs.nomodule">
    <attribute name="nomodule">
      <choice>
        <value>nomodule</value>
        <value/>
      </choice>
    </attribute>
  </define>
  <define name="script.attrs.charset">
    <attribute name="charset">
      <data type="string"/>
    </attribute>
  </define>
  <define name="script.attrs.language">
    <attribute name="language">
      <data type="string"/>
    </attribute>
  </define>
  <define name="script.attrs.integrity">
    <attribute name="integrity">
      <ref name="common.data.integrity"/>
    </attribute>
  </define>
  <define name="script.inner.embedded">
    <ref name="common.inner.anything"/>
  </define>
  <define name="script.inner.imported">
    <ref name="common.inner.anything"/>
  </define>
  <define name="script.elem">
    <choice>
      <ref name="script.elem.embedded"/>
      <ref name="script.elem.imported"/>
    </choice>
  </define>
  <define name="common.elem.metadata" combine="choice">
    <ref name="script.elem"/>
  </define>
  <define name="common.elem.phrasing" combine="choice">
    <ref name="script.elem"/>
  </define>
  <define name="noscript.elem.head">
    <a:documentation>Fallback Unscripted Content: &lt;noscript&gt;</a:documentation>
    <interleave>
      <element name="noscript">
        <interleave>
          <ref name="noscript.inner.head"/>
          <ref name="noscript.attrs"/>
        </interleave>
      </element>
      <ref name="HTMLonly"/>
    </interleave>
  </define>
  <define name="noscript.inner.head">
    <zeroOrMore>
      <choice>
        <ref name="link.elem"/>
        <ref name="meta.http-equiv.default-style.elem"/>
        <ref name="meta.http-equiv.refresh.elem"/>
        <ref name="style.elem"/>
      </choice>
    </zeroOrMore>
  </define>
  <define name="noscript.elem.phrasing">
    <interleave>
      <element name="noscript">
        <interleave>
          <ref name="noscript.inner.phrasing"/>
          <ref name="noscript.attrs"/>
        </interleave>
      </element>
      <ref name="HTMLonly"/>
    </interleave>
  </define>
  <define name="noscript.inner.phrasing">
    <ref name="common.inner.phrasing"/>
  </define>
  <define name="noscript.elem.flow">
    <interleave>
      <element name="noscript">
        <interleave>
          <ref name="noscript.inner.flow"/>
          <ref name="noscript.attrs"/>
        </interleave>
      </element>
      <ref name="HTMLonly"/>
    </interleave>
  </define>
  <define name="noscript.inner.flow">
    <ref name="common.inner.flow"/>
  </define>
  <define name="noscript.attrs">
    <ref name="common.attrs"/>
  </define>
  <define name="common.elem.metadata" combine="choice">
    <ref name="noscript.elem.head"/>
  </define>
  <define name="common.elem.phrasing" combine="choice">
    <ref name="noscript.elem.phrasing"/>
  </define>
  <define name="common.elem.flow" combine="choice">
    <ref name="noscript.elem.flow"/>
  </define>
  <!-- ##################################################################### -->
  <define name="common.attrs.scripting" combine="interleave">
    <a:documentation>Event Handler Attribute Definitions</a:documentation>
    <interleave>
      <optional>
        <ref name="scripting.attr.onauxclick"/>
      </optional>
      <optional>
        <ref name="scripting.attr.onbeforeinput"/>
      </optional>
      <optional>
        <ref name="scripting.attr.onbeforematch"/>
      </optional>
      <optional>
        <ref name="scripting.attr.onblur"/>
      </optional>
      <optional>
        <ref name="scripting.attr.oncancel"/>
      </optional>
      <optional>
        <ref name="scripting.attr.oncanplay"/>
      </optional>
      <optional>
        <ref name="scripting.attr.oncanplaythrough"/>
      </optional>
      <optional>
        <ref name="scripting.attr.onchange"/>
      </optional>
      <optional>
        <ref name="scripting.attr.onclick"/>
      </optional>
      <optional>
        <ref name="scripting.attr.onclose"/>
      </optional>
      <optional>
        <ref name="scripting.attr.oncontextlost"/>
      </optional>
      <optional>
        <ref name="scripting.attr.oncontextmenu"/>
      </optional>
      <optional>
        <ref name="scripting.attr.oncontextrestored"/>
      </optional>
      <optional>
        <ref name="scripting.attr.oncopy"/>
      </optional>
      <optional>
        <ref name="scripting.attr.oncuechange"/>
      </optional>
      <optional>
        <ref name="scripting.attr.oncut"/>
      </optional>
      <optional>
        <ref name="scripting.attr.ondblclick"/>
      </optional>
      <optional>
        <ref name="scripting.attr.ondrag"/>
      </optional>
      <optional>
        <ref name="scripting.attr.ondragend"/>
      </optional>
      <optional>
        <ref name="scripting.attr.ondragenter"/>
      </optional>
      <optional>
        <ref name="scripting.attr.ondragleave"/>
      </optional>
      <optional>
        <ref name="scripting.attr.ondragover"/>
      </optional>
      <optional>
        <ref name="scripting.attr.ondragstart"/>
      </optional>
      <optional>
        <ref name="scripting.attr.ondrop"/>
      </optional>
      <optional>
        <ref name="scripting.attr.ondurationchange"/>
      </optional>
      <optional>
        <ref name="scripting.attr.onemptied"/>
      </optional>
      <optional>
        <ref name="scripting.attr.onended"/>
      </optional>
      <optional>
        <ref name="scripting.attr.onerror"/>
      </optional>
      <optional>
        <ref name="scripting.attr.onfocus"/>
      </optional>
      <optional>
        <ref name="scripting.attr.onformdata"/>
      </optional>
      <optional>
        <ref name="scripting.attr.oninput"/>
      </optional>
      <optional>
        <ref name="scripting.attr.oninvalid"/>
      </optional>
      <optional>
        <ref name="scripting.attr.onkeydown"/>
      </optional>
      <optional>
        <ref name="scripting.attr.onkeypress"/>
      </optional>
      <optional>
        <ref name="scripting.attr.onkeyup"/>
      </optional>
      <optional>
        <ref name="scripting.attr.onload"/>
      </optional>
      <optional>
        <ref name="scripting.attr.onloadeddata"/>
      </optional>
      <optional>
        <ref name="scripting.attr.onloadedmetadata"/>
      </optional>
      <optional>
        <ref name="scripting.attr.onloadstart"/>
      </optional>
      <optional>
        <ref name="scripting.attr.onmousedown"/>
      </optional>
      <optional>
        <ref name="scripting.attr.onmouseenter"/>
      </optional>
      <optional>
        <ref name="scripting.attr.onmouseleave"/>
      </optional>
      <optional>
        <ref name="scripting.attr.onmousemove"/>
      </optional>
      <optional>
        <ref name="scripting.attr.onmouseout"/>
      </optional>
      <optional>
        <ref name="scripting.attr.onmouseover"/>
      </optional>
      <optional>
        <ref name="scripting.attr.onmouseup"/>
      </optional>
      <optional>
        <ref name="scripting.attr.onpaste"/>
      </optional>
      <optional>
        <ref name="scripting.attr.onpause"/>
      </optional>
      <optional>
        <ref name="scripting.attr.onplay"/>
      </optional>
      <optional>
        <ref name="scripting.attr.onplaying"/>
      </optional>
      <optional>
        <ref name="scripting.attr.onprogress"/>
      </optional>
      <optional>
        <ref name="scripting.attr.onratechange"/>
      </optional>
      <optional>
        <ref name="scripting.attr.onreset"/>
      </optional>
      <optional>
        <ref name="scripting.attr.onresize"/>
      </optional>
      <optional>
        <ref name="scripting.attr.onscroll"/>
      </optional>
      <optional>
        <ref name="scripting.attr.onscrollend"/>
      </optional>
      <optional>
        <ref name="scripting.attr.onsecuritypolicyviolation"/>
      </optional>
      <optional>
        <ref name="scripting.attr.onseeked"/>
      </optional>
      <optional>
        <ref name="scripting.attr.onseeking"/>
      </optional>
      <optional>
        <ref name="scripting.attr.onselect"/>
      </optional>
      <optional>
        <ref name="scripting.attr.onslotchange"/>
      </optional>
      <optional>
        <ref name="scripting.attr.onstalled"/>
      </optional>
      <optional>
        <ref name="scripting.attr.onsubmit"/>
      </optional>
      <optional>
        <ref name="scripting.attr.onsuspend"/>
      </optional>
      <optional>
        <ref name="scripting.attr.ontimeupdate"/>
      </optional>
      <optional>
        <ref name="scripting.attr.ontoggle"/>
      </optional>
      <optional>
        <ref name="scripting.attr.onvolumechange"/>
      </optional>
      <optional>
        <ref name="scripting.attr.onwaiting"/>
      </optional>
      <optional>
        <ref name="scripting.attr.onwheel"/>
      </optional>
    </interleave>
  </define>
  <define name="common.attrs.other" combine="interleave">
    <ref name="common.attrs.scripting"/>
  </define>
  <define name="scripting.attr.onauxclick">
    <attribute name="onauxclick">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.onbeforeinput">
    <attribute name="onbeforeinput">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.onbeforematch">
    <attribute name="onbeforematch">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.onblur">
    <attribute name="onblur">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.oncancel">
    <attribute name="oncancel">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.oncanplay">
    <attribute name="oncanplay">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.oncanplaythrough">
    <attribute name="oncanplaythrough">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.onchange">
    <attribute name="onchange">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.onclick">
    <attribute name="onclick">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.onclose">
    <attribute name="onclose">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.oncontextlost">
    <attribute name="oncontextlost">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.oncontextmenu">
    <attribute name="oncontextmenu">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.oncontextrestored">
    <attribute name="oncontextrestored">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.oncopy">
    <attribute name="oncopy">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.oncuechange">
    <attribute name="oncuechange">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.oncut">
    <attribute name="oncut">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.ondblclick">
    <attribute name="ondblclick">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.ondrag">
    <attribute name="ondrag">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.ondragend">
    <attribute name="ondragend">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.ondragenter">
    <attribute name="ondragenter">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.ondragleave">
    <attribute name="ondragleave">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.ondragover">
    <attribute name="ondragover">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.ondragstart">
    <attribute name="ondragstart">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.ondrop">
    <attribute name="ondrop">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.ondurationchange">
    <attribute name="ondurationchange">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.onemptied">
    <attribute name="onemptied">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.onended">
    <attribute name="onended">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.onerror">
    <attribute name="onerror">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.onfocus">
    <attribute name="onfocus">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.onformdata">
    <attribute name="onformdata">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.oninput">
    <attribute name="oninput">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.oninvalid">
    <attribute name="oninvalid">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.onkeydown">
    <attribute name="onkeydown">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.onkeypress">
    <attribute name="onkeypress">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.onkeyup">
    <attribute name="onkeyup">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.onload">
    <attribute name="onload">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.onloadeddata">
    <attribute name="onloadeddata">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.onloadedmetadata">
    <attribute name="onloadedmetadata">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.onloadstart">
    <attribute name="onloadstart">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.onmousedown">
    <attribute name="onmousedown">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.onmouseenter">
    <attribute name="onmouseenter">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.onmouseleave">
    <attribute name="onmouseleave">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.onmousemove">
    <attribute name="onmousemove">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.onmouseout">
    <attribute name="onmouseout">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.onmouseover">
    <attribute name="onmouseover">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.onmouseup">
    <attribute name="onmouseup">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.onpaste">
    <attribute name="onpaste">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.onpause">
    <attribute name="onpause">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.onplay">
    <attribute name="onplay">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.onplaying">
    <attribute name="onplaying">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.onprogress">
    <attribute name="onprogress">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.onratechange">
    <attribute name="onratechange">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.onreset">
    <attribute name="onreset">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.onresize">
    <attribute name="onresize">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.onscroll">
    <attribute name="onscroll">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.onscrollend">
    <attribute name="onscrollend">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.onsecuritypolicyviolation">
    <attribute name="onsecuritypolicyviolation">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.onseeked">
    <attribute name="onseeked">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.onseeking">
    <attribute name="onseeking">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.onselect">
    <attribute name="onselect">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.onslotchange">
    <attribute name="onslotchange">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.onstalled">
    <attribute name="onstalled">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.onsubmit">
    <attribute name="onsubmit">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.onsuspend">
    <attribute name="onsuspend">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.ontimeupdate">
    <attribute name="ontimeupdate">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.ontoggle">
    <attribute name="ontoggle">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.onvolumechange">
    <attribute name="onvolumechange">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.onwaiting">
    <attribute name="onwaiting">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.onwheel">
    <attribute name="onwheel">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="common.attrs.scripting" combine="interleave">
    <a:documentation>Pointer Events</a:documentation>
    <interleave>
      <optional>
        <ref name="scripting.attr.onpointerover"/>
      </optional>
      <optional>
        <ref name="scripting.attr.onpointerenter"/>
      </optional>
      <optional>
        <ref name="scripting.attr.onpointerdown"/>
      </optional>
      <optional>
        <ref name="scripting.attr.onpointermove"/>
      </optional>
      <optional>
        <ref name="scripting.attr.onpointerrawupdate"/>
      </optional>
      <optional>
        <ref name="scripting.attr.onpointerup"/>
      </optional>
      <optional>
        <ref name="scripting.attr.onpointercancel"/>
      </optional>
      <optional>
        <ref name="scripting.attr.onpointerout"/>
      </optional>
      <optional>
        <ref name="scripting.attr.onpointerleave"/>
      </optional>
      <optional>
        <ref name="scripting.attr.ongotpointercapture"/>
      </optional>
      <optional>
        <ref name="scripting.attr.onlostpointercapture"/>
      </optional>
    </interleave>
  </define>
  <define name="scripting.attr.onpointerover">
    <attribute name="onpointerover">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.onpointerenter">
    <attribute name="onpointerenter">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.onpointerdown">
    <attribute name="onpointerdown">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.onpointermove">
    <attribute name="onpointermove">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.onpointerrawupdate">
    <attribute name="onpointerrawupdate">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.onpointerup">
    <attribute name="onpointerup">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.onpointercancel">
    <attribute name="onpointercancel">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.onpointerout">
    <attribute name="onpointerout">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.onpointerleave">
    <attribute name="onpointerleave">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.ongotpointercapture">
    <attribute name="ongotpointercapture">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.onlostpointercapture">
    <attribute name="onlostpointercapture">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
</grammar>
<!--
  	scripting.attr.common =
  		(	scripting.attr.mouse
  		&	scripting.attr.keyboard
  		&	scripting.attr.focus
  		)
  	
  	scripting.attr.mouse =
  		(	scripting.attr.mouse.click?
  		&	scripting.attr.mouse.dblclick?
  		&	scripting.attr.mouse.down?
  		&	scripting.attr.mouse.up?
  		&	scripting.attr.mouse.over?
  		&	scripting.attr.mouse.move?
  		&	scripting.attr.mouse.out?
  		)
  		scripting.attr.mouse.click =
  			attribute onclick { string }
  		scripting.attr.mouse.dblclick =
  			attribute ondblclick { string }
  		scripting.attr.mouse.down =
  			attribute onmousedown { string }
  		scripting.attr.mouse.up =
  			attribute onmouseup { string }
  		scripting.attr.mouse.over =
  			attribute onmouseover { string }
  		scripting.attr.mouse.move =
  			attribute onmousemove { string }
  		scripting.attr.mouse.out =
  			attribute onmouseout { string }
  	
  	scripting.attr.keyboard =
  		(	scripting.attr.keyboard.press?
  		&	scripting.attr.keyboard.down?
  		&	scripting.attr.keyboard.up?
  		)
  		scripting.attr.keyboard.press =
  			attribute onkeypress { string }
  		scripting.attr.keyboard.down =
  			attribute onkeydown { string }
  		scripting.attr.keyboard.up =
  			attribute onkeyup { string }
  	
  	
  	scripting.attr.focus =
  		(	scripting.attr.focus.gain?
  		&	scripting.attr.focus.lose?
  		)
  		scripting.attr.focus.gain =
  			attribute onfocus { string }
  		scripting.attr.focus.lose =
  			attribute onblur { string }
  	
  	scripting.attr.loading =
  		(	scripting.attr.loading.load?
  		&	scripting.attr.loading.unload?
  		)
  		scripting.attr.loading.load =
  			attribute onload { string }
  		scripting.attr.loading.unload =
  			attribute onunload { string }
-->
<!--
  #####################################################################
  Event Handler Attribute Assignments
-->
<!-- 	body.attrs   &= scripting.attr.loading -->
`;

export const DATA_RNG = `<?xml version="1.0" encoding="UTF-8"?>
<grammar xmlns:a="http://relaxng.org/ns/compatibility/annotations/1.0" xmlns="http://relaxng.org/ns/structure/1.0" datatypeLibrary="">
  <!-- ##################################################################### -->
  <define name="time.elem">
    <a:documentation> RELAX NG Schema for HTML 5: Static Data Markup                    #</a:documentation>
    <!-- ##################################################################### -->
    <a:documentation>Time: &lt;time&gt;</a:documentation>
    <element name="time">
      <interleave>
        <ref name="time.inner"/>
        <ref name="time.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="time.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <ref name="common.attrs.aria"/>
      </optional>
    </interleave>
  </define>
  <define name="time.inner">
    <text/>
  </define>
  <!-- Cannot enforce textContent format here -->
  <define name="common.elem.phrasing" combine="choice">
    <ref name="time.elem"/>
  </define>
  <define name="time.datetime.elem">
    <a:documentation>Time with datetime attribute: &lt;time datetime&gt;</a:documentation>
    <element name="time">
      <interleave>
        <ref name="time.datetime.inner"/>
        <ref name="time.datetime.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="time.datetime.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <ref name="time.attrs.datetime"/>
      <optional>
        <ref name="common.attrs.aria"/>
      </optional>
    </interleave>
  </define>
  <define name="time.attrs.datetime">
    <attribute name="datetime">
      <ref name="common.data.time-datetime"/>
    </attribute>
  </define>
  <define name="time.datetime.inner">
    <ref name="common.inner.phrasing"/>
  </define>
  <define name="common.elem.phrasing" combine="choice">
    <ref name="time.datetime.elem"/>
  </define>
  <define name="data.elem">
    <a:documentation>Data: &lt;data&gt;</a:documentation>
    <element name="data">
      <interleave>
        <ref name="data.inner"/>
        <ref name="data.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="data.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <ref name="data.attrs.value"/>
      <optional>
        <ref name="common.attrs.aria"/>
      </optional>
    </interleave>
  </define>
  <define name="data.attrs.value">
    <attribute name="value">
      <data type="string"/>
    </attribute>
  </define>
  <define name="data.inner">
    <ref name="common.inner.phrasing"/>
  </define>
  <define name="common.elem.phrasing" combine="choice">
    <ref name="data.elem"/>
  </define>
  <define name="meter.elem">
    <a:documentation>Scalar Gauge: &lt;meter&gt;</a:documentation>
    <element name="meter">
      <interleave>
        <ref name="meter.inner"/>
        <ref name="meter.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="meter.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <ref name="meter.attrs.value"/>
      <optional>
        <ref name="meter.attrs.min"/>
      </optional>
      <optional>
        <ref name="aria.prop.valuemin"/>
      </optional>
      <optional>
        <ref name="meter.attrs.low"/>
      </optional>
      <optional>
        <ref name="meter.attrs.high"/>
      </optional>
      <optional>
        <ref name="meter.attrs.max"/>
      </optional>
      <optional>
        <ref name="aria.prop.valuemax"/>
      </optional>
      <optional>
        <ref name="meter.attrs.optimum"/>
      </optional>
    </interleave>
  </define>
  <define name="meter.attrs.value">
    <attribute name="value">
      <ref name="common.data.float"/>
    </attribute>
  </define>
  <define name="meter.attrs.min">
    <attribute name="min">
      <ref name="common.data.float"/>
    </attribute>
  </define>
  <define name="meter.attrs.low">
    <attribute name="low">
      <ref name="common.data.float"/>
    </attribute>
  </define>
  <define name="meter.attrs.high">
    <attribute name="high">
      <ref name="common.data.float"/>
    </attribute>
  </define>
  <define name="meter.attrs.max">
    <attribute name="max">
      <ref name="common.data.float"/>
    </attribute>
  </define>
  <define name="meter.attrs.optimum">
    <attribute name="optimum">
      <ref name="common.data.float"/>
    </attribute>
  </define>
  <define name="meter.inner">
    <ref name="common.inner.phrasing"/>
  </define>
  <!-- Cannot enforce textContent format here -->
  <define name="common.elem.phrasing" combine="choice">
    <ref name="meter.elem"/>
  </define>
</grammar>
`;

export const DATATYPES_RNG = `<?xml version="1.0" encoding="UTF-8"?>
<grammar xmlns="http://relaxng.org/ns/structure/1.0" datatypeLibrary="http://www.w3.org/2001/XMLSchema-datatypes">
  <div xml:id="datatypes-common">
    <define name="datatype.ID">
      <ref name="datatype.ID.lexical"/>
    </define>
    <define name="datatype.IDREF">
      <ref name="datatype.IDREF.lexical"/>
    </define>
    <define name="datatype.IDREFS">
      <ref name="datatype.IDREFS.lexical"/>
    </define>
    <define name="datatype.languagecode">
      <ref name="datatype.BCP47"/>
    </define>
    <!-- http://www.w3.org/TR/xmlschema11-2/#language -->
    <define name="datatype.BCP47">
      <data type="language"/>
    </define>
    <!-- http://www.w3.org/TR/xmlschema11-2/#ID  -->
    <define name="datatype.ID.xsd">
      <data type="ID"/>
    </define>
    <!-- http://www.w3.org/TR/xmlschema11-2/#NCName -->
    <define name="datatype.IDREF.lexical">
      <data type="NCName"/>
    </define>
    <define name="datatype.IDREFS.lexical">
      <list>
        <oneOrMore>
          <ref name="datatype.IDREF.lexical"/>
        </oneOrMore>
      </list>
    </define>
    <define name="datatype.ID.lexical">
      <data type="NCName"/>
    </define>
    <!-- http://www.w3.org/TR/xmlschema11-2/#IDREF -->
    <define name="datatype.IDREF.xsd">
      <data type="IDREF"/>
    </define>
    <!-- http://www.w3.org/TR/xmlschema11-2/#IDREFS -->
    <define name="datatype.IDREFS.xsd">
      <data type="IDREFS"/>
    </define>
    <!-- http://www.w3.org/TR/xmlschema11-2/#NMTOKEN -->
    <define name="datatype.NMTOKEN">
      <data type="NMTOKEN"/>
    </define>
    <!-- http://www.w3.org/TR/xmlschema11-2/#NMTOKENS  -->
    <define name="datatype.NMTOKENS">
      <data type="NMTOKENS"/>
    </define>
    <!-- http://www.w3.org/TR/xmlschema11-2/#string -->
    <define name="datatype.string">
      <data type="string"/>
    </define>
    <define name="datatype.string.nonempty">
      <data type="token">
        <param name="minLength">1</param>
      </data>
    </define>
    <define name="datatype.text">
      <text/>
    </define>
    <!-- http://www.w3.org/TR/xmlschema11-2/#nt-dateRep -->
    <define name="datatype.date">
      <data type="date"/>
    </define>
    <!-- http://www.w3.org/TR/xmlschema11-2/#nt-dateTimeRep -->
    <define name="datatype.dateTime">
      <data type="dateTime"/>
    </define>
    <!-- http://www.w3.org/TR/xmlschema11-2/#nt-timeRep -->
    <define name="datatype.date.or.dateTime">
      <choice>
        <ref name="datatype.date"/>
        <ref name="datatype.dateTime"/>
      </choice>
    </define>
    <define name="datatype.LEIRI">
      <data type="anyURI"/>
    </define>
    <!--
      http://www.w3.org/TR/xmlschema11-2/#anyURI
      http://tools.ietf.org/html/rfc3986#appendix-B
      http://www.w3.org/TR/html5/urls.html#valid-url-potentially-surrounded-by-spaces  
    -->
    <define name="datatype.URI">
      <data type="anyURI"/>
    </define>
    <define name="datatype.URI.absolute">
      <data type="anyURI"/>
    </define>
    <define name="datatype.IRI">
      <ref name="datatype.URI"/>
    </define>
    <define name="datatype.character.encoding">
      <ref name="datatype.iana.charset"/>
    </define>
    <define name="datatype.iana.charset">
      <data type="NMTOKEN"/>
    </define>
    <!--
      http://www.w3.org/TR/html5/infrastructure.html#valid-mime-type
      http://tools.ietf.org/html/rfc4288#section-4.2
      http://tools.ietf.org/html/rfc2616#section-3.7
    -->
    <define name="datatype.mimetype">
      <data type="string">
        <param name="pattern">[a-zA-Z0-9!#$&amp;+\\-\\^_]+/[a-zA-Z0-9!#$&amp;+\\-\\^_]+.*</param>
      </data>
    </define>
    <define name="datatype.mimetype.nocharset">
      <ref name="datatype.mimetype"/>
    </define>
    <!--
      http://www.w3.org/TR/xmlschema11-2/#nonNegativeInteger
      http://www.w3.org/TR/html5/common-microsyntaxes.html#non-negative-integers
    -->
    <define name="datatype.non-negative.integer">
      <data type="nonNegativeInteger"/>
    </define>
    <!-- http://www.w3.org/TR/xmlschema11-2/#positiveInteger -->
    <define name="datatype.positive.integer">
      <data type="positiveInteger"/>
    </define>
    <!-- http://www.w3.org/TR/xmlschema11-2/#integer  -->
    <define name="datatype.integer">
      <data type="integer"/>
    </define>
    <!--
      http://www.w3.org/TR/xmlschema11-2/#nt-floatRep
      http://www.w3.org/TR/html5/common-microsyntaxes.html#real-numbers
    -->
    <define name="datatype.float">
      <data type="float"/>
    </define>
    <define name="datatype.float.positive">
      <data type="float">
        <param name="minExclusive">0</param>
      </data>
    </define>
    <define name="datatype.float.non-negative">
      <data type="float">
        <param name="minInclusive">0</param>
      </data>
    </define>
    <define name="datatype.token">
      <data type="string">
        <param name="pattern">[^\\s]+</param>
      </data>
    </define>
    <define name="datatype.space.separated.tokens">
      <list>
        <zeroOrMore>
          <ref name="datatype.token"/>
        </zeroOrMore>
      </list>
    </define>
  </div>
  <div xml:id="datatypes-smil">
    <!--
      http://www.w3.org/TR/smil/smil-timing.html#TimingSyntax-Full-clock-value
      http://www.w3.org/TR/smil/smil-timing.html#TimingSyntax-Partial-clock-value
      http://www.w3.org/TR/smil/smil-timing.html#TimingSyntax-Timecount-value
    -->
    <define name="datatype.smil.npt">
      <choice>
        <data type="string">
          <param name="pattern">(\\s*)[0-9]+:[0-5][0-9]:[0-5][0-9](\\.[0-9]+)?(\\s*)</param>
        </data>
        <data type="string">
          <param name="pattern">(\\s*)[0-5][0-9]:[0-5][0-9](\\.[0-9]+)?(\\s*)</param>
        </data>
        <data type="string">
          <param name="pattern">(\\s*)[0-9]+(\\.[0-9]+)?(h|min|s|ms)?(\\s*)</param>
        </data>
      </choice>
    </define>
  </div>
  <div xml:id="datatypes-vocab">
    <define name="datatype.property">
      <data type="NMTOKEN"/>
    </define>
    <define name="datatype.properties">
      <data type="NMTOKENS"/>
    </define>
    <define name="datatype.prefixdecl">
      <text/>
    </define>
    <!-- \\s*([\\i-[:]][\\c-[:]]*: +[^ ]+)(\\s+[\\i-[:]][\\c-[:]]*: +[^ ]+)*\\s* -->
  </div>
  <div xml:id="datatypes-ssml">
    <!-- http://www.w3.org/TR/speech-synthesis11/#edef_phoneme -->
    <define name="datatype.ssml.PhoneticExpression">
      <data type="string"/>
    </define>
    <define name="datatype.ssml.PhoneticAlphabet">
      <data type="string">
        <param name="pattern">(ipa|x-.+)</param>
      </data>
    </define>
  </div>
  <div xml:id="datatypes-html5">
    <define name="datatype.html5.browsing.context.name.or.keyword">
      <data type="string">
        <param name="pattern">()|([^_].*)|(_[bB][lL][aA][nN][kK])|(_[sS][eE][lL][fF])|(_[pP][aA][rR][eE][nN][tT])|(_[tT][oO][pP])</param>
      </data>
    </define>
    <define name="datatype.html5.browsing.context.name">
      <data type="string">
        <param name="pattern">()|([^_].*)</param>
      </data>
    </define>
    <define name="datatype.html5.token">
      <data type="string">
        <param name="pattern">[^\\s]+</param>
      </data>
    </define>
    <!-- http://www.w3.org/TR/html5/common-microsyntaxes.html#space-separated-tokens -->
    <define name="datatype.html5.space.separated.tokens">
      <list>
        <zeroOrMore>
          <ref name="datatype.html5.token"/>
        </zeroOrMore>
      </list>
    </define>
    <define name="datatype.html5.ordered.set.unique.tokens">
      <ref name="datatype.html5.space.separated.tokens"/>
    </define>
    <define name="datatype.html5.URL.spaces">
      <ref name="datatype.URI"/>
    </define>
    <!--
      http://dev.w3.org/csswg/css3-mediaqueries/#syntax
      http://www.w3.org/TR/html5/common-microsyntaxes.html#mq
    -->
    <define name="datatype.html5.media.query">
      <data type="string"/>
    </define>
    <define name="datatype.html5.name">
      <data type="string"/>
    </define>
    <define name="datatype.html5.name.reference">
      <data type="string">
        <param name="pattern">#.+</param>
      </data>
    </define>
    <define name="datatype.html5.year">
      <data type="token">
        <param name="pattern">[0-9]{4}</param>
      </data>
    </define>
    <define name="datatype.html5.yearless">
      <data type="token">
        <param name="pattern">(--)?(0[0-9]|1[0-2])-(0[0-9]|[1-2][0-9]|3[0-1])</param>
      </data>
    </define>
    <define name="datatype.html5.duration">
      <data type="token">
        <param name="pattern">(((P[0-9]+D)|(P([0-9]+D)?T((([0-9]+H)([0-9]+M)?([0-9]+(\\.[0-9]{1,3})?S)?)|(([0-9]+H)?([0-9]+M)([0-9]+(\\.[0-9]{1,3})?S)?)|(([0-9]+H)?([0-9]+M)?([0-9]+(\\.[0-9]{1,3})?S)))))|( *(([0-9]+ *[WDHM])|([0-9]+(\\.[0-9]{1,3})? *S)) *)+)</param>
      </data>
    </define>
    <!-- http://www.w3.org/TR/html5/common-microsyntaxes.html#months -->
    <define name="datatype.html5.month">
      <data type="token">
        <param name="pattern">([0-9]{4,})-([0-9]{2})</param>
      </data>
    </define>
    <!-- http://www.w3.org/TR/html5/common-microsyntaxes.html#dates -->
    <define name="datatype.html5.date">
      <data type="token">
        <param name="pattern">([0-9]{4,})-([0-9]{2})-([0-9]{2})</param>
      </data>
    </define>
    <!-- http://www.w3.org/TR/html5/common-microsyntaxes.html#times -->
    <define name="datatype.html5.time">
      <data type="token">
        <param name="pattern">([0-9]{2}):([0-9]{2})(:[0-9]{2}(\\.[0-9]{1,3})?)?</param>
      </data>
    </define>
    <!-- http://www.w3.org/TR/html5/common-microsyntaxes.html#local-dates-and-times -->
    <define name="datatype.html5.datetime.local">
      <data type="token">
        <param name="pattern">([0-9]{4,})-([0-9]{2})-([0-9]{2})([T ])([0-9]{2}):([0-9]{2})(:[0-9]{2}(\\.[0-9]{1,3})?)?</param>
      </data>
    </define>
    <!-- http://www.w3.org/TR/html5/common-microsyntaxes.html#global-dates-and-times -->
    <define name="datatype.html5.datetime.global">
      <data type="token">
        <param name="pattern">([0-9]{4,})-([0-9]{2})-([0-9]{2})([T ])([0-9]{2}):([0-9]{2})(:[0-9]{2}(\\.[0-9]{1,3})?)?(Z|((\\+|-)([0-9]{2}):?([0-9]{2})))?</param>
      </data>
    </define>
    <define name="datatype.html5.datetime">
      <ref name="datatype.html5.datetime.global"/>
    </define>
    <!-- http://www.w3.org/TR/html5/common-microsyntaxes.html#vaguer-moments-in-time -->
    <define name="datatype.html5.date.or.time">
      <choice>
        <ref name="datatype.html5.year"/>
        <ref name="datatype.html5.yearless"/>
        <ref name="datatype.html5.week"/>
        <ref name="datatype.html5.date"/>
        <ref name="datatype.html5.month"/>
        <ref name="datatype.html5.time"/>
        <ref name="datatype.html5.datetime.global"/>
        <ref name="datatype.html5.duration"/>
      </choice>
    </define>
    <!-- http://www.w3.org/TR/html5/common-microsyntaxes.html#vaguer-moments-in-time -->
    <define name="datatype.html5.date.optional.time">
      <choice>
        <ref name="datatype.html5.date"/>
        <ref name="datatype.html5.datetime.global"/>
      </choice>
    </define>
    <define name="datatype.html5.week">
      <data type="token">
        <param name="pattern">([0-9]{4,})-W([0-9]{2})</param>
      </data>
    </define>
    <define name="datatype.html5.accesskey">
      <ref name="datatype.html5.ordered.set.unique.tokens"/>
    </define>
    <define name="datatype.html5.coords.rectangle">
      <data type="token">
        <param name="pattern">-?[0-9]+,-?[0-9]+,-?[0-9]+,-?[0-9]+</param>
      </data>
    </define>
    <define name="datatype.html5.coords.circle">
      <data type="token">
        <param name="pattern">-?[0-9]+,-?[0-9]+,[0-9]+</param>
      </data>
    </define>
    <define name="datatype.html5.coords.poly">
      <data type="token">
        <param name="pattern">-?[0-9]+,-?[0-9]+,-?[0-9]+,-?[0-9]+,-?[0-9]+,-?[0-9]+(,-?[0-9]+,-?[0-9]+)*</param>
      </data>
    </define>
    <define name="datatype.html5.js">
      <data type="string"/>
    </define>
    <define name="datatype.html5.script">
      <data type="string"/>
    </define>
    <define name="datatype.html5.script.documentation">
      <data type="string"/>
    </define>
    <define name="datatype.html5.iframe.srcdoc.xml">
      <data type="string"/>
    </define>
    <define name="datatype.style">
      <data type="string"/>
    </define>
    <define name="datatype.html5.sizes">
      <list>
        <oneOrMore>
          <data type="string">
            <param name="pattern">[1-9][0-9]*x[1-9][0-9]*</param>
          </data>
        </oneOrMore>
      </list>
    </define>
    <define name="datatype.html5.emailaddress">
      <data type="string">
        <param name="pattern">[^@]+@[^@]+</param>
      </data>
    </define>
    <define name="datatype.html5.emailaddresslist">
      <data type="string">
        <param name="pattern">([^@]+@[^@]+,)*([^@]+@[^@]+)</param>
      </data>
    </define>
    <!-- http://www.w3.org/TR/html5/common-microsyntaxes.html#colors -->
    <define name="datatype.html5.color">
      <data type="string">
        <param name="pattern">#([A-Fa-f0-9]{6})</param>
      </data>
    </define>
  </div>
  <div xml:id="datatypes-html5forms">
    <define name="datatype.html5.forms.mimetypelist">
      <data type="string"/>
    </define>
    <!-- http://www.w3.org/TR/html5/forms.html#attr-form-accept-charset -->
    <define name="datatype.html5.forms.charsetlist">
      <list>
        <oneOrMore>
          <ref name="datatype.character.encoding"/>
        </oneOrMore>
      </list>
    </define>
    <define name="datatype.html5.forms.pattern">
      <data type="string"/>
    </define>
    <define name="datatype.html5.forms.string.nolinebreaks">
      <data type="string"/>
    </define>
  </div>
</grammar>
`;

export const EMBED_RNG = `<?xml version="1.0" encoding="UTF-8"?>
<grammar xmlns:a="http://relaxng.org/ns/compatibility/annotations/1.0" xmlns="http://relaxng.org/ns/structure/1.0" datatypeLibrary="">
  <!-- ##################################################################### -->
  <define name="shared-img.attrs">
    <a:documentation> RELAX NG Schema for HTML 5: Embedded Content                      #</a:documentation>
    <!-- ##################################################################### -->
    <a:documentation>
Replaced Content</a:documentation>
    <a:documentation>Images: &lt;img&gt;</a:documentation>
    <interleave>
      <ref name="common.attrs"/>
      <ref name="img.attrs.src"/>
      <optional>
        <ref name="img.attrs.srcset"/>
      </optional>
      <optional>
        <ref name="img.attrs.sizes"/>
      </optional>
      <optional>
        <ref name="img.attrs.generator-unable-to-provide-required-alt"/>
      </optional>
      <optional>
        <ref name="img.attrs.height"/>
      </optional>
      <optional>
        <ref name="img.attrs.width"/>
      </optional>
      <optional>
        <ref name="img.attrs.usemap"/>
      </optional>
      <optional>
        <ref name="img.attrs.ismap"/>
      </optional>
      <optional>
        <ref name="img.attrs.decoding"/>
      </optional>
      <optional>
        <ref name="img.attrs.loading"/>
      </optional>
      <optional>
        <ref name="common.attrs.fetchpriority"/>
      </optional>
      <optional>
        <ref name="img.attrs.border"/>
      </optional>
      <optional>
        <!-- obsolete -->
        <ref name="referrerpolicy"/>
      </optional>
      <optional>
        <ref name="embedded.content.attrs.crossorigin"/>
      </optional>
    </interleave>
  </define>
  <define name="img.elem">
    <element name="img">
      <interleave>
        <ref name="img.inner"/>
        <ref name="img.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="img.attrs">
    <interleave>
      <ref name="shared-img.attrs"/>
      <optional>
        <ref name="img.attrs.alt"/>
      </optional>
      <optional>
        <choice>
          <ref name="common.attrs.aria.implicit.img"/>
          <ref name="common.attrs.aria.role.button"/>
          <ref name="common.attrs.aria.role.checkbox"/>
          <ref name="common.attrs.aria.role.img"/>
          <ref name="common.attrs.aria.role.link"/>
          <ref name="common.attrs.aria.role.math"/>
          <ref name="common.attrs.aria.role.menuitem"/>
          <ref name="common.attrs.aria.role.menuitemcheckbox"/>
          <ref name="common.attrs.aria.role.menuitemradio"/>
          <ref name="common.attrs.aria.role.none"/>
          <ref name="common.attrs.aria.role.option"/>
          <ref name="common.attrs.aria.role.presentation"/>
          <ref name="common.attrs.aria.role.progressbar"/>
          <ref name="common.attrs.aria.role.radio"/>
          <ref name="common.attrs.aria.role.scrollbar"/>
          <ref name="common.attrs.aria.role.separator"/>
          <ref name="common.attrs.aria.role.slider"/>
          <ref name="common.attrs.aria.role.switch"/>
          <ref name="common.attrs.aria.role.tab"/>
          <ref name="common.attrs.aria.role.treeitem"/>
          <ref name="common.attrs.aria.role.doc-cover"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="img.attrs.src">
    <attribute name="src">
      <ref name="common.data.uri.non-empty"/>
    </attribute>
  </define>
  <define name="img.attrs.srcset">
    <interleave>
      <attribute name="srcset">
        <data type="string"/>
      </attribute>
      <ref name="v5only"/>
    </interleave>
  </define>
  <define name="img.attrs.sizes">
    <interleave>
      <attribute name="sizes">
        <ref name="common.data.source.size.list"/>
      </attribute>
      <ref name="v5only"/>
    </interleave>
  </define>
  <define name="img.attrs.alt">
    <attribute name="alt"/>
  </define>
  <define name="img.attrs.generator-unable-to-provide-required-alt">
    <attribute name="generator-unable-to-provide-required-alt">
      <value type="string"/>
    </attribute>
  </define>
  <define name="img.attrs.height">
    <attribute name="height">
      <ref name="common.data.integer.non-negative"/>
    </attribute>
  </define>
  <define name="img.attrs.width">
    <attribute name="width">
      <ref name="common.data.integer.non-negative"/>
    </attribute>
  </define>
  <define name="img.attrs.usemap">
    <attribute name="usemap">
      <ref name="common.data.hash-name"/>
    </attribute>
  </define>
  <define name="img.attrs.ismap">
    <attribute name="ismap">
      <choice>
        <value>ismap</value>
        <value/>
      </choice>
    </attribute>
  </define>
  <define name="img.attrs.decoding">
    <attribute name="decoding">
      <choice>
        <value type="string">sync</value>
        <value type="string">async</value>
        <value type="string">auto</value>
      </choice>
    </attribute>
  </define>
  <define name="img.attrs.loading">
    <attribute name="loading">
      <choice>
        <value type="string">lazy</value>
        <value type="string">eager</value>
      </choice>
    </attribute>
  </define>
  <define name="img.attrs.border">
    <attribute name="border">
      <ref name="common.data.zero"/>
    </attribute>
  </define>
  <define name="img.inner">
    <empty/>
  </define>
  <define name="common.elem.phrasing" combine="choice">
    <ref name="img.elem"/>
  </define>
  <define name="picture.elem">
    <a:documentation>Image with multiple sources: &lt;picture&gt;</a:documentation>
    <interleave>
      <element name="picture">
        <interleave>
          <ref name="picture.inner"/>
          <ref name="picture.attrs"/>
        </interleave>
      </element>
      <ref name="v5only"/>
    </interleave>
  </define>
  <define name="picture.attrs">
    <ref name="common.attrs"/>
  </define>
  <define name="picture.inner">
    <interleave>
      <zeroOrMore>
        <ref name="source.picture.elem"/>
      </zeroOrMore>
      <zeroOrMore>
        <ref name="common.elem.script-supporting"/>
      </zeroOrMore>
    </interleave>
    <interleave>
      <ref name="img.elem"/>
      <zeroOrMore>
        <ref name="common.elem.script-supporting"/>
      </zeroOrMore>
    </interleave>
  </define>
  <define name="common.elem.phrasing" combine="choice">
    <ref name="picture.elem"/>
  </define>
  <define name="source.picture.elem">
    <a:documentation>Picture source: &lt;source srcset&gt;</a:documentation>
    <element name="source">
      <interleave>
        <ref name="source.picture.inner"/>
        <ref name="source.picture.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="source.picture.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <ref name="source.picture.attrs.media"/>
      </optional>
      <ref name="source.picture.attrs.srcset"/>
      <optional>
        <ref name="source.picture.attrs.sizes"/>
      </optional>
      <optional>
        <ref name="source.picture.attrs.type"/>
      </optional>
      <optional>
        <ref name="source.picture.attrs.width"/>
      </optional>
      <optional>
        <ref name="source.picture.attrs.height"/>
      </optional>
    </interleave>
  </define>
  <define name="source.picture.attrs.media">
    <attribute name="media">
      <ref name="common.data.mediaquery"/>
    </attribute>
  </define>
  <define name="source.picture.attrs.srcset">
    <attribute name="srcset">
      <data type="string"/>
    </attribute>
  </define>
  <define name="source.picture.attrs.sizes">
    <attribute name="sizes">
      <ref name="common.data.source.size.list"/>
    </attribute>
  </define>
  <define name="source.picture.attrs.type">
    <attribute name="type">
      <ref name="common.data.mimetype"/>
    </attribute>
  </define>
  <define name="source.picture.attrs.width">
    <attribute name="width">
      <ref name="common.data.integer.non-negative"/>
    </attribute>
  </define>
  <define name="source.picture.attrs.height">
    <attribute name="height">
      <ref name="common.data.integer.non-negative"/>
    </attribute>
  </define>
  <define name="source.picture.inner">
    <empty/>
  </define>
  <define name="embed.elem">
    <a:documentation>Plug-ins: &lt;embed&gt;</a:documentation>
    <element name="embed">
      <interleave>
        <ref name="embed.inner"/>
        <ref name="embed.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="embed.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <ref name="embed.attrs.src"/>
      </optional>
      <optional>
        <ref name="embed.attrs.type"/>
      </optional>
      <optional>
        <ref name="embed.attrs.height"/>
      </optional>
      <optional>
        <ref name="embed.attrs.width"/>
      </optional>
      <zeroOrMore>
        <ref name="embed.attrs.other"/>
      </zeroOrMore>
      <optional>
        <choice>
          <ref name="common.attrs.aria.role.application"/>
          <ref name="common.attrs.aria.landmark.document"/>
          <ref name="common.attrs.aria.role.img"/>
          <ref name="common.attrs.aria.role.presentation"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="embed.attrs.src">
    <attribute name="src">
      <ref name="common.data.uri.non-empty"/>
    </attribute>
  </define>
  <define name="embed.attrs.type">
    <attribute name="type">
      <ref name="common.data.mimetype"/>
    </attribute>
  </define>
  <define name="embed.attrs.height">
    <attribute name="height">
      <ref name="common.data.integer.non-negative"/>
    </attribute>
  </define>
  <define name="embed.attrs.width">
    <attribute name="width">
      <ref name="common.data.integer.non-negative"/>
    </attribute>
  </define>
  <define name="embed.attrs.other">
    <!-- REVISIT common.attrs -->
    <attribute>
      <nsName ns="">
        <except>
          <name>src</name>
          <name>type</name>
          <name>height</name>
          <name>width</name>
          <name>id</name>
          <name>is</name>
          <name>slot</name>
          <name>class</name>
          <name>title</name>
          <name>dir</name>
          <name>lang</name>
          <name>translate</name>
          <name>style</name>
          <name>tabindex</name>
          <name>autofocus</name>
          <name>inert</name>
          <name>contenteditable</name>
          <name>draggable</name>
          <name>hidden</name>
          <name>popover</name>
          <name>inputmode</name>
          <name>nonce</name>
          <name>onauxclick</name>
          <name>onbeforeinput</name>
          <name>onbeforematch</name>
          <name>onblur</name>
          <name>oncancel</name>
          <name>oncanplay</name>
          <name>oncanplaythrough</name>
          <name>onchange</name>
          <name>onclick</name>
          <name>onclose</name>
          <name>oncontextlost</name>
          <name>oncontextmenu</name>
          <name>oncontextrestored</name>
          <name>oncopy</name>
          <name>oncuechange</name>
          <name>oncut</name>
          <name>ondblclick</name>
          <name>ondrag</name>
          <name>ondragend</name>
          <name>ondragenter</name>
          <name>ondragleave</name>
          <name>ondragover</name>
          <name>ondragstart</name>
          <name>ondrop</name>
          <name>ondurationchange</name>
          <name>onemptied</name>
          <name>onended</name>
          <name>onerror</name>
          <name>onfocus</name>
          <name>onformdata</name>
          <name>oninput</name>
          <name>oninvalid</name>
          <name>onkeydown</name>
          <name>onkeypress</name>
          <name>onkeyup</name>
          <name>onload</name>
          <name>onloadeddata</name>
          <name>onloadedmetadata</name>
          <name>onloadstart</name>
          <name>onmousedown</name>
          <name>onmouseenter</name>
          <name>onmouseleave</name>
          <name>onmousemove</name>
          <name>onmouseout</name>
          <name>onmouseover</name>
          <name>onmouseup</name>
          <name>onpaste</name>
          <name>onpause</name>
          <name>onplay</name>
          <name>onplaying</name>
          <name>onprogress</name>
          <name>onratechange</name>
          <name>onreset</name>
          <name>onresize</name>
          <name>onscroll</name>
          <name>onscrollend</name>
          <name>onsecuritypolicyviolation</name>
          <name>onseeked</name>
          <name>onseeking</name>
          <name>onselect</name>
          <name>onslotchange</name>
          <name>onstalled</name>
          <name>onsubmit</name>
          <name>onsuspend</name>
          <name>ontimeupdate</name>
          <name>ontoggle</name>
          <name>onvolumechange</name>
          <name>onwaiting</name>
          <name>onwheel</name>
          <name>onpointerover</name>
          <name>onpointerenter</name>
          <name>onpointerdown</name>
          <name>onpointermove</name>
          <name>onpointerrawupdate</name>
          <name>onpointerup</name>
          <name>onpointercancel</name>
          <name>onpointerout</name>
          <name>onpointerleave</name>
          <name>ongotpointercapture</name>
          <name>onlostpointercapture</name>
          <name>role</name>
          <name>aria-atomic</name>
          <name>aria-busy</name>
          <name>aria-controls</name>
          <name>aria-current</name>
          <name>aria-details</name>
          <name>aria-describedby</name>
          <name>aria-description</name>
          <name>aria-disabled</name>
          <name>aria-dropeffect</name>
          <name>aria-errormessage</name>
          <name>aria-expanded</name>
          <name>aria-flowto</name>
          <name>aria-grabbed</name>
          <name>aria-haspopup</name>
          <name>aria-hidden</name>
          <name>aria-invalid</name>
          <name>aria-keyshortcuts</name>
          <name>aria-label</name>
          <name>aria-labelledby</name>
          <name>aria-live</name>
          <name>aria-owns</name>
          <name>aria-relevant</name>
          <name>aria-required</name>
          <name>aria-roledescription</name>
          <name>spellcheck</name>
          <name>autocapitalize</name>
          <name>enterkeyhint</name>
          <name>accesskey</name>
          <name>itemref</name>
          <name>itemprop</name>
          <name>itemscope</name>
          <name>itemtype</name>
          <name>itemid</name>
          <name>name</name>
          <name>align</name>
          <name>hspace</name>
          <name>vspace</name>
          <name>about</name>
          <name>prefix</name>
          <name>property</name>
          <name>typeof</name>
          <name>vocab</name>
          <name>content</name>
          <name>datatype</name>
          <name>href</name>
          <name>rel</name>
          <name>resource</name>
          <name>rev</name>
          <name>inlist</name>
          <name>its-loc-note</name>
          <name>its-loc-note-type</name>
          <name>its-loc-note-ref</name>
          <name>its-term-info-ref</name>
          <name>its-term</name>
          <name>its-term-confidence</name>
          <name>its-within-text</name>
          <name>its-domain-mapping</name>
          <name>its-ta-confidence</name>
          <name>its-ta-class-ref</name>
          <name>its-ta-ident</name>
          <name>its-ta-ident-ref</name>
          <name>its-ta-source</name>
          <name>its-locale-filter-list</name>
          <name>its-locale-filter-type</name>
          <name>its-person</name>
          <name>its-person-ref</name>
          <name>its-org</name>
          <name>its-org-ref</name>
          <name>its-tool</name>
          <name>its-tool-ref</name>
          <name>its-rev-person</name>
          <name>its-rev-person-ref</name>
          <name>its-rev-org</name>
          <name>its-rev-org-ref</name>
          <name>its-rev-tool</name>
          <name>its-rev-tool-ref</name>
          <name>its-prov-ref</name>
          <name>its-provenance-records-ref</name>
          <name>its-loc-quality-issues-ref</name>
          <name>its-loc-quality-issue-type</name>
          <name>its-loc-quality-issue-comment</name>
          <name>its-loc-quality-issue-severity</name>
          <name>its-loc-quality-issue-profile-ref</name>
          <name>its-loc-quality-issue-enabled</name>
          <name>its-loc-quality-rating-score</name>
          <name>its-loc-quality-rating-vote</name>
          <name>its-loc-quality-rating-score-threshold</name>
          <name>its-loc-quality-rating-vote-threshold</name>
          <name>its-loc-quality-rating-profile-ref</name>
          <name>its-mt-confidence</name>
          <name>its-allowed-characters</name>
          <name>its-storage-size</name>
          <name>its-storage-encoding</name>
          <name>its-line-break-type</name>
          <name>its-annotators-ref</name>
        </except>
      </nsName>
      <data type="string"/>
    </attribute>
  </define>
  <define name="embed.inner">
    <empty/>
  </define>
  <define name="common.elem.phrasing" combine="choice">
    <ref name="embed.elem"/>
  </define>
  <define name="object.elem.flow">
    <a:documentation>Generic Objects: &lt;object&gt;</a:documentation>
    <element name="object">
      <interleave>
        <ref name="object.inner.flow"/>
        <ref name="object.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="object.elem.phrasing">
    <element name="object">
      <interleave>
        <ref name="object.inner.phrasing"/>
        <ref name="object.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="object.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <choice>
        <interleave>
          <ref name="object.attrs.data"/>
          <optional>
            <ref name="object.attrs.type"/>
          </optional>
        </interleave>
        <ref name="object.attrs.type"/>
      </choice>
      <optional>
        <!--
          		&	object.attrs.classid?
          		&	object.attrs.codebase?
          		&	object.attrs.codetype?
        -->
        <ref name="object.attrs.height"/>
      </optional>
      <optional>
        <ref name="object.attrs.width"/>
      </optional>
      <optional>
        <ref name="object.attrs.usemap"/>
      </optional>
      <optional>
        <ref name="object.attrs.name"/>
      </optional>
      <optional>
        <ref name="common-form.attrs.form"/>
      </optional>
      <optional>
        <choice>
          <ref name="common.attrs.aria.role.application"/>
          <ref name="common.attrs.aria.landmark.document"/>
          <ref name="common.attrs.aria.role.img"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="object.attrs.data">
    <attribute name="data">
      <ref name="common.data.uri.non-empty"/>
    </attribute>
  </define>
  <define name="object.attrs.type">
    <attribute name="type">
      <ref name="common.data.mimetype"/>
    </attribute>
  </define>
  <define name="object.attrs.height">
    <attribute name="height">
      <ref name="common.data.integer.non-negative"/>
    </attribute>
  </define>
  <define name="object.attrs.width">
    <attribute name="width">
      <ref name="common.data.integer.non-negative"/>
    </attribute>
  </define>
  <define name="object.attrs.usemap">
    <attribute name="usemap">
      <ref name="common.data.hash-name"/>
    </attribute>
  </define>
  <define name="object.attrs.name">
    <attribute name="name">
      <ref name="common.data.browsing-context"/>
    </attribute>
  </define>
  <define name="object.inner.flow">
    <zeroOrMore>
      <ref name="param.elem"/>
    </zeroOrMore>
    <ref name="common.inner.transparent.flow"/>
  </define>
  <define name="object.inner.phrasing">
    <zeroOrMore>
      <ref name="param.elem"/>
    </zeroOrMore>
    <ref name="common.inner.phrasing"/>
  </define>
  <define name="common.elem.flow" combine="choice">
    <ref name="object.elem.flow"/>
  </define>
  <define name="common.elem.phrasing" combine="choice">
    <ref name="object.elem.phrasing"/>
  </define>
  <define name="param.elem">
    <a:documentation>Initialization Parameters: &lt;param&gt;</a:documentation>
    <element name="param">
      <interleave>
        <ref name="param.inner"/>
        <ref name="param.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="param.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <ref name="param.attrs.name"/>
      <ref name="param.attrs.value"/>
    </interleave>
  </define>
  <define name="param.attrs.name">
    <attribute name="name">
      <data type="string"/>
    </attribute>
  </define>
  <define name="param.attrs.value">
    <attribute name="value">
      <data type="string"/>
    </attribute>
  </define>
  <define name="param.inner">
    <empty/>
  </define>
  <define name="iframe.elem">
    <a:documentation>Inline Frame: &lt;iframe&gt;</a:documentation>
    <element name="iframe">
      <interleave>
        <ref name="iframe.inner"/>
        <ref name="iframe.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="iframe.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <ref name="iframe.attrs.src"/>
      </optional>
      <optional>
        <ref name="iframe.attrs.srcdoc"/>
      </optional>
      <optional>
        <ref name="iframe.attrs.name"/>
      </optional>
      <optional>
        <ref name="iframe.attrs.width"/>
      </optional>
      <optional>
        <ref name="iframe.attrs.height"/>
      </optional>
      <optional>
        <ref name="iframe.attrs.loading"/>
      </optional>
      <optional>
        <ref name="iframe.attrs.sandbox"/>
      </optional>
      <optional>
        <ref name="iframe.attrs.allowfullscreen"/>
      </optional>
      <optional>
        <ref name="iframe.attrs.allow"/>
      </optional>
      <optional>
        <ref name="referrerpolicy"/>
      </optional>
      <optional>
        <choice>
          <ref name="common.attrs.aria.role.application"/>
          <ref name="common.attrs.aria.landmark.document"/>
          <ref name="common.attrs.aria.role.img"/>
          <ref name="common.attrs.aria.role.presentation"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="iframe.attrs.src">
    <attribute name="src">
      <ref name="common.data.uri.non-empty"/>
    </attribute>
  </define>
  <define name="iframe.attrs.srcdoc">
    <attribute name="srcdoc">
      <data type="string"/>
      <!-- FIXME -->
    </attribute>
  </define>
  <define name="iframe.attrs.name">
    <attribute name="name">
      <ref name="common.data.browsing-context"/>
    </attribute>
  </define>
  <define name="iframe.attrs.height">
    <attribute name="height">
      <ref name="common.data.integer.non-negative"/>
    </attribute>
  </define>
  <define name="iframe.attrs.loading">
    <attribute name="loading">
      <choice>
        <value>lazy</value>
        <value>eager</value>
      </choice>
    </attribute>
  </define>
  <define name="iframe.attrs.width">
    <attribute name="width">
      <ref name="common.data.integer.non-negative"/>
    </attribute>
  </define>
  <define name="iframe.attrs.sandbox">
    <interleave>
      <attribute name="sandbox">
        <ref name="common.data.sandbox-allow-list"/>
      </attribute>
      <ref name="v5only"/>
    </interleave>
  </define>
  <define name="iframe.attrs.allowfullscreen">
    <interleave>
      <attribute name="allowfullscreen">
        <choice>
          <value>allowfullscreen</value>
          <value/>
        </choice>
      </attribute>
      <ref name="v5only"/>
    </interleave>
  </define>
  <define name="iframe.attrs.allow">
    <attribute name="allow">
      <ref name="common.data.feature-policy"/>
    </attribute>
  </define>
  <define name="iframe.inner">
    <empty/>
  </define>
  <define name="common.elem.phrasing" combine="choice">
    <ref name="iframe.elem"/>
  </define>
  <define name="map.elem.flow">
    <a:documentation>
Image Maps</a:documentation>
    <a:documentation>Map Definition: &lt;map&gt;</a:documentation>
    <element name="map">
      <interleave>
        <ref name="map.inner.flow"/>
        <ref name="map.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="map.elem.phrasing">
    <element name="map">
      <interleave>
        <ref name="map.inner.phrasing"/>
        <ref name="map.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="map.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <ref name="map.attrs.name"/>
    </interleave>
  </define>
  <!-- REVISIT make id required in Schematron -->
  <define name="map.attrs.name">
    <attribute name="name">
      <ref name="common.data.name"/>
    </attribute>
  </define>
  <define name="map.inner.flow">
    <ref name="common.inner.transparent.flow"/>
  </define>
  <define name="map.inner.phrasing">
    <ref name="common.inner.phrasing"/>
  </define>
  <define name="common.elem.flow" combine="choice">
    <ref name="map.elem.flow"/>
  </define>
  <define name="common.elem.phrasing" combine="choice">
    <ref name="map.elem.phrasing"/>
  </define>
  <define name="area.elem">
    <a:documentation>Map Area Definition: &lt;area&gt;</a:documentation>
    <element name="area">
      <interleave>
        <ref name="area.inner"/>
        <ref name="area.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="area.attrs">
    <interleave>
      <ref name="common.attrs.basic"/>
      <ref name="common.attrs.i18n"/>
      <ref name="common.attrs.present"/>
      <ref name="common.attrs.other"/>
      <optional>
        <ref name="shared-hyperlink.attrs.download"/>
      </optional>
      <optional>
        <interleave>
          <ref name="area.attrs.alt"/>
          <ref name="shared-hyperlink.attrs.href"/>
        </interleave>
      </optional>
      <optional>
        <ref name="shared-hyperlink.attrs.target"/>
      </optional>
      <optional>
        <ref name="shared-hyperlink.attrs.ping"/>
      </optional>
      <optional>
        <ref name="shared-hyperlink.attrs.rel"/>
      </optional>
      <optional>
        <ref name="shared-hyperlink.attrs.hreflang"/>
      </optional>
      <optional>
        <ref name="shared-hyperlink.attrs.type"/>
      </optional>
      <optional>
        <ref name="area.attrs.shape"/>
      </optional>
      <optional>
        <choice>
          <ref name="common.attrs.aria.role.link"/>
          <ref name="common.attrs.aria.role.button"/>
          <ref name="common.attrs.aria.implicit.link"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="area.attrs.alt">
    <attribute name="alt"/>
  </define>
  <define name="area.attrs.shape">
    <choice>
      <interleave>
        <optional>
          <ref name="area.attrs.shape.rect"/>
        </optional>
        <ref name="area.attrs.coords.rect"/>
      </interleave>
      <interleave>
        <ref name="area.attrs.shape.circle"/>
        <ref name="area.attrs.coords.circle"/>
      </interleave>
      <interleave>
        <ref name="area.attrs.shape.poly"/>
        <ref name="area.attrs.coords.poly"/>
      </interleave>
      <ref name="area.attrs.shape.default"/>
    </choice>
  </define>
  <define name="area.attrs.shape.rect">
    <attribute name="shape">
      <value>rect</value>
    </attribute>
  </define>
  <define name="area.attrs.coords.rect">
    <attribute name="coords">
      <ref name="datatype.html5.coords.rectangle"/>
      <!--
        				xsd:token {
        					pattern = "-?[0-9]+,-?[0-9]+,-?[0-9]+,-?[0-9]+"
        				}
      -->
    </attribute>
  </define>
  <define name="area.attrs.shape.circle">
    <attribute name="shape">
      <value>circle</value>
    </attribute>
  </define>
  <define name="area.attrs.coords.circle">
    <attribute name="coords">
      <ref name="datatype.html5.coords.circle"/>
      <!--
        				xsd:token {
        					pattern = "-?[0-9]+,-?[0-9]+,[0-9]+"
        				}
      -->
    </attribute>
  </define>
  <define name="area.attrs.shape.poly">
    <attribute name="shape">
      <value>poly</value>
    </attribute>
  </define>
  <define name="area.attrs.coords.poly">
    <attribute name="coords">
      <ref name="datatype.html5.coords.poly"/>
      <!--
        				xsd:token {
        					pattern = "-?[0-9]+,-?[0-9]+,-?[0-9]+,-?[0-9]+,-?[0-9]+,-?[0-9]+(,-?[0-9]+,-?[0-9]+)*"
        				}
      -->
    </attribute>
  </define>
  <define name="area.attrs.shape.default">
    <attribute name="shape">
      <value>default</value>
    </attribute>
  </define>
  <define name="area.inner">
    <empty/>
  </define>
  <define name="common.elem.phrasing" combine="choice">
    <ref name="area.elem"/>
  </define>
  <define name="embedded.content.attrs.crossorigin">
    <a:documentation>Attributes Common to Embedded Content</a:documentation>
    <interleave>
      <attribute name="crossorigin">
        <choice>
          <value>anonymous</value>
          <value>use-credentials</value>
          <value/>
        </choice>
      </attribute>
      <ref name="v5only"/>
    </interleave>
  </define>
</grammar>
`;

export const EPUB_MATHML3_INC_RNG = `<?xml version="1.0" encoding="UTF-8"?>
<grammar ns="http://www.w3.org/1998/Math/MathML" xmlns="http://relaxng.org/ns/structure/1.0" datatypeLibrary="http://www.w3.org/2001/XMLSchema-datatypes">
  <!--
    #####################################################################
    
     MathML validation based on the schemas from the Nu Html Checker,
     with the following changes:
       - Content MathML is only allowed in annotation-xml
       - annotation-xml follows the restrictions defined in
         EPUB Content Documents
       - EPUB SSML attributes are allowed
    
    #####################################################################
  -->
  <include href="mathml3-inc.rng">
    <!-- extend to circumvent datatype collisions -->
    <define name="NonMathMLAtt">
      <attribute>
        <anyName>
          <except>
            <nsName ns=""/>
            <nsName/>
            <nsName ns="http://www.w3.org/XML/1998/namespace"/>
            <nsName ns="http://www.w3.org/1999/xhtml"/>
            <nsName ns="http://www.w3.org/2001/xml-events"/>
            <nsName ns="http://www.w3.org/2001/10/synthesis"/>
            <nsName ns="http://www.idpf.org/2007/ops"/>
          </except>
        </anyName>
        <ref name="datatype.string"/>
      </attribute>
    </define>
    <!-- as ops allows presentation mathml only at top level, kill the contribution to MathExpression -->
    <define name="MathExpression">
      <choice>
        <ref name="semantics"/>
        <ref name="PresentationExpression"/>
      </choice>
    </define>
    <!-- override annotation-xml with EPUB restrictions -->
    <define name="annotation-xml">
      <ref name="epub.annotation-xml"/>
    </define>
  </include>
  <!--
    Common attribute extensions
    - epub:type
  -->
  <define name="CommonAtt" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <!-- - SSML attributes -->
  <define name="CommonAtt" combine="interleave">
    <optional>
      <ref name="epub.ssml.ph.attr"/>
    </optional>
  </define>
  <!-- - xml:base -->
  <define name="CommonAtt" combine="interleave">
    <optional>
      <ref name="common.attrs.xmlbase"/>
    </optional>
  </define>
  <!-- - ARIA -->
  <define name="CommonAtt" combine="interleave">
    <optional>
      <ref name="aria.global"/>
    </optional>
  </define>
  <define name="annotation-xml.model.xhtml" combine="choice">
    <ref name="common.inner.flow"/>
  </define>
  <define name="annotation-xml.model.svg" combine="choice">
    <ref name="svg"/>
  </define>
  <!--
    The following comes from validator.nus xhtml5-svg-mathml.rnc driver:
    in our integration, <mtext> is the only MathML "token element" that can
    contain HTML element content; the <mi>, <mn>, <mo> and <ms> elements
    cannot; see http://www.w3.org/Bugs/Public/show_bug.cgi?id=9859#c8 for a
    rationale
  -->
  <define name="mtext.content" combine="choice">
    <ref name="common.elem.phrasing"/>
  </define>
  <!-- EPUB very specific annotation-xml restrictions: -->
  <define name="epub.annotation-xml">
    <choice>
      <ref name="annotation-xml.xhtml"/>
      <ref name="annotation-xml.svg"/>
      <ref name="epub.annotation-xml.mathml.content"/>
      <ref name="epub.annotation-xml.mathml.presentation"/>
    </choice>
  </define>
  <define name="epub.annotation-xml.attributes">
    <ref name="CommonAtt"/>
    <optional>
      <ref name="cd"/>
    </optional>
    <optional>
      <ref name="src"/>
    </optional>
  </define>
  <define name="epub.annotation-xml.mathml.content">
    <element name="annotation-xml">
      <ref name="epub.annotation-xml.model.mathml.content"/>
      <ref name="epub.annotation-xml.attributes"/>
      <ref name="epub.att-encoding.mathml.content"/>
      <ref name="epub.att-name.mathml.content"/>
    </element>
  </define>
  <define name="epub.annotation-xml.model.mathml.content">
    <zeroOrMore>
      <ref name="ContExp"/>
    </zeroOrMore>
  </define>
  <define name="epub.att-encoding.mathml.content">
    <attribute name="encoding">
      <choice>
        <value type="string" datatypeLibrary="">MathML-Content</value>
        <value type="string" datatypeLibrary="">application/mathml-content+xml</value>
      </choice>
    </attribute>
  </define>
  <define name="epub.att-name.mathml.content">
    <attribute name="name">
      <value type="string" datatypeLibrary="">contentequiv</value>
    </attribute>
  </define>
  <define name="epub.annotation-xml.mathml.presentation">
    <element name="annotation-xml">
      <ref name="epub.annotation-xml.model.mathml.presentation"/>
      <ref name="epub.annotation-xml.attributes"/>
      <ref name="epub.att-encoding.mathml.presentation"/>
      <optional>
        <ref name="epub.att-name.mathml.presentation"/>
      </optional>
    </element>
  </define>
  <define name="epub.annotation-xml.model.mathml.presentation">
    <zeroOrMore>
      <ref name="MathExpression"/>
    </zeroOrMore>
  </define>
  <define name="epub.att-encoding.mathml.presentation">
    <attribute name="encoding">
      <choice>
        <value type="string" datatypeLibrary="">MathML</value>
        <value>MathML-Presentation</value>
        <value type="string" datatypeLibrary="">application/mathml-presentation+xml</value>
      </choice>
    </attribute>
  </define>
  <define name="epub.att-name.mathml.presentation">
    <attribute name="name">
      <data type="NCName"/>
    </attribute>
  </define>
</grammar>
`;

export const EPUB_NAV_30_RNC = ` 
   default namespace = "http://www.w3.org/1999/xhtml"
   namespace epub = "http://www.idpf.org/2007/ops"
   
 
# #####################################################################
##  RELAX NG Schema for EPUB: EPUB Navigation Documents               #
# #####################################################################
   
   include "epub-xhtml-30.rnc" {   
        nav.attrs = nav.attrs.noepubtype
   }

   ## "reset" the definition of nav.attrs to what it was
   ## before epub:type was set to augment common.attrs.basic
   nav.attrs.noepubtype = 
     ( common.attrs.id?
     & common.attrs.class?
     & common.attrs.title?
     & common.attrs.base?
     & common.attrs.space?
     & common.attrs.i18n
     & common.attrs.present
     & common.attrs.other
     & (	common.attrs.aria.implicit.navigation
			|	common.attrs.aria.landmark.navigation
			|	common.attrs.aria.role.doc-index
			|	common.attrs.aria.role.doc-pagelist
			|	common.attrs.aria.role.doc-toc
			)?
		)

   html5.headings.class = hgroup.elem | h1.elem | h2.elem | h3.elem | h4.elem | h5.elem | h6.elem
   
   epub.nav = element nav { epub.type.attr & nav.attrs.noepubtype & epub.nav.content }
   epub.nav.content = html5.headings.class?, epub.nav.ol     
   
   epub.nav.ol = element ol { ol.attrs & epub.nav.ol.content }
   epub.nav.ol.content = epub.nav.oli+
   
   epub.nav.oli = element li { oli.attrs & epub.nav.oli.content }
   epub.nav.oli.content = a.elem.phrasing | ((a.elem.phrasing | span.elem), epub.nav.ol)
   
   common.elem.flow |= epub.nav
`;

export const EPUB_NAV_30_RNG = `<?xml version="1.0" encoding="UTF-8"?>
<grammar ns="http://www.w3.org/1999/xhtml" xmlns:a="http://relaxng.org/ns/compatibility/annotations/1.0" xmlns:epub="http://www.idpf.org/2007/ops" xmlns="http://relaxng.org/ns/structure/1.0" datatypeLibrary="http://www.w3.org/2001/XMLSchema-datatypes">
  <!-- ##################################################################### -->
  <!-- ##################################################################### -->
  <!-- Inlined from epub-xhtml-30.rng with overrides -->
<!-- ##################################################################### -->
  <!-- ##################################################################### -->
  <!-- Inlined from epub-xhtml-svg-mathml.rng with overrides -->
<!-- ##################################################################### -->
  <!-- ##################################################################### -->
  <!-- Inlined from epub-xhtml-inc.rng with overrides -->
<!-- ##################################################################### -->
  <!-- Inlined from common.rng with overrides -->
<!-- ##################################################################### -->
  <define name="XMLonly">
    <a:documentation> RELAX NG Schema for HTML 5: Common Definitions                    #</a:documentation>
    <!-- ##################################################################### -->
    <!-- ##################################################################### -->
    <a:documentation> Language Parameters - redefine in inclusion block as necessary    #</a:documentation>
    <!-- ##################################################################### -->
    <a:documentation>HTML vs. XHTML restrictions</a:documentation>
    <empty/>
  </define>
  <define name="HTMLonly">
    <notAllowed/>
  </define>
  <!--
                            (This only affects mixed-version modules; wholly HTML5
                             modules should simply be left out of the inclusion list.)
  -->
  <define name="v5only">
    <a:documentation>HTML 4 Compatibility - set to notAllowed to disallow markup introduced in HTML 5</a:documentation>
    <empty/>
  </define>
  <!--  (xml:base on elements other than <html>) -->
  <define name="nonRoundtrippable">
    <a:documentation>HTML Compatibility Switches - set to notAllowed to disallow</a:documentation>
    <a:documentation>XML features that can't be roundtripped HTML &lt;-&gt; XHTML</a:documentation>
    <empty/>
  </define>
  <define name="nonHTMLizable">
    <a:documentation>XML features that can't be serialized as HTML</a:documentation>
    <empty/>
  </define>
  <!-- ##################################################################### -->
  <define name="common.attr.anything">
    <a:documentation> Wildcards                                                         #</a:documentation>
    <!-- ##################################################################### -->
    <a:documentation>Any attribute from any namespace</a:documentation>
    <zeroOrMore>
      <attribute>
        <anyName/>
      </attribute>
    </zeroOrMore>
  </define>
  <define name="common.elem.anything">
    <a:documentation>Any element from any namespace</a:documentation>
    <element>
      <anyName/>
      <interleave>
        <ref name="common.inner.anything"/>
        <ref name="common.attr.anything"/>
      </interleave>
    </element>
  </define>
  <define name="common.inner.anything">
    <a:documentation>Any content from any namespace</a:documentation>
    <interleave>
      <text/>
      <zeroOrMore>
        <ref name="common.elem.anything"/>
      </zeroOrMore>
    </interleave>
  </define>
  <!-- ##################################################################### -->
  <define name="common.elem.metadata">
    <a:documentation> Common Element Classes                                            #</a:documentation>
    <!-- ##################################################################### -->
    <a:documentation>Metadata Elements</a:documentation>
    <notAllowed/>
  </define>
  <define name="common.elem.phrasing">
    <a:documentation>Phrase Elements</a:documentation>
    <notAllowed/>
  </define>
  <define name="common.elem.flow">
    <a:documentation>Prose Elements</a:documentation>
    <ref name="common.elem.phrasing"/>
  </define>
  <!-- ##################################################################### -->
  <define name="common.inner.metadata">
    <a:documentation> Common Content Models                                             #</a:documentation>
    <!-- ##################################################################### -->
    <a:documentation>Metadata Content</a:documentation>
    <zeroOrMore>
      <ref name="common.elem.metadata"/>
    </zeroOrMore>
  </define>
  <define name="common.inner.phrasing">
    <a:documentation>Phrase Content</a:documentation>
    <interleave>
      <text/>
      <zeroOrMore>
        <ref name="common.elem.phrasing"/>
      </zeroOrMore>
    </interleave>
  </define>
  <define name="common.inner.transparent.flow">
    <a:documentation>Prose Content</a:documentation>
    <interleave>
      <text/>
      <zeroOrMore>
        <ref name="common.elem.flow"/>
      </zeroOrMore>
    </interleave>
  </define>
  <define name="common.inner.flow">
    <interleave>
      <text/>
      <zeroOrMore>
        <ref name="common.elem.flow"/>
      </zeroOrMore>
    </interleave>
  </define>
  <!-- ##################################################################### -->
  <!-- ##################################################################### -->
  <!-- When updating, check <bdo> definition too -->
  <define name="common.attrs">
    <a:documentation> Common Attributes                                                 #</a:documentation>
    <interleave>
      <ref name="common.attrs.basic"/>
      <ref name="common.attrs.i18n"/>
      <ref name="common.attrs.present"/>
      <ref name="common.attrs.other"/>
    </interleave>
  </define>
  <define name="common.attrs.basic">
    <interleave>
      <optional>
        <ref name="common.attrs.id"/>
      </optional>
      <optional>
        <ref name="common.attrs.class"/>
      </optional>
      <optional>
        <ref name="common.attrs.title"/>
      </optional>
      <optional>
        <ref name="common.attrs.base"/>
      </optional>
      <optional>
        <ref name="common.attrs.space"/>
      </optional>
    </interleave>
  </define>
  <define name="common.attrs.id">
    <attribute name="id">
      <ref name="common.data.id"/>
    </attribute>
  </define>
  <define name="common.attrs.class">
    <attribute name="class">
      <ref name="common.data.tokens"/>
    </attribute>
  </define>
  <define name="common.attrs.title">
    <attribute name="title"/>
  </define>
  <define name="common.attrs.base">
    <interleave>
      <ref name="common.attrs.xmlbase"/>
      <ref name="nonRoundtrippable"/>
    </interleave>
  </define>
  <define name="common.attrs.xmlbase">
    <interleave>
      <attribute name="xml:base">
        <ref name="common.data.uri"/>
      </attribute>
      <ref name="XMLonly"/>
    </interleave>
  </define>
  <define name="common.attrs.space">
    <ref name="common.attrs.xmlspace"/>
  </define>
  <define name="common.attrs.xmlspace">
    <interleave>
      <attribute name="xml:space">
        <choice>
          <value type="string" datatypeLibrary="">preserve</value>
          <value type="string" datatypeLibrary="">default</value>
        </choice>
      </attribute>
      <ref name="XMLonly"/>
    </interleave>
  </define>
  <define name="common.attrs.i18n">
    <interleave>
      <optional>
        <ref name="common.attrs.dir"/>
      </optional>
      <optional>
        <ref name="common.attrs.language"/>
      </optional>
      <optional>
        <ref name="common.attrs.translate"/>
      </optional>
    </interleave>
  </define>
  <define name="common.attrs.dir">
    <attribute name="dir">
      <choice>
        <value>ltr</value>
        <value>rtl</value>
        <value>auto</value>
      </choice>
    </attribute>
  </define>
  <!--
    This lang definition is a hack for environments where
    the HTML5 parser maps lang to xml:lang.
    Sameness check left to Schematron
  -->
  <define name="common.attrs.language">
    <interleave>
      <optional>
        <ref name="common.attrs.xmllang"/>
      </optional>
      <optional>
        <ref name="common.attrs.lang"/>
      </optional>
    </interleave>
  </define>
  <define name="common.attrs.lang">
    <interleave>
      <attribute name="lang">
        <ref name="common.data.langcode"/>
      </attribute>
      <ref name="XMLonly"/>
    </interleave>
  </define>
  <define name="common.attrs.xmllang">
    <attribute name="xml:lang">
      <ref name="common.data.langcode"/>
    </attribute>
  </define>
  <!--
    	common.attrs.language =
    		(	common.attrs.lang
    		|	common.attrs.xmllang
    		)
    	common.attrs.lang =
    		attribute lang {
    			common.data.langcode
    		} & HTMLonly
    	common.attrs.xmllang =
    		attribute xml:lang {
    			common.data.langcode
    		} & XMLonly
  -->
  <define name="common.attrs.translate">
    <attribute name="translate">
      <choice>
        <value/>
        <value>yes</value>
        <value>no</value>
      </choice>
    </attribute>
  </define>
  <define name="common.attrs.present">
    <interleave>
      <optional>
        <ref name="common.attrs.style"/>
      </optional>
      <optional>
        <ref name="common.attrs.tabindex"/>
      </optional>
      <optional>
        <ref name="common.attrs.accesskey"/>
      </optional>
    </interleave>
  </define>
  <define name="common.attrs.style">
    <attribute name="style">
      <data type="string" datatypeLibrary=""/>
    </attribute>
  </define>
  <define name="common.attrs.tabindex">
    <attribute name="tabindex">
      <ref name="common.data.integer"/>
    </attribute>
  </define>
  <!-- REVISIT move style to a module and bundle tabindex with ARIA -->
  <define name="common.attrs.accesskey">
    <attribute name="accesskey">
      <ref name="common.data.keylabellist"/>
    </attribute>
  </define>
  <define name="common.attrs.other">
    <interleave>
      <optional>
        <ref name="common.attrs.autofocus"/>
      </optional>
      <optional>
        <ref name="common.attrs.nonce"/>
      </optional>
      <optional>
        <ref name="common.attrs.inert"/>
      </optional>
    </interleave>
  </define>
  <define name="common.attrs.autofocus">
    <attribute name="autofocus">
      <choice>
        <value>autofocus</value>
        <value/>
      </choice>
    </attribute>
  </define>
  <define name="common.attrs.blocking">
    <attribute name="blocking">
      <list>
        <value>render</value>
      </list>
    </attribute>
  </define>
  <define name="common.attrs.fetchpriority">
    <attribute name="fetchpriority">
      <choice>
        <value>high</value>
        <value>low</value>
        <value>auto</value>
      </choice>
    </attribute>
  </define>
  <define name="common.attrs.nonce">
    <attribute name="nonce">
      <data type="string" datatypeLibrary=""/>
    </attribute>
  </define>
  <define name="common.attrs.inert">
    <attribute name="inert">
      <choice>
        <value type="string" datatypeLibrary="">inert</value>
        <value type="string" datatypeLibrary=""/>
      </choice>
    </attribute>
  </define>
  <!-- ##################################################################### -->
  <define name="common.data.tokens">
    <a:documentation> Common Datatypes                                                  #</a:documentation>
    <!-- ##################################################################### -->
    <a:documentation>Names and Tokens</a:documentation>
    <list>
      <zeroOrMore>
        <data type="token" datatypeLibrary=""/>
      </zeroOrMore>
    </list>
  </define>
  <define name="common.data.browsing-context">
    <ref name="datatype.html5.browsing.context.name"/>
  </define>
  <define name="common.data.browsing-context-or-keyword">
    <ref name="datatype.html5.browsing.context.name.or.keyword"/>
  </define>
  <!--
    		xsd:string {
    			pattern = "()|([^_].*)|(_[bB][lL][aA][nN][kK])|(_[sS][eE][lL][fF])|(_[pP][aA][rR][eE][nN][tT])|(_[tT][oO][pP])"
    		}
  -->
  <define name="common.data.id">
    <a:documentation>IDs and IDREFs</a:documentation>
    <ref name="datatype.html5.token"/>
  </define>
  <!--
    		xsd:string {
    			pattern = "\\S+"
    		}
  -->
  <define name="common.data.idref">
    <ref name="datatype.html5.token"/>
  </define>
  <define name="common.data.idrefs">
    <ref name="datatype.html5.space.separated.tokens"/>
  </define>
  <define name="common.data.name">
    <ref name="datatype.html5.token"/>
  </define>
  <define name="common.data.hash-name">
    <ref name="datatype.html5.name.reference"/>
  </define>
  <!--
    		xsd:string {
    			pattern = "#.+"
    		}
  -->
  <define name="common.data.integer">
    <a:documentation>Numerical</a:documentation>
    <ref name="datatype.integer"/>
  </define>
  <!--
    		xsd:string {
    			pattern = "-?[0-9]+"
    		}
  -->
  <define name="common.data.integer.positive">
    <ref name="datatype.positive.integer"/>
  </define>
  <!--
    		xsd:string {
    			pattern = "0*[1-9][0-9]*"
    		}
  -->
  <define name="common.data.integer.non-negative">
    <ref name="datatype.non-negative.integer"/>
  </define>
  <!--
    		xsd:string {
    			pattern = "[0-9]+"
    		}
  -->
  <!--
    	common.data.percent =
    		xsd:string {
    			pattern = "(100)|([1-9]?[0-9](\\.[0-9]+)?)%"
    		}
  -->
  <define name="common.data.float">
    <ref name="datatype.float"/>
  </define>
  <!--
    		xsd:string {
    			pattern = "-?[0-9]+(\\.[0-9]+)?([eE]-?[0-9]+)?"
    		}
  -->
  <define name="common.data.float.positive">
    <ref name="datatype.float.positive"/>
  </define>
  <!--
    		xsd:string {
    			pattern = "(0*[1-9][0-9]*(\\.[0-9]+)?)|([0-9]+(\\.0*[1-9][0-9]*)?)([eE]-?[0-9]+)?"
    		}
  -->
  <define name="common.data.float.non-negative">
    <ref name="datatype.float.non-negative"/>
  </define>
  <!--
    		xsd:string {
    			pattern = "[0-9]+(\\.[0-9]+)?([eE]-?[0-9]+)?"
    		}
  -->
  <define name="common.data.datetime">
    <a:documentation>Temporal</a:documentation>
    <ref name="datatype.html5.datetime"/>
  </define>
  <define name="common.data.date">
    <ref name="datatype.html5.date"/>
  </define>
  <define name="common.data.time-datetime">
    <ref name="datatype.html5.date.or.time"/>
  </define>
  <define name="common.data.uri">
    <a:documentation>IRIs</a:documentation>
    <!--
      allow either a non-empty IRI ref or zero or more HTML
      space characters (which are: space, tab, LF, FF, CR)
    -->
    <choice>
      <ref name="datatype.IRI"/>
      <data type="string">
        <param name="pattern">[ 
-&#xD;]*</param>
      </data>
    </choice>
    <!--
      NOTE The range above incorrectly allows U+000B
      in addition to the HTML space characters; but
      that's not a problem in practice because HTML
      and XML parsers will both catch any U+000B
      and report an error for it before that pattern
      ever gets evaluated.
    -->
  </define>
  <define name="common.data.uri.non-empty">
    <ref name="datatype.string.nonempty"/>
  </define>
  <define name="common.data.uris">
    <list>
      <zeroOrMore>
        <ref name="datatype.IRI"/>
      </zeroOrMore>
    </list>
  </define>
  <define name="common.data.uris.http.or.https">
    <list>
      <zeroOrMore>
        <ref name="datatype.URI.absolute"/>
      </zeroOrMore>
    </list>
  </define>
  <define name="common.data.uri.absolute">
    <ref name="datatype.URI.absolute"/>
  </define>
  <define name="common.data.sizes">
    <a:documentation>&lt;link type='icon'&gt; sizes</a:documentation>
    <!-- 		list { w:sizes } -->
    <list>
      <oneOrMore>
        <data type="string">
          <param name="pattern">[1-9][0-9]*x[1-9][0-9]*</param>
        </data>
      </oneOrMore>
    </list>
  </define>
  <define name="common.data.color">
    <a:documentation>color for &lt;link rel="mask-icon"&gt; and &lt;meta name="theme-color"&gt;</a:documentation>
    <ref name="datatype.html5.color"/>
  </define>
  <define name="common.data.mimetype">
    <a:documentation>MIME types</a:documentation>
    <ref name="datatype.mimetype"/>
  </define>
  <define name="common.data.scripttype">
    <a:documentation>Script type</a:documentation>
    <ref name="datatype.string"/>
  </define>
  <define name="common.data.charset">
    <a:documentation>Encodings</a:documentation>
    <ref name="datatype.character.encoding"/>
  </define>
  <define name="common.data.meta-charset">
    <ref name="datatype.string"/>
  </define>
  <define name="common.data.refresh">
    <a:documentation>Refresh</a:documentation>
    <ref name="datatype.string"/>
  </define>
  <define name="common.data.default-style">
    <a:documentation>Default style</a:documentation>
    <data type="string" datatypeLibrary=""/>
  </define>
  <!-- 		w:default-style -->
  <define name="common.data.x-ua-compatible">
    <a:documentation>X-UA-Compatible</a:documentation>
    <data type="string" datatypeLibrary=""/>
  </define>
  <define name="common.data.mediaquery">
    <a:documentation>Media Queries</a:documentation>
    <ref name="datatype.html5.media.query"/>
  </define>
  <define name="common.data.langcode">
    <a:documentation>Language Codes</a:documentation>
    <choice>
      <value/>
      <ref name="datatype.languagecode"/>
    </choice>
  </define>
  <define name="common.data.keylabellist">
    <a:documentation>List of Key Labels</a:documentation>
    <ref name="datatype.html5.accesskey"/>
  </define>
  <define name="common.data.source.size.list">
    <a:documentation>List of Source Sizes</a:documentation>
    <ref name="datatype.string"/>
  </define>
  <define name="common.data.integrity">
    <a:documentation>Subresource Integrity</a:documentation>
    <ref name="datatype.string"/>
  </define>
  <define name="common.data.content-security-policy">
    <a:documentation>Content Security Policy</a:documentation>
    <ref name="datatype.string"/>
  </define>
  <define name="common.data.feature-policy">
    <a:documentation>Feature Policy</a:documentation>
    <data type="string" datatypeLibrary=""/>
  </define>
  <define name="common.data.sandbox-allow-list">
    <a:documentation>List of sandbox keywords</a:documentation>
    <choice>
      <value/>
      <list>
        <optional>
          <value>allow-top-navigation</value>
        </optional>
        <optional>
          <value>allow-same-origin</value>
        </optional>
        <optional>
          <value>allow-forms</value>
        </optional>
        <optional>
          <value>allow-scripts</value>
        </optional>
      </list>
      <list>
        <optional>
          <value>allow-top-navigation</value>
        </optional>
        <optional>
          <value>allow-same-origin</value>
        </optional>
        <optional>
          <value>allow-scripts</value>
        </optional>
        <optional>
          <value>allow-forms</value>
        </optional>
      </list>
    </choice>
  </define>
  <define name="common.data.custom.element.name">
    <a:documentation>Custom element name</a:documentation>
    <ref name="datatype.string"/>
  </define>
  <define name="common.data.microdata-properties">
    <a:documentation>Microdata Properties</a:documentation>
    <list>
      <oneOrMore>
        <ref name="datatype.string"/>
      </oneOrMore>
    </list>
  </define>
  <define name="common.data.zero">
    <a:documentation>Zero</a:documentation>
    <value>0</value>
  </define>
  <define name="common.data.functionbody">
    <a:documentation>ECMAScript FunctionBody</a:documentation>
    <data type="string" datatypeLibrary=""/>
  </define>
  <define name="common.data.autocomplete.any">
    <a:documentation>autocomplete</a:documentation>
    <ref name="datatype.string"/>
  </define>
  <!-- ##################################################################### -->
  <!-- ##################################################################### -->
  <define name="common-form.attrs.form">
    <a:documentation> WF2 Module Hook                                                   #</a:documentation>
    <notAllowed/>
  </define>
  <!-- ##################################################################### -->
  <!-- ##################################################################### -->
  <define name="common.elem.script-supporting">
    <a:documentation> Script-supporting elements</a:documentation>
    <notAllowed/>
  </define>
  <!-- ##################################################################### -->
  <!-- ##################################################################### -->
  <define name="common.attrs.aria">
    <a:documentation> ARIA Module Hooks                                                 #</a:documentation>
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.alert">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.alertdialog">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.application">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.article">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.banner">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.button">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.cell" combine="choice">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.checkbox">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.combobox">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.complementary">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.dialog">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.directory">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.document">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.feed" combine="choice">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.figure" combine="choice">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.group">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.heading">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.img">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.link">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.list">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.listitem">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.log">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.listbox">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.main">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.marquee">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.menu">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.menubar">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.menuitem">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.menuitemcheckbox">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.menuitemradio">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.option">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.presentation">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.progressbar">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.radio">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.radiogroup" combine="choice">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.region">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.rowgroup" combine="choice">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.search">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.searchbox" combine="choice">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.separator">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.slider">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.spinbutton">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.status">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.switch">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.tab">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.table" combine="choice">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.tablist">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.tabpanel">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.textbox">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.toolbar">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.tree">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.treeitem">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.implicit.article">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.implicit.banner">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.implicit.button">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.implicit.cell" combine="choice">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.implicit.checkbox">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.implicit.column-or-row-header">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.implicit.combobox">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.implicit.complementary">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.implicit.contentinfo">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.implicit.dialog">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.implicit.figure" combine="choice">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.implicit.document">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.implicit.form">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.implicit.group">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.implicit.heading">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.implicit.img">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.implicit.landmark">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.implicit.link">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.implicit.list">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.implicit.listbox">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.implicit.listitem">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.implicit.main">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.implicit.math" combine="choice">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.implicit.navigation">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.implicit.option">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.implicit.progressbar">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.implicit.radio">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.implicit.region">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.implicit.row" combine="choice">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.implicit.rowgroup" combine="choice">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.implicit.search">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.implicit.searchbox" combine="choice">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.implicit.section">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.implicit.select">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.implicit.separator">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.implicit.slider">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.implicit.spinbutton">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.implicit.status">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.implicit.structure">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.implicit.table" combine="choice">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.implicit.textbox">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.implicit.toolbar">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.prop.readonly">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.landmark.banner">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.landmark.complementary">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.landmark.contentinfo">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.landmark.form">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.landmark.main">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.landmark.navigation">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.landmark.search">
    <notAllowed/>
  </define>
  <!-- per ARIA spec: article, document, and note are not actually landmarks -->
  <define name="common.attrs.aria.landmark.article">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.landmark.document">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.landmark.note">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.doc-abstract">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.doc-acknowledgments">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.doc-afterword">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.doc-appendix">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.doc-backlink">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.doc-biblioentry">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.doc-bibliography">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.doc-biblioref">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.doc-chapter">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.doc-colophon">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.doc-conclusion">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.doc-cover">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.doc-credit">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.doc-credits">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.doc-dedication">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.doc-endnote">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.doc-endnotes">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.doc-epigraph">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.doc-epilogue">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.doc-errata">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.doc-example">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.doc-footnote">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.doc-foreword">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.doc-glossary">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.doc-glossref">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.doc-index">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.doc-introduction">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.doc-noteref">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.doc-notice">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.doc-pagebreak">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.doc-pagelist">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.doc-part">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.doc-preface">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.doc-prologue">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.doc-pullquote">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.doc-qna">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.doc-subtitle">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.doc-tip">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.doc-toc">
    <notAllowed/>
  </define>

    <a:documentation> RELAX NG Schema for XHTML 5                                       #</a:documentation>
    <!--
      #####################################################################
      
       XHTML validation based on the schemas from the Nu Html Checker,
       with the following changes:
         - datatypes replaced to use the patterns in datatype.rnc
         - title element not required (a missing title element will be
           reported as a WARNING in Schematron
         - allows meta http-equiv in encoding declaration state
         - allows the border attribute on tables
         - allow EPUB extensions (epub:type, epub:switch, epub:trigger,
           ssml:* attributes, etc)
      
      #####################################################################
    -->
    <a:documentation>Schema Framework &amp; Parameters</a:documentation>
    <!-- XHTML flavor # -->
    <define name="XMLonly">
      <empty/>
    </define>
    <define name="HTMLonly">
      <notAllowed/>
    </define>
    <!-- HTML 4 compat # -->
    <define name="v5only">
      <empty/>
    </define>
  
  <!-- ##################################################################### -->
  <start>
    <a:documentation>Language Definitions</a:documentation>
    <ref name="html.elem"/>
  </start>
  <!--
    Note: these are too simplistic. The Nu HTML Checker performs
    a significant part of the checking in its Java-based datatype
    library.
  -->
  <!-- Inlined from datatypes.rng with overrides -->
<div xml:id="datatypes-common">
    <define name="datatype.ID">
      <ref name="datatype.ID.lexical"/>
    </define>
    <define name="datatype.IDREF">
      <ref name="datatype.IDREF.lexical"/>
    </define>
    <define name="datatype.IDREFS">
      <ref name="datatype.IDREFS.lexical"/>
    </define>
    <define name="datatype.languagecode">
      <ref name="datatype.BCP47"/>
    </define>
    <!-- http://www.w3.org/TR/xmlschema11-2/#language -->
    <define name="datatype.BCP47">
      <data type="language"/>
    </define>
    <!-- http://www.w3.org/TR/xmlschema11-2/#ID  -->
    <define name="datatype.ID.xsd">
      <data type="ID"/>
    </define>
    <!-- http://www.w3.org/TR/xmlschema11-2/#NCName -->
    <define name="datatype.IDREF.lexical">
      <data type="NCName"/>
    </define>
    <define name="datatype.IDREFS.lexical">
      <list>
        <oneOrMore>
          <ref name="datatype.IDREF.lexical"/>
        </oneOrMore>
      </list>
    </define>
    <define name="datatype.ID.lexical">
      <data type="NCName"/>
    </define>
    <!-- http://www.w3.org/TR/xmlschema11-2/#IDREF -->
    <define name="datatype.IDREF.xsd">
      <data type="IDREF"/>
    </define>
    <!-- http://www.w3.org/TR/xmlschema11-2/#IDREFS -->
    <define name="datatype.IDREFS.xsd">
      <data type="IDREFS"/>
    </define>
    <!-- http://www.w3.org/TR/xmlschema11-2/#NMTOKEN -->
    <define name="datatype.NMTOKEN">
      <data type="NMTOKEN"/>
    </define>
    <!-- http://www.w3.org/TR/xmlschema11-2/#NMTOKENS  -->
    <define name="datatype.NMTOKENS">
      <data type="NMTOKENS"/>
    </define>
    <!-- http://www.w3.org/TR/xmlschema11-2/#string -->
    <define name="datatype.string">
      <data type="string"/>
    </define>
    <define name="datatype.string.nonempty">
      <data type="token">
        <param name="minLength">1</param>
      </data>
    </define>
    <define name="datatype.text">
      <text/>
    </define>
    <!-- http://www.w3.org/TR/xmlschema11-2/#nt-dateRep -->
    <define name="datatype.date">
      <data type="date"/>
    </define>
    <!-- http://www.w3.org/TR/xmlschema11-2/#nt-dateTimeRep -->
    <define name="datatype.dateTime">
      <data type="dateTime"/>
    </define>
    <!-- http://www.w3.org/TR/xmlschema11-2/#nt-timeRep -->
    <define name="datatype.date.or.dateTime">
      <choice>
        <ref name="datatype.date"/>
        <ref name="datatype.dateTime"/>
      </choice>
    </define>
    <define name="datatype.LEIRI">
      <data type="anyURI"/>
    </define>
    <!--
      http://www.w3.org/TR/xmlschema11-2/#anyURI
      http://tools.ietf.org/html/rfc3986#appendix-B
      http://www.w3.org/TR/html5/urls.html#valid-url-potentially-surrounded-by-spaces  
    -->
    <define name="datatype.URI">
      <data type="anyURI"/>
    </define>
    <define name="datatype.URI.absolute">
      <data type="anyURI"/>
    </define>
    <define name="datatype.IRI">
      <ref name="datatype.URI"/>
    </define>
    <define name="datatype.character.encoding">
      <ref name="datatype.iana.charset"/>
    </define>
    <define name="datatype.iana.charset">
      <data type="NMTOKEN"/>
    </define>
    <!--
      http://www.w3.org/TR/html5/infrastructure.html#valid-mime-type
      http://tools.ietf.org/html/rfc4288#section-4.2
      http://tools.ietf.org/html/rfc2616#section-3.7
    -->
    <define name="datatype.mimetype">
      <data type="string">
        <param name="pattern">[a-zA-Z0-9!#$&amp;+\\-\\^_]+/[a-zA-Z0-9!#$&amp;+\\-\\^_]+.*</param>
      </data>
    </define>
    <define name="datatype.mimetype.nocharset">
      <ref name="datatype.mimetype"/>
    </define>
    <!--
      http://www.w3.org/TR/xmlschema11-2/#nonNegativeInteger
      http://www.w3.org/TR/html5/common-microsyntaxes.html#non-negative-integers
    -->
    <define name="datatype.non-negative.integer">
      <data type="nonNegativeInteger"/>
    </define>
    <!-- http://www.w3.org/TR/xmlschema11-2/#positiveInteger -->
    <define name="datatype.positive.integer">
      <data type="positiveInteger"/>
    </define>
    <!-- http://www.w3.org/TR/xmlschema11-2/#integer  -->
    <define name="datatype.integer">
      <data type="integer"/>
    </define>
    <!--
      http://www.w3.org/TR/xmlschema11-2/#nt-floatRep
      http://www.w3.org/TR/html5/common-microsyntaxes.html#real-numbers
    -->
    <define name="datatype.float">
      <data type="float"/>
    </define>
    <define name="datatype.float.positive">
      <data type="float">
        <param name="minExclusive">0</param>
      </data>
    </define>
    <define name="datatype.float.non-negative">
      <data type="float">
        <param name="minInclusive">0</param>
      </data>
    </define>
    <define name="datatype.token">
      <data type="string">
        <param name="pattern">[^\\s]+</param>
      </data>
    </define>
    <define name="datatype.space.separated.tokens">
      <list>
        <zeroOrMore>
          <ref name="datatype.token"/>
        </zeroOrMore>
      </list>
    </define>
  </div>
  <div xml:id="datatypes-smil">
    <!--
      http://www.w3.org/TR/smil/smil-timing.html#TimingSyntax-Full-clock-value
      http://www.w3.org/TR/smil/smil-timing.html#TimingSyntax-Partial-clock-value
      http://www.w3.org/TR/smil/smil-timing.html#TimingSyntax-Timecount-value
    -->
    <define name="datatype.smil.npt">
      <choice>
        <data type="string">
          <param name="pattern">(\\s*)[0-9]+:[0-5][0-9]:[0-5][0-9](\\.[0-9]+)?(\\s*)</param>
        </data>
        <data type="string">
          <param name="pattern">(\\s*)[0-5][0-9]:[0-5][0-9](\\.[0-9]+)?(\\s*)</param>
        </data>
        <data type="string">
          <param name="pattern">(\\s*)[0-9]+(\\.[0-9]+)?(h|min|s|ms)?(\\s*)</param>
        </data>
      </choice>
    </define>
  </div>
  <div xml:id="datatypes-vocab">
    <define name="datatype.property">
      <data type="NMTOKEN"/>
    </define>
    <define name="datatype.properties">
      <data type="NMTOKENS"/>
    </define>
    <define name="datatype.prefixdecl">
      <text/>
    </define>
    <!-- \\s*([\\i-[:]][\\c-[:]]*: +[^ ]+)(\\s+[\\i-[:]][\\c-[:]]*: +[^ ]+)*\\s* -->
  </div>
  <div xml:id="datatypes-ssml">
    <!-- http://www.w3.org/TR/speech-synthesis11/#edef_phoneme -->
    <define name="datatype.ssml.PhoneticExpression">
      <data type="string"/>
    </define>
    <define name="datatype.ssml.PhoneticAlphabet">
      <data type="string">
        <param name="pattern">(ipa|x-.+)</param>
      </data>
    </define>
  </div>
  <div xml:id="datatypes-html5">
    <define name="datatype.html5.browsing.context.name.or.keyword">
      <data type="string">
        <param name="pattern">()|([^_].*)|(_[bB][lL][aA][nN][kK])|(_[sS][eE][lL][fF])|(_[pP][aA][rR][eE][nN][tT])|(_[tT][oO][pP])</param>
      </data>
    </define>
    <define name="datatype.html5.browsing.context.name">
      <data type="string">
        <param name="pattern">()|([^_].*)</param>
      </data>
    </define>
    <define name="datatype.html5.token">
      <data type="string">
        <param name="pattern">[^\\s]+</param>
      </data>
    </define>
    <!-- http://www.w3.org/TR/html5/common-microsyntaxes.html#space-separated-tokens -->
    <define name="datatype.html5.space.separated.tokens">
      <list>
        <zeroOrMore>
          <ref name="datatype.html5.token"/>
        </zeroOrMore>
      </list>
    </define>
    <define name="datatype.html5.ordered.set.unique.tokens">
      <ref name="datatype.html5.space.separated.tokens"/>
    </define>
    <define name="datatype.html5.URL.spaces">
      <ref name="datatype.URI"/>
    </define>
    <!--
      http://dev.w3.org/csswg/css3-mediaqueries/#syntax
      http://www.w3.org/TR/html5/common-microsyntaxes.html#mq
    -->
    <define name="datatype.html5.media.query">
      <data type="string"/>
    </define>
    <define name="datatype.html5.name">
      <data type="string"/>
    </define>
    <define name="datatype.html5.name.reference">
      <data type="string">
        <param name="pattern">#.+</param>
      </data>
    </define>
    <define name="datatype.html5.year">
      <data type="token">
        <param name="pattern">[0-9]{4}</param>
      </data>
    </define>
    <define name="datatype.html5.yearless">
      <data type="token">
        <param name="pattern">(--)?(0[0-9]|1[0-2])-(0[0-9]|[1-2][0-9]|3[0-1])</param>
      </data>
    </define>
    <define name="datatype.html5.duration">
      <data type="token">
        <param name="pattern">(((P[0-9]+D)|(P([0-9]+D)?T((([0-9]+H)([0-9]+M)?([0-9]+(\\.[0-9]{1,3})?S)?)|(([0-9]+H)?([0-9]+M)([0-9]+(\\.[0-9]{1,3})?S)?)|(([0-9]+H)?([0-9]+M)?([0-9]+(\\.[0-9]{1,3})?S)))))|( *(([0-9]+ *[WDHM])|([0-9]+(\\.[0-9]{1,3})? *S)) *)+)</param>
      </data>
    </define>
    <!-- http://www.w3.org/TR/html5/common-microsyntaxes.html#months -->
    <define name="datatype.html5.month">
      <data type="token">
        <param name="pattern">([0-9]{4,})-([0-9]{2})</param>
      </data>
    </define>
    <!-- http://www.w3.org/TR/html5/common-microsyntaxes.html#dates -->
    <define name="datatype.html5.date">
      <data type="token">
        <param name="pattern">([0-9]{4,})-([0-9]{2})-([0-9]{2})</param>
      </data>
    </define>
    <!-- http://www.w3.org/TR/html5/common-microsyntaxes.html#times -->
    <define name="datatype.html5.time">
      <data type="token">
        <param name="pattern">([0-9]{2}):([0-9]{2})(:[0-9]{2}(\\.[0-9]{1,3})?)?</param>
      </data>
    </define>
    <!-- http://www.w3.org/TR/html5/common-microsyntaxes.html#local-dates-and-times -->
    <define name="datatype.html5.datetime.local">
      <data type="token">
        <param name="pattern">([0-9]{4,})-([0-9]{2})-([0-9]{2})([T ])([0-9]{2}):([0-9]{2})(:[0-9]{2}(\\.[0-9]{1,3})?)?</param>
      </data>
    </define>
    <!-- http://www.w3.org/TR/html5/common-microsyntaxes.html#global-dates-and-times -->
    <define name="datatype.html5.datetime.global">
      <data type="token">
        <param name="pattern">([0-9]{4,})-([0-9]{2})-([0-9]{2})([T ])([0-9]{2}):([0-9]{2})(:[0-9]{2}(\\.[0-9]{1,3})?)?(Z|((\\+|-)([0-9]{2}):?([0-9]{2})))?</param>
      </data>
    </define>
    <define name="datatype.html5.datetime">
      <ref name="datatype.html5.datetime.global"/>
    </define>
    <!-- http://www.w3.org/TR/html5/common-microsyntaxes.html#vaguer-moments-in-time -->
    <define name="datatype.html5.date.or.time">
      <choice>
        <ref name="datatype.html5.year"/>
        <ref name="datatype.html5.yearless"/>
        <ref name="datatype.html5.week"/>
        <ref name="datatype.html5.date"/>
        <ref name="datatype.html5.month"/>
        <ref name="datatype.html5.time"/>
        <ref name="datatype.html5.datetime.global"/>
        <ref name="datatype.html5.duration"/>
      </choice>
    </define>
    <!-- http://www.w3.org/TR/html5/common-microsyntaxes.html#vaguer-moments-in-time -->
    <define name="datatype.html5.date.optional.time">
      <choice>
        <ref name="datatype.html5.date"/>
        <ref name="datatype.html5.datetime.global"/>
      </choice>
    </define>
    <define name="datatype.html5.week">
      <data type="token">
        <param name="pattern">([0-9]{4,})-W([0-9]{2})</param>
      </data>
    </define>
    <define name="datatype.html5.accesskey">
      <ref name="datatype.html5.ordered.set.unique.tokens"/>
    </define>
    <define name="datatype.html5.coords.rectangle">
      <data type="token">
        <param name="pattern">-?[0-9]+,-?[0-9]+,-?[0-9]+,-?[0-9]+</param>
      </data>
    </define>
    <define name="datatype.html5.coords.circle">
      <data type="token">
        <param name="pattern">-?[0-9]+,-?[0-9]+,[0-9]+</param>
      </data>
    </define>
    <define name="datatype.html5.coords.poly">
      <data type="token">
        <param name="pattern">-?[0-9]+,-?[0-9]+,-?[0-9]+,-?[0-9]+,-?[0-9]+,-?[0-9]+(,-?[0-9]+,-?[0-9]+)*</param>
      </data>
    </define>
    <define name="datatype.html5.js">
      <data type="string"/>
    </define>
    <define name="datatype.html5.script">
      <data type="string"/>
    </define>
    <define name="datatype.html5.script.documentation">
      <data type="string"/>
    </define>
    <define name="datatype.html5.iframe.srcdoc.xml">
      <data type="string"/>
    </define>
    <define name="datatype.style">
      <data type="string"/>
    </define>
    <define name="datatype.html5.sizes">
      <list>
        <oneOrMore>
          <data type="string">
            <param name="pattern">[1-9][0-9]*x[1-9][0-9]*</param>
          </data>
        </oneOrMore>
      </list>
    </define>
    <define name="datatype.html5.emailaddress">
      <data type="string">
        <param name="pattern">[^@]+@[^@]+</param>
      </data>
    </define>
    <define name="datatype.html5.emailaddresslist">
      <data type="string">
        <param name="pattern">([^@]+@[^@]+,)*([^@]+@[^@]+)</param>
      </data>
    </define>
    <!-- http://www.w3.org/TR/html5/common-microsyntaxes.html#colors -->
    <define name="datatype.html5.color">
      <data type="string">
        <param name="pattern">#([A-Fa-f0-9]{6})</param>
      </data>
    </define>
  </div>
  <div xml:id="datatypes-html5forms">
    <define name="datatype.html5.forms.mimetypelist">
      <data type="string"/>
    </define>
    <!-- http://www.w3.org/TR/html5/forms.html#attr-form-accept-charset -->
    <define name="datatype.html5.forms.charsetlist">
      <list>
        <oneOrMore>
          <ref name="datatype.character.encoding"/>
        </oneOrMore>
      </list>
    </define>
    <define name="datatype.html5.forms.pattern">
      <data type="string"/>
    </define>
    <define name="datatype.html5.forms.string.nolinebreaks">
      <data type="string"/>
    </define>
  </div>

    <a:documentation>Static datatypes</a:documentation>
  
  <!-- Inlined from meta.rng with overrides -->
<!-- ##################################################################### -->
  <define name="html.elem">
    <a:documentation> RELAX NG Schema for HTML 5: Global Structure &amp; Metadata          #</a:documentation>
    <!-- ##################################################################### -->
    <a:documentation>Root Element: &lt;html&gt;</a:documentation>
    <element name="html">
      <interleave>
        <ref name="html.inner"/>
        <ref name="html.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="html.attrs">
    <ref name="common.attrs"/>
  </define>
  <define name="html.inner">
    <ref name="head.elem"/>
    <ref name="body.elem"/>
  </define>
  <define name="head.elem">
    <a:documentation>Metadata Container: &lt;head&gt;</a:documentation>
    <element name="head">
      <interleave>
        <ref name="head.inner"/>
        <ref name="head.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="head.attrs">
    <ref name="common.attrs"/>
    <!-- 		&	head.attrs.profile? -->
  </define>
  <!--
    		head.attrs.profile =
    			attribute profile {
    				common.data.uris #REVISIT should these be absolute (zero or more)
    			}
  -->
  <define name="head.inner">
    <interleave>
      <ref name="title.elem"/>
      <optional>
        <ref name="base.elem"/>
      </optional>
      <!-- REVISIT need a non-schema checker or Schematron -->
      <ref name="common.inner.metadata"/>
    </interleave>
    <!-- Limit encoding decl position in Schematron -->
  </define>
  <!--
    	head.inner =
    		(	meta.elem.encoding?
    		,	(	title.elem
    			&	base.elem? # REVISIT need a non-schema checker or Schematron
    			&	common.inner.metadata
    			)
    		)
  -->
  <define name="body.elem">
    <a:documentation>Content Container: &lt;body&gt;</a:documentation>
    <element name="body">
      <interleave>
        <ref name="body.inner"/>
        <ref name="body.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="body.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <choice>
          <ref name="common.attrs.aria.role.application"/>
          <ref name="common.attrs.aria.landmark.document"/>
          <ref name="common.attrs.aria.role.presentation"/>
          <ref name="common.attrs.aria.implicit.document"/>
        </choice>
      </optional>
      <optional>
        <ref name="body.attrs.onafterprint"/>
      </optional>
      <optional>
        <ref name="body.attrs.onbeforeprint"/>
      </optional>
      <optional>
        <ref name="body.attrs.onbeforeunload"/>
      </optional>
      <optional>
        <ref name="body.attrs.onhashchange"/>
      </optional>
      <optional>
        <ref name="body.attrs.onlanguagechange"/>
      </optional>
      <optional>
        <ref name="body.attrs.onmessage"/>
      </optional>
      <optional>
        <ref name="body.attrs.onmessageerror"/>
      </optional>
      <optional>
        <ref name="body.attrs.onoffline"/>
      </optional>
      <optional>
        <ref name="body.attrs.ononline"/>
      </optional>
      <optional>
        <ref name="body.attrs.onpagehide"/>
      </optional>
      <optional>
        <ref name="body.attrs.onpageshow"/>
      </optional>
      <optional>
        <ref name="body.attrs.onpopstate"/>
      </optional>
      <optional>
        <ref name="body.attrs.onrejectionhandled"/>
      </optional>
      <optional>
        <ref name="body.attrs.onstorage"/>
      </optional>
      <optional>
        <ref name="body.attrs.onunhandledrejection"/>
      </optional>
      <optional>
        <ref name="body.attrs.onunload"/>
      </optional>
    </interleave>
  </define>
  <define name="body.inner">
    <ref name="common.inner.flow"/>
  </define>
  <define name="body.attrs.onafterprint">
    <attribute name="onafterprint">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="body.attrs.onbeforeprint">
    <attribute name="onbeforeprint">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="body.attrs.onbeforeunload">
    <attribute name="onbeforeunload">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="body.attrs.onhashchange">
    <attribute name="onhashchange">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="body.attrs.onlanguagechange">
    <attribute name="onlanguagechange">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="body.attrs.onmessage">
    <attribute name="onmessage">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="body.attrs.onmessageerror">
    <attribute name="onmessageerror">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="body.attrs.onoffline">
    <attribute name="onoffline">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="body.attrs.ononline">
    <attribute name="ononline">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="body.attrs.onpagehide">
    <attribute name="onpagehide">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="body.attrs.onpageshow">
    <attribute name="onpageshow">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="body.attrs.onpopstate">
    <attribute name="onpopstate">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="body.attrs.onrejectionhandled">
    <attribute name="onrejectionhandled">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="body.attrs.onstorage">
    <attribute name="onstorage">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="body.attrs.onunhandledrejection">
    <attribute name="onunhandledrejection">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="body.attrs.onunload">
    <attribute name="onunload">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="title.elem">
    <a:documentation>Document Title: &lt;title&gt;</a:documentation>
    <element name="title">
      <interleave>
        <ref name="title.inner"/>
        <ref name="title.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="title.attrs">
    <ref name="common.attrs"/>
  </define>
  <define name="title.inner">
    <text/>
  </define>
  <define name="base.elem">
    <a:documentation>Base URI: &lt;base&gt;</a:documentation>
    <element name="base">
      <interleave>
        <ref name="base.inner"/>
        <ref name="base.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="base.attrs">
    <interleave>
      <ref name="common.attrs.basic"/>
      <ref name="common.attrs.i18n"/>
      <ref name="common.attrs.present"/>
      <ref name="common.attrs.other"/>
      <choice>
        <interleave>
          <ref name="base.attrs.href"/>
          <optional>
            <ref name="base.attrs.target"/>
          </optional>
        </interleave>
        <ref name="base.attrs.target"/>
      </choice>
    </interleave>
  </define>
  <define name="base.attrs.href">
    <attribute name="href">
      <ref name="common.data.uri"/>
    </attribute>
  </define>
  <define name="base.attrs.target">
    <attribute name="target">
      <ref name="common.data.browsing-context-or-keyword"/>
    </attribute>
  </define>
  <define name="base.inner">
    <empty/>
  </define>
  <define name="link.elem">
    <a:documentation>Global Relationships: &lt;link&gt;</a:documentation>
    <element name="link">
      <interleave>
        <ref name="link.inner"/>
        <ref name="link.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="link.attrs">
    <interleave>
      <ref name="common.attrs.basic"/>
      <ref name="common.attrs.i18n"/>
      <ref name="common.attrs.present"/>
      <ref name="common.attrs.other"/>
      <ref name="link.attrs.rel"/>
      <optional>
        <ref name="link.attrs.href"/>
      </optional>
      <optional>
        <ref name="link.attrs.as"/>
      </optional>
      <optional>
        <ref name="link.attrs.integrity"/>
      </optional>
      <optional>
        <ref name="shared-hyperlink.attrs.hreflang"/>
      </optional>
      <optional>
        <ref name="shared-hyperlink.attrs.media"/>
      </optional>
      <optional>
        <ref name="shared-hyperlink.attrs.type"/>
      </optional>
      <optional>
        <ref name="referrerpolicy"/>
      </optional>
      <optional>
        <ref name="link.attrs.sizes"/>
      </optional>
      <optional>
        <ref name="link.attrs.color"/>
      </optional>
      <optional>
        <ref name="link.attrs.disabled"/>
      </optional>
      <optional>
        <ref name="link.attrs.scope"/>
      </optional>
      <optional>
        <ref name="link.attrs.updateviacache"/>
      </optional>
      <optional>
        <ref name="link.attrs.workertype"/>
      </optional>
      <optional>
        <ref name="link.attrs.imagesrcset"/>
      </optional>
      <optional>
        <ref name="link.attrs.imagesizes"/>
      </optional>
      <optional>
        <ref name="common.attrs.fetchpriority"/>
      </optional>
      <optional>
        <!-- 	link.attrs.title included in common.attrs -->
        <ref name="embedded.content.attrs.crossorigin"/>
      </optional>
      <optional>
        <ref name="common.attrs.blocking"/>
      </optional>
      <optional>
        <ref name="common.attrs.aria.role.link"/>
      </optional>
    </interleave>
  </define>
  <define name="link.attrs.href">
    <attribute name="href">
      <ref name="common.data.uri.non-empty"/>
    </attribute>
  </define>
  <define name="link.attrs.rel">
    <attribute name="rel">
      <data type="string" datatypeLibrary=""/>
    </attribute>
  </define>
  <define name="link.attrs.as">
    <attribute name="as">
      <choice>
        <value type="string" datatypeLibrary=""/>
        <value type="string" datatypeLibrary="">audio</value>
        <value type="string" datatypeLibrary="">audioworklet</value>
        <value type="string" datatypeLibrary="">document</value>
        <value type="string" datatypeLibrary="">embed</value>
        <value type="string" datatypeLibrary="">fetch</value>
        <value type="string" datatypeLibrary="">font</value>
        <value type="string" datatypeLibrary="">image</value>
        <value type="string" datatypeLibrary="">manifest</value>
        <value type="string" datatypeLibrary="">object</value>
        <value type="string" datatypeLibrary="">paintworklet</value>
        <value type="string" datatypeLibrary="">report</value>
        <value type="string" datatypeLibrary="">script</value>
        <value type="string" datatypeLibrary="">serviceworker</value>
        <value type="string" datatypeLibrary="">sharedworker</value>
        <value type="string" datatypeLibrary="">style</value>
        <value type="string" datatypeLibrary="">track</value>
        <value type="string" datatypeLibrary="">video</value>
        <value type="string" datatypeLibrary="">worker</value>
        <value type="string" datatypeLibrary="">xslt</value>
      </choice>
    </attribute>
  </define>
  <define name="link.attrs.integrity">
    <attribute name="integrity">
      <ref name="common.data.integrity"/>
    </attribute>
  </define>
  <define name="link.attrs.sizes">
    <attribute name="sizes">
      <choice>
        <value>any</value>
        <ref name="common.data.sizes"/>
      </choice>
    </attribute>
  </define>
  <define name="link.attrs.color">
    <attribute name="color">
      <ref name="common.data.color"/>
    </attribute>
  </define>
  <define name="link.attrs.disabled">
    <attribute name="disabled">
      <choice>
        <value>disabled</value>
        <value/>
      </choice>
    </attribute>
  </define>
  <define name="link.attrs.scope">
    <attribute name="scope">
      <ref name="common.data.uri"/>
    </attribute>
  </define>
  <define name="link.attrs.updateviacache">
    <attribute name="updateviacache">
      <choice>
        <value type="string" datatypeLibrary="">imports</value>
        <value type="string" datatypeLibrary="">all</value>
        <value type="string" datatypeLibrary="">none</value>
      </choice>
    </attribute>
  </define>
  <define name="link.attrs.workertype">
    <attribute name="workertype">
      <choice>
        <value type="string" datatypeLibrary="">classic</value>
        <value type="string" datatypeLibrary="">module</value>
      </choice>
    </attribute>
  </define>
  <define name="link.attrs.imagesrcset">
    <interleave>
      <attribute name="imagesrcset">
        <data type="string" datatypeLibrary=""/>
      </attribute>
      <ref name="v5only"/>
    </interleave>
  </define>
  <define name="link.attrs.imagesizes">
    <interleave>
      <attribute name="imagesizes">
        <ref name="common.data.source.size.list"/>
      </attribute>
      <ref name="v5only"/>
    </interleave>
  </define>
  <define name="link.inner">
    <empty/>
  </define>
  <define name="common.elem.metadata" combine="choice">
    <ref name="link.elem"/>
  </define>
  <define name="common.elem.phrasing" combine="choice">
    <ref name="link.elem"/>
  </define>
  <define name="common.elem.flow" combine="choice">
    <ref name="link.elem"/>
  </define>
  <define name="style.elem">
    <a:documentation>Global Style: &lt;style&gt;</a:documentation>
    <element name="style">
      <interleave>
        <ref name="style.inner"/>
        <ref name="style.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="style.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <ref name="style.attrs.type"/>
      </optional>
      <optional>
        <ref name="style.attrs.media"/>
      </optional>
      <optional>
        <ref name="common.attrs.blocking"/>
      </optional>
    </interleave>
    <!-- 	style.attrs.title included in common.attrs -->
  </define>
  <define name="style.attrs.type">
    <attribute name="type"/>
  </define>
  <define name="style.attrs.media">
    <attribute name="media">
      <ref name="common.data.mediaquery"/>
    </attribute>
  </define>
  <define name="style.inner">
    <ref name="common.inner.anything"/>
  </define>
  <define name="common.elem.metadata" combine="choice">
    <ref name="style.elem"/>
  </define>
  <define name="meta.name.elem">
    <a:documentation>Name-Value Metadata: &lt;meta name&gt;</a:documentation>
    <element name="meta">
      <interleave>
        <ref name="meta.inner"/>
        <ref name="meta.name.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="meta.name.attrs">
    <interleave>
      <ref name="common.attrs.basic"/>
      <ref name="common.attrs.i18n"/>
      <ref name="common.attrs.present"/>
      <ref name="common.attrs.other"/>
      <ref name="meta.name.attrs.name"/>
      <ref name="meta.name.attrs.content"/>
      <optional>
        <ref name="common.attrs.microdata.itemref"/>
      </optional>
      <optional>
        <ref name="common.attrs.microdata.itemscope"/>
      </optional>
      <optional>
        <ref name="common.attrs.microdata.itemtype"/>
      </optional>
      <optional>
        <ref name="common.attrs.microdata.itemid"/>
      </optional>
      <optional>
        <ref name="shared-hyperlink.attrs.media"/>
      </optional>
    </interleave>
  </define>
  <define name="meta.name.attrs.name">
    <attribute name="name">
      <ref name="datatype.string.nonempty"/>
    </attribute>
  </define>
  <define name="meta.name.attrs.content">
    <attribute name="content">
      <data type="string" datatypeLibrary=""/>
    </attribute>
  </define>
  <define name="meta.inner">
    <empty/>
  </define>
  <define name="common.elem.metadata" combine="choice">
    <ref name="meta.name.elem"/>
  </define>
  <define name="meta.http-equiv.refresh.elem">
    <a:documentation>"refresh" pragma directive: &lt;meta http-equiv='refresh'&gt;</a:documentation>
    <element name="meta">
      <interleave>
        <ref name="meta.inner"/>
        <ref name="meta.http-equiv.refresh.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="meta.http-equiv.refresh.attrs">
    <interleave>
      <ref name="common.attrs.basic"/>
      <ref name="common.attrs.i18n"/>
      <ref name="common.attrs.present"/>
      <ref name="common.attrs.other"/>
      <ref name="meta.http-equiv.attrs.http-equiv.refresh"/>
      <ref name="meta.http-equiv.attrs.content.refresh"/>
    </interleave>
  </define>
  <define name="meta.http-equiv.attrs.http-equiv.refresh">
    <attribute name="http-equiv">
      <value>refresh</value>
    </attribute>
  </define>
  <define name="meta.http-equiv.attrs.content.refresh">
    <attribute name="content">
      <ref name="common.data.refresh"/>
    </attribute>
  </define>
  <define name="common.elem.metadata" combine="choice">
    <ref name="meta.http-equiv.refresh.elem"/>
  </define>
  <!--
    not quite right per spec
    if the definition is 
    reused in another language
  -->
  <define name="meta.http-equiv.default-style.elem">
    <a:documentation>"default-style" pragma directive: &lt;meta http-equiv='default-style'&gt;</a:documentation>
    <element name="meta">
      <interleave>
        <ref name="meta.inner"/>
        <ref name="meta.http-equiv.default-style.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="meta.http-equiv.default-style.attrs">
    <interleave>
      <ref name="common.attrs.basic"/>
      <ref name="common.attrs.i18n"/>
      <ref name="common.attrs.present"/>
      <ref name="common.attrs.other"/>
      <ref name="meta.http-equiv.attrs.http-equiv.default-style"/>
      <ref name="meta.http-equiv.attrs.content.default-style"/>
    </interleave>
  </define>
  <define name="meta.http-equiv.attrs.http-equiv.default-style">
    <attribute name="http-equiv">
      <value>default-style</value>
    </attribute>
  </define>
  <define name="meta.http-equiv.attrs.content.default-style">
    <attribute name="content">
      <ref name="common.data.default-style"/>
    </attribute>
  </define>
  <define name="common.elem.metadata" combine="choice">
    <ref name="meta.http-equiv.default-style.elem"/>
  </define>
  <!--
    not quite right per spec
    if the definition is 
    reused in another language
  -->
  <define name="meta.http-equiv.content-security-policy.elem">
    <a:documentation>Content Security Policy pragma directive: &lt;meta http-equiv='content-security-policy'&gt;</a:documentation>
    <element name="meta">
      <interleave>
        <ref name="meta.inner"/>
        <ref name="meta.http-equiv.content-security-policy.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="meta.http-equiv.content-security-policy.attrs">
    <interleave>
      <ref name="common.attrs.basic"/>
      <ref name="common.attrs.i18n"/>
      <ref name="common.attrs.present"/>
      <ref name="common.attrs.other"/>
      <ref name="meta.http-equiv.attrs.http-equiv.content-security-policy"/>
      <ref name="meta.http-equiv.attrs.content.content-security-policy"/>
    </interleave>
  </define>
  <define name="meta.http-equiv.attrs.http-equiv.content-security-policy">
    <attribute name="http-equiv">
      <value>content-security-policy</value>
    </attribute>
  </define>
  <define name="meta.http-equiv.attrs.content.content-security-policy">
    <attribute name="content">
      <ref name="common.data.content-security-policy"/>
    </attribute>
  </define>
  <define name="common.elem.metadata" combine="choice">
    <ref name="meta.http-equiv.content-security-policy.elem"/>
  </define>
  <define name="meta.http-equiv.x-ua-compatible.elem">
    <a:documentation>"x-ua-compatible" pragma directive: &lt;meta http-equiv='x-ua-compatible'&gt;</a:documentation>
    <element name="meta">
      <interleave>
        <ref name="meta.inner"/>
        <ref name="meta.http-equiv.x-ua-compatible.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="meta.http-equiv.x-ua-compatible.attrs">
    <interleave>
      <ref name="common.attrs.basic"/>
      <ref name="common.attrs.i18n"/>
      <ref name="common.attrs.present"/>
      <ref name="common.attrs.other"/>
      <ref name="meta.http-equiv.attrs.http-equiv.x-ua-compatible"/>
      <ref name="meta.http-equiv.attrs.content.x-ua-compatible"/>
    </interleave>
  </define>
  <define name="meta.http-equiv.attrs.http-equiv.x-ua-compatible">
    <attribute name="http-equiv">
      <value>x-ua-compatible</value>
    </attribute>
  </define>
  <define name="meta.http-equiv.attrs.content.x-ua-compatible">
    <attribute name="content">
      <ref name="common.data.x-ua-compatible"/>
    </attribute>
  </define>
  <define name="common.elem.metadata" combine="choice">
    <ref name="meta.http-equiv.x-ua-compatible.elem"/>
  </define>
  <define name="meta.charset.elem">
    <a:documentation>Inline Character Encoding Statement for HTML: &lt;meta charset&gt;</a:documentation>
    <element name="meta">
      <interleave>
        <ref name="meta.inner"/>
        <ref name="meta.charset.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="meta.charset.attrs">
    <interleave>
      <ref name="common.attrs.basic"/>
      <ref name="common.attrs.i18n"/>
      <ref name="common.attrs.present"/>
      <ref name="common.attrs.other"/>
      <ref name="meta.charset.attrs.charset"/>
    </interleave>
  </define>
  <define name="meta.charset.attrs.charset">
    <attribute name="charset">
      <choice>
        <interleave>
          <data type="string" datatypeLibrary=""/>
          <ref name="HTMLonly"/>
        </interleave>
        <interleave>
          <data type="string">
            <param name="pattern">[uU][tT][fF]-8</param>
          </data>
          <ref name="XMLonly"/>
        </interleave>
      </choice>
    </attribute>
  </define>
  <define name="meta.http-equiv.content-type.elem">
    <a:documentation>Inline Character Encoding Statement for HTML: &lt;meta http-equiv='content-type'&gt;</a:documentation>
    <interleave>
      <element name="meta">
        <interleave>
          <ref name="meta.inner"/>
          <ref name="meta.http-equiv.content-type.attrs"/>
        </interleave>
      </element>
      <ref name="HTMLonly"/>
    </interleave>
  </define>
  <define name="meta.http-equiv.content-type.attrs">
    <interleave>
      <ref name="common.attrs.basic"/>
      <ref name="common.attrs.i18n"/>
      <ref name="common.attrs.present"/>
      <ref name="common.attrs.other"/>
      <ref name="meta.http-equiv.attrs.http-equiv.content-type"/>
      <ref name="meta.http-equiv.attrs.content.content-type"/>
    </interleave>
  </define>
  <define name="meta.http-equiv.attrs.http-equiv.content-type">
    <attribute name="http-equiv">
      <value>content-type</value>
    </attribute>
  </define>
  <define name="meta.http-equiv.attrs.content.content-type">
    <attribute name="content">
      <ref name="common.data.meta-charset"/>
    </attribute>
  </define>
  <define name="common.elem.metadata" combine="choice">
    <choice>
      <ref name="meta.charset.elem"/>
      <ref name="meta.http-equiv.content-type.elem"/>
    </choice>
  </define>

    <a:documentation>Modules from the Nu HTML Checker</a:documentation>
    <!--
      make the title element optional, since one could see the publication title
      as defining a proper "higher-level protocol"
      the lack of \`title\` will however raise a WARNING in a Schematron rule 
    -->
    <define name="head.inner">
      <interleave>
        <optional>
          <ref name="title.elem"/>
        </optional>
        <optional>
          <ref name="base.elem"/>
        </optional>
        <!-- REVISIT need a non-schema checker or Schematron -->
        <ref name="common.inner.metadata"/>
      </interleave>
      <!-- Limit encoding decl position in Schematron -->
    </define>
    <!--
      Allow http-equiv in encoding declaration state in XHTML too
      (W3C allows that, but not WHATWG)
    -->
    <define name="meta.http-equiv.content-type.elem">
      <element name="meta">
        <interleave>
          <ref name="meta.inner"/>
          <ref name="meta.http-equiv.content-type.attrs"/>
        </interleave>
      </element>
    </define>
    <!--
      Make http-equiv case-insensitive
      This is an ugly hack. Case-insensitiveness would better be solved
      at parsing time.
    -->
    <define name="meta.http-equiv.attrs.http-equiv.content-type">
      <attribute name="http-equiv">
        <data type="string">
          <param name="pattern">[cC][oO][nN][tT][eE][nN][tT]-[tT][yY][pP][eE]</param>
        </data>
      </attribute>
    </define>
    <define name="meta.http-equiv.attrs.http-equiv.refresh">
      <attribute name="http-equiv">
        <data type="string">
          <param name="pattern">[rR][eE][fF][rR][eE][sS][hH]</param>
        </data>
      </attribute>
    </define>
    <define name="meta.http-equiv.attrs.http-equiv.default-style">
      <attribute name="http-equiv">
        <data type="string">
          <param name="pattern">[dD][eE][fF][aA][uU][lL][tT]-[sS][tT][yY][lL][eE]</param>
        </data>
      </attribute>
    </define>
    <define name="meta.http-equiv.attrs.http-equiv.content-security-policy">
      <attribute name="http-equiv">
        <data type="string">
          <param name="pattern">[cC][oO][nN][tT][eE][nN][tT]-[sS][eE][cC][uU][rR][iI][tT][yY]-[pP][oO][lL][iI][cC][yY]</param>
        </data>
      </attribute>
    </define>
    <define name="meta.http-equiv.attrs.http-equiv.x-ua-compatible">
      <attribute name="http-equiv">
        <data type="string">
          <param name="pattern">[xX]-[uU][aA]-[cC][oO][mM][pP][aA][tT][iI][bB][lL][eE]</param>
        </data>
      </attribute>
    </define>
  
  <!-- Inlined from phrase.rng -->
<!-- ##################################################################### -->
  <define name="a.elem.phrasing">
    <a:documentation> RELAX NG Schema for HTML 5: Phrase Markup                         #</a:documentation>
    <!-- ##################################################################### -->
    <a:documentation>Contextual Hyperlink: &lt;a&gt;</a:documentation>
    <choice>
      <ref name="a.href.elem.phrasing"/>
      <ref name="a.nohref.elem.phrasing"/>
    </choice>
  </define>
  <define name="a.elem.flow">
    <choice>
      <ref name="a.href.elem.flow"/>
      <ref name="a.nohref.elem.flow"/>
    </choice>
  </define>
  <define name="a.href.elem.phrasing">
    <element name="a">
      <interleave>
        <ref name="a.inner.phrasing"/>
        <ref name="a.href.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="a.href.elem.flow">
    <element name="a">
      <interleave>
        <ref name="a.inner.flow"/>
        <ref name="a.href.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="a.nohref.elem.phrasing">
    <element name="a">
      <interleave>
        <ref name="a.inner.phrasing"/>
        <ref name="a.nohref.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="a.nohref.elem.flow">
    <element name="a">
      <interleave>
        <ref name="a.inner.flow"/>
        <ref name="a.nohref.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="a.href.attrs">
    <interleave>
      <ref name="a.attrs"/>
      <ref name="shared-hyperlink.attrs.href"/>
      <optional>
        <choice>
          <ref name="common.attrs.aria.implicit.link"/>
          <ref name="common.attrs.aria.role.button"/>
          <ref name="common.attrs.aria.role.checkbox"/>
          <ref name="common.attrs.aria.role.link"/>
          <ref name="common.attrs.aria.role.menuitem"/>
          <ref name="common.attrs.aria.role.menuitemcheckbox"/>
          <ref name="common.attrs.aria.role.menuitemradio"/>
          <ref name="common.attrs.aria.role.option"/>
          <ref name="common.attrs.aria.role.radio"/>
          <ref name="common.attrs.aria.role.switch"/>
          <ref name="common.attrs.aria.role.tab"/>
          <ref name="common.attrs.aria.role.treeitem"/>
          <ref name="common.attrs.aria.role.doc-backlink"/>
          <ref name="common.attrs.aria.role.doc-biblioref"/>
          <ref name="common.attrs.aria.role.doc-glossref"/>
          <ref name="common.attrs.aria.role.doc-noteref"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="a.nohref.attrs">
    <interleave>
      <ref name="common.attrs.basic"/>
      <ref name="common.attrs.i18n"/>
      <ref name="common.attrs.present"/>
      <ref name="common.attrs.other"/>
      <optional>
        <ref name="a.attrs.name"/>
      </optional>
      <optional>
        <ref name="common.attrs.aria"/>
      </optional>
    </interleave>
  </define>
  <define name="a.attrs">
    <interleave>
      <ref name="common.attrs.basic"/>
      <ref name="common.attrs.i18n"/>
      <ref name="common.attrs.present"/>
      <ref name="common.attrs.other"/>
      <optional>
        <ref name="a.attrs.name"/>
      </optional>
      <optional>
        <ref name="shared-hyperlink.attrs.download"/>
      </optional>
      <optional>
        <ref name="shared-hyperlink.attrs.target"/>
      </optional>
      <optional>
        <ref name="shared-hyperlink.attrs.rel"/>
      </optional>
      <optional>
        <ref name="shared-hyperlink.attrs.hreflang"/>
      </optional>
      <optional>
        <ref name="shared-hyperlink.attrs.type"/>
      </optional>
      <optional>
        <ref name="shared-hyperlink.attrs.ping"/>
      </optional>
      <optional>
        <ref name="referrerpolicy"/>
      </optional>
    </interleave>
  </define>
  <define name="a.attrs.name">
    <attribute name="name">
      <ref name="common.data.id"/>
      <!-- XXX not what the spec says -->
    </attribute>
  </define>
  <define name="a.inner.phrasing">
    <ref name="common.inner.phrasing"/>
  </define>
  <define name="a.inner.flow">
    <ref name="common.inner.transparent.flow"/>
  </define>
  <define name="common.elem.phrasing" combine="choice">
    <ref name="a.elem.phrasing"/>
  </define>
  <define name="common.elem.flow" combine="choice">
    <ref name="a.elem.flow"/>
  </define>
  <define name="shared-hyperlink.attrs.download">
    <a:documentation>Shared hyperlink attributes</a:documentation>
    <attribute name="download">
      <data type="string"/>
    </attribute>
  </define>
  <define name="shared-hyperlink.attrs.href">
    <attribute name="href">
      <ref name="common.data.uri"/>
    </attribute>
  </define>
  <define name="shared-hyperlink.attrs.target">
    <attribute name="target">
      <ref name="common.data.browsing-context-or-keyword"/>
    </attribute>
  </define>
  <define name="shared-hyperlink.attrs.rel">
    <attribute name="rel">
      <data type="string"/>
    </attribute>
  </define>
  <define name="shared-hyperlink.attrs.hreflang">
    <attribute name="hreflang">
      <ref name="common.data.langcode"/>
    </attribute>
  </define>
  <define name="shared-hyperlink.attrs.media">
    <attribute name="media">
      <ref name="common.data.mediaquery"/>
    </attribute>
  </define>
  <define name="shared-hyperlink.attrs.type">
    <attribute name="type">
      <ref name="common.data.mimetype"/>
    </attribute>
  </define>
  <define name="shared-hyperlink.attrs.ping">
    <interleave>
      <attribute name="ping">
        <ref name="common.data.uris.http.or.https"/>
      </attribute>
      <ref name="v5only"/>
    </interleave>
  </define>
  <define name="referrerpolicy">
    <interleave>
      <attribute name="referrerpolicy">
        <choice>
          <value type="string"/>
          <value type="string">no-referrer</value>
          <value type="string">no-referrer-when-downgrade</value>
          <value type="string">same-origin</value>
          <value type="string">origin</value>
          <value type="string">strict-origin</value>
          <value type="string">origin-when-cross-origin</value>
          <value type="string">strict-origin-when-cross-origin</value>
          <value type="string">unsafe-url</value>
        </choice>
      </attribute>
      <ref name="v5only"/>
    </interleave>
  </define>
  <define name="em.elem">
    <a:documentation>Emphatic Stress: &lt;em&gt;</a:documentation>
    <element name="em">
      <interleave>
        <ref name="em.inner"/>
        <ref name="em.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="em.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <ref name="common.attrs.aria"/>
      </optional>
    </interleave>
  </define>
  <define name="em.inner">
    <ref name="common.inner.phrasing"/>
  </define>
  <define name="common.elem.phrasing" combine="choice">
    <ref name="em.elem"/>
  </define>
  <define name="strong.elem">
    <a:documentation>Strong Importance: &lt;strong&gt;</a:documentation>
    <element name="strong">
      <interleave>
        <ref name="strong.inner"/>
        <ref name="strong.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="strong.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <ref name="common.attrs.aria"/>
      </optional>
    </interleave>
  </define>
  <define name="strong.inner">
    <ref name="common.inner.phrasing"/>
  </define>
  <define name="common.elem.phrasing" combine="choice">
    <ref name="strong.elem"/>
  </define>
  <define name="small.elem">
    <a:documentation>Small Print and Side Comments: &lt;small&gt;</a:documentation>
    <element name="small">
      <interleave>
        <ref name="small.inner"/>
        <ref name="small.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="small.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <ref name="common.attrs.aria"/>
      </optional>
    </interleave>
  </define>
  <define name="small.inner">
    <ref name="common.inner.phrasing"/>
  </define>
  <define name="common.elem.phrasing" combine="choice">
    <ref name="small.elem"/>
  </define>
  <define name="mark.elem">
    <a:documentation>Marked (Highlighted) Text: &lt;mark&gt;</a:documentation>
    <interleave>
      <element name="mark">
        <interleave>
          <ref name="mark.inner"/>
          <ref name="mark.attrs"/>
        </interleave>
      </element>
      <ref name="v5only"/>
    </interleave>
  </define>
  <define name="mark.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <ref name="common.attrs.aria"/>
      </optional>
    </interleave>
  </define>
  <define name="mark.inner">
    <ref name="common.inner.phrasing"/>
  </define>
  <define name="common.elem.phrasing" combine="choice">
    <ref name="mark.elem"/>
  </define>
  <define name="abbr.elem">
    <a:documentation>Abbreviation: &lt;abbr&gt;</a:documentation>
    <element name="abbr">
      <interleave>
        <ref name="abbr.inner"/>
        <ref name="abbr.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="abbr.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <!-- 	abbr.attrs.title included in common.attrs -->
        <ref name="common.attrs.aria"/>
      </optional>
    </interleave>
  </define>
  <define name="abbr.inner">
    <ref name="common.inner.phrasing"/>
  </define>
  <define name="common.elem.phrasing" combine="choice">
    <ref name="abbr.elem"/>
  </define>
  <define name="dfn.elem">
    <a:documentation>Defining Instance: &lt;dfn&gt;</a:documentation>
    <element name="dfn">
      <interleave>
        <ref name="dfn.inner"/>
        <ref name="dfn.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="dfn.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <!-- 	dfn.attrs.title included in common.attrs -->
        <ref name="common.attrs.aria"/>
      </optional>
    </interleave>
  </define>
  <define name="dfn.inner">
    <ref name="common.inner.phrasing"/>
  </define>
  <define name="common.elem.phrasing" combine="choice">
    <ref name="dfn.elem"/>
  </define>
  <define name="i.elem">
    <a:documentation>Italic: &lt;i&gt;</a:documentation>
    <element name="i">
      <interleave>
        <ref name="i.inner"/>
        <ref name="i.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="i.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <ref name="common.attrs.aria"/>
      </optional>
    </interleave>
  </define>
  <define name="i.inner">
    <ref name="common.inner.phrasing"/>
  </define>
  <define name="common.elem.phrasing" combine="choice">
    <ref name="i.elem"/>
  </define>
  <define name="b.elem">
    <a:documentation>Bold: &lt;b&gt;</a:documentation>
    <element name="b">
      <interleave>
        <ref name="b.inner"/>
        <ref name="b.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="b.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <ref name="common.attrs.aria"/>
      </optional>
    </interleave>
  </define>
  <define name="b.inner">
    <ref name="common.inner.phrasing"/>
  </define>
  <define name="common.elem.phrasing" combine="choice">
    <ref name="b.elem"/>
  </define>
  <define name="s.elem">
    <a:documentation>Struck Text: &lt;s&gt;</a:documentation>
    <element name="s">
      <interleave>
        <ref name="s.inner"/>
        <ref name="s.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="s.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <ref name="common.attrs.aria"/>
      </optional>
    </interleave>
  </define>
  <define name="s.inner">
    <ref name="common.inner.phrasing"/>
  </define>
  <define name="common.elem.phrasing" combine="choice">
    <ref name="s.elem"/>
  </define>
  <define name="u.elem">
    <a:documentation>Underline: &lt;u&gt;</a:documentation>
    <element name="u">
      <interleave>
        <ref name="u.inner"/>
        <ref name="u.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="u.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <ref name="common.attrs.aria"/>
      </optional>
    </interleave>
  </define>
  <define name="u.inner">
    <ref name="common.inner.phrasing"/>
  </define>
  <define name="common.elem.phrasing" combine="choice">
    <ref name="u.elem"/>
  </define>
  <define name="code.elem">
    <a:documentation>Code Fragment: &lt;code&gt;</a:documentation>
    <element name="code">
      <interleave>
        <ref name="code.inner"/>
        <ref name="code.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="code.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <ref name="common.attrs.aria"/>
      </optional>
    </interleave>
  </define>
  <define name="code.inner">
    <ref name="common.inner.phrasing"/>
  </define>
  <define name="common.elem.phrasing" combine="choice">
    <ref name="code.elem"/>
  </define>
  <define name="var.elem">
    <a:documentation>Variable or Placeholder: &lt;var&gt;</a:documentation>
    <element name="var">
      <interleave>
        <ref name="var.inner"/>
        <ref name="var.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="var.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <ref name="common.attrs.aria"/>
      </optional>
    </interleave>
  </define>
  <define name="var.inner">
    <ref name="common.inner.phrasing"/>
  </define>
  <define name="common.elem.phrasing" combine="choice">
    <ref name="var.elem"/>
  </define>
  <define name="samp.elem">
    <a:documentation>(Sample) Output: &lt;samp&gt;</a:documentation>
    <element name="samp">
      <interleave>
        <ref name="samp.inner"/>
        <ref name="samp.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="samp.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <ref name="common.attrs.aria"/>
      </optional>
    </interleave>
  </define>
  <define name="samp.inner">
    <ref name="common.inner.phrasing"/>
  </define>
  <define name="common.elem.phrasing" combine="choice">
    <ref name="samp.elem"/>
  </define>
  <define name="kbd.elem">
    <a:documentation>User Input: &lt;kbd&gt;</a:documentation>
    <element name="kbd">
      <interleave>
        <ref name="kbd.inner"/>
        <ref name="kbd.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="kbd.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <ref name="common.attrs.aria"/>
      </optional>
    </interleave>
  </define>
  <define name="kbd.inner">
    <ref name="common.inner.phrasing"/>
  </define>
  <define name="common.elem.phrasing" combine="choice">
    <ref name="kbd.elem"/>
  </define>
  <define name="sup.elem">
    <a:documentation>Superscript: &lt;sup&gt;</a:documentation>
    <element name="sup">
      <interleave>
        <ref name="sup.inner"/>
        <ref name="sup.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="sup.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <ref name="common.attrs.aria"/>
      </optional>
    </interleave>
  </define>
  <define name="sup.inner">
    <ref name="common.inner.phrasing"/>
  </define>
  <define name="common.elem.phrasing" combine="choice">
    <ref name="sup.elem"/>
  </define>
  <define name="sub.elem">
    <a:documentation>Subscript: &lt;sub&gt;</a:documentation>
    <element name="sub">
      <interleave>
        <ref name="sub.inner"/>
        <ref name="sub.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="sub.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <ref name="common.attrs.aria"/>
      </optional>
    </interleave>
  </define>
  <define name="sub.inner">
    <ref name="common.inner.phrasing"/>
  </define>
  <define name="common.elem.phrasing" combine="choice">
    <ref name="sub.elem"/>
  </define>
  <define name="q.elem">
    <a:documentation>Quotation: &lt;q&gt;</a:documentation>
    <element name="q">
      <interleave>
        <ref name="q.inner"/>
        <ref name="q.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="q.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <ref name="q.attrs.cite"/>
      </optional>
      <optional>
        <ref name="common.attrs.aria"/>
      </optional>
    </interleave>
  </define>
  <define name="q.attrs.cite">
    <attribute name="cite">
      <ref name="common.data.uri"/>
    </attribute>
  </define>
  <define name="q.inner">
    <ref name="common.inner.phrasing"/>
  </define>
  <define name="common.elem.phrasing" combine="choice">
    <ref name="q.elem"/>
  </define>
  <define name="cite.elem">
    <a:documentation>Title of Work: &lt;cite&gt;</a:documentation>
    <element name="cite">
      <interleave>
        <ref name="cite.inner"/>
        <ref name="cite.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="cite.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <ref name="common.attrs.aria"/>
      </optional>
    </interleave>
  </define>
  <define name="cite.inner">
    <ref name="common.inner.phrasing"/>
  </define>
  <define name="common.elem.phrasing" combine="choice">
    <ref name="cite.elem"/>
  </define>
  <define name="span.elem">
    <a:documentation>Generic Span: &lt;span&gt;</a:documentation>
    <element name="span">
      <interleave>
        <ref name="span.inner"/>
        <ref name="span.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="span.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <ref name="common.attrs.aria"/>
      </optional>
    </interleave>
  </define>
  <define name="span.inner">
    <ref name="common.inner.phrasing"/>
  </define>
  <!-- REVISIT allow ol and ul? -->
  <define name="common.elem.phrasing" combine="choice">
    <ref name="span.elem"/>
  </define>
  <define name="bdo.elem">
    <a:documentation>Bidirectional Override: &lt;bdo&gt;</a:documentation>
    <element name="bdo">
      <interleave>
        <ref name="bdo.inner"/>
        <ref name="bdo.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="bdo.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <ref name="common.attrs.aria"/>
      </optional>
    </interleave>
  </define>
  <define name="bdo.inner">
    <ref name="common.inner.phrasing"/>
  </define>
  <define name="common.elem.phrasing" combine="choice">
    <ref name="bdo.elem"/>
  </define>
  <define name="bdi.elem">
    <a:documentation>Bidirectional Isolate: &lt;bdi&gt;</a:documentation>
    <element name="bdi">
      <interleave>
        <ref name="bdi.inner"/>
        <ref name="bdi.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="bdi.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <ref name="common.attrs.aria"/>
      </optional>
    </interleave>
  </define>
  <define name="bdi.inner">
    <ref name="common.inner.phrasing"/>
  </define>
  <define name="common.elem.phrasing" combine="choice">
    <ref name="bdi.elem"/>
  </define>
  <define name="br.elem">
    <a:documentation>Line Break: &lt;br&gt;</a:documentation>
    <element name="br">
      <interleave>
        <ref name="br.inner"/>
        <ref name="br.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="br.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <ref name="common.attrs.aria.role.presentation"/>
      </optional>
    </interleave>
  </define>
  <define name="br.inner">
    <empty/>
  </define>
  <define name="common.elem.phrasing" combine="choice">
    <ref name="br.elem"/>
  </define>
  <define name="wbr.elem">
    <a:documentation>Line-break opportunity: &lt;wbr&gt;</a:documentation>
    <element name="wbr">
      <interleave>
        <ref name="wbr.inner"/>
        <ref name="wbr.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="wbr.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <ref name="common.attrs.aria.role.presentation"/>
      </optional>
    </interleave>
  </define>
  <define name="wbr.inner">
    <empty/>
  </define>
  <define name="common.elem.phrasing" combine="choice">
    <ref name="wbr.elem"/>
  </define>
  <!-- Inlined from block.rng -->
<!-- ##################################################################### -->
  <define name="p.elem">
    <a:documentation> RELAX NG Schema for HTML 5: Basic Prose Markup                    #</a:documentation>
    <!-- ##################################################################### -->
    <!-- ##################################################################### -->
    <a:documentation>Paragraph-Level</a:documentation>
    <a:documentation>Paragraph: &lt;p&gt;</a:documentation>
    <element name="p">
      <interleave>
        <ref name="p.inner"/>
        <ref name="p.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="p.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <ref name="common.attrs.aria"/>
      </optional>
    </interleave>
  </define>
  <define name="p.inner">
    <ref name="common.inner.phrasing"/>
  </define>
  <!-- REVISIT lists in span? -->
  <define name="common.elem.flow" combine="choice">
    <ref name="p.elem"/>
  </define>
  <define name="hr.elem">
    <a:documentation>Hint Transition: &lt;hr&gt;</a:documentation>
    <element name="hr">
      <interleave>
        <ref name="hr.inner"/>
        <ref name="hr.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="hr.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <choice>
          <ref name="common.attrs.aria.implicit.separator"/>
          <ref name="common.attrs.aria.role.separator"/>
          <ref name="common.attrs.aria.role.presentation"/>
          <ref name="common.attrs.aria.role.doc-pagebreak"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="hr.inner">
    <empty/>
  </define>
  <define name="common.elem.flow" combine="choice">
    <ref name="hr.elem"/>
  </define>
  <!-- ##################################################################### -->
  <define name="pre.elem">
    <a:documentation>Preformatting Blocks</a:documentation>
    <a:documentation>Preformatted Text: &lt;pre&gt;</a:documentation>
    <element name="pre">
      <interleave>
        <ref name="pre.inner"/>
        <ref name="pre.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="pre.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <ref name="common.attrs.aria"/>
      </optional>
    </interleave>
  </define>
  <define name="pre.inner">
    <ref name="common.inner.phrasing"/>
  </define>
  <define name="common.elem.flow" combine="choice">
    <ref name="pre.elem"/>
  </define>
  <!-- ##################################################################### -->
  <define name="ul.elem">
    <a:documentation>Simple Lists</a:documentation>
    <a:documentation>Unordered List: &lt;ul&gt;</a:documentation>
    <element name="ul">
      <interleave>
        <ref name="ul.inner"/>
        <ref name="ul.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="ul.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <choice>
          <choice>
            <ref name="common.attrs.aria.role.directory"/>
            <ref name="common.attrs.aria.role.group"/>
            <ref name="common.attrs.aria.role.list"/>
            <ref name="common.attrs.aria.role.listbox"/>
            <ref name="common.attrs.aria.role.menu"/>
            <ref name="common.attrs.aria.role.menubar"/>
            <ref name="common.attrs.aria.role.radiogroup"/>
            <ref name="common.attrs.aria.role.tablist"/>
            <ref name="common.attrs.aria.role.toolbar"/>
            <ref name="common.attrs.aria.role.tree"/>
            <ref name="common.attrs.aria.role.presentation"/>
          </choice>
          <ref name="common.attrs.aria.implicit.list"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="ul.inner">
    <interleave>
      <zeroOrMore>
        <ref name="li.elem"/>
      </zeroOrMore>
      <zeroOrMore>
        <ref name="common.elem.script-supporting"/>
      </zeroOrMore>
    </interleave>
  </define>
  <define name="common.elem.flow" combine="choice">
    <ref name="ul.elem"/>
  </define>
  <define name="li.elem">
    <a:documentation>Unordered List Item: &lt;li&gt;</a:documentation>
    <element name="li">
      <interleave>
        <ref name="li.inner"/>
        <ref name="li.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="li.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <choice>
          <ref name="common.attrs.aria.implicit.listitem"/>
          <ref name="common.attrs.aria.role.listitem"/>
          <ref name="common.attrs.aria.role.menuitem"/>
          <ref name="common.attrs.aria.role.menuitemcheckbox"/>
          <ref name="common.attrs.aria.role.menuitemradio"/>
          <ref name="common.attrs.aria.role.option"/>
          <ref name="common.attrs.aria.role.radio"/>
          <ref name="common.attrs.aria.role.tab"/>
          <ref name="common.attrs.aria.role.treeitem"/>
          <ref name="common.attrs.aria.role.separator"/>
          <ref name="common.attrs.aria.role.presentation"/>
          <ref name="common.attrs.aria.role.doc-biblioentry"/>
          <ref name="common.attrs.aria.role.doc-endnote"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="li.inner">
    <ref name="common.inner.flow"/>
  </define>
  <define name="ol.elem">
    <a:documentation>Ordered List: &lt;ol&gt;</a:documentation>
    <element name="ol">
      <interleave>
        <ref name="ol.inner"/>
        <ref name="ol.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="ol.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <ref name="ol.attrs.start"/>
      </optional>
      <optional>
        <ref name="ol.attrs.reversed"/>
      </optional>
      <optional>
        <ref name="ol.attrs.type"/>
      </optional>
      <optional>
        <choice>
          <choice>
            <ref name="common.attrs.aria.role.directory"/>
            <ref name="common.attrs.aria.role.group"/>
            <ref name="common.attrs.aria.role.list"/>
            <ref name="common.attrs.aria.role.listbox"/>
            <ref name="common.attrs.aria.role.menu"/>
            <ref name="common.attrs.aria.role.menubar"/>
            <ref name="common.attrs.aria.role.radiogroup"/>
            <ref name="common.attrs.aria.role.tablist"/>
            <ref name="common.attrs.aria.role.toolbar"/>
            <ref name="common.attrs.aria.role.tree"/>
            <ref name="common.attrs.aria.role.presentation"/>
          </choice>
          <ref name="common.attrs.aria.implicit.list"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="ol.attrs.start">
    <attribute name="start">
      <ref name="common.data.integer"/>
    </attribute>
  </define>
  <define name="ol.attrs.reversed">
    <attribute name="reversed">
      <choice>
        <value>reversed</value>
        <value/>
      </choice>
    </attribute>
  </define>
  <define name="ol.attrs.type">
    <attribute name="type">
      <choice>
        <value>1</value>
        <value>a</value>
        <value>A</value>
        <value>i</value>
        <value>I</value>
      </choice>
    </attribute>
  </define>
  <define name="ol.inner">
    <interleave>
      <zeroOrMore>
        <ref name="oli.elem"/>
      </zeroOrMore>
      <zeroOrMore>
        <ref name="common.elem.script-supporting"/>
      </zeroOrMore>
    </interleave>
  </define>
  <define name="common.elem.flow" combine="choice">
    <ref name="ol.elem"/>
  </define>
  <define name="oli.elem">
    <a:documentation>Ordered List Item: &lt;li&gt;</a:documentation>
    <element name="li">
      <interleave>
        <ref name="oli.inner"/>
        <ref name="oli.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="oli.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <ref name="oli.attrs.value"/>
      </optional>
      <optional>
        <choice>
          <ref name="common.attrs.aria.implicit.listitem"/>
          <ref name="common.attrs.aria.role.listitem"/>
          <ref name="common.attrs.aria.role.menuitem"/>
          <ref name="common.attrs.aria.role.menuitemcheckbox"/>
          <ref name="common.attrs.aria.role.menuitemradio"/>
          <ref name="common.attrs.aria.role.option"/>
          <ref name="common.attrs.aria.role.radio"/>
          <ref name="common.attrs.aria.role.tab"/>
          <ref name="common.attrs.aria.role.treeitem"/>
          <ref name="common.attrs.aria.role.separator"/>
          <ref name="common.attrs.aria.role.presentation"/>
          <ref name="common.attrs.aria.role.doc-biblioentry"/>
          <ref name="common.attrs.aria.role.doc-endnote"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="oli.attrs.value">
    <attribute name="value">
      <ref name="common.data.integer"/>
    </attribute>
  </define>
  <define name="oli.inner">
    <ref name="common.inner.flow"/>
  </define>
  <!-- ##################################################################### -->
  <define name="dl.elem">
    <a:documentation>Definition Lists</a:documentation>
    <a:documentation>Definition List: &lt;dl&gt;</a:documentation>
    <element name="dl">
      <interleave>
        <ref name="dl.inner"/>
        <ref name="dl.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="dl.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <choice>
          <ref name="common.attrs.aria.role.list"/>
          <ref name="common.attrs.aria.role.group"/>
          <ref name="common.attrs.aria.role.presentation"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="dl.inner">
    <choice>
      <zeroOrMore>
        <oneOrMore>
          <interleave>
            <ref name="dt.elem"/>
            <zeroOrMore>
              <ref name="common.elem.script-supporting"/>
            </zeroOrMore>
          </interleave>
        </oneOrMore>
        <oneOrMore>
          <interleave>
            <ref name="dd.elem"/>
            <zeroOrMore>
              <ref name="common.elem.script-supporting"/>
            </zeroOrMore>
          </interleave>
        </oneOrMore>
      </zeroOrMore>
      <oneOrMore>
        <interleave>
          <ref name="dldiv.elem"/>
          <zeroOrMore>
            <ref name="common.elem.script-supporting"/>
          </zeroOrMore>
        </interleave>
      </oneOrMore>
      <zeroOrMore>
        <ref name="common.elem.script-supporting"/>
      </zeroOrMore>
    </choice>
  </define>
  <define name="common.elem.flow" combine="choice">
    <ref name="dl.elem"/>
  </define>
  <define name="dt.elem">
    <a:documentation>Definition Term: &lt;dt&gt;</a:documentation>
    <element name="dt">
      <interleave>
        <ref name="dt.inner"/>
        <ref name="dt.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="dt.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <choice>
        <ref name="common.attrs.aria.implicit.term"/>
        <ref name="common.attrs.aria.role.term"/>
        <ref name="common.attrs.aria.role.listitem"/>
      </choice>
    </interleave>
  </define>
  <define name="dt.inner">
    <ref name="common.inner.flow"/>
  </define>
  <define name="dd.elem">
    <a:documentation>Definition Description: &lt;dd&gt;</a:documentation>
    <element name="dd">
      <interleave>
        <ref name="dd.inner"/>
        <ref name="dd.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="dd.elem.phrasing">
    <element name="dd">
      <interleave>
        <ref name="dd.inner.phrasing"/>
        <ref name="dd.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="dd.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <choice>
        <ref name="common.attrs.aria.implicit.definition"/>
        <ref name="common.attrs.aria.role.definition"/>
      </choice>
    </interleave>
  </define>
  <define name="dd.inner">
    <ref name="common.inner.flow"/>
  </define>
  <define name="dd.inner.phrasing">
    <ref name="common.inner.phrasing"/>
  </define>
  <!-- ##################################################################### -->
  <define name="div.elem">
    <a:documentation>Miscellaneous Elements</a:documentation>
    <a:documentation>Generic Container: &lt;div&gt;</a:documentation>
    <element name="div">
      <interleave>
        <ref name="div.inner"/>
        <ref name="div.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="div.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <ref name="common.attrs.aria"/>
      </optional>
    </interleave>
  </define>
  <define name="div.inner">
    <ref name="common.inner.flow"/>
  </define>
  <define name="common.elem.flow" combine="choice">
    <ref name="div.elem"/>
  </define>
  <define name="dldiv.elem">
    <element name="div">
      <interleave>
        <ref name="dldiv.inner"/>
        <ref name="div.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="dldiv.inner">
    <oneOrMore>
      <interleave>
        <ref name="dt.elem"/>
        <zeroOrMore>
          <ref name="common.elem.script-supporting"/>
        </zeroOrMore>
      </interleave>
    </oneOrMore>
    <oneOrMore>
      <interleave>
        <ref name="dd.elem"/>
        <zeroOrMore>
          <ref name="common.elem.script-supporting"/>
        </zeroOrMore>
      </interleave>
    </oneOrMore>
  </define>
  <define name="legend.elem">
    <a:documentation>Title or Explanatory Caption: &lt;legend&gt;</a:documentation>
    <element name="legend">
      <interleave>
        <ref name="legend.inner"/>
        <ref name="legend.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="legend.attrs">
    <ref name="common.attrs"/>
  </define>
  <define name="legend.inner">
    <interleave>
      <ref name="common.inner.phrasing"/>
      <optional>
        <ref name="h1.elem"/>
      </optional>
      <optional>
        <ref name="h2.elem"/>
      </optional>
      <optional>
        <ref name="h3.elem"/>
      </optional>
      <optional>
        <ref name="h4.elem"/>
      </optional>
      <optional>
        <ref name="h5.elem"/>
      </optional>
      <optional>
        <ref name="h6.elem"/>
      </optional>
      <optional>
        <ref name="hgroup.elem"/>
      </optional>
    </interleave>
  </define>
  <!-- Inlined from sectional.rng -->
<!-- ##################################################################### -->
  <define name="h1.elem">
    <a:documentation> RELAX NG Schema for HTML 5: Sectioning Markup                     #</a:documentation>
    <!-- ##################################################################### -->
    <!-- ##################################################################### -->
    <a:documentation>Headings</a:documentation>
    <a:documentation>Heading (Rank 1): &lt;h1&gt;</a:documentation>
    <element name="h1">
      <interleave>
        <ref name="h1.inner"/>
        <ref name="h1.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="h1.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <choice>
          <ref name="common.attrs.aria.implicit.heading"/>
          <ref name="common.attrs.aria.role.heading"/>
          <ref name="common.attrs.aria.role.tab"/>
          <ref name="common.attrs.aria.role.presentation"/>
          <ref name="common.attrs.aria.role.doc-subtitle"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="h1.inner">
    <ref name="common.inner.phrasing"/>
  </define>
  <define name="common.elem.flow" combine="choice">
    <ref name="h1.elem"/>
  </define>
  <define name="h2.elem">
    <a:documentation>Heading (Rank 2): &lt;h2&gt;</a:documentation>
    <element name="h2">
      <interleave>
        <ref name="h2.inner"/>
        <ref name="h2.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="h2.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <choice>
          <ref name="common.attrs.aria.implicit.heading"/>
          <ref name="common.attrs.aria.role.heading"/>
          <ref name="common.attrs.aria.role.tab"/>
          <ref name="common.attrs.aria.role.presentation"/>
          <ref name="common.attrs.aria.role.doc-subtitle"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="h2.inner">
    <ref name="common.inner.phrasing"/>
  </define>
  <define name="common.elem.flow" combine="choice">
    <ref name="h2.elem"/>
  </define>
  <define name="h3.elem">
    <a:documentation>Heading (Rank 3): &lt;h3&gt;</a:documentation>
    <element name="h3">
      <interleave>
        <ref name="h3.inner"/>
        <ref name="h3.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="h3.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <choice>
          <ref name="common.attrs.aria.implicit.heading"/>
          <ref name="common.attrs.aria.role.heading"/>
          <ref name="common.attrs.aria.role.tab"/>
          <ref name="common.attrs.aria.role.presentation"/>
          <ref name="common.attrs.aria.role.doc-subtitle"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="h3.inner">
    <ref name="common.inner.phrasing"/>
  </define>
  <define name="common.elem.flow" combine="choice">
    <ref name="h3.elem"/>
  </define>
  <define name="h4.elem">
    <a:documentation>Heading (Rank 4): &lt;h4&gt;</a:documentation>
    <element name="h4">
      <interleave>
        <ref name="h4.inner"/>
        <ref name="h4.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="h4.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <choice>
          <ref name="common.attrs.aria.implicit.heading"/>
          <ref name="common.attrs.aria.role.heading"/>
          <ref name="common.attrs.aria.role.tab"/>
          <ref name="common.attrs.aria.role.presentation"/>
          <ref name="common.attrs.aria.role.doc-subtitle"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="h4.inner">
    <ref name="common.inner.phrasing"/>
  </define>
  <define name="common.elem.flow" combine="choice">
    <ref name="h4.elem"/>
  </define>
  <define name="h5.elem">
    <a:documentation>Heading (Rank 5): &lt;h5&gt;</a:documentation>
    <element name="h5">
      <interleave>
        <ref name="h5.inner"/>
        <ref name="h5.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="h5.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <choice>
          <ref name="common.attrs.aria.implicit.heading"/>
          <ref name="common.attrs.aria.role.heading"/>
          <ref name="common.attrs.aria.role.tab"/>
          <ref name="common.attrs.aria.role.presentation"/>
          <ref name="common.attrs.aria.role.doc-subtitle"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="h5.inner">
    <ref name="common.inner.phrasing"/>
  </define>
  <define name="common.elem.flow" combine="choice">
    <ref name="h5.elem"/>
  </define>
  <define name="h6.elem">
    <a:documentation>Heading (Rank 6): &lt;h6&gt;</a:documentation>
    <element name="h6">
      <interleave>
        <ref name="h6.inner"/>
        <ref name="h6.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="h6.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <choice>
          <ref name="common.attrs.aria.implicit.heading"/>
          <ref name="common.attrs.aria.role.heading"/>
          <ref name="common.attrs.aria.role.tab"/>
          <ref name="common.attrs.aria.role.presentation"/>
          <ref name="common.attrs.aria.role.doc-subtitle"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="h6.inner">
    <ref name="common.inner.phrasing"/>
  </define>
  <define name="common.elem.flow" combine="choice">
    <ref name="h6.elem"/>
  </define>
  <define name="hgroup.elem">
    <a:documentation>Heading Group: &lt;hgroup&gt;</a:documentation>
    <element name="hgroup">
      <interleave>
        <ref name="hgroup.inner"/>
        <ref name="hgroup.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="hgroup.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <ref name="common.attrs.aria"/>
      </optional>
    </interleave>
  </define>
  <define name="hgroup.inner">
    <interleave>
      <choice>
        <ref name="h1.elem"/>
        <ref name="h2.elem"/>
        <ref name="h3.elem"/>
        <ref name="h4.elem"/>
        <ref name="h5.elem"/>
        <ref name="h6.elem"/>
      </choice>
      <zeroOrMore>
        <ref name="p.elem"/>
      </zeroOrMore>
      <zeroOrMore>
        <ref name="common.elem.script-supporting"/>
      </zeroOrMore>
    </interleave>
  </define>
  <define name="common.elem.flow" combine="choice">
    <ref name="hgroup.elem"/>
  </define>
  <!-- ##################################################################### -->
  <define name="address.elem">
    <a:documentation>Section Meta</a:documentation>
    <a:documentation>Contact Info: &lt;address&gt;</a:documentation>
    <element name="address">
      <interleave>
        <ref name="address.inner"/>
        <ref name="address.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="address.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <ref name="common.attrs.aria"/>
      </optional>
    </interleave>
  </define>
  <define name="address.inner">
    <ref name="common.inner.flow"/>
  </define>
  <define name="common.elem.flow" combine="choice">
    <ref name="address.elem"/>
  </define>
  <!-- ##################################################################### -->
  <define name="blockquote.elem">
    <a:documentation>Quotations	</a:documentation>
    <a:documentation>Block Quotes: &lt;blockquote&gt;</a:documentation>
    <element name="blockquote">
      <interleave>
        <ref name="blockquote.inner"/>
        <ref name="blockquote.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="blockquote.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <ref name="blockquote.attrs.cite"/>
      </optional>
      <optional>
        <ref name="common.attrs.aria"/>
      </optional>
    </interleave>
  </define>
  <define name="blockquote.attrs.cite">
    <attribute name="cite">
      <ref name="common.data.uri"/>
    </attribute>
  </define>
  <define name="blockquote.inner">
    <ref name="common.inner.flow"/>
  </define>
  <define name="common.elem.flow" combine="choice">
    <ref name="blockquote.elem"/>
  </define>
  <!-- Inlined from structural.rng -->
<!-- ##################################################################### -->
  <define name="section.elem">
    <a:documentation> RELAX NG Schema for HTML 5: Block Markup Added in HTML5           #</a:documentation>
    <!-- ##################################################################### -->
    <a:documentation>Section: &lt;section&gt;</a:documentation>
    <element name="section">
      <interleave>
        <ref name="section.inner"/>
        <ref name="section.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="section.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <choice>
          <ref name="common.attrs.aria.implicit.region"/>
          <ref name="common.attrs.aria.role.alert"/>
          <ref name="common.attrs.aria.role.alertdialog"/>
          <ref name="common.attrs.aria.role.application"/>
          <ref name="common.attrs.aria.role.dialog"/>
          <ref name="common.attrs.aria.role.feed"/>
          <ref name="common.attrs.aria.role.group"/>
          <ref name="common.attrs.aria.role.log"/>
          <ref name="common.attrs.aria.role.marquee"/>
          <ref name="common.attrs.aria.role.presentation"/>
          <ref name="common.attrs.aria.role.region"/>
          <ref name="common.attrs.aria.role.status"/>
          <ref name="common.attrs.aria.role.tabpanel"/>
          <ref name="common.attrs.aria.landmark.banner"/>
          <ref name="common.attrs.aria.landmark.complementary"/>
          <ref name="common.attrs.aria.landmark.contentinfo"/>
          <ref name="common.attrs.aria.landmark.document"/>
          <ref name="common.attrs.aria.landmark.main"/>
          <ref name="common.attrs.aria.landmark.navigation"/>
          <ref name="common.attrs.aria.landmark.note"/>
          <ref name="common.attrs.aria.landmark.search"/>
          <ref name="common.attrs.aria.role.doc-abstract"/>
          <ref name="common.attrs.aria.role.doc-acknowledgments"/>
          <ref name="common.attrs.aria.role.doc-afterword"/>
          <ref name="common.attrs.aria.role.doc-appendix"/>
          <ref name="common.attrs.aria.role.doc-bibliography"/>
          <ref name="common.attrs.aria.role.doc-chapter"/>
          <ref name="common.attrs.aria.role.doc-colophon"/>
          <ref name="common.attrs.aria.role.doc-conclusion"/>
          <ref name="common.attrs.aria.role.doc-credit"/>
          <ref name="common.attrs.aria.role.doc-credits"/>
          <ref name="common.attrs.aria.role.doc-dedication"/>
          <ref name="common.attrs.aria.role.doc-endnotes"/>
          <ref name="common.attrs.aria.role.doc-epigraph"/>
          <ref name="common.attrs.aria.role.doc-epilogue"/>
          <ref name="common.attrs.aria.role.doc-errata"/>
          <ref name="common.attrs.aria.role.doc-example"/>
          <ref name="common.attrs.aria.role.doc-foreword"/>
          <ref name="common.attrs.aria.role.doc-glossary"/>
          <ref name="common.attrs.aria.role.doc-index"/>
          <ref name="common.attrs.aria.role.doc-introduction"/>
          <ref name="common.attrs.aria.role.doc-notice"/>
          <ref name="common.attrs.aria.role.doc-pagelist"/>
          <ref name="common.attrs.aria.role.doc-part"/>
          <ref name="common.attrs.aria.role.doc-preface"/>
          <ref name="common.attrs.aria.role.doc-prologue"/>
          <ref name="common.attrs.aria.role.doc-pullquote"/>
          <ref name="common.attrs.aria.role.doc-qna"/>
          <ref name="common.attrs.aria.role.doc-toc"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="section.inner">
    <ref name="common.inner.flow"/>
  </define>
  <define name="common.elem.flow" combine="choice">
    <ref name="section.elem"/>
  </define>
  <define name="nav.elem">
    <a:documentation>Navigational Links: &lt;nav&gt;</a:documentation>
    <element name="nav">
      <interleave>
        <ref name="nav.inner"/>
        <ref name="nav.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="nav.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <choice>
          <ref name="common.attrs.aria.implicit.navigation"/>
          <ref name="common.attrs.aria.landmark.navigation"/>
          <ref name="common.attrs.aria.role.doc-index"/>
          <ref name="common.attrs.aria.role.doc-pagelist"/>
          <ref name="common.attrs.aria.role.doc-toc"/>
          <ref name="common.attrs.aria.role.menu"/>
          <ref name="common.attrs.aria.role.menubar"/>
          <ref name="common.attrs.aria.role.none"/>
          <ref name="common.attrs.aria.role.presentation"/>
          <ref name="common.attrs.aria.role.tablist"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="nav.inner">
    <ref name="common.inner.flow"/>
  </define>
  <define name="common.elem.flow" combine="choice">
    <ref name="nav.elem"/>
  </define>
  <define name="article.elem">
    <a:documentation>Article: &lt;article&gt;</a:documentation>
    <element name="article">
      <interleave>
        <ref name="article.inner"/>
        <ref name="article.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="article.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <choice>
          <ref name="common.attrs.aria.implicit.article"/>
          <ref name="common.attrs.aria.landmark.article"/>
          <ref name="common.attrs.aria.landmark.document"/>
          <ref name="common.attrs.aria.role.application"/>
          <ref name="common.attrs.aria.landmark.main"/>
          <ref name="common.attrs.aria.role.feed"/>
          <ref name="common.attrs.aria.role.region"/>
          <ref name="common.attrs.aria.role.presentation"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="article.inner">
    <ref name="common.inner.flow"/>
  </define>
  <define name="common.elem.flow" combine="choice">
    <ref name="article.elem"/>
  </define>
  <define name="aside.elem">
    <a:documentation>Tangential Aside: &lt;aside&gt;</a:documentation>
    <element name="aside">
      <interleave>
        <ref name="aside.inner"/>
        <ref name="aside.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="aside.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <choice>
          <ref name="common.attrs.aria.implicit.complementary"/>
          <ref name="common.attrs.aria.landmark.note"/>
          <ref name="common.attrs.aria.landmark.complementary"/>
          <ref name="common.attrs.aria.landmark.search"/>
          <ref name="common.attrs.aria.role.feed"/>
          <ref name="common.attrs.aria.role.region"/>
          <ref name="common.attrs.aria.role.presentation"/>
          <ref name="common.attrs.aria.role.doc-dedication"/>
          <ref name="common.attrs.aria.role.doc-example"/>
          <ref name="common.attrs.aria.role.doc-footnote"/>
          <ref name="common.attrs.aria.role.doc-glossary"/>
          <ref name="common.attrs.aria.role.doc-pullquote"/>
          <ref name="common.attrs.aria.role.doc-tip"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="aside.inner">
    <ref name="common.inner.flow"/>
  </define>
  <define name="common.elem.flow" combine="choice">
    <ref name="aside.elem"/>
  </define>
  <define name="header.elem">
    <a:documentation>Header: &lt;header&gt;</a:documentation>
    <element name="header">
      <interleave>
        <ref name="header.inner"/>
        <ref name="header.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="header.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <choice>
          <ref name="common.attrs.aria.implicit.banner"/>
          <ref name="common.attrs.aria.landmark.banner"/>
          <ref name="common.attrs.aria.role.group"/>
          <ref name="common.attrs.aria.role.presentation"/>
          <ref name="common.attrs.aria.role.doc-footnote"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="header.inner">
    <ref name="common.inner.flow"/>
  </define>
  <define name="common.elem.flow" combine="choice">
    <ref name="header.elem"/>
  </define>
  <define name="footer.elem">
    <a:documentation>Footer: &lt;footer&gt;</a:documentation>
    <element name="footer">
      <interleave>
        <ref name="footer.inner"/>
        <ref name="footer.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="footer.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <choice>
          <ref name="common.attrs.aria.implicit.contentinfo"/>
          <ref name="common.attrs.aria.landmark.contentinfo"/>
          <ref name="common.attrs.aria.role.group"/>
          <ref name="common.attrs.aria.role.presentation"/>
          <ref name="common.attrs.aria.role.doc-footnote"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="footer.inner">
    <ref name="common.inner.flow"/>
  </define>
  <define name="common.elem.flow" combine="choice">
    <ref name="footer.elem"/>
  </define>
  <define name="main.elem">
    <a:documentation>main content: &lt;main&gt;</a:documentation>
    <element name="main">
      <interleave>
        <ref name="main.inner"/>
        <ref name="main.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="main.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <choice>
          <ref name="common.attrs.aria.implicit.main"/>
          <ref name="common.attrs.aria.landmark.main"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="main.inner">
    <ref name="common.inner.flow"/>
  </define>
  <define name="common.elem.flow" combine="choice">
    <ref name="main.elem"/>
  </define>
  <define name="search.elem">
    <a:documentation>Search: &lt;search&gt;</a:documentation>
    <element name="search">
      <interleave>
        <ref name="search.inner"/>
        <ref name="search.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="search.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <choice>
          <ref name="common.attrs.aria.implicit.search"/>
          <ref name="common.attrs.aria.landmark.search"/>
          <ref name="common.attrs.aria.landmark.form"/>
          <ref name="common.attrs.aria.role.group"/>
          <ref name="common.attrs.aria.role.none"/>
          <ref name="common.attrs.aria.role.presentation"/>
          <ref name="common.attrs.aria.role.region"/>
          <ref name="common.attrs.aria.role.search"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="search.inner">
    <ref name="common.inner.flow"/>
  </define>
  <define name="common.elem.flow" combine="choice">
    <ref name="search.elem"/>
  </define>
  <!-- Inlined from revision.rng -->
<!-- ##################################################################### -->
  <define name="edit.attrs.cite">
    <a:documentation> RELAX NG Schema for HTML 5: Revision Annotations                  #</a:documentation>
    <!-- ##################################################################### -->
    <a:documentation>Common Attributes</a:documentation>
    <attribute name="cite">
      <ref name="common.data.uri"/>
    </attribute>
  </define>
  <define name="edit.attrs.datetime">
    <attribute name="datetime">
      <choice>
        <ref name="common.data.datetime"/>
        <ref name="common.data.date"/>
      </choice>
    </attribute>
  </define>
  <define name="ins.elem.flow">
    <a:documentation>Inserts: &lt;ins&gt;</a:documentation>
    <element name="ins">
      <interleave>
        <ref name="ins.inner.flow"/>
        <ref name="ins.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="ins.elem.phrasing">
    <element name="ins">
      <interleave>
        <ref name="ins.inner.phrasing"/>
        <ref name="ins.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="ins.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <ref name="edit.attrs.cite"/>
      </optional>
      <optional>
        <ref name="edit.attrs.datetime"/>
      </optional>
      <optional>
        <ref name="common.attrs.aria"/>
      </optional>
    </interleave>
  </define>
  <define name="ins.inner.flow">
    <ref name="common.inner.transparent.flow"/>
  </define>
  <define name="ins.inner.phrasing">
    <ref name="common.inner.phrasing"/>
  </define>
  <define name="common.elem.flow" combine="choice">
    <ref name="ins.elem.flow"/>
  </define>
  <define name="common.elem.phrasing" combine="choice">
    <ref name="ins.elem.phrasing"/>
  </define>
  <define name="del.elem.flow">
    <a:documentation>Deletions: &lt;del&gt;</a:documentation>
    <element name="del">
      <interleave>
        <ref name="del.inner.flow"/>
        <ref name="del.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="del.elem.phrasing">
    <element name="del">
      <interleave>
        <ref name="del.inner.phrasing"/>
        <ref name="del.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="del.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <ref name="edit.attrs.cite"/>
      </optional>
      <optional>
        <ref name="edit.attrs.datetime"/>
      </optional>
      <optional>
        <ref name="common.attrs.aria"/>
      </optional>
    </interleave>
  </define>
  <define name="del.inner.flow">
    <ref name="common.inner.transparent.flow"/>
  </define>
  <define name="del.inner.phrasing">
    <ref name="common.inner.phrasing"/>
  </define>
  <define name="common.elem.flow" combine="choice">
    <ref name="del.elem.flow"/>
  </define>
  <define name="common.elem.phrasing" combine="choice">
    <ref name="del.elem.phrasing"/>
  </define>
  <!-- Inlined from embed.rng -->
<!-- ##################################################################### -->
  <define name="shared-img.attrs">
    <a:documentation> RELAX NG Schema for HTML 5: Embedded Content                      #</a:documentation>
    <!-- ##################################################################### -->
    <a:documentation>
Replaced Content</a:documentation>
    <a:documentation>Images: &lt;img&gt;</a:documentation>
    <interleave>
      <ref name="common.attrs"/>
      <ref name="img.attrs.src"/>
      <optional>
        <ref name="img.attrs.srcset"/>
      </optional>
      <optional>
        <ref name="img.attrs.sizes"/>
      </optional>
      <optional>
        <ref name="img.attrs.generator-unable-to-provide-required-alt"/>
      </optional>
      <optional>
        <ref name="img.attrs.height"/>
      </optional>
      <optional>
        <ref name="img.attrs.width"/>
      </optional>
      <optional>
        <ref name="img.attrs.usemap"/>
      </optional>
      <optional>
        <ref name="img.attrs.ismap"/>
      </optional>
      <optional>
        <ref name="img.attrs.decoding"/>
      </optional>
      <optional>
        <ref name="img.attrs.loading"/>
      </optional>
      <optional>
        <ref name="common.attrs.fetchpriority"/>
      </optional>
      <optional>
        <ref name="img.attrs.border"/>
      </optional>
      <optional>
        <!-- obsolete -->
        <ref name="referrerpolicy"/>
      </optional>
      <optional>
        <ref name="embedded.content.attrs.crossorigin"/>
      </optional>
    </interleave>
  </define>
  <define name="img.elem">
    <element name="img">
      <interleave>
        <ref name="img.inner"/>
        <ref name="img.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="img.attrs">
    <interleave>
      <ref name="shared-img.attrs"/>
      <optional>
        <ref name="img.attrs.alt"/>
      </optional>
      <optional>
        <choice>
          <ref name="common.attrs.aria.implicit.img"/>
          <ref name="common.attrs.aria.role.button"/>
          <ref name="common.attrs.aria.role.checkbox"/>
          <ref name="common.attrs.aria.role.img"/>
          <ref name="common.attrs.aria.role.link"/>
          <ref name="common.attrs.aria.role.math"/>
          <ref name="common.attrs.aria.role.menuitem"/>
          <ref name="common.attrs.aria.role.menuitemcheckbox"/>
          <ref name="common.attrs.aria.role.menuitemradio"/>
          <ref name="common.attrs.aria.role.none"/>
          <ref name="common.attrs.aria.role.option"/>
          <ref name="common.attrs.aria.role.presentation"/>
          <ref name="common.attrs.aria.role.progressbar"/>
          <ref name="common.attrs.aria.role.radio"/>
          <ref name="common.attrs.aria.role.scrollbar"/>
          <ref name="common.attrs.aria.role.separator"/>
          <ref name="common.attrs.aria.role.slider"/>
          <ref name="common.attrs.aria.role.switch"/>
          <ref name="common.attrs.aria.role.tab"/>
          <ref name="common.attrs.aria.role.treeitem"/>
          <ref name="common.attrs.aria.role.doc-cover"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="img.attrs.src">
    <attribute name="src">
      <ref name="common.data.uri.non-empty"/>
    </attribute>
  </define>
  <define name="img.attrs.srcset">
    <interleave>
      <attribute name="srcset">
        <data type="string"/>
      </attribute>
      <ref name="v5only"/>
    </interleave>
  </define>
  <define name="img.attrs.sizes">
    <interleave>
      <attribute name="sizes">
        <ref name="common.data.source.size.list"/>
      </attribute>
      <ref name="v5only"/>
    </interleave>
  </define>
  <define name="img.attrs.alt">
    <attribute name="alt"/>
  </define>
  <define name="img.attrs.generator-unable-to-provide-required-alt">
    <attribute name="generator-unable-to-provide-required-alt">
      <value type="string"/>
    </attribute>
  </define>
  <define name="img.attrs.height">
    <attribute name="height">
      <ref name="common.data.integer.non-negative"/>
    </attribute>
  </define>
  <define name="img.attrs.width">
    <attribute name="width">
      <ref name="common.data.integer.non-negative"/>
    </attribute>
  </define>
  <define name="img.attrs.usemap">
    <attribute name="usemap">
      <ref name="common.data.hash-name"/>
    </attribute>
  </define>
  <define name="img.attrs.ismap">
    <attribute name="ismap">
      <choice>
        <value>ismap</value>
        <value/>
      </choice>
    </attribute>
  </define>
  <define name="img.attrs.decoding">
    <attribute name="decoding">
      <choice>
        <value type="string">sync</value>
        <value type="string">async</value>
        <value type="string">auto</value>
      </choice>
    </attribute>
  </define>
  <define name="img.attrs.loading">
    <attribute name="loading">
      <choice>
        <value type="string">lazy</value>
        <value type="string">eager</value>
      </choice>
    </attribute>
  </define>
  <define name="img.attrs.border">
    <attribute name="border">
      <ref name="common.data.zero"/>
    </attribute>
  </define>
  <define name="img.inner">
    <empty/>
  </define>
  <define name="common.elem.phrasing" combine="choice">
    <ref name="img.elem"/>
  </define>
  <define name="picture.elem">
    <a:documentation>Image with multiple sources: &lt;picture&gt;</a:documentation>
    <interleave>
      <element name="picture">
        <interleave>
          <ref name="picture.inner"/>
          <ref name="picture.attrs"/>
        </interleave>
      </element>
      <ref name="v5only"/>
    </interleave>
  </define>
  <define name="picture.attrs">
    <ref name="common.attrs"/>
  </define>
  <define name="picture.inner">
    <interleave>
      <zeroOrMore>
        <ref name="source.picture.elem"/>
      </zeroOrMore>
      <zeroOrMore>
        <ref name="common.elem.script-supporting"/>
      </zeroOrMore>
    </interleave>
    <interleave>
      <ref name="img.elem"/>
      <zeroOrMore>
        <ref name="common.elem.script-supporting"/>
      </zeroOrMore>
    </interleave>
  </define>
  <define name="common.elem.phrasing" combine="choice">
    <ref name="picture.elem"/>
  </define>
  <define name="source.picture.elem">
    <a:documentation>Picture source: &lt;source srcset&gt;</a:documentation>
    <element name="source">
      <interleave>
        <ref name="source.picture.inner"/>
        <ref name="source.picture.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="source.picture.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <ref name="source.picture.attrs.media"/>
      </optional>
      <ref name="source.picture.attrs.srcset"/>
      <optional>
        <ref name="source.picture.attrs.sizes"/>
      </optional>
      <optional>
        <ref name="source.picture.attrs.type"/>
      </optional>
      <optional>
        <ref name="source.picture.attrs.width"/>
      </optional>
      <optional>
        <ref name="source.picture.attrs.height"/>
      </optional>
    </interleave>
  </define>
  <define name="source.picture.attrs.media">
    <attribute name="media">
      <ref name="common.data.mediaquery"/>
    </attribute>
  </define>
  <define name="source.picture.attrs.srcset">
    <attribute name="srcset">
      <data type="string"/>
    </attribute>
  </define>
  <define name="source.picture.attrs.sizes">
    <attribute name="sizes">
      <ref name="common.data.source.size.list"/>
    </attribute>
  </define>
  <define name="source.picture.attrs.type">
    <attribute name="type">
      <ref name="common.data.mimetype"/>
    </attribute>
  </define>
  <define name="source.picture.attrs.width">
    <attribute name="width">
      <ref name="common.data.integer.non-negative"/>
    </attribute>
  </define>
  <define name="source.picture.attrs.height">
    <attribute name="height">
      <ref name="common.data.integer.non-negative"/>
    </attribute>
  </define>
  <define name="source.picture.inner">
    <empty/>
  </define>
  <define name="embed.elem">
    <a:documentation>Plug-ins: &lt;embed&gt;</a:documentation>
    <element name="embed">
      <interleave>
        <ref name="embed.inner"/>
        <ref name="embed.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="embed.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <ref name="embed.attrs.src"/>
      </optional>
      <optional>
        <ref name="embed.attrs.type"/>
      </optional>
      <optional>
        <ref name="embed.attrs.height"/>
      </optional>
      <optional>
        <ref name="embed.attrs.width"/>
      </optional>
      <zeroOrMore>
        <ref name="embed.attrs.other"/>
      </zeroOrMore>
      <optional>
        <choice>
          <ref name="common.attrs.aria.role.application"/>
          <ref name="common.attrs.aria.landmark.document"/>
          <ref name="common.attrs.aria.role.img"/>
          <ref name="common.attrs.aria.role.presentation"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="embed.attrs.src">
    <attribute name="src">
      <ref name="common.data.uri.non-empty"/>
    </attribute>
  </define>
  <define name="embed.attrs.type">
    <attribute name="type">
      <ref name="common.data.mimetype"/>
    </attribute>
  </define>
  <define name="embed.attrs.height">
    <attribute name="height">
      <ref name="common.data.integer.non-negative"/>
    </attribute>
  </define>
  <define name="embed.attrs.width">
    <attribute name="width">
      <ref name="common.data.integer.non-negative"/>
    </attribute>
  </define>
  <define name="embed.attrs.other">
    <!-- REVISIT common.attrs -->
    <attribute>
      <nsName ns="">
        <except>
          <name>src</name>
          <name>type</name>
          <name>height</name>
          <name>width</name>
          <name>id</name>
          <name>is</name>
          <name>slot</name>
          <name>class</name>
          <name>title</name>
          <name>dir</name>
          <name>lang</name>
          <name>translate</name>
          <name>style</name>
          <name>tabindex</name>
          <name>autofocus</name>
          <name>inert</name>
          <name>contenteditable</name>
          <name>draggable</name>
          <name>hidden</name>
          <name>popover</name>
          <name>inputmode</name>
          <name>nonce</name>
          <name>onauxclick</name>
          <name>onbeforeinput</name>
          <name>onbeforematch</name>
          <name>onblur</name>
          <name>oncancel</name>
          <name>oncanplay</name>
          <name>oncanplaythrough</name>
          <name>onchange</name>
          <name>onclick</name>
          <name>onclose</name>
          <name>oncontextlost</name>
          <name>oncontextmenu</name>
          <name>oncontextrestored</name>
          <name>oncopy</name>
          <name>oncuechange</name>
          <name>oncut</name>
          <name>ondblclick</name>
          <name>ondrag</name>
          <name>ondragend</name>
          <name>ondragenter</name>
          <name>ondragleave</name>
          <name>ondragover</name>
          <name>ondragstart</name>
          <name>ondrop</name>
          <name>ondurationchange</name>
          <name>onemptied</name>
          <name>onended</name>
          <name>onerror</name>
          <name>onfocus</name>
          <name>onformdata</name>
          <name>oninput</name>
          <name>oninvalid</name>
          <name>onkeydown</name>
          <name>onkeypress</name>
          <name>onkeyup</name>
          <name>onload</name>
          <name>onloadeddata</name>
          <name>onloadedmetadata</name>
          <name>onloadstart</name>
          <name>onmousedown</name>
          <name>onmouseenter</name>
          <name>onmouseleave</name>
          <name>onmousemove</name>
          <name>onmouseout</name>
          <name>onmouseover</name>
          <name>onmouseup</name>
          <name>onpaste</name>
          <name>onpause</name>
          <name>onplay</name>
          <name>onplaying</name>
          <name>onprogress</name>
          <name>onratechange</name>
          <name>onreset</name>
          <name>onresize</name>
          <name>onscroll</name>
          <name>onscrollend</name>
          <name>onsecuritypolicyviolation</name>
          <name>onseeked</name>
          <name>onseeking</name>
          <name>onselect</name>
          <name>onslotchange</name>
          <name>onstalled</name>
          <name>onsubmit</name>
          <name>onsuspend</name>
          <name>ontimeupdate</name>
          <name>ontoggle</name>
          <name>onvolumechange</name>
          <name>onwaiting</name>
          <name>onwheel</name>
          <name>onpointerover</name>
          <name>onpointerenter</name>
          <name>onpointerdown</name>
          <name>onpointermove</name>
          <name>onpointerrawupdate</name>
          <name>onpointerup</name>
          <name>onpointercancel</name>
          <name>onpointerout</name>
          <name>onpointerleave</name>
          <name>ongotpointercapture</name>
          <name>onlostpointercapture</name>
          <name>role</name>
          <name>aria-atomic</name>
          <name>aria-busy</name>
          <name>aria-controls</name>
          <name>aria-current</name>
          <name>aria-details</name>
          <name>aria-describedby</name>
          <name>aria-description</name>
          <name>aria-disabled</name>
          <name>aria-dropeffect</name>
          <name>aria-errormessage</name>
          <name>aria-expanded</name>
          <name>aria-flowto</name>
          <name>aria-grabbed</name>
          <name>aria-haspopup</name>
          <name>aria-hidden</name>
          <name>aria-invalid</name>
          <name>aria-keyshortcuts</name>
          <name>aria-label</name>
          <name>aria-labelledby</name>
          <name>aria-live</name>
          <name>aria-owns</name>
          <name>aria-relevant</name>
          <name>aria-required</name>
          <name>aria-roledescription</name>
          <name>spellcheck</name>
          <name>autocapitalize</name>
          <name>enterkeyhint</name>
          <name>accesskey</name>
          <name>itemref</name>
          <name>itemprop</name>
          <name>itemscope</name>
          <name>itemtype</name>
          <name>itemid</name>
          <name>name</name>
          <name>align</name>
          <name>hspace</name>
          <name>vspace</name>
          <name>about</name>
          <name>prefix</name>
          <name>property</name>
          <name>typeof</name>
          <name>vocab</name>
          <name>content</name>
          <name>datatype</name>
          <name>href</name>
          <name>rel</name>
          <name>resource</name>
          <name>rev</name>
          <name>inlist</name>
          <name>its-loc-note</name>
          <name>its-loc-note-type</name>
          <name>its-loc-note-ref</name>
          <name>its-term-info-ref</name>
          <name>its-term</name>
          <name>its-term-confidence</name>
          <name>its-within-text</name>
          <name>its-domain-mapping</name>
          <name>its-ta-confidence</name>
          <name>its-ta-class-ref</name>
          <name>its-ta-ident</name>
          <name>its-ta-ident-ref</name>
          <name>its-ta-source</name>
          <name>its-locale-filter-list</name>
          <name>its-locale-filter-type</name>
          <name>its-person</name>
          <name>its-person-ref</name>
          <name>its-org</name>
          <name>its-org-ref</name>
          <name>its-tool</name>
          <name>its-tool-ref</name>
          <name>its-rev-person</name>
          <name>its-rev-person-ref</name>
          <name>its-rev-org</name>
          <name>its-rev-org-ref</name>
          <name>its-rev-tool</name>
          <name>its-rev-tool-ref</name>
          <name>its-prov-ref</name>
          <name>its-provenance-records-ref</name>
          <name>its-loc-quality-issues-ref</name>
          <name>its-loc-quality-issue-type</name>
          <name>its-loc-quality-issue-comment</name>
          <name>its-loc-quality-issue-severity</name>
          <name>its-loc-quality-issue-profile-ref</name>
          <name>its-loc-quality-issue-enabled</name>
          <name>its-loc-quality-rating-score</name>
          <name>its-loc-quality-rating-vote</name>
          <name>its-loc-quality-rating-score-threshold</name>
          <name>its-loc-quality-rating-vote-threshold</name>
          <name>its-loc-quality-rating-profile-ref</name>
          <name>its-mt-confidence</name>
          <name>its-allowed-characters</name>
          <name>its-storage-size</name>
          <name>its-storage-encoding</name>
          <name>its-line-break-type</name>
          <name>its-annotators-ref</name>
        </except>
      </nsName>
      <data type="string"/>
    </attribute>
  </define>
  <define name="embed.inner">
    <empty/>
  </define>
  <define name="common.elem.phrasing" combine="choice">
    <ref name="embed.elem"/>
  </define>
  <define name="object.elem.flow">
    <a:documentation>Generic Objects: &lt;object&gt;</a:documentation>
    <element name="object">
      <interleave>
        <ref name="object.inner.flow"/>
        <ref name="object.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="object.elem.phrasing">
    <element name="object">
      <interleave>
        <ref name="object.inner.phrasing"/>
        <ref name="object.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="object.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <choice>
        <interleave>
          <ref name="object.attrs.data"/>
          <optional>
            <ref name="object.attrs.type"/>
          </optional>
        </interleave>
        <ref name="object.attrs.type"/>
      </choice>
      <optional>
        <!--
          		&	object.attrs.classid?
          		&	object.attrs.codebase?
          		&	object.attrs.codetype?
        -->
        <ref name="object.attrs.height"/>
      </optional>
      <optional>
        <ref name="object.attrs.width"/>
      </optional>
      <optional>
        <ref name="object.attrs.usemap"/>
      </optional>
      <optional>
        <ref name="object.attrs.name"/>
      </optional>
      <optional>
        <ref name="common-form.attrs.form"/>
      </optional>
      <optional>
        <choice>
          <ref name="common.attrs.aria.role.application"/>
          <ref name="common.attrs.aria.landmark.document"/>
          <ref name="common.attrs.aria.role.img"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="object.attrs.data">
    <attribute name="data">
      <ref name="common.data.uri.non-empty"/>
    </attribute>
  </define>
  <define name="object.attrs.type">
    <attribute name="type">
      <ref name="common.data.mimetype"/>
    </attribute>
  </define>
  <define name="object.attrs.height">
    <attribute name="height">
      <ref name="common.data.integer.non-negative"/>
    </attribute>
  </define>
  <define name="object.attrs.width">
    <attribute name="width">
      <ref name="common.data.integer.non-negative"/>
    </attribute>
  </define>
  <define name="object.attrs.usemap">
    <attribute name="usemap">
      <ref name="common.data.hash-name"/>
    </attribute>
  </define>
  <define name="object.attrs.name">
    <attribute name="name">
      <ref name="common.data.browsing-context"/>
    </attribute>
  </define>
  <define name="object.inner.flow">
    <zeroOrMore>
      <ref name="param.elem"/>
    </zeroOrMore>
    <ref name="common.inner.transparent.flow"/>
  </define>
  <define name="object.inner.phrasing">
    <zeroOrMore>
      <ref name="param.elem"/>
    </zeroOrMore>
    <ref name="common.inner.phrasing"/>
  </define>
  <define name="common.elem.flow" combine="choice">
    <ref name="object.elem.flow"/>
  </define>
  <define name="common.elem.phrasing" combine="choice">
    <ref name="object.elem.phrasing"/>
  </define>
  <define name="param.elem">
    <a:documentation>Initialization Parameters: &lt;param&gt;</a:documentation>
    <element name="param">
      <interleave>
        <ref name="param.inner"/>
        <ref name="param.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="param.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <ref name="param.attrs.name"/>
      <ref name="param.attrs.value"/>
    </interleave>
  </define>
  <define name="param.attrs.name">
    <attribute name="name">
      <data type="string"/>
    </attribute>
  </define>
  <define name="param.attrs.value">
    <attribute name="value">
      <data type="string"/>
    </attribute>
  </define>
  <define name="param.inner">
    <empty/>
  </define>
  <define name="iframe.elem">
    <a:documentation>Inline Frame: &lt;iframe&gt;</a:documentation>
    <element name="iframe">
      <interleave>
        <ref name="iframe.inner"/>
        <ref name="iframe.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="iframe.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <ref name="iframe.attrs.src"/>
      </optional>
      <optional>
        <ref name="iframe.attrs.srcdoc"/>
      </optional>
      <optional>
        <ref name="iframe.attrs.name"/>
      </optional>
      <optional>
        <ref name="iframe.attrs.width"/>
      </optional>
      <optional>
        <ref name="iframe.attrs.height"/>
      </optional>
      <optional>
        <ref name="iframe.attrs.loading"/>
      </optional>
      <optional>
        <ref name="iframe.attrs.sandbox"/>
      </optional>
      <optional>
        <ref name="iframe.attrs.allowfullscreen"/>
      </optional>
      <optional>
        <ref name="iframe.attrs.allow"/>
      </optional>
      <optional>
        <ref name="referrerpolicy"/>
      </optional>
      <optional>
        <choice>
          <ref name="common.attrs.aria.role.application"/>
          <ref name="common.attrs.aria.landmark.document"/>
          <ref name="common.attrs.aria.role.img"/>
          <ref name="common.attrs.aria.role.presentation"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="iframe.attrs.src">
    <attribute name="src">
      <ref name="common.data.uri.non-empty"/>
    </attribute>
  </define>
  <define name="iframe.attrs.srcdoc">
    <attribute name="srcdoc">
      <data type="string"/>
      <!-- FIXME -->
    </attribute>
  </define>
  <define name="iframe.attrs.name">
    <attribute name="name">
      <ref name="common.data.browsing-context"/>
    </attribute>
  </define>
  <define name="iframe.attrs.height">
    <attribute name="height">
      <ref name="common.data.integer.non-negative"/>
    </attribute>
  </define>
  <define name="iframe.attrs.loading">
    <attribute name="loading">
      <choice>
        <value>lazy</value>
        <value>eager</value>
      </choice>
    </attribute>
  </define>
  <define name="iframe.attrs.width">
    <attribute name="width">
      <ref name="common.data.integer.non-negative"/>
    </attribute>
  </define>
  <define name="iframe.attrs.sandbox">
    <interleave>
      <attribute name="sandbox">
        <ref name="common.data.sandbox-allow-list"/>
      </attribute>
      <ref name="v5only"/>
    </interleave>
  </define>
  <define name="iframe.attrs.allowfullscreen">
    <interleave>
      <attribute name="allowfullscreen">
        <choice>
          <value>allowfullscreen</value>
          <value/>
        </choice>
      </attribute>
      <ref name="v5only"/>
    </interleave>
  </define>
  <define name="iframe.attrs.allow">
    <attribute name="allow">
      <ref name="common.data.feature-policy"/>
    </attribute>
  </define>
  <define name="iframe.inner">
    <empty/>
  </define>
  <define name="common.elem.phrasing" combine="choice">
    <ref name="iframe.elem"/>
  </define>
  <define name="map.elem.flow">
    <a:documentation>
Image Maps</a:documentation>
    <a:documentation>Map Definition: &lt;map&gt;</a:documentation>
    <element name="map">
      <interleave>
        <ref name="map.inner.flow"/>
        <ref name="map.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="map.elem.phrasing">
    <element name="map">
      <interleave>
        <ref name="map.inner.phrasing"/>
        <ref name="map.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="map.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <ref name="map.attrs.name"/>
    </interleave>
  </define>
  <!-- REVISIT make id required in Schematron -->
  <define name="map.attrs.name">
    <attribute name="name">
      <ref name="common.data.name"/>
    </attribute>
  </define>
  <define name="map.inner.flow">
    <ref name="common.inner.transparent.flow"/>
  </define>
  <define name="map.inner.phrasing">
    <ref name="common.inner.phrasing"/>
  </define>
  <define name="common.elem.flow" combine="choice">
    <ref name="map.elem.flow"/>
  </define>
  <define name="common.elem.phrasing" combine="choice">
    <ref name="map.elem.phrasing"/>
  </define>
  <define name="area.elem">
    <a:documentation>Map Area Definition: &lt;area&gt;</a:documentation>
    <element name="area">
      <interleave>
        <ref name="area.inner"/>
        <ref name="area.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="area.attrs">
    <interleave>
      <ref name="common.attrs.basic"/>
      <ref name="common.attrs.i18n"/>
      <ref name="common.attrs.present"/>
      <ref name="common.attrs.other"/>
      <optional>
        <ref name="shared-hyperlink.attrs.download"/>
      </optional>
      <optional>
        <interleave>
          <ref name="area.attrs.alt"/>
          <ref name="shared-hyperlink.attrs.href"/>
        </interleave>
      </optional>
      <optional>
        <ref name="shared-hyperlink.attrs.target"/>
      </optional>
      <optional>
        <ref name="shared-hyperlink.attrs.ping"/>
      </optional>
      <optional>
        <ref name="shared-hyperlink.attrs.rel"/>
      </optional>
      <optional>
        <ref name="shared-hyperlink.attrs.hreflang"/>
      </optional>
      <optional>
        <ref name="shared-hyperlink.attrs.type"/>
      </optional>
      <optional>
        <ref name="area.attrs.shape"/>
      </optional>
      <optional>
        <choice>
          <ref name="common.attrs.aria.role.link"/>
          <ref name="common.attrs.aria.role.button"/>
          <ref name="common.attrs.aria.implicit.link"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="area.attrs.alt">
    <attribute name="alt"/>
  </define>
  <define name="area.attrs.shape">
    <choice>
      <interleave>
        <optional>
          <ref name="area.attrs.shape.rect"/>
        </optional>
        <ref name="area.attrs.coords.rect"/>
      </interleave>
      <interleave>
        <ref name="area.attrs.shape.circle"/>
        <ref name="area.attrs.coords.circle"/>
      </interleave>
      <interleave>
        <ref name="area.attrs.shape.poly"/>
        <ref name="area.attrs.coords.poly"/>
      </interleave>
      <ref name="area.attrs.shape.default"/>
    </choice>
  </define>
  <define name="area.attrs.shape.rect">
    <attribute name="shape">
      <value>rect</value>
    </attribute>
  </define>
  <define name="area.attrs.coords.rect">
    <attribute name="coords">
      <ref name="datatype.html5.coords.rectangle"/>
      <!--
        				xsd:token {
        					pattern = "-?[0-9]+,-?[0-9]+,-?[0-9]+,-?[0-9]+"
        				}
      -->
    </attribute>
  </define>
  <define name="area.attrs.shape.circle">
    <attribute name="shape">
      <value>circle</value>
    </attribute>
  </define>
  <define name="area.attrs.coords.circle">
    <attribute name="coords">
      <ref name="datatype.html5.coords.circle"/>
      <!--
        				xsd:token {
        					pattern = "-?[0-9]+,-?[0-9]+,[0-9]+"
        				}
      -->
    </attribute>
  </define>
  <define name="area.attrs.shape.poly">
    <attribute name="shape">
      <value>poly</value>
    </attribute>
  </define>
  <define name="area.attrs.coords.poly">
    <attribute name="coords">
      <ref name="datatype.html5.coords.poly"/>
      <!--
        				xsd:token {
        					pattern = "-?[0-9]+,-?[0-9]+,-?[0-9]+,-?[0-9]+,-?[0-9]+,-?[0-9]+(,-?[0-9]+,-?[0-9]+)*"
        				}
      -->
    </attribute>
  </define>
  <define name="area.attrs.shape.default">
    <attribute name="shape">
      <value>default</value>
    </attribute>
  </define>
  <define name="area.inner">
    <empty/>
  </define>
  <define name="common.elem.phrasing" combine="choice">
    <ref name="area.elem"/>
  </define>
  <define name="embedded.content.attrs.crossorigin">
    <a:documentation>Attributes Common to Embedded Content</a:documentation>
    <interleave>
      <attribute name="crossorigin">
        <choice>
          <value>anonymous</value>
          <value>use-credentials</value>
          <value/>
        </choice>
      </attribute>
      <ref name="v5only"/>
    </interleave>
  </define>
  <!-- Inlined from ruby.rng -->
<!-- ##################################################################### -->
  <define name="ruby.elem">
    <a:documentation> RELAX NG Schema for HTML 5: Ruby                                  #</a:documentation>
    <!-- ##################################################################### -->
    <a:documentation/>
    <a:documentation>Ruby Annotation: &lt;ruby&gt;</a:documentation>
    <element name="ruby">
      <interleave>
        <ref name="ruby.inner"/>
        <ref name="ruby.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="ruby.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <ref name="common.attrs.aria"/>
      </optional>
    </interleave>
  </define>
  <define name="ruby.inner">
    <oneOrMore>
      <oneOrMore>
        <choice>
          <ref name="common.inner.phrasing"/>
          <ref name="rb.elem"/>
        </choice>
      </oneOrMore>
      <choice>
        <oneOrMore>
          <choice>
            <ref name="rt.elem"/>
            <ref name="rtc.elem"/>
          </choice>
        </oneOrMore>
        <group>
          <ref name="rp.elem"/>
          <oneOrMore>
            <choice>
              <ref name="rt.elem"/>
              <ref name="rtc.elem"/>
            </choice>
            <ref name="rp.elem"/>
          </oneOrMore>
        </group>
      </choice>
    </oneOrMore>
  </define>
  <define name="common.elem.phrasing" combine="choice">
    <ref name="ruby.elem"/>
  </define>
  <define name="rt.elem">
    <a:documentation>Ruby Text: &lt;rt&gt;</a:documentation>
    <element name="rt">
      <interleave>
        <ref name="rt.inner"/>
        <ref name="rt.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="rt.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <ref name="common.attrs.aria"/>
      </optional>
    </interleave>
  </define>
  <define name="rt.inner">
    <ref name="common.inner.phrasing"/>
  </define>
  <define name="rtc.elem">
    <a:documentation>Ruby Text Container: &lt;rtc&gt;</a:documentation>
    <element name="rtc">
      <interleave>
        <ref name="rtc.inner"/>
        <ref name="rtc.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="rtc.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <ref name="common.attrs.aria"/>
      </optional>
    </interleave>
  </define>
  <define name="rtc.inner">
    <zeroOrMore>
      <choice>
        <ref name="common.inner.phrasing"/>
        <ref name="rt.elem"/>
        <ref name="rp.elem"/>
      </choice>
    </zeroOrMore>
  </define>
  <define name="rb.elem">
    <a:documentation>Ruby Base: &lt;rb&gt;</a:documentation>
    <element name="rb">
      <interleave>
        <ref name="rb.inner"/>
        <ref name="rb.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="rb.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <ref name="common.attrs.aria"/>
      </optional>
    </interleave>
  </define>
  <define name="rb.inner">
    <ref name="common.inner.phrasing"/>
  </define>
  <define name="rp.elem">
    <a:documentation>Ruby Parenthesis: &lt;rp&gt;</a:documentation>
    <element name="rp">
      <interleave>
        <ref name="rp.inner"/>
        <ref name="rp.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="rp.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <ref name="common.attrs.aria"/>
      </optional>
    </interleave>
  </define>
  <define name="rp.inner">
    <text/>
  </define>
  <!-- Inlined from media.rng -->
<!-- ##################################################################### -->
  <!-- src not included -->
  <define name="media.attrs">
    <a:documentation> RELAX NG Schema for HTML 5: Advanced Embedded Content             #</a:documentation>
    <!-- ##################################################################### -->
    <a:documentation>Attributes Common to Media Elements</a:documentation>
    <interleave>
      <optional>
        <ref name="media.attrs.autoplay"/>
      </optional>
      <optional>
        <ref name="media.attrs.preload"/>
      </optional>
      <optional>
        <ref name="media.attrs.controls"/>
      </optional>
      <optional>
        <ref name="media.attrs.loop"/>
      </optional>
      <optional>
        <ref name="media.attrs.muted"/>
      </optional>
      <optional>
        <ref name="embedded.content.attrs.crossorigin"/>
      </optional>
    </interleave>
  </define>
  <define name="media.attrs.autoplay">
    <attribute name="autoplay">
      <choice>
        <value>autoplay</value>
        <value/>
      </choice>
    </attribute>
  </define>
  <define name="media.attrs.preload">
    <attribute name="preload">
      <choice>
        <value>none</value>
        <value>metadata</value>
        <value>auto</value>
        <value/>
      </choice>
    </attribute>
  </define>
  <define name="media.attrs.controls">
    <attribute name="controls">
      <choice>
        <value>controls</value>
        <value/>
      </choice>
    </attribute>
  </define>
  <define name="media.attrs.loop">
    <attribute name="loop">
      <choice>
        <value>loop</value>
        <value/>
      </choice>
    </attribute>
  </define>
  <define name="media.attrs.muted">
    <attribute name="muted">
      <choice>
        <value>muted</value>
        <value/>
      </choice>
    </attribute>
  </define>
  <define name="source.elem">
    <a:documentation>Source: &lt;source&gt;</a:documentation>
    <element name="source">
      <interleave>
        <ref name="source.inner"/>
        <ref name="source.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="source.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <ref name="source.attrs.src"/>
      <optional>
        <ref name="source.attrs.type"/>
      </optional>
    </interleave>
  </define>
  <define name="source.attrs.src">
    <attribute name="src">
      <ref name="common.data.uri.non-empty"/>
    </attribute>
  </define>
  <define name="source.attrs.type">
    <attribute name="type">
      <ref name="common.data.mimetype"/>
    </attribute>
  </define>
  <define name="source.inner">
    <empty/>
  </define>
  <define name="media.source">
    <a:documentation>Media Source</a:documentation>
    <choice>
      <ref name="media.attrs.src"/>
      <zeroOrMore>
        <ref name="source.elem"/>
      </zeroOrMore>
    </choice>
  </define>
  <define name="media.attrs.src">
    <attribute name="src">
      <ref name="common.data.uri.non-empty"/>
    </attribute>
  </define>
  <define name="video.elem.flow">
    <a:documentation>Video: &lt;video&gt;</a:documentation>
    <element name="video">
      <interleave>
        <ref name="video.inner.flow"/>
        <ref name="video.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="video.elem.phrasing">
    <element name="video">
      <interleave>
        <ref name="video.inner.phrasing"/>
        <ref name="video.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="video.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <ref name="media.attrs"/>
      <optional>
        <ref name="video.attrs.poster"/>
      </optional>
      <optional>
        <ref name="video.attrs.height"/>
      </optional>
      <optional>
        <ref name="video.attrs.width"/>
      </optional>
      <optional>
        <ref name="video.attrs.playsinline"/>
      </optional>
      <optional>
        <ref name="common.attrs.aria.role.application"/>
      </optional>
    </interleave>
  </define>
  <define name="video.attrs.poster">
    <attribute name="poster">
      <ref name="common.data.uri.non-empty"/>
    </attribute>
  </define>
  <define name="video.attrs.height">
    <attribute name="height">
      <ref name="common.data.integer.non-negative"/>
    </attribute>
  </define>
  <define name="video.attrs.width">
    <attribute name="width">
      <ref name="common.data.integer.non-negative"/>
    </attribute>
  </define>
  <define name="video.attrs.playsinline">
    <attribute name="playsinline">
      <choice>
        <value>playsinline</value>
        <value/>
      </choice>
    </attribute>
  </define>
  <define name="video.inner.flow">
    <ref name="media.source"/>
    <zeroOrMore>
      <ref name="track.elem"/>
    </zeroOrMore>
    <ref name="common.inner.transparent.flow"/>
  </define>
  <define name="video.inner.phrasing">
    <ref name="media.source"/>
    <zeroOrMore>
      <ref name="track.elem"/>
    </zeroOrMore>
    <ref name="common.inner.phrasing"/>
  </define>
  <define name="common.elem.flow" combine="choice">
    <ref name="video.elem.flow"/>
  </define>
  <define name="common.elem.phrasing" combine="choice">
    <ref name="video.elem.phrasing"/>
  </define>
  <define name="audio.elem.flow">
    <a:documentation>Audio: &lt;audio&gt;</a:documentation>
    <element name="audio">
      <interleave>
        <ref name="audio.inner.flow"/>
        <ref name="audio.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="audio.elem.phrasing">
    <element name="audio">
      <interleave>
        <ref name="audio.inner.phrasing"/>
        <ref name="audio.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="audio.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <ref name="media.attrs"/>
      <optional>
        <ref name="common.attrs.aria.role.application"/>
      </optional>
    </interleave>
  </define>
  <define name="audio.inner.flow">
    <ref name="media.source"/>
    <zeroOrMore>
      <ref name="track.elem"/>
    </zeroOrMore>
    <ref name="common.inner.transparent.flow"/>
  </define>
  <define name="audio.inner.phrasing">
    <ref name="media.source"/>
    <zeroOrMore>
      <ref name="track.elem"/>
    </zeroOrMore>
    <ref name="common.inner.phrasing"/>
  </define>
  <define name="common.elem.flow" combine="choice">
    <ref name="audio.elem.flow"/>
  </define>
  <define name="common.elem.phrasing" combine="choice">
    <ref name="audio.elem.phrasing"/>
  </define>
  <!---->
  <define name="track.elem">
    <a:documentation>supplementary media track: &lt;track&gt;</a:documentation>
    <element name="track">
      <interleave>
        <ref name="track.inner"/>
        <ref name="track.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="track.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <ref name="track.attrs.kind"/>
      </optional>
      <ref name="track.attrs.src"/>
      <optional>
        <ref name="track.attrs.srclang"/>
      </optional>
      <optional>
        <ref name="track.attrs.label"/>
      </optional>
      <optional>
        <ref name="track.attrs.default"/>
      </optional>
    </interleave>
  </define>
  <define name="track.attrs.kind">
    <attribute name="kind">
      <choice>
        <value>subtitles</value>
        <value>captions</value>
        <value>descriptions</value>
        <value>chapters</value>
        <value>metadata</value>
      </choice>
    </attribute>
  </define>
  <define name="track.attrs.src">
    <attribute name="src">
      <ref name="common.data.uri.non-empty"/>
    </attribute>
  </define>
  <define name="track.attrs.srclang">
    <attribute name="srclang">
      <ref name="common.data.langcode"/>
    </attribute>
  </define>
  <define name="track.attrs.label">
    <attribute name="label">
      <data type="string"/>
      <!-- must be non-empty value; check is in assertions code -->
    </attribute>
  </define>
  <define name="track.attrs.default">
    <attribute name="default">
      <choice>
        <value>default</value>
        <value/>
      </choice>
    </attribute>
  </define>
  <define name="track.inner">
    <empty/>
  </define>
  <define name="figure.elem">
    <a:documentation>Captioned Content: &lt;figure&gt;</a:documentation>
    <element name="figure">
      <interleave>
        <ref name="figure.inner"/>
        <ref name="figure.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="figure.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <choice>
          <ref name="common.attrs.aria.implicit.figure"/>
          <optional>
            <ref name="common.attrs.aria"/>
          </optional>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="figure.inner">
    <choice>
      <group>
        <optional>
          <ref name="figcaption.elem"/>
        </optional>
        <ref name="common.inner.flow"/>
      </group>
      <group>
        <ref name="common.inner.flow"/>
        <optional>
          <ref name="figcaption.elem"/>
        </optional>
      </group>
    </choice>
  </define>
  <define name="common.elem.flow" combine="choice">
    <ref name="figure.elem"/>
  </define>
  <define name="figcaption.elem">
    <a:documentation>Figure caption: &lt;figcaption&gt;</a:documentation>
    <element name="figcaption">
      <interleave>
        <ref name="figcaption.inner"/>
        <ref name="figcaption.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="figcaption.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <choice>
          <ref name="common.attrs.aria.role.presentation"/>
          <ref name="common.attrs.aria.role.group"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="figcaption.inner">
    <ref name="common.inner.flow"/>
  </define>
  <!-- Inlined from core-scripting.rng -->
<!-- ##################################################################### -->
  <define name="script.elem.embedded">
    <a:documentation> RELAX NG Schema for HTML 5: Core Scripting                        #</a:documentation>
    <!-- ##################################################################### -->
    <!-- ##################################################################### -->
    <a:documentation>Scripting Elements</a:documentation>
    <a:documentation>Inline Scripts: &lt;script&gt;</a:documentation>
    <element name="script">
      <interleave>
        <ref name="script.inner.embedded"/>
        <ref name="script.attrs.embedded"/>
      </interleave>
    </element>
  </define>
  <define name="script.attrs.embedded">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <ref name="script.attrs.type"/>
      </optional>
      <optional>
        <ref name="script.attrs.nomodule"/>
      </optional>
      <optional>
        <ref name="script.attrs.language"/>
      </optional>
      <optional>
        <!-- restricted in Schematron -->
        <ref name="script.attrs.integrity"/>
      </optional>
      <optional>
        <ref name="embedded.content.attrs.crossorigin"/>
      </optional>
      <optional>
        <ref name="referrerpolicy"/>
      </optional>
    </interleave>
  </define>
  <define name="script.elem.imported">
    <element name="script">
      <interleave>
        <ref name="script.inner.imported"/>
        <ref name="script.attrs.imported"/>
      </interleave>
    </element>
  </define>
  <define name="script.attrs.imported">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <ref name="script.attrs.src"/>
      </optional>
      <optional>
        <ref name="script.attrs.defer"/>
      </optional>
      <optional>
        <ref name="script.attrs.async"/>
      </optional>
      <optional>
        <ref name="script.attrs.type"/>
      </optional>
      <optional>
        <ref name="script.attrs.nomodule"/>
      </optional>
      <optional>
        <ref name="script.attrs.charset"/>
      </optional>
      <optional>
        <ref name="script.attrs.language"/>
      </optional>
      <optional>
        <!-- restricted in Schematron -->
        <ref name="script.attrs.integrity"/>
      </optional>
      <optional>
        <ref name="embedded.content.attrs.crossorigin"/>
      </optional>
      <optional>
        <ref name="common.attrs.blocking"/>
      </optional>
      <optional>
        <ref name="common.attrs.fetchpriority"/>
      </optional>
      <optional>
        <ref name="referrerpolicy"/>
      </optional>
    </interleave>
  </define>
  <define name="script.attrs.src">
    <attribute name="src">
      <ref name="common.data.uri.non-empty"/>
    </attribute>
  </define>
  <define name="script.attrs.defer">
    <attribute name="defer">
      <choice>
        <value>defer</value>
        <value/>
      </choice>
    </attribute>
  </define>
  <define name="script.attrs.async">
    <interleave>
      <attribute name="async">
        <choice>
          <value>async</value>
          <value/>
        </choice>
      </attribute>
      <ref name="v5only"/>
    </interleave>
  </define>
  <define name="script.attrs.type">
    <attribute name="type">
      <choice>
        <value>module</value>
        <value>importmap</value>
        <value/>
        <ref name="common.data.scripttype"/>
      </choice>
      <!-- XXX without charset parameter! -->
    </attribute>
  </define>
  <define name="script.attrs.nomodule">
    <attribute name="nomodule">
      <choice>
        <value>nomodule</value>
        <value/>
      </choice>
    </attribute>
  </define>
  <define name="script.attrs.charset">
    <attribute name="charset">
      <data type="string"/>
    </attribute>
  </define>
  <define name="script.attrs.language">
    <attribute name="language">
      <data type="string"/>
    </attribute>
  </define>
  <define name="script.attrs.integrity">
    <attribute name="integrity">
      <ref name="common.data.integrity"/>
    </attribute>
  </define>
  <define name="script.inner.embedded">
    <ref name="common.inner.anything"/>
  </define>
  <define name="script.inner.imported">
    <ref name="common.inner.anything"/>
  </define>
  <define name="script.elem">
    <choice>
      <ref name="script.elem.embedded"/>
      <ref name="script.elem.imported"/>
    </choice>
  </define>
  <define name="common.elem.metadata" combine="choice">
    <ref name="script.elem"/>
  </define>
  <define name="common.elem.phrasing" combine="choice">
    <ref name="script.elem"/>
  </define>
  <define name="noscript.elem.head">
    <a:documentation>Fallback Unscripted Content: &lt;noscript&gt;</a:documentation>
    <interleave>
      <element name="noscript">
        <interleave>
          <ref name="noscript.inner.head"/>
          <ref name="noscript.attrs"/>
        </interleave>
      </element>
      <ref name="HTMLonly"/>
    </interleave>
  </define>
  <define name="noscript.inner.head">
    <zeroOrMore>
      <choice>
        <ref name="link.elem"/>
        <ref name="meta.http-equiv.default-style.elem"/>
        <ref name="meta.http-equiv.refresh.elem"/>
        <ref name="style.elem"/>
      </choice>
    </zeroOrMore>
  </define>
  <define name="noscript.elem.phrasing">
    <interleave>
      <element name="noscript">
        <interleave>
          <ref name="noscript.inner.phrasing"/>
          <ref name="noscript.attrs"/>
        </interleave>
      </element>
      <ref name="HTMLonly"/>
    </interleave>
  </define>
  <define name="noscript.inner.phrasing">
    <ref name="common.inner.phrasing"/>
  </define>
  <define name="noscript.elem.flow">
    <interleave>
      <element name="noscript">
        <interleave>
          <ref name="noscript.inner.flow"/>
          <ref name="noscript.attrs"/>
        </interleave>
      </element>
      <ref name="HTMLonly"/>
    </interleave>
  </define>
  <define name="noscript.inner.flow">
    <ref name="common.inner.flow"/>
  </define>
  <define name="noscript.attrs">
    <ref name="common.attrs"/>
  </define>
  <define name="common.elem.metadata" combine="choice">
    <ref name="noscript.elem.head"/>
  </define>
  <define name="common.elem.phrasing" combine="choice">
    <ref name="noscript.elem.phrasing"/>
  </define>
  <define name="common.elem.flow" combine="choice">
    <ref name="noscript.elem.flow"/>
  </define>
  <!-- ##################################################################### -->
  <define name="common.attrs.scripting" combine="interleave">
    <a:documentation>Event Handler Attribute Definitions</a:documentation>
    <interleave>
      <optional>
        <ref name="scripting.attr.onauxclick"/>
      </optional>
      <optional>
        <ref name="scripting.attr.onbeforeinput"/>
      </optional>
      <optional>
        <ref name="scripting.attr.onbeforematch"/>
      </optional>
      <optional>
        <ref name="scripting.attr.onblur"/>
      </optional>
      <optional>
        <ref name="scripting.attr.oncancel"/>
      </optional>
      <optional>
        <ref name="scripting.attr.oncanplay"/>
      </optional>
      <optional>
        <ref name="scripting.attr.oncanplaythrough"/>
      </optional>
      <optional>
        <ref name="scripting.attr.onchange"/>
      </optional>
      <optional>
        <ref name="scripting.attr.onclick"/>
      </optional>
      <optional>
        <ref name="scripting.attr.onclose"/>
      </optional>
      <optional>
        <ref name="scripting.attr.oncontextlost"/>
      </optional>
      <optional>
        <ref name="scripting.attr.oncontextmenu"/>
      </optional>
      <optional>
        <ref name="scripting.attr.oncontextrestored"/>
      </optional>
      <optional>
        <ref name="scripting.attr.oncopy"/>
      </optional>
      <optional>
        <ref name="scripting.attr.oncuechange"/>
      </optional>
      <optional>
        <ref name="scripting.attr.oncut"/>
      </optional>
      <optional>
        <ref name="scripting.attr.ondblclick"/>
      </optional>
      <optional>
        <ref name="scripting.attr.ondrag"/>
      </optional>
      <optional>
        <ref name="scripting.attr.ondragend"/>
      </optional>
      <optional>
        <ref name="scripting.attr.ondragenter"/>
      </optional>
      <optional>
        <ref name="scripting.attr.ondragleave"/>
      </optional>
      <optional>
        <ref name="scripting.attr.ondragover"/>
      </optional>
      <optional>
        <ref name="scripting.attr.ondragstart"/>
      </optional>
      <optional>
        <ref name="scripting.attr.ondrop"/>
      </optional>
      <optional>
        <ref name="scripting.attr.ondurationchange"/>
      </optional>
      <optional>
        <ref name="scripting.attr.onemptied"/>
      </optional>
      <optional>
        <ref name="scripting.attr.onended"/>
      </optional>
      <optional>
        <ref name="scripting.attr.onerror"/>
      </optional>
      <optional>
        <ref name="scripting.attr.onfocus"/>
      </optional>
      <optional>
        <ref name="scripting.attr.onformdata"/>
      </optional>
      <optional>
        <ref name="scripting.attr.oninput"/>
      </optional>
      <optional>
        <ref name="scripting.attr.oninvalid"/>
      </optional>
      <optional>
        <ref name="scripting.attr.onkeydown"/>
      </optional>
      <optional>
        <ref name="scripting.attr.onkeypress"/>
      </optional>
      <optional>
        <ref name="scripting.attr.onkeyup"/>
      </optional>
      <optional>
        <ref name="scripting.attr.onload"/>
      </optional>
      <optional>
        <ref name="scripting.attr.onloadeddata"/>
      </optional>
      <optional>
        <ref name="scripting.attr.onloadedmetadata"/>
      </optional>
      <optional>
        <ref name="scripting.attr.onloadstart"/>
      </optional>
      <optional>
        <ref name="scripting.attr.onmousedown"/>
      </optional>
      <optional>
        <ref name="scripting.attr.onmouseenter"/>
      </optional>
      <optional>
        <ref name="scripting.attr.onmouseleave"/>
      </optional>
      <optional>
        <ref name="scripting.attr.onmousemove"/>
      </optional>
      <optional>
        <ref name="scripting.attr.onmouseout"/>
      </optional>
      <optional>
        <ref name="scripting.attr.onmouseover"/>
      </optional>
      <optional>
        <ref name="scripting.attr.onmouseup"/>
      </optional>
      <optional>
        <ref name="scripting.attr.onpaste"/>
      </optional>
      <optional>
        <ref name="scripting.attr.onpause"/>
      </optional>
      <optional>
        <ref name="scripting.attr.onplay"/>
      </optional>
      <optional>
        <ref name="scripting.attr.onplaying"/>
      </optional>
      <optional>
        <ref name="scripting.attr.onprogress"/>
      </optional>
      <optional>
        <ref name="scripting.attr.onratechange"/>
      </optional>
      <optional>
        <ref name="scripting.attr.onreset"/>
      </optional>
      <optional>
        <ref name="scripting.attr.onresize"/>
      </optional>
      <optional>
        <ref name="scripting.attr.onscroll"/>
      </optional>
      <optional>
        <ref name="scripting.attr.onscrollend"/>
      </optional>
      <optional>
        <ref name="scripting.attr.onsecuritypolicyviolation"/>
      </optional>
      <optional>
        <ref name="scripting.attr.onseeked"/>
      </optional>
      <optional>
        <ref name="scripting.attr.onseeking"/>
      </optional>
      <optional>
        <ref name="scripting.attr.onselect"/>
      </optional>
      <optional>
        <ref name="scripting.attr.onslotchange"/>
      </optional>
      <optional>
        <ref name="scripting.attr.onstalled"/>
      </optional>
      <optional>
        <ref name="scripting.attr.onsubmit"/>
      </optional>
      <optional>
        <ref name="scripting.attr.onsuspend"/>
      </optional>
      <optional>
        <ref name="scripting.attr.ontimeupdate"/>
      </optional>
      <optional>
        <ref name="scripting.attr.ontoggle"/>
      </optional>
      <optional>
        <ref name="scripting.attr.onvolumechange"/>
      </optional>
      <optional>
        <ref name="scripting.attr.onwaiting"/>
      </optional>
      <optional>
        <ref name="scripting.attr.onwheel"/>
      </optional>
    </interleave>
  </define>
  <define name="common.attrs.other" combine="interleave">
    <ref name="common.attrs.scripting"/>
  </define>
  <define name="scripting.attr.onauxclick">
    <attribute name="onauxclick">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.onbeforeinput">
    <attribute name="onbeforeinput">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.onbeforematch">
    <attribute name="onbeforematch">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.onblur">
    <attribute name="onblur">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.oncancel">
    <attribute name="oncancel">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.oncanplay">
    <attribute name="oncanplay">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.oncanplaythrough">
    <attribute name="oncanplaythrough">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.onchange">
    <attribute name="onchange">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.onclick">
    <attribute name="onclick">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.onclose">
    <attribute name="onclose">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.oncontextlost">
    <attribute name="oncontextlost">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.oncontextmenu">
    <attribute name="oncontextmenu">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.oncontextrestored">
    <attribute name="oncontextrestored">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.oncopy">
    <attribute name="oncopy">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.oncuechange">
    <attribute name="oncuechange">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.oncut">
    <attribute name="oncut">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.ondblclick">
    <attribute name="ondblclick">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.ondrag">
    <attribute name="ondrag">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.ondragend">
    <attribute name="ondragend">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.ondragenter">
    <attribute name="ondragenter">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.ondragleave">
    <attribute name="ondragleave">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.ondragover">
    <attribute name="ondragover">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.ondragstart">
    <attribute name="ondragstart">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.ondrop">
    <attribute name="ondrop">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.ondurationchange">
    <attribute name="ondurationchange">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.onemptied">
    <attribute name="onemptied">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.onended">
    <attribute name="onended">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.onerror">
    <attribute name="onerror">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.onfocus">
    <attribute name="onfocus">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.onformdata">
    <attribute name="onformdata">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.oninput">
    <attribute name="oninput">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.oninvalid">
    <attribute name="oninvalid">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.onkeydown">
    <attribute name="onkeydown">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.onkeypress">
    <attribute name="onkeypress">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.onkeyup">
    <attribute name="onkeyup">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.onload">
    <attribute name="onload">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.onloadeddata">
    <attribute name="onloadeddata">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.onloadedmetadata">
    <attribute name="onloadedmetadata">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.onloadstart">
    <attribute name="onloadstart">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.onmousedown">
    <attribute name="onmousedown">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.onmouseenter">
    <attribute name="onmouseenter">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.onmouseleave">
    <attribute name="onmouseleave">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.onmousemove">
    <attribute name="onmousemove">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.onmouseout">
    <attribute name="onmouseout">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.onmouseover">
    <attribute name="onmouseover">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.onmouseup">
    <attribute name="onmouseup">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.onpaste">
    <attribute name="onpaste">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.onpause">
    <attribute name="onpause">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.onplay">
    <attribute name="onplay">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.onplaying">
    <attribute name="onplaying">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.onprogress">
    <attribute name="onprogress">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.onratechange">
    <attribute name="onratechange">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.onreset">
    <attribute name="onreset">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.onresize">
    <attribute name="onresize">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.onscroll">
    <attribute name="onscroll">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.onscrollend">
    <attribute name="onscrollend">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.onsecuritypolicyviolation">
    <attribute name="onsecuritypolicyviolation">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.onseeked">
    <attribute name="onseeked">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.onseeking">
    <attribute name="onseeking">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.onselect">
    <attribute name="onselect">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.onslotchange">
    <attribute name="onslotchange">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.onstalled">
    <attribute name="onstalled">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.onsubmit">
    <attribute name="onsubmit">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.onsuspend">
    <attribute name="onsuspend">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.ontimeupdate">
    <attribute name="ontimeupdate">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.ontoggle">
    <attribute name="ontoggle">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.onvolumechange">
    <attribute name="onvolumechange">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.onwaiting">
    <attribute name="onwaiting">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.onwheel">
    <attribute name="onwheel">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="common.attrs.scripting" combine="interleave">
    <a:documentation>Pointer Events</a:documentation>
    <interleave>
      <optional>
        <ref name="scripting.attr.onpointerover"/>
      </optional>
      <optional>
        <ref name="scripting.attr.onpointerenter"/>
      </optional>
      <optional>
        <ref name="scripting.attr.onpointerdown"/>
      </optional>
      <optional>
        <ref name="scripting.attr.onpointermove"/>
      </optional>
      <optional>
        <ref name="scripting.attr.onpointerrawupdate"/>
      </optional>
      <optional>
        <ref name="scripting.attr.onpointerup"/>
      </optional>
      <optional>
        <ref name="scripting.attr.onpointercancel"/>
      </optional>
      <optional>
        <ref name="scripting.attr.onpointerout"/>
      </optional>
      <optional>
        <ref name="scripting.attr.onpointerleave"/>
      </optional>
      <optional>
        <ref name="scripting.attr.ongotpointercapture"/>
      </optional>
      <optional>
        <ref name="scripting.attr.onlostpointercapture"/>
      </optional>
    </interleave>
  </define>
  <define name="scripting.attr.onpointerover">
    <attribute name="onpointerover">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.onpointerenter">
    <attribute name="onpointerenter">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.onpointerdown">
    <attribute name="onpointerdown">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.onpointermove">
    <attribute name="onpointermove">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.onpointerrawupdate">
    <attribute name="onpointerrawupdate">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.onpointerup">
    <attribute name="onpointerup">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.onpointercancel">
    <attribute name="onpointercancel">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.onpointerout">
    <attribute name="onpointerout">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.onpointerleave">
    <attribute name="onpointerleave">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.ongotpointercapture">
    <attribute name="ongotpointercapture">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.onlostpointercapture">
    <attribute name="onlostpointercapture">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <!-- Inlined from tables.rng -->
<!-- ##################################################################### -->
  <define name="tables.attrs.alignment">
    <a:documentation> RELAX NG Schema for HTML 5: Tables                                #</a:documentation>
    <!-- ##################################################################### -->
    <!-- ##################################################################### -->
    <a:documentation>Table Envelope</a:documentation>
    <a:documentation>Table Datatypes</a:documentation>
    <!--
      	tables.data.multilen =
      		(	common.data.integer.positive
      		|	common.data.percent
      		|	xsd:token { pattern = "[0-9]+\\*" } #REVISIT should this one be string? 
      		)
    -->
    <a:documentation>Table Alignment Attributes</a:documentation>
    <interleave>
      <optional>
        <ref name="tables.attrs.align"/>
      </optional>
      <optional>
        <ref name="tables.attrs.char"/>
      </optional>
      <optional>
        <ref name="tables.attrs.valign"/>
      </optional>
    </interleave>
  </define>
  <define name="tables.attrs.align">
    <attribute name="align">
      <choice>
        <value>left</value>
        <value>center</value>
        <value>right</value>
        <value>justify</value>
        <value>char</value>
      </choice>
    </attribute>
  </define>
  <define name="tables.attrs.char">
    <attribute name="char">
      <data type="string">
        <param name="pattern">.</param>
      </data>
    </attribute>
  </define>
  <define name="tables.attrs.valign">
    <attribute name="valign">
      <choice>
        <value>top</value>
        <value>middle</value>
        <value>bottom</value>
        <value>baseline</value>
      </choice>
    </attribute>
  </define>
  <define name="table.elem">
    <a:documentation>Data Table: &lt;table&gt;</a:documentation>
    <element name="table">
      <interleave>
        <ref name="table.inner"/>
        <ref name="table.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="table.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <choice>
          <ref name="common.attrs.aria.implicit.table"/>
          <ref name="common.attrs.aria"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="table.inner">
    <optional>
      <ref name="caption.elem"/>
    </optional>
    <zeroOrMore>
      <ref name="common.elem.script-supporting"/>
    </zeroOrMore>
    <zeroOrMore>
      <ref name="colgroup.elem"/>
    </zeroOrMore>
    <zeroOrMore>
      <ref name="common.elem.script-supporting"/>
    </zeroOrMore>
    <optional>
      <ref name="thead.elem"/>
    </optional>
    <zeroOrMore>
      <ref name="common.elem.script-supporting"/>
    </zeroOrMore>
    <group>
      <choice>
        <zeroOrMore>
          <ref name="tbody.elem"/>
        </zeroOrMore>
        <oneOrMore>
          <ref name="tr.elem"/>
        </oneOrMore>
      </choice>
      <zeroOrMore>
        <ref name="common.elem.script-supporting"/>
      </zeroOrMore>
      <optional>
        <ref name="tfoot.elem"/>
      </optional>
    </group>
  </define>
  <define name="common.elem.flow" combine="choice">
    <ref name="table.elem"/>
  </define>
  <define name="caption.elem">
    <a:documentation>Table Caption: &lt;caption&gt;</a:documentation>
    <element name="caption">
      <interleave>
        <ref name="caption.inner"/>
        <ref name="caption.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="caption.attrs">
    <ref name="common.attrs"/>
  </define>
  <define name="caption.inner">
    <ref name="common.inner.flow"/>
  </define>
  <!-- ##################################################################### -->
  <define name="colgroup.elem">
    <a:documentation>Table Super Structure</a:documentation>
    <a:documentation>Table Column Group: &lt;colgroup&gt;</a:documentation>
    <element name="colgroup">
      <interleave>
        <ref name="colgroup.inner"/>
        <ref name="colgroup.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="colgroup.attrs">
    <ref name="common.attrs"/>
  </define>
  <define name="colgroup.attrs.span">
    <attribute name="span">
      <ref name="common.data.integer.positive"/>
    </attribute>
  </define>
  <define name="colgroup.inner">
    <choice>
      <interleave>
        <zeroOrMore>
          <ref name="col.elem"/>
        </zeroOrMore>
        <zeroOrMore>
          <ref name="common.elem.script-supporting"/>
        </zeroOrMore>
      </interleave>
      <optional>
        <ref name="colgroup.attrs.span"/>
      </optional>
    </choice>
  </define>
  <define name="col.elem">
    <a:documentation>Table Column: &lt;col&gt;</a:documentation>
    <element name="col">
      <interleave>
        <ref name="col.inner"/>
        <ref name="col.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="col.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <ref name="col.attrs.span"/>
      </optional>
    </interleave>
  </define>
  <define name="col.attrs.span">
    <attribute name="span">
      <ref name="common.data.integer.positive"/>
    </attribute>
  </define>
  <define name="col.inner">
    <empty/>
  </define>
  <define name="thead.elem">
    <a:documentation>Table Header Row Group</a:documentation>
    <element name="thead">
      <interleave>
        <ref name="thead.inner"/>
        <ref name="thead.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="thead.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <choice>
          <ref name="common.attrs.aria.implicit.rowgroup"/>
          <ref name="common.attrs.aria"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="thead.inner">
    <interleave>
      <zeroOrMore>
        <ref name="tr.elem"/>
      </zeroOrMore>
      <zeroOrMore>
        <ref name="common.elem.script-supporting"/>
      </zeroOrMore>
    </interleave>
  </define>
  <define name="tfoot.elem">
    <a:documentation>Table Footer Row Group</a:documentation>
    <element name="tfoot">
      <interleave>
        <ref name="tfoot.inner"/>
        <ref name="tfoot.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="tfoot.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <choice>
          <ref name="common.attrs.aria.implicit.rowgroup"/>
          <ref name="common.attrs.aria"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="tfoot.inner">
    <interleave>
      <zeroOrMore>
        <ref name="tr.elem"/>
      </zeroOrMore>
      <zeroOrMore>
        <ref name="common.elem.script-supporting"/>
      </zeroOrMore>
    </interleave>
  </define>
  <define name="tbody.elem">
    <a:documentation>Table Row Group</a:documentation>
    <element name="tbody">
      <interleave>
        <ref name="tbody.inner"/>
        <ref name="tbody.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="tbody.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <choice>
          <ref name="common.attrs.aria.implicit.rowgroup"/>
          <ref name="common.attrs.aria"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="tbody.inner">
    <interleave>
      <zeroOrMore>
        <ref name="tr.elem"/>
      </zeroOrMore>
      <zeroOrMore>
        <ref name="common.elem.script-supporting"/>
      </zeroOrMore>
    </interleave>
  </define>
  <!-- ##################################################################### -->
  <define name="tr.elem">
    <a:documentation>Cell Structure</a:documentation>
    <a:documentation>Table Row</a:documentation>
    <element name="tr">
      <interleave>
        <ref name="tr.inner"/>
        <ref name="tr.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="tr.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <choice>
          <ref name="common.attrs.aria.implicit.row"/>
          <ref name="common.attrs.aria"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="tr.inner">
    <zeroOrMore>
      <choice>
        <ref name="td.elem"/>
        <ref name="th.elem"/>
        <ref name="common.elem.script-supporting"/>
      </choice>
    </zeroOrMore>
  </define>
  <define name="tables.attrs.cell-structure">
    <a:documentation>Common Table Cell Attributes</a:documentation>
    <interleave>
      <optional>
        <ref name="tables.attrs.colspan"/>
      </optional>
      <optional>
        <ref name="tables.attrs.rowspan"/>
      </optional>
    </interleave>
  </define>
  <define name="tables.attrs.colspan">
    <attribute name="colspan">
      <ref name="common.data.integer.positive"/>
    </attribute>
  </define>
  <define name="tables.attrs.rowspan">
    <attribute name="rowspan">
      <ref name="common.data.integer.non-negative"/>
    </attribute>
  </define>
  <define name="tables.attrs.access-headers">
    <optional>
      <ref name="tables.attrs.headers"/>
    </optional>
  </define>
  <define name="tables.attrs.headers">
    <attribute name="headers">
      <ref name="common.data.idrefs"/>
    </attribute>
  </define>
  <define name="tables.attrs.define-headers">
    <optional>
      <ref name="tables.attrs.scope"/>
    </optional>
  </define>
  <define name="tables.attrs.scope">
    <attribute name="scope">
      <choice>
        <value>row</value>
        <value>col</value>
        <value>rowgroup</value>
        <value>colgroup</value>
      </choice>
    </attribute>
  </define>
  <define name="tables.attrs.abbr">
    <attribute name="abbr"/>
  </define>
  <define name="td.elem">
    <a:documentation>Table Data Cell: &lt;td&gt;</a:documentation>
    <element name="td">
      <interleave>
        <ref name="td.inner"/>
        <ref name="td.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="td.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <ref name="tables.attrs.cell-structure"/>
      <optional>
        <ref name="tables.attrs.headers"/>
      </optional>
      <optional>
        <!-- 		&	tables.attrs.alignment -->
        <choice>
          <ref name="common.attrs.aria.implicit.cell"/>
          <ref name="common.attrs.aria"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="td.inner">
    <ref name="common.inner.flow"/>
  </define>
  <define name="th.elem">
    <a:documentation>Table Header Cells: &lt;th&gt;</a:documentation>
    <element name="th">
      <interleave>
        <ref name="th.inner"/>
        <ref name="th.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="th.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <ref name="tables.attrs.cell-structure"/>
      <optional>
        <ref name="tables.attrs.scope"/>
      </optional>
      <optional>
        <ref name="tables.attrs.headers"/>
      </optional>
      <!-- 		&	tables.attrs.alignment -->
      <choice>
        <optional>
          <ref name="common.attrs.aria"/>
        </optional>
        <ref name="common.attrs.aria.implicit.column-or-row-header"/>
      </choice>
    </interleave>
  </define>
  <define name="th.inner">
    <ref name="common.inner.flow"/>
  </define>
  <!-- Inlined from form-datatypes.rng -->
<!-- ##################################################################### -->
  <define name="form.data.mimetypelist">
    <a:documentation> RELAX NG Schema for HTML 5: Datatypes related to forms            #</a:documentation>
    <!-- ##################################################################### -->
    <a:documentation>MIME types</a:documentation>
    <ref name="datatype.html5.forms.mimetypelist"/>
  </define>
  <define name="form.data.pattern">
    <a:documentation>ECMAScript Regular Expression</a:documentation>
    <data type="string"/>
  </define>
  <define name="form.data.datetime-local">
    <a:documentation>Temporal</a:documentation>
    <ref name="datatype.html5.datetime.local"/>
  </define>
  <define name="form.data.date">
    <ref name="datatype.html5.date"/>
  </define>
  <define name="form.data.month">
    <ref name="datatype.html5.month"/>
  </define>
  <define name="form.data.week">
    <ref name="datatype.html5.week"/>
  </define>
  <define name="form.data.time">
    <ref name="datatype.html5.time"/>
  </define>
  <define name="form.data.emailaddress">
    <a:documentation>Email</a:documentation>
    <ref name="datatype.html5.emailaddress"/>
  </define>
  <define name="form.data.emailaddresslist">
    <ref name="datatype.html5.emailaddresslist"/>
  </define>
  <define name="form.data.color">
    <a:documentation>Color</a:documentation>
    <ref name="datatype.html5.color"/>
  </define>
  <!--
    		xsd:string {
    			pattern = "#[a-fA-F0-9]{6}"
    		}
  -->
  <define name="form.data.stringwithoutlinebreaks">
    <a:documentation>Text without line breaks</a:documentation>
    <ref name="datatype.html5.forms.string.nolinebreaks"/>
  </define>
  <define name="form.data.nonemptystring">
    <a:documentation>Non-empty string</a:documentation>
    <ref name="datatype.string.nonempty"/>
  </define>
  <!-- Inlined from web-forms.rng -->
<!-- ##################################################################### -->
  <define name="common-form.attrs">
    <a:documentation> RELAX NG Schema for HTML 5: Web Forms 1.0 markup                  #</a:documentation>
    <!-- ##################################################################### -->
    <a:documentation>Shared attributes for form controls</a:documentation>
    <interleave>
      <optional>
        <ref name="common-form.attrs.name"/>
      </optional>
      <optional>
        <ref name="common-form.attrs.disabled"/>
      </optional>
    </interleave>
  </define>
  <define name="common-form.attrs.name">
    <attribute name="name">
      <ref name="form.data.nonemptystring"/>
    </attribute>
  </define>
  <define name="common-form.attrs.disabled">
    <attribute name="disabled">
      <choice>
        <value>disabled</value>
        <value/>
      </choice>
    </attribute>
  </define>
  <define name="shared-form.attrs.readonly">
    <attribute name="readonly">
      <choice>
        <value>readonly</value>
        <value/>
      </choice>
    </attribute>
  </define>
  <define name="shared-form.attrs.maxlength">
    <attribute name="maxlength">
      <ref name="common.data.integer.non-negative"/>
    </attribute>
  </define>
  <define name="shared-form.attrs.size">
    <attribute name="size">
      <ref name="common.data.integer.positive"/>
    </attribute>
  </define>
  <!-- REVISIT tabindex goes in common.attrs -->
  <define name="input.attrs.checked">
    <a:documentation>Shared attributes for &lt;input&gt;</a:documentation>
    <attribute name="checked">
      <choice>
        <value>checked</value>
        <value/>
      </choice>
    </attribute>
  </define>
  <define name="input.text.elem">
    <a:documentation>Text Field: &lt;input type='text'&gt;</a:documentation>
    <element name="input">
      <ref name="input.text.attrs"/>
    </element>
  </define>
  <define name="input.text.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <ref name="common-form.attrs"/>
      <optional>
        <ref name="input.text.attrs.type"/>
      </optional>
      <optional>
        <ref name="shared-form.attrs.maxlength"/>
      </optional>
      <optional>
        <ref name="shared-form.attrs.readonly"/>
      </optional>
      <optional>
        <ref name="shared-form.attrs.size"/>
      </optional>
      <optional>
        <ref name="input.text.attrs.value"/>
      </optional>
      <optional>
        <choice>
          <ref name="common.attrs.aria.implicit.textbox"/>
          <ref name="common.attrs.aria.role.textbox"/>
          <ref name="common.attrs.aria.role.combobox"/>
          <ref name="common.attrs.aria.role.searchbox"/>
          <ref name="common.attrs.aria.role.spinbutton"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="input.text.attrs.type">
    <attribute name="type">
      <value>text</value>
    </attribute>
  </define>
  <define name="input.text.attrs.value">
    <attribute name="value">
      <ref name="form.data.stringwithoutlinebreaks"/>
    </attribute>
  </define>
  <define name="input.elem">
    <ref name="input.text.elem"/>
  </define>
  <define name="input.password.elem">
    <a:documentation>Password Field: &lt;input type='password'&gt;</a:documentation>
    <element name="input">
      <ref name="input.password.attrs"/>
    </element>
  </define>
  <define name="input.password.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <ref name="common-form.attrs"/>
      <ref name="input.password.attrs.type"/>
      <optional>
        <ref name="shared-form.attrs.maxlength"/>
      </optional>
      <optional>
        <ref name="shared-form.attrs.readonly"/>
      </optional>
      <optional>
        <ref name="shared-form.attrs.size"/>
      </optional>
      <optional>
        <ref name="input.password.attrs.value"/>
      </optional>
    </interleave>
  </define>
  <define name="input.password.attrs.type">
    <attribute name="type">
      <value>password</value>
    </attribute>
  </define>
  <define name="input.password.attrs.value">
    <attribute name="value">
      <ref name="form.data.stringwithoutlinebreaks"/>
    </attribute>
  </define>
  <define name="input.elem" combine="choice">
    <ref name="input.password.elem"/>
  </define>
  <define name="input.checkbox.elem">
    <a:documentation>Checkbox: &lt;input type='checkbox'&gt;</a:documentation>
    <element name="input">
      <ref name="input.checkbox.attrs"/>
    </element>
  </define>
  <define name="input.checkbox.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <ref name="common-form.attrs"/>
      <ref name="input.checkbox.attrs.type"/>
      <optional>
        <ref name="input.attrs.checked"/>
      </optional>
      <optional>
        <ref name="input.checkbox.attrs.value"/>
      </optional>
      <optional>
        <choice>
          <ref name="common.attrs.aria.implicit.checkbox"/>
          <ref name="common.attrs.aria.role.checkbox"/>
          <ref name="common.attrs.aria.role.button"/>
          <ref name="common.attrs.aria.role.menuitemcheckbox-checked-not-required"/>
          <ref name="common.attrs.aria.role.option"/>
          <ref name="common.attrs.aria.role.switch-checked-not-required"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="input.checkbox.attrs.type">
    <attribute name="type">
      <value>checkbox</value>
    </attribute>
  </define>
  <define name="input.checkbox.attrs.value">
    <attribute name="value">
      <data type="string"/>
      <!-- REVISIT require non-empty value? -->
    </attribute>
  </define>
  <define name="input.elem" combine="choice">
    <ref name="input.checkbox.elem"/>
  </define>
  <define name="input.radio.elem">
    <a:documentation>Radiobutton: &lt;input type='radio'&gt;</a:documentation>
    <element name="input">
      <ref name="input.radio.attrs"/>
    </element>
  </define>
  <define name="input.radio.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <ref name="common-form.attrs"/>
      <ref name="input.radio.attrs.type"/>
      <optional>
        <ref name="input.attrs.checked"/>
      </optional>
      <optional>
        <ref name="input.radio.attrs.value"/>
      </optional>
      <optional>
        <choice>
          <ref name="common.attrs.aria.implicit.radio"/>
          <ref name="common.attrs.aria.role.radio"/>
          <ref name="common.attrs.aria.role.menuitemradio-checked-not-required"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="input.radio.attrs.type">
    <attribute name="type">
      <value>radio</value>
    </attribute>
  </define>
  <define name="input.radio.attrs.value">
    <attribute name="value">
      <data type="string"/>
      <!-- REVISIT require non-empty value? -->
    </attribute>
  </define>
  <define name="input.elem" combine="choice">
    <ref name="input.radio.elem"/>
  </define>
  <define name="input.button.elem">
    <a:documentation>Scripting Hook Button: &lt;input type='button'&gt;</a:documentation>
    <element name="input">
      <ref name="input.button.attrs"/>
    </element>
  </define>
  <define name="input.button.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <ref name="common-form.attrs"/>
      <ref name="input.button.attrs.type"/>
      <optional>
        <ref name="input.button.attrs.value"/>
      </optional>
      <ref name="button.attrs.popover-controls"/>
      <optional>
        <choice>
          <ref name="common.attrs.aria.implicit.button"/>
          <ref name="common.attrs.aria.role.button"/>
          <ref name="common.attrs.aria.role.checkbox"/>
          <ref name="common.attrs.aria.role.combobox"/>
          <ref name="common.attrs.aria.role.link"/>
          <ref name="common.attrs.aria.role.menuitem"/>
          <ref name="common.attrs.aria.role.menuitemcheckbox"/>
          <ref name="common.attrs.aria.role.menuitemradio"/>
          <ref name="common.attrs.aria.role.option"/>
          <ref name="common.attrs.aria.role.radio"/>
          <ref name="common.attrs.aria.role.switch"/>
          <ref name="common.attrs.aria.role.tab"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="input.button.attrs.type">
    <attribute name="type">
      <value>button</value>
    </attribute>
  </define>
  <define name="input.button.attrs.value">
    <attribute name="value">
      <data type="string"/>
      <!-- REVISIT require non-empty value? -->
    </attribute>
  </define>
  <define name="input.elem" combine="choice">
    <ref name="input.button.elem"/>
  </define>
  <!-- REVISIT should this be enabled by a scripting module only? -->
  <define name="input.submit.elem">
    <a:documentation>Submit Button: &lt;input type='submit'&gt;</a:documentation>
    <element name="input">
      <ref name="input.submit.attrs"/>
    </element>
  </define>
  <define name="input.submit.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <ref name="common-form.attrs"/>
      <ref name="input.submit.attrs.type"/>
      <optional>
        <ref name="input.submit.attrs.value"/>
      </optional>
      <ref name="button.attrs.popover-controls"/>
      <optional>
        <choice>
          <ref name="common.attrs.aria.implicit.button"/>
          <ref name="common.attrs.aria.role.button"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="input.submit.attrs.type">
    <attribute name="type">
      <value>submit</value>
    </attribute>
  </define>
  <define name="input.submit.attrs.value">
    <attribute name="value">
      <data type="string"/>
      <!-- REVISIT require non-empty value? -->
    </attribute>
  </define>
  <define name="input.elem" combine="choice">
    <ref name="input.submit.elem"/>
  </define>
  <define name="input.reset.elem">
    <a:documentation>Reset Button: &lt;input type='reset'&gt;</a:documentation>
    <element name="input">
      <ref name="input.reset.attrs"/>
    </element>
  </define>
  <define name="input.reset.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <ref name="common-form.attrs"/>
      <ref name="input.reset.attrs.type"/>
      <optional>
        <ref name="input.reset.attrs.value"/>
      </optional>
      <ref name="button.attrs.popover-controls"/>
      <optional>
        <choice>
          <ref name="common.attrs.aria.implicit.button"/>
          <ref name="common.attrs.aria.role.button"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="input.reset.attrs.type">
    <attribute name="type">
      <value>reset</value>
    </attribute>
  </define>
  <define name="input.reset.attrs.value">
    <attribute name="value">
      <data type="string"/>
      <!-- REVISIT require non-empty value? -->
    </attribute>
  </define>
  <define name="input.elem" combine="choice">
    <ref name="input.reset.elem"/>
  </define>
  <!-- REVISIT does reset make sense outside a form? -->
  <define name="input.file.elem">
    <a:documentation>File Upload: &lt;input type='file'&gt;</a:documentation>
    <element name="input">
      <ref name="input.file.attrs"/>
    </element>
  </define>
  <define name="input.file.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <ref name="common-form.attrs"/>
      <ref name="input.file.attrs.type"/>
      <optional>
        <ref name="input.file.attrs.accept"/>
      </optional>
    </interleave>
  </define>
  <define name="input.file.attrs.type">
    <attribute name="type">
      <value>file</value>
    </attribute>
  </define>
  <define name="input.file.attrs.accept">
    <attribute name="accept">
      <ref name="form.data.mimetypelist"/>
    </attribute>
  </define>
  <define name="input.elem" combine="choice">
    <ref name="input.file.elem"/>
  </define>
  <define name="input.hidden.elem">
    <a:documentation>Hidden String: &lt;input type='hidden'&gt;</a:documentation>
    <element name="input">
      <ref name="input.hidden.attrs"/>
    </element>
  </define>
  <define name="input.hidden.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <ref name="common-form.attrs"/>
      <ref name="input.hidden.attrs.type"/>
      <optional>
        <ref name="input.hidden.attrs.value"/>
      </optional>
    </interleave>
  </define>
  <define name="input.hidden.attrs.type">
    <attribute name="type">
      <value>hidden</value>
    </attribute>
  </define>
  <define name="input.hidden.attrs.value">
    <attribute name="value">
      <data type="string"/>
    </attribute>
  </define>
  <define name="input.elem" combine="choice">
    <ref name="input.hidden.elem"/>
  </define>
  <define name="input.image.elem">
    <a:documentation>Image Submit Button: &lt;input type='image'&gt;</a:documentation>
    <element name="input">
      <ref name="input.image.attrs"/>
    </element>
  </define>
  <define name="input.image.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <ref name="common-form.attrs"/>
      <ref name="input.image.attrs.type"/>
      <ref name="input.image.attrs.alt"/>
      <optional>
        <ref name="input.image.attrs.src"/>
      </optional>
      <ref name="button.attrs.popover-controls"/>
      <optional>
        <choice>
          <ref name="common.attrs.aria.implicit.button"/>
          <ref name="common.attrs.aria.role.button"/>
          <ref name="common.attrs.aria.role.link"/>
          <ref name="common.attrs.aria.role.menuitem"/>
          <ref name="common.attrs.aria.role.menuitemcheckbox"/>
          <ref name="common.attrs.aria.role.menuitemradio"/>
          <ref name="common.attrs.aria.role.radio"/>
          <ref name="common.attrs.aria.role.switch"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="input.image.attrs.type">
    <attribute name="type">
      <value>image</value>
    </attribute>
  </define>
  <define name="input.image.attrs.alt">
    <attribute name="alt">
      <ref name="form.data.nonemptystring"/>
    </attribute>
  </define>
  <define name="input.image.attrs.src">
    <attribute name="src">
      <ref name="common.data.uri.non-empty"/>
    </attribute>
  </define>
  <define name="input.elem" combine="choice">
    <ref name="input.image.elem"/>
  </define>
  <define name="common.elem.phrasing" combine="choice">
    <ref name="input.elem"/>
  </define>
  <define name="textarea.elem">
    <a:documentation>Text Area: &lt;textarea&gt;</a:documentation>
    <element name="textarea">
      <interleave>
        <ref name="textarea.inner"/>
        <ref name="textarea.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="textarea.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <ref name="common-form.attrs"/>
      <optional>
        <ref name="shared-form.attrs.readonly"/>
      </optional>
      <ref name="textarea.attrs.rows-and-cols-wf1"/>
      <optional>
        <choice>
          <ref name="common.attrs.aria.implicit.textbox"/>
          <ref name="common.attrs.aria.role.textbox"/>
        </choice>
      </optional>
    </interleave>
    <!-- FIXME onfocus, onblur, onselect,onchange -->
  </define>
  <!-- This is ugly. -->
  <define name="textarea.attrs.rows-and-cols-wf1">
    <ref name="textarea.attrs.rows-and-cols-wf1.inner"/>
  </define>
  <define name="textarea.attrs.rows-and-cols-wf1.inner">
    <interleave>
      <ref name="textarea.attrs.cols"/>
      <ref name="textarea.attrs.rows"/>
    </interleave>
  </define>
  <define name="textarea.attrs.cols">
    <attribute name="cols">
      <ref name="common.data.integer.positive"/>
    </attribute>
  </define>
  <define name="textarea.attrs.rows">
    <attribute name="rows">
      <ref name="common.data.integer.positive"/>
    </attribute>
  </define>
  <define name="textarea.inner">
    <text/>
  </define>
  <define name="common.elem.phrasing" combine="choice">
    <ref name="textarea.elem"/>
  </define>
  <!--
    Due to limitations with interleave, handling single/multiple selection
    enforcement in RELAX NG seems to be possible but really awkward.
    Tried it. Leaving it to Schematron.
  -->
  <define name="option.elem">
    <a:documentation>Select menu option: &lt;option selected&gt;</a:documentation>
    <element name="option">
      <interleave>
        <ref name="option.inner"/>
        <ref name="option.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="option.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <ref name="common-form.attrs.disabled"/>
      </optional>
      <optional>
        <ref name="option.attrs.selected"/>
      </optional>
      <optional>
        <ref name="option.attrs.label"/>
      </optional>
      <optional>
        <ref name="option.attrs.value"/>
      </optional>
      <optional>
        <choice>
          <ref name="common.attrs.aria.implicit.option"/>
          <ref name="common.attrs.aria.role.option"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="option.attrs.selected">
    <attribute name="selected">
      <choice>
        <value>selected</value>
        <value/>
      </choice>
    </attribute>
  </define>
  <define name="option.attrs.label">
    <attribute name="label">
      <ref name="form.data.nonemptystring"/>
    </attribute>
  </define>
  <define name="option.attrs.value">
    <attribute name="value">
      <data type="string"/>
    </attribute>
  </define>
  <define name="option.inner">
    <text/>
  </define>
  <define name="optgroup.elem">
    <a:documentation>Option Group: &lt;optgroup&gt;</a:documentation>
    <element name="optgroup">
      <interleave>
        <ref name="optgroup.inner"/>
        <ref name="optgroup.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="optgroup.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <ref name="optgroup.attrs.label"/>
      <optional>
        <ref name="common-form.attrs.disabled"/>
      </optional>
      <optional>
        <choice>
          <ref name="common.attrs.aria.implicit.group"/>
          <ref name="common.attrs.aria.role.group"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="optgroup.attrs.label">
    <attribute name="label">
      <data type="string"/>
    </attribute>
  </define>
  <define name="optgroup.inner">
    <interleave>
      <zeroOrMore>
        <ref name="option.elem"/>
      </zeroOrMore>
      <zeroOrMore>
        <ref name="common.elem.script-supporting"/>
      </zeroOrMore>
    </interleave>
  </define>
  <define name="select.elem">
    <a:documentation>Selection Menu: &lt;select&gt;</a:documentation>
    <element name="select">
      <interleave>
        <ref name="select.inner"/>
        <ref name="select.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="select.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <ref name="common-form.attrs"/>
      <optional>
        <ref name="select.attrs.size"/>
      </optional>
      <optional>
        <ref name="select.attrs.multiple"/>
      </optional>
      <optional>
        <!-- FIXME onfocus, onblur, onchange -->
        <choice>
          <ref name="common.attrs.aria.role.listbox"/>
          <!-- aria-multiselectable depends on "multiple" value; check in assertions -->
          <ref name="common.attrs.aria.role.combobox"/>
          <ref name="common.attrs.aria.role.menu"/>
          <ref name="common.attrs.aria.implicit.combobox"/>
          <ref name="common.attrs.aria.implicit.listbox"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="select.attrs.size">
    <attribute name="size">
      <ref name="common.data.integer.positive"/>
    </attribute>
  </define>
  <define name="select.attrs.multiple">
    <attribute name="multiple">
      <choice>
        <value>multiple</value>
        <value/>
      </choice>
    </attribute>
  </define>
  <define name="select.inner">
    <interleave>
      <zeroOrMore>
        <ref name="optgroup.elem"/>
      </zeroOrMore>
      <zeroOrMore>
        <ref name="option.elem"/>
      </zeroOrMore>
      <zeroOrMore>
        <ref name="common.elem.script-supporting"/>
      </zeroOrMore>
    </interleave>
  </define>
  <define name="common.elem.phrasing" combine="choice">
    <ref name="select.elem"/>
  </define>
  <define name="button.attrs.value">
    <a:documentation>Shared Definitions for Complex Button</a:documentation>
    <attribute name="value">
      <data type="string"/>
    </attribute>
  </define>
  <define name="button.attrs.popover-controls">
    <interleave>
      <optional>
        <ref name="button.attrs.popovertarget"/>
      </optional>
      <optional>
        <ref name="button.attrs.popovertargetaction"/>
      </optional>
    </interleave>
  </define>
  <define name="button.attrs.popovertarget">
    <attribute name="popovertarget">
      <ref name="common.data.idref"/>
    </attribute>
  </define>
  <define name="button.attrs.popovertargetaction">
    <attribute name="popovertargetaction">
      <choice>
        <value>hide</value>
        <value>show</value>
        <value>toggle</value>
      </choice>
    </attribute>
  </define>
  <define name="button.inner">
    <ref name="common.inner.phrasing"/>
  </define>
  <define name="button.submit.elem">
    <a:documentation>Complex Submit Button: &lt;button type='submit'&gt;</a:documentation>
    <element name="button">
      <interleave>
        <ref name="button.inner"/>
        <ref name="button.submit.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="button.submit.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <ref name="common-form.attrs"/>
      <optional>
        <ref name="button.submit.attrs.type"/>
      </optional>
      <optional>
        <ref name="button.attrs.value"/>
      </optional>
      <ref name="button.attrs.popover-controls"/>
      <optional>
        <choice>
          <ref name="common.attrs.aria.implicit.button"/>
          <ref name="common.attrs.aria.role.button"/>
          <ref name="common.attrs.aria.role.checkbox"/>
          <ref name="common.attrs.aria.role.combobox"/>
          <ref name="common.attrs.aria.role.link"/>
          <ref name="common.attrs.aria.role.menuitem"/>
          <ref name="common.attrs.aria.role.menuitemcheckbox"/>
          <ref name="common.attrs.aria.role.menuitemradio"/>
          <ref name="common.attrs.aria.role.option"/>
          <ref name="common.attrs.aria.role.radio"/>
          <ref name="common.attrs.aria.role.tab"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="button.submit.attrs.type">
    <attribute name="type">
      <value>submit</value>
    </attribute>
  </define>
  <define name="button.elem">
    <ref name="button.submit.elem"/>
  </define>
  <define name="button.reset.elem">
    <a:documentation>Complex Reset Button: &lt;button type='reset'&gt;</a:documentation>
    <element name="button">
      <interleave>
        <ref name="button.inner"/>
        <ref name="button.reset.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="button.reset.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <ref name="common-form.attrs"/>
      <ref name="button.reset.attrs.type"/>
      <optional>
        <ref name="button.attrs.value"/>
      </optional>
      <!-- REVISIT I guess this still affects the DOM -->
      <ref name="button.attrs.popover-controls"/>
      <optional>
        <choice>
          <ref name="common.attrs.aria.implicit.button"/>
          <ref name="common.attrs.aria.role.button"/>
          <ref name="common.attrs.aria.role.checkbox"/>
          <ref name="common.attrs.aria.role.link"/>
          <ref name="common.attrs.aria.role.menuitem"/>
          <ref name="common.attrs.aria.role.menuitemcheckbox"/>
          <ref name="common.attrs.aria.role.menuitemradio"/>
          <ref name="common.attrs.aria.role.option"/>
          <ref name="common.attrs.aria.role.radio"/>
          <ref name="common.attrs.aria.role.switch"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="button.reset.attrs.type">
    <attribute name="type">
      <value>reset</value>
    </attribute>
  </define>
  <define name="button.elem" combine="choice">
    <ref name="button.reset.elem"/>
  </define>
  <define name="button.button.elem">
    <a:documentation>Complex Push Button: &lt;button type='button'&gt;</a:documentation>
    <element name="button">
      <interleave>
        <ref name="button.inner"/>
        <ref name="button.button.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="button.button.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <ref name="common-form.attrs"/>
      <ref name="button.button.attrs.type"/>
      <optional>
        <ref name="button.attrs.value"/>
      </optional>
      <!-- REVISIT I guess this still affects the DOM -->
      <ref name="button.attrs.popover-controls"/>
      <optional>
        <choice>
          <ref name="common.attrs.aria.implicit.button"/>
          <ref name="common.attrs.aria.role.button"/>
          <ref name="common.attrs.aria.role.checkbox"/>
          <ref name="common.attrs.aria.role.link"/>
          <ref name="common.attrs.aria.role.menuitem"/>
          <ref name="common.attrs.aria.role.menuitemcheckbox"/>
          <ref name="common.attrs.aria.role.menuitemradio"/>
          <ref name="common.attrs.aria.role.option"/>
          <ref name="common.attrs.aria.role.radio"/>
          <ref name="common.attrs.aria.role.switch"/>
          <ref name="common.attrs.aria.role.tab"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="button.button.attrs.type">
    <attribute name="type">
      <value>button</value>
    </attribute>
  </define>
  <define name="button.elem" combine="choice">
    <ref name="button.button.elem"/>
  </define>
  <define name="common.elem.phrasing" combine="choice">
    <ref name="button.elem"/>
  </define>
  <define name="form.elem">
    <a:documentation>Form: &lt;form&gt;</a:documentation>
    <element name="form">
      <interleave>
        <ref name="form.inner"/>
        <ref name="form.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="form.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <ref name="form.attrs.action"/>
      </optional>
      <optional>
        <!-- REVISIT Should this be required anyway? -->
        <ref name="form.attrs.method"/>
      </optional>
      <optional>
        <ref name="form.attrs.enctype"/>
      </optional>
      <optional>
        <ref name="common-form.attrs.name"/>
      </optional>
      <optional>
        <ref name="form.attrs.accept-charset"/>
      </optional>
      <optional>
        <choice>
          <ref name="common.attrs.aria.implicit.form"/>
          <ref name="common.attrs.aria.landmark.form"/>
          <ref name="common.attrs.aria.landmark.search"/>
          <ref name="common.attrs.aria.role.presentation"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="form.attrs.action">
    <attribute name="action">
      <ref name="common.data.uri.non-empty"/>
    </attribute>
  </define>
  <define name="form.attrs.method">
    <attribute name="method">
      <ref name="form.attrs.method.data"/>
    </attribute>
  </define>
  <define name="form.attrs.method.data">
    <choice>
      <value>get</value>
      <value>post</value>
      <value>dialog</value>
    </choice>
  </define>
  <define name="form.attrs.enctype">
    <attribute name="enctype">
      <ref name="form.attrs.enctype.data"/>
    </attribute>
  </define>
  <define name="form.attrs.enctype.data">
    <choice>
      <value>application/x-www-form-urlencoded</value>
      <value>multipart/form-data</value>
    </choice>
  </define>
  <define name="form.attrs.accept-charset">
    <attribute name="accept-charset">
      <data type="string"/>
    </attribute>
  </define>
  <define name="form.inner">
    <ref name="common.inner.flow"/>
  </define>
  <define name="common.elem.flow" combine="choice">
    <ref name="form.elem"/>
  </define>
  <define name="fieldset.elem">
    <a:documentation>Fieldset: &lt;fieldset&gt;</a:documentation>
    <element name="fieldset">
      <interleave>
        <ref name="fieldset.inner"/>
        <ref name="fieldset.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="fieldset.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <choice>
          <ref name="common.attrs.aria.implicit.group"/>
          <ref name="common.attrs.aria.role.group"/>
          <ref name="common.attrs.aria.role.radiogroup"/>
          <ref name="common.attrs.aria.role.presentation"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="fieldset.inner">
    <optional>
      <ref name="legend.elem"/>
    </optional>
    <ref name="common.inner.flow"/>
  </define>
  <define name="common.elem.flow" combine="choice">
    <ref name="fieldset.elem"/>
  </define>
  <define name="label.elem">
    <a:documentation>Label: &lt;label&gt;</a:documentation>
    <element name="label">
      <interleave>
        <ref name="label.inner"/>
        <ref name="label.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="label.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <ref name="label.attrs.for"/>
      </optional>
    </interleave>
  </define>
  <define name="label.attrs.for">
    <attribute name="for">
      <ref name="common.data.idref"/>
    </attribute>
  </define>
  <define name="label.inner">
    <ref name="common.inner.phrasing"/>
  </define>
  <!-- REVISIT making obvious guess -->
  <define name="common.elem.phrasing" combine="choice">
    <ref name="label.elem"/>
  </define>
  <!-- Inlined from web-forms2.rng -->
<!-- ##################################################################### -->
  <define name="common-form.attrs" combine="interleave">
    <a:documentation> RELAX NG Schema for HTML 5: Web Forms 2.0 markup                  #</a:documentation>
    <!-- ##################################################################### -->
    <a:documentation>Shared attributes for form controls</a:documentation>
    <optional>
      <ref name="common-form.attrs.form"/>
    </optional>
  </define>
  <define name="common-form.attrs.form" combine="choice">
    <attribute name="form">
      <ref name="common.data.idref"/>
    </attribute>
  </define>
  <define name="shared-form.attrs.formaction">
    <attribute name="formaction">
      <ref name="common.data.uri.non-empty"/>
    </attribute>
  </define>
  <define name="shared-form.attrs.formenctype">
    <attribute name="formenctype">
      <ref name="shared-form.attrs.formenctype.data"/>
    </attribute>
  </define>
  <define name="shared-form.attrs.formenctype.data">
    <choice>
      <value>application/x-www-form-urlencoded</value>
      <value>multipart/form-data</value>
      <value>text/plain</value>
    </choice>
  </define>
  <define name="shared-form.attrs.formmethod">
    <attribute name="formmethod">
      <ref name="shared-form.attrs.formmethod.data"/>
    </attribute>
  </define>
  <define name="shared-form.attrs.formmethod.data">
    <choice>
      <value>get</value>
      <value>post</value>
      <value>dialog</value>
    </choice>
  </define>
  <define name="shared-form.attrs.formtarget">
    <attribute name="formtarget">
      <ref name="common.data.browsing-context-or-keyword"/>
    </attribute>
  </define>
  <define name="shared-form.attrs.formnovalidate">
    <attribute name="formnovalidate">
      <choice>
        <value>formnovalidate</value>
        <value/>
      </choice>
    </attribute>
  </define>
  <define name="shared-form.attrs.pattern">
    <attribute name="pattern">
      <ref name="form.data.pattern"/>
    </attribute>
  </define>
  <define name="shared-form.attrs.template">
    <attribute name="template">
      <ref name="common.data.idref"/>
    </attribute>
  </define>
  <define name="shared-form.attrs.required">
    <attribute name="required">
      <choice>
        <value>required</value>
        <value/>
      </choice>
    </attribute>
  </define>
  <define name="shared-form.attrs.placeholder">
    <attribute name="placeholder">
      <ref name="form.data.stringwithoutlinebreaks"/>
    </attribute>
  </define>
  <define name="shared-form.attrs.dirname">
    <attribute name="dirname">
      <ref name="form.data.nonemptystring"/>
    </attribute>
  </define>
  <define name="shared-form.attrs.minlength">
    <attribute name="minlength">
      <ref name="common.data.integer.non-negative"/>
    </attribute>
  </define>
  <define name="shared-input-no-size.attrs">
    <a:documentation>Shared attributes for &lt;input&gt;</a:documentation>
    <interleave>
      <optional>
        <ref name="input.attrs.autocomplete"/>
      </optional>
      <optional>
        <ref name="input.attrs.list"/>
      </optional>
      <optional>
        <ref name="shared-form.attrs.maxlength"/>
      </optional>
      <optional>
        <ref name="shared-form.attrs.minlength"/>
      </optional>
      <optional>
        <ref name="shared-form.attrs.pattern"/>
      </optional>
      <optional>
        <ref name="shared-form.attrs.placeholder"/>
      </optional>
      <optional>
        <ref name="aria.prop.placeholder"/>
      </optional>
      <optional>
        <ref name="shared-form.attrs.readonly"/>
      </optional>
      <optional>
        <ref name="shared-form.attrs.required"/>
      </optional>
    </interleave>
  </define>
  <define name="shared-input-no-list.attrs">
    <interleave>
      <optional>
        <ref name="input.attrs.autocomplete"/>
      </optional>
      <optional>
        <ref name="shared-form.attrs.maxlength"/>
      </optional>
      <optional>
        <ref name="shared-form.attrs.minlength"/>
      </optional>
      <optional>
        <ref name="shared-form.attrs.pattern"/>
      </optional>
      <optional>
        <ref name="shared-form.attrs.placeholder"/>
      </optional>
      <optional>
        <ref name="aria.prop.placeholder"/>
      </optional>
      <optional>
        <ref name="shared-form.attrs.readonly"/>
      </optional>
      <optional>
        <ref name="shared-form.attrs.required"/>
      </optional>
      <optional>
        <ref name="shared-form.attrs.size"/>
      </optional>
    </interleave>
  </define>
  <define name="shared-input.attrs">
    <interleave>
      <ref name="shared-input-no-size.attrs"/>
      <optional>
        <ref name="shared-form.attrs.size"/>
      </optional>
    </interleave>
  </define>
  <define name="input.attrs.list">
    <attribute name="list">
      <ref name="common.data.idref"/>
    </attribute>
  </define>
  <define name="input.attrs.step.float">
    <attribute name="step">
      <choice>
        <value>any</value>
        <ref name="common.data.float.positive"/>
      </choice>
    </attribute>
  </define>
  <define name="input.attrs.step.integer">
    <attribute name="step">
      <choice>
        <value>any</value>
        <ref name="common.data.integer.positive"/>
      </choice>
    </attribute>
  </define>
  <define name="input.attrs.multiple">
    <attribute name="multiple">
      <choice>
        <value>multiple</value>
        <value/>
      </choice>
    </attribute>
  </define>
  <define name="input.attrs.autocomplete.any">
    <a:documentation>autocomplete</a:documentation>
    <attribute name="autocomplete">
      <choice>
        <value>on</value>
        <value>off</value>
        <ref name="common.data.autocomplete.any"/>
      </choice>
    </attribute>
  </define>
  <define name="input.attrs.autocomplete">
    <attribute name="autocomplete">
      <data type="string"/>
    </attribute>
  </define>
  <define name="input.hidden.attrs" combine="interleave">
    <a:documentation>Hidden String: &lt;input type='hidden'&gt;, Extensions</a:documentation>
    <optional>
      <ref name="input.attrs.autocomplete"/>
    </optional>
  </define>
  <define name="input.text.attrs" combine="interleave">
    <a:documentation>Text Field: &lt;input type='text'&gt;, Extensions</a:documentation>
    <interleave>
      <optional>
        <ref name="input.attrs.autocomplete"/>
      </optional>
      <optional>
        <ref name="shared-form.attrs.dirname"/>
      </optional>
      <optional>
        <ref name="input.attrs.list"/>
      </optional>
      <optional>
        <ref name="shared-form.attrs.pattern"/>
      </optional>
      <optional>
        <ref name="shared-form.attrs.required"/>
      </optional>
      <optional>
        <ref name="shared-form.attrs.placeholder"/>
      </optional>
      <optional>
        <ref name="aria.prop.placeholder"/>
      </optional>
      <optional>
        <ref name="shared-form.attrs.minlength"/>
      </optional>
    </interleave>
  </define>
  <define name="input.password.attrs" combine="interleave">
    <a:documentation>Password Field: &lt;input type='password'&gt;, Extensions</a:documentation>
    <interleave>
      <optional>
        <ref name="input.attrs.autocomplete"/>
      </optional>
      <optional>
        <ref name="input.attrs.list"/>
      </optional>
      <optional>
        <ref name="shared-form.attrs.pattern"/>
      </optional>
      <optional>
        <ref name="shared-form.attrs.placeholder"/>
      </optional>
      <optional>
        <ref name="aria.prop.placeholder"/>
      </optional>
      <optional>
        <ref name="shared-form.attrs.required"/>
      </optional>
      <optional>
        <ref name="aria.prop.required"/>
      </optional>
      <optional>
        <ref name="shared-form.attrs.minlength"/>
      </optional>
    </interleave>
  </define>
  <define name="input.checkbox.attrs" combine="interleave">
    <a:documentation>Checkbox &lt;input type='checkbox'&gt;, Extensions</a:documentation>
    <interleave>
      <ref name="shared-input.attrs"/>
      <optional>
        <ref name="aria.prop.required"/>
      </optional>
    </interleave>
  </define>
  <define name="input.radio.attrs" combine="interleave">
    <a:documentation>Radiobutton: &lt;input type='radio'&gt;, Extensions</a:documentation>
    <interleave>
      <ref name="shared-input.attrs"/>
      <optional>
        <ref name="aria.prop.required"/>
      </optional>
    </interleave>
  </define>
  <define name="input.button.attrs" combine="interleave">
    <a:documentation>Scripting Hook Button: &lt;input type='button'&gt;, Extensions</a:documentation>
    <ref name="shared-input.attrs"/>
  </define>
  <define name="input.submit.attrs" combine="interleave">
    <a:documentation>Submit Button: &lt;input type='submit'&gt;, Extensions</a:documentation>
    <interleave>
      <ref name="shared-input.attrs"/>
      <optional>
        <ref name="shared-form.attrs.formaction"/>
      </optional>
      <optional>
        <ref name="shared-form.attrs.formenctype"/>
      </optional>
      <optional>
        <ref name="shared-form.attrs.formmethod"/>
      </optional>
      <optional>
        <ref name="shared-form.attrs.formtarget"/>
      </optional>
      <optional>
        <ref name="shared-form.attrs.formnovalidate"/>
      </optional>
    </interleave>
  </define>
  <define name="input.reset.attrs" combine="interleave">
    <a:documentation>Reset Button: &lt;input type='reset'&gt;, Extensions</a:documentation>
    <ref name="shared-input.attrs"/>
  </define>
  <define name="input.file.attrs" combine="interleave">
    <a:documentation>File Upload: &lt;input type='file'&gt;, Extensions</a:documentation>
    <interleave>
      <ref name="shared-input.attrs"/>
      <optional>
        <ref name="input.attrs.multiple"/>
      </optional>
      <optional>
        <ref name="aria.prop.required"/>
      </optional>
      <optional>
        <ref name="input.input.attrs.capture"/>
      </optional>
    </interleave>
  </define>
  <define name="input.input.attrs.capture">
    <attribute name="capture">
      <choice>
        <value>user</value>
        <value>environment</value>
      </choice>
    </attribute>
  </define>
  <define name="input.image.attrs" combine="interleave">
    <a:documentation>Image Submit Button: &lt;input type='image'&gt;, Extensions</a:documentation>
    <interleave>
      <ref name="shared-input.attrs"/>
      <optional>
        <ref name="shared-form.attrs.formaction"/>
      </optional>
      <optional>
        <ref name="shared-form.attrs.formenctype"/>
      </optional>
      <optional>
        <ref name="shared-form.attrs.formmethod"/>
      </optional>
      <optional>
        <ref name="shared-form.attrs.formtarget"/>
      </optional>
      <optional>
        <ref name="shared-form.attrs.formnovalidate"/>
      </optional>
      <optional>
        <ref name="input.image.attrs.height"/>
      </optional>
      <optional>
        <ref name="input.image.attrs.width"/>
      </optional>
    </interleave>
  </define>
  <define name="input.image.attrs.height">
    <attribute name="height">
      <ref name="common.data.integer.non-negative"/>
    </attribute>
  </define>
  <define name="input.image.attrs.width">
    <attribute name="width">
      <ref name="common.data.integer.non-negative"/>
    </attribute>
  </define>
  <define name="input.datetime-local.elem">
    <a:documentation>Date and Time with No Time Zone Information: &lt;input type='datetime-local'&gt;</a:documentation>
    <element name="input">
      <ref name="input.datetime-local.attrs"/>
    </element>
  </define>
  <define name="input.datetime-local.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <ref name="common-form.attrs"/>
      <ref name="shared-input.attrs"/>
      <ref name="input.datetime-local.attrs.type"/>
      <optional>
        <ref name="input.datetime-local.attrs.min"/>
      </optional>
      <optional>
        <ref name="aria.prop.valuemin"/>
      </optional>
      <optional>
        <ref name="input.datetime-local.attrs.max"/>
      </optional>
      <optional>
        <ref name="aria.prop.valuemax"/>
      </optional>
      <optional>
        <ref name="input.attrs.step.float"/>
      </optional>
      <optional>
        <ref name="aria.prop.required"/>
      </optional>
      <optional>
        <ref name="input.datetime-local.attrs.value"/>
      </optional>
    </interleave>
  </define>
  <define name="input.datetime-local.attrs.type">
    <attribute name="type">
      <value>datetime-local</value>
    </attribute>
  </define>
  <define name="input.datetime-local.attrs.min">
    <attribute name="min">
      <ref name="form.data.datetime-local"/>
    </attribute>
  </define>
  <define name="input.datetime-local.attrs.max">
    <attribute name="max">
      <ref name="form.data.datetime-local"/>
    </attribute>
  </define>
  <define name="input.datetime-local.attrs.value">
    <attribute name="value">
      <choice>
        <value/>
        <ref name="form.data.datetime-local"/>
      </choice>
    </attribute>
  </define>
  <define name="input.elem" combine="choice">
    <ref name="input.datetime-local.elem"/>
  </define>
  <define name="input.date.elem">
    <a:documentation>Date: &lt;input type='date'&gt;</a:documentation>
    <element name="input">
      <ref name="input.date.attrs"/>
    </element>
  </define>
  <define name="input.date.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <ref name="common-form.attrs"/>
      <ref name="shared-input.attrs"/>
      <ref name="input.date.attrs.type"/>
      <optional>
        <ref name="input.date.attrs.min"/>
      </optional>
      <optional>
        <ref name="aria.prop.valuemin"/>
      </optional>
      <optional>
        <ref name="input.date.attrs.max"/>
      </optional>
      <optional>
        <ref name="aria.prop.valuemax"/>
      </optional>
      <optional>
        <ref name="aria.prop.required"/>
      </optional>
      <optional>
        <ref name="input.attrs.step.integer"/>
      </optional>
      <optional>
        <ref name="input.date.attrs.value"/>
      </optional>
    </interleave>
  </define>
  <define name="input.date.attrs.type">
    <attribute name="type">
      <value>date</value>
    </attribute>
  </define>
  <define name="input.date.attrs.min">
    <attribute name="min">
      <ref name="form.data.date"/>
    </attribute>
  </define>
  <define name="input.date.attrs.max">
    <attribute name="max">
      <ref name="form.data.date"/>
    </attribute>
  </define>
  <define name="input.date.attrs.value">
    <attribute name="value">
      <choice>
        <value/>
        <ref name="form.data.date"/>
      </choice>
    </attribute>
  </define>
  <define name="input.elem" combine="choice">
    <ref name="input.date.elem"/>
  </define>
  <define name="input.month.elem">
    <a:documentation>Year and Month: &lt;input type='month'&gt;</a:documentation>
    <element name="input">
      <ref name="input.month.attrs"/>
    </element>
  </define>
  <define name="input.month.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <ref name="common-form.attrs"/>
      <ref name="shared-input.attrs"/>
      <ref name="input.month.attrs.type"/>
      <optional>
        <ref name="input.month.attrs.min"/>
      </optional>
      <optional>
        <ref name="aria.prop.valuemin"/>
      </optional>
      <optional>
        <ref name="input.month.attrs.max"/>
      </optional>
      <optional>
        <ref name="aria.prop.valuemax"/>
      </optional>
      <optional>
        <ref name="aria.prop.required"/>
      </optional>
      <optional>
        <ref name="input.attrs.step.integer"/>
      </optional>
      <optional>
        <ref name="input.month.attrs.value"/>
      </optional>
    </interleave>
  </define>
  <define name="input.month.attrs.type">
    <attribute name="type">
      <value>month</value>
    </attribute>
  </define>
  <define name="input.month.attrs.min">
    <attribute name="min">
      <ref name="form.data.month"/>
    </attribute>
  </define>
  <define name="input.month.attrs.max">
    <attribute name="max">
      <ref name="form.data.month"/>
    </attribute>
  </define>
  <define name="input.month.attrs.value">
    <attribute name="value">
      <choice>
        <value/>
        <ref name="form.data.month"/>
      </choice>
    </attribute>
  </define>
  <define name="input.elem" combine="choice">
    <ref name="input.month.elem"/>
  </define>
  <define name="input.time.elem">
    <a:documentation>Time without Time Zone Information: &lt;input type='time'&gt;</a:documentation>
    <element name="input">
      <ref name="input.time.attrs"/>
    </element>
  </define>
  <define name="input.time.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <ref name="common-form.attrs"/>
      <ref name="shared-input.attrs"/>
      <ref name="input.time.attrs.type"/>
      <optional>
        <ref name="input.time.attrs.min"/>
      </optional>
      <optional>
        <ref name="aria.prop.valuemin"/>
      </optional>
      <optional>
        <ref name="input.time.attrs.max"/>
      </optional>
      <optional>
        <ref name="aria.prop.valuemax"/>
      </optional>
      <optional>
        <ref name="aria.prop.required"/>
      </optional>
      <optional>
        <ref name="input.attrs.step.float"/>
      </optional>
      <optional>
        <ref name="input.time.attrs.value"/>
      </optional>
    </interleave>
  </define>
  <define name="input.time.attrs.type">
    <attribute name="type">
      <value>time</value>
    </attribute>
  </define>
  <define name="input.time.attrs.min">
    <attribute name="min">
      <ref name="form.data.time"/>
    </attribute>
  </define>
  <define name="input.time.attrs.max">
    <attribute name="max">
      <ref name="form.data.time"/>
    </attribute>
  </define>
  <define name="input.time.attrs.value">
    <attribute name="value">
      <choice>
        <value/>
        <ref name="form.data.time"/>
      </choice>
    </attribute>
  </define>
  <define name="input.elem" combine="choice">
    <ref name="input.time.elem"/>
  </define>
  <define name="input.week.elem">
    <a:documentation>Year and Week: &lt;input type='week'&gt;</a:documentation>
    <element name="input">
      <ref name="input.week.attrs"/>
    </element>
  </define>
  <define name="input.week.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <ref name="common-form.attrs"/>
      <ref name="shared-input.attrs"/>
      <ref name="input.week.attrs.type"/>
      <optional>
        <ref name="input.week.attrs.min"/>
      </optional>
      <optional>
        <ref name="aria.prop.valuemin"/>
      </optional>
      <optional>
        <ref name="input.week.attrs.max"/>
      </optional>
      <optional>
        <ref name="aria.prop.valuemax"/>
      </optional>
      <optional>
        <ref name="aria.prop.required"/>
      </optional>
      <optional>
        <ref name="input.attrs.step.integer"/>
      </optional>
      <optional>
        <ref name="input.week.attrs.value"/>
      </optional>
    </interleave>
  </define>
  <define name="input.week.attrs.type">
    <attribute name="type">
      <value>week</value>
    </attribute>
  </define>
  <define name="input.week.attrs.min">
    <attribute name="min">
      <ref name="form.data.week"/>
    </attribute>
  </define>
  <define name="input.week.attrs.max">
    <attribute name="max">
      <ref name="form.data.week"/>
    </attribute>
  </define>
  <define name="input.week.attrs.value">
    <attribute name="value">
      <choice>
        <value/>
        <ref name="form.data.week"/>
      </choice>
    </attribute>
  </define>
  <define name="input.elem" combine="choice">
    <ref name="input.week.elem"/>
  </define>
  <define name="input.number.elem">
    <a:documentation>Number: &lt;input type='number'&gt;</a:documentation>
    <element name="input">
      <ref name="input.number.attrs"/>
    </element>
  </define>
  <define name="input.number.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <ref name="common-form.attrs"/>
      <ref name="shared-input-no-size.attrs"/>
      <ref name="input.number.attrs.type"/>
      <optional>
        <ref name="input.number.attrs.min"/>
      </optional>
      <optional>
        <ref name="input.number.attrs.max"/>
      </optional>
      <optional>
        <ref name="input.attrs.step.float"/>
      </optional>
      <optional>
        <ref name="input.number.attrs.value"/>
      </optional>
      <optional>
        <choice>
          <ref name="common.attrs.aria.implicit.spinbutton"/>
          <ref name="common.attrs.aria.role.spinbutton"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="input.number.attrs.type">
    <attribute name="type">
      <value>number</value>
    </attribute>
  </define>
  <define name="input.number.attrs.min">
    <attribute name="min">
      <ref name="common.data.float"/>
    </attribute>
  </define>
  <define name="input.number.attrs.max">
    <attribute name="max">
      <ref name="common.data.float"/>
    </attribute>
  </define>
  <define name="input.number.attrs.value">
    <attribute name="value">
      <choice>
        <value/>
        <ref name="common.data.float"/>
      </choice>
    </attribute>
  </define>
  <define name="input.elem" combine="choice">
    <ref name="input.number.elem"/>
  </define>
  <define name="input.range.elem">
    <a:documentation>Imprecise Number: &lt;input type='range'&gt;</a:documentation>
    <element name="input">
      <ref name="input.range.attrs"/>
    </element>
  </define>
  <define name="input.range.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <ref name="common-form.attrs"/>
      <ref name="shared-input-no-size.attrs"/>
      <ref name="input.range.attrs.type"/>
      <optional>
        <ref name="input.range.attrs.min"/>
      </optional>
      <optional>
        <ref name="input.range.attrs.max"/>
      </optional>
      <optional>
        <ref name="input.attrs.step.float"/>
      </optional>
      <optional>
        <ref name="input.range.attrs.value"/>
      </optional>
      <optional>
        <choice>
          <ref name="common.attrs.aria.implicit.slider"/>
          <ref name="common.attrs.aria.role.slider"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="input.range.attrs.type">
    <attribute name="type">
      <value>range</value>
    </attribute>
  </define>
  <define name="input.range.attrs.min">
    <attribute name="min">
      <ref name="common.data.float"/>
    </attribute>
  </define>
  <define name="input.range.attrs.max">
    <attribute name="max">
      <ref name="common.data.float"/>
    </attribute>
  </define>
  <define name="input.range.attrs.value">
    <attribute name="value">
      <ref name="common.data.float"/>
    </attribute>
  </define>
  <define name="input.elem" combine="choice">
    <ref name="input.range.elem"/>
  </define>
  <define name="input.email.elem">
    <a:documentation>Email Address: &lt;input type='email'&gt;</a:documentation>
    <element name="input">
      <ref name="input.email.attrs"/>
    </element>
  </define>
  <define name="input.email.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <ref name="common-form.attrs"/>
      <ref name="shared-input-no-list.attrs"/>
      <ref name="input.email.attrs.type"/>
      <optional>
        <choice>
          <interleave>
            <ref name="input.attrs.multiple"/>
            <optional>
              <ref name="input.email.attrs.value.multiple"/>
            </optional>
          </interleave>
          <optional>
            <ref name="input.email.attrs.value.single"/>
          </optional>
        </choice>
      </optional>
      <choice>
        <optional>
          <choice>
            <ref name="common.attrs.aria.implicit.textbox"/>
            <ref name="common.attrs.aria.role.textbox"/>
          </choice>
        </optional>
        <optional>
          <interleave>
            <ref name="input.attrs.list"/>
            <optional>
              <choice>
                <ref name="common.attrs.aria.implicit.combobox"/>
                <ref name="common.attrs.aria.role.combobox"/>
              </choice>
            </optional>
          </interleave>
        </optional>
      </choice>
    </interleave>
  </define>
  <define name="input.email.attrs.type">
    <attribute name="type">
      <value>email</value>
    </attribute>
  </define>
  <define name="input.email.attrs.value.single">
    <attribute name="value">
      <ref name="form.data.emailaddress"/>
    </attribute>
  </define>
  <define name="input.email.attrs.value.multiple">
    <attribute name="value">
      <ref name="form.data.emailaddresslist"/>
    </attribute>
  </define>
  <define name="input.elem" combine="choice">
    <ref name="input.email.elem"/>
  </define>
  <define name="input.url.elem">
    <a:documentation>IRI: &lt;input type='url'&gt;</a:documentation>
    <element name="input">
      <ref name="input.url.attrs"/>
    </element>
  </define>
  <define name="input.url.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <ref name="common-form.attrs"/>
      <ref name="shared-input-no-list.attrs"/>
      <ref name="input.url.attrs.type"/>
      <optional>
        <ref name="input.url.attrs.value"/>
      </optional>
      <choice>
        <optional>
          <choice>
            <ref name="common.attrs.aria.implicit.textbox"/>
            <ref name="common.attrs.aria.role.textbox"/>
          </choice>
        </optional>
        <optional>
          <interleave>
            <ref name="input.attrs.list"/>
            <optional>
              <choice>
                <ref name="common.attrs.aria.implicit.combobox"/>
                <ref name="common.attrs.aria.role.combobox"/>
              </choice>
            </optional>
          </interleave>
        </optional>
      </choice>
    </interleave>
  </define>
  <define name="input.url.attrs.type">
    <attribute name="type">
      <value>url</value>
    </attribute>
  </define>
  <define name="input.url.attrs.value">
    <attribute name="value">
      <choice>
        <value/>
        <ref name="common.data.uri.absolute"/>
      </choice>
    </attribute>
  </define>
  <define name="input.elem" combine="choice">
    <ref name="input.url.elem"/>
  </define>
  <define name="input.search.elem">
    <a:documentation>Search: &lt;input type='search'&gt;</a:documentation>
    <element name="input">
      <ref name="input.search.attrs"/>
    </element>
  </define>
  <define name="input.search.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <ref name="common-form.attrs"/>
      <ref name="shared-input.attrs"/>
      <ref name="input.search.attrs.type"/>
      <optional>
        <ref name="input.search.attrs.value"/>
      </optional>
      <optional>
        <ref name="shared-form.attrs.dirname"/>
      </optional>
      <optional>
        <choice>
          <ref name="common.attrs.aria.implicit.searchbox"/>
          <ref name="common.attrs.aria.role.searchbox"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="input.search.attrs.type">
    <attribute name="type">
      <value>search</value>
    </attribute>
  </define>
  <define name="input.search.attrs.value">
    <attribute name="value">
      <ref name="form.data.stringwithoutlinebreaks"/>
    </attribute>
  </define>
  <define name="input.elem" combine="choice">
    <ref name="input.search.elem"/>
  </define>
  <define name="input.tel.elem">
    <a:documentation>Telephone Number: &lt;input type='tel'&gt;</a:documentation>
    <element name="input">
      <ref name="input.tel.attrs"/>
    </element>
  </define>
  <define name="input.tel.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <ref name="common-form.attrs"/>
      <ref name="shared-input-no-list.attrs"/>
      <ref name="input.tel.attrs.type"/>
      <optional>
        <ref name="input.tel.attrs.value"/>
      </optional>
      <choice>
        <optional>
          <choice>
            <ref name="common.attrs.aria.implicit.textbox"/>
            <ref name="common.attrs.aria.role.textbox"/>
          </choice>
        </optional>
        <optional>
          <interleave>
            <ref name="input.attrs.list"/>
            <optional>
              <choice>
                <ref name="common.attrs.aria.implicit.combobox"/>
                <ref name="common.attrs.aria.role.combobox"/>
              </choice>
            </optional>
          </interleave>
        </optional>
      </choice>
    </interleave>
  </define>
  <define name="input.tel.attrs.type">
    <attribute name="type">
      <value>tel</value>
    </attribute>
  </define>
  <define name="input.tel.attrs.value">
    <attribute name="value">
      <ref name="form.data.stringwithoutlinebreaks"/>
    </attribute>
  </define>
  <define name="input.elem" combine="choice">
    <ref name="input.tel.elem"/>
  </define>
  <define name="input.color.elem">
    <a:documentation>Color: &lt;input type='color'&gt;</a:documentation>
    <element name="input">
      <ref name="input.color.attrs"/>
    </element>
  </define>
  <define name="input.color.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <ref name="common-form.attrs"/>
      <ref name="input.color.attrs.type"/>
      <optional>
        <ref name="input.color.attrs.value"/>
      </optional>
      <ref name="shared-input.attrs"/>
    </interleave>
  </define>
  <define name="input.color.attrs.type">
    <attribute name="type">
      <value>color</value>
    </attribute>
  </define>
  <define name="input.color.attrs.value">
    <attribute name="value">
      <choice>
        <value/>
        <ref name="form.data.color"/>
      </choice>
    </attribute>
  </define>
  <define name="input.elem" combine="choice">
    <ref name="input.color.elem"/>
  </define>
  <define name="output.elem">
    <a:documentation>Form Output: &lt;output&gt;</a:documentation>
    <element name="output">
      <interleave>
        <ref name="output.inner"/>
        <ref name="output.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="output.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <ref name="common-form.attrs.name"/>
      </optional>
      <optional>
        <ref name="common-form.attrs.form"/>
      </optional>
      <optional>
        <ref name="output.attrs.for"/>
      </optional>
      <optional>
        <choice>
          <ref name="common.attrs.aria.implicit.status"/>
          <ref name="common.attrs.aria"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="output.attrs.for">
    <attribute name="for">
      <ref name="common.data.idrefs"/>
      <!-- REVISIT spec says space- -not whitespace -->
    </attribute>
  </define>
  <define name="output.inner">
    <ref name="common.inner.phrasing"/>
  </define>
  <define name="common.elem.phrasing" combine="choice">
    <ref name="output.elem"/>
  </define>
  <define name="textarea.attrs.rows-and-cols-wf1.inner" combine="interleave">
    <a:documentation>Text Area: &lt;textarea&gt;, extensions</a:documentation>
    <notAllowed/>
  </define>
  <define name="textarea.attrs.rows-and-cols-wf1" combine="choice">
    <empty/>
  </define>
  <define name="textarea.attrs" combine="interleave">
    <interleave>
      <optional>
        <ref name="shared-form.attrs.maxlength"/>
      </optional>
      <optional>
        <ref name="shared-form.attrs.minlength"/>
      </optional>
      <optional>
        <ref name="shared-form.attrs.required"/>
      </optional>
      <optional>
        <ref name="textarea.attrs.placeholder"/>
      </optional>
      <optional>
        <ref name="aria.prop.placeholder"/>
      </optional>
      <optional>
        <ref name="shared-form.attrs.dirname"/>
      </optional>
      <optional>
        <ref name="textarea.attrs.rows"/>
      </optional>
      <choice>
        <interleave>
          <ref name="textarea.attrs.wrap.hard"/>
          <ref name="textarea.attrs.cols"/>
        </interleave>
        <interleave>
          <optional>
            <ref name="textarea.attrs.wrap.soft"/>
          </optional>
          <optional>
            <ref name="textarea.attrs.cols"/>
          </optional>
        </interleave>
      </choice>
      <optional>
        <ref name="input.attrs.autocomplete.any"/>
      </optional>
    </interleave>
  </define>
  <define name="textarea.attrs.wrap.hard">
    <attribute name="wrap">
      <value>hard</value>
    </attribute>
  </define>
  <define name="textarea.attrs.wrap.soft">
    <attribute name="wrap">
      <value>soft</value>
    </attribute>
  </define>
  <define name="textarea.attrs.placeholder">
    <attribute name="placeholder">
      <data type="string"/>
    </attribute>
  </define>
  <!-- REVISIT should the options in datalist be non-selectable? -->
  <define name="datalist.elem">
    <a:documentation>List of Prefill Data: &lt;datalist&gt;</a:documentation>
    <element name="datalist">
      <interleave>
        <ref name="datalist.inner"/>
        <ref name="datalist.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="datalist.inner">
    <interleave>
      <zeroOrMore>
        <ref name="option.elem"/>
      </zeroOrMore>
      <ref name="common.inner.phrasing"/>
    </interleave>
  </define>
  <define name="datalist.attrs">
    <ref name="common.attrs"/>
  </define>
  <define name="common.elem.phrasing" combine="choice">
    <ref name="datalist.elem"/>
  </define>
  <define name="button.submit.attrs" combine="interleave">
    <a:documentation>Complex Submit Button: &lt;button type='submit'&gt;, extensions</a:documentation>
    <interleave>
      <optional>
        <ref name="shared-form.attrs.formaction"/>
      </optional>
      <optional>
        <ref name="shared-form.attrs.formenctype"/>
      </optional>
      <optional>
        <ref name="shared-form.attrs.formmethod"/>
      </optional>
      <optional>
        <ref name="shared-form.attrs.formtarget"/>
      </optional>
      <optional>
        <ref name="shared-form.attrs.formnovalidate"/>
      </optional>
    </interleave>
  </define>
  <define name="form.attrs" combine="interleave">
    <a:documentation>Form: &lt;form&gt;, extensions</a:documentation>
    <interleave>
      <optional>
        <ref name="form.attrs.novalidate"/>
      </optional>
      <optional>
        <ref name="form.attrs.target"/>
      </optional>
      <optional>
        <ref name="form.attrs.autocomplete"/>
      </optional>
    </interleave>
  </define>
  <define name="form.attrs.novalidate">
    <attribute name="novalidate">
      <choice>
        <value>novalidate</value>
        <value/>
      </choice>
    </attribute>
  </define>
  <define name="form.attrs.target">
    <attribute name="target">
      <ref name="common.data.browsing-context-or-keyword"/>
    </attribute>
  </define>
  <define name="form.attrs.autocomplete">
    <attribute name="autocomplete">
      <choice>
        <value>on</value>
        <value>off</value>
      </choice>
    </attribute>
  </define>
  <!-- REVISIT should this be case-insensitive in conforming XHTML documents? -->
  <define name="form.attrs.enctype.data" combine="choice">
    <value>text/plain</value>
  </define>
  <define name="fieldset.attrs" combine="interleave">
    <a:documentation>Fieldset: &lt;fieldset&gt;, extensions</a:documentation>
    <ref name="common-form.attrs"/>
  </define>
  <define name="select.attrs" combine="interleave">
    <a:documentation>Selection Menu: &lt;select&gt;, Extensions</a:documentation>
    <interleave>
      <optional>
        <ref name="shared-form.attrs.required"/>
      </optional>
      <optional>
        <ref name="input.attrs.autocomplete.any"/>
      </optional>
    </interleave>
  </define>
  <!-- Inlined from applications.rng -->
<!-- ##################################################################### -->
  <define name="common.attrs.interact" combine="interleave">
    <a:documentation> RELAX NG Schema for HTML 5: Web Application Features              #</a:documentation>
    <!-- ##################################################################### -->
    <a:documentation>Additions to Common Attributes</a:documentation>
    <interleave>
      <optional>
        <ref name="common.attrs.contenteditable"/>
      </optional>
      <optional>
        <ref name="common.attrs.draggable"/>
      </optional>
      <optional>
        <ref name="common.attrs.hidden"/>
      </optional>
      <optional>
        <ref name="common.attrs.popover"/>
      </optional>
    </interleave>
  </define>
  <define name="common.attrs.other" combine="interleave">
    <ref name="common.attrs.interact"/>
  </define>
  <define name="common.attrs.contenteditable">
    <a:documentation>Editable Content: contenteditable</a:documentation>
    <attribute name="contenteditable">
      <choice>
        <value>true</value>
        <value>plaintext-only</value>
        <value>false</value>
        <value/>
      </choice>
    </attribute>
  </define>
  <define name="common.attrs.draggable">
    <a:documentation>Draggable Element: draggable</a:documentation>
    <attribute name="draggable">
      <choice>
        <value>true</value>
        <value>false</value>
      </choice>
    </attribute>
  </define>
  <define name="common.attrs.hidden">
    <a:documentation>Hidden Element: hidden</a:documentation>
    <attribute name="hidden">
      <choice>
        <value>hidden</value>
        <value>until-found</value>
        <value/>
      </choice>
    </attribute>
  </define>
  <define name="common.attrs.popover">
    <a:documentation>Popover Element: popover</a:documentation>
    <attribute name="popover">
      <choice>
        <value>auto</value>
        <value>manual</value>
        <value>hint</value>
        <value/>
      </choice>
    </attribute>
  </define>
  <define name="common.attrs.editing" combine="interleave">
    <a:documentation>Global attributes applicable on elements with editable content</a:documentation>
    <interleave>
      <optional>
        <ref name="common.attrs.inputmode"/>
      </optional>
      <optional>
        <ref name="common.attrs.spellcheck"/>
      </optional>
      <optional>
        <ref name="common.attrs.autocapitalize"/>
      </optional>
      <optional>
        <ref name="common.attrs.enterkeyhint"/>
      </optional>
    </interleave>
  </define>
  <define name="common.attrs.other" combine="interleave">
    <ref name="common.attrs.editing"/>
  </define>
  <define name="common.attrs.inputmode">
    <a:documentation>Hint expected data type: inputmode</a:documentation>
    <attribute name="inputmode">
      <choice>
        <value>none</value>
        <value>text</value>
        <value>tel</value>
        <value>url</value>
        <value>email</value>
        <value>numeric</value>
        <value>decimal</value>
        <value>search</value>
      </choice>
    </attribute>
  </define>
  <define name="common.attrs.spellcheck">
    <a:documentation>Spellchecking and grammar checking: spellcheck</a:documentation>
    <attribute name="spellcheck">
      <choice>
        <value>true</value>
        <value>false</value>
        <value/>
      </choice>
    </attribute>
  </define>
  <define name="common.attrs.autocapitalize">
    <a:documentation>Autocapitalization</a:documentation>
    <attribute name="autocapitalize">
      <choice>
        <value>off</value>
        <value>none</value>
        <value>on</value>
        <value>sentences</value>
        <value>words</value>
        <value>characters</value>
      </choice>
    </attribute>
  </define>
  <define name="common.attrs.enterkeyhint">
    <a:documentation>Type of Enter button on virtual keyboards: enterkeyhint</a:documentation>
    <attribute name="enterkeyhint">
      <choice>
        <value>enter</value>
        <value>done</value>
        <value>go</value>
        <value>next</value>
        <value>previous</value>
        <value>search</value>
        <value>send</value>
      </choice>
    </attribute>
  </define>
  <define name="progress.elem">
    <a:documentation>Progess Indicator: &lt;progress&gt;</a:documentation>
    <element name="progress">
      <interleave>
        <ref name="progress.inner"/>
        <ref name="progress.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="progress.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <ref name="progress.attrs.value"/>
      </optional>
      <optional>
        <ref name="progress.attrs.max"/>
      </optional>
      <optional>
        <choice>
          <ref name="common.attrs.aria.implicit.progressbar"/>
          <ref name="common.attrs.aria.role.progressbar"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="progress.attrs.value">
    <attribute name="value">
      <ref name="common.data.float.non-negative"/>
    </attribute>
  </define>
  <define name="progress.attrs.max">
    <attribute name="max">
      <ref name="common.data.float.positive"/>
    </attribute>
  </define>
  <define name="progress.inner">
    <ref name="common.inner.phrasing"/>
  </define>
  <!-- Cannot enforce textContent format here -->
  <define name="common.elem.phrasing" combine="choice">
    <ref name="progress.elem"/>
  </define>
  <define name="dialog.elem">
    <a:documentation>Dialog box, inspector, or window: &lt;dialog&gt;</a:documentation>
    <element name="dialog">
      <interleave>
        <ref name="dialog.inner"/>
        <ref name="dialog.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="dialog.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <ref name="dialog.attrs.open"/>
      </optional>
      <optional>
        <choice>
          <ref name="common.attrs.aria.implicit.dialog"/>
          <ref name="common.attrs.aria.role.alertdialog"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="dialog.attrs.open">
    <attribute name="open">
      <choice>
        <value>open</value>
        <value/>
      </choice>
    </attribute>
  </define>
  <define name="dialog.inner">
    <ref name="common.inner.flow"/>
  </define>
  <define name="common.elem.flow" combine="choice">
    <ref name="dialog.elem"/>
  </define>
  <define name="menu.elem">
    <a:documentation>Toolbar: &lt;menu&gt;</a:documentation>
    <element name="menu">
      <interleave>
        <ref name="menu.inner"/>
        <ref name="menu.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="menu.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <choice>
          <ref name="common.attrs.aria.implicit.list"/>
          <ref name="common.attrs.aria.role.directory"/>
          <ref name="common.attrs.aria.role.group"/>
          <ref name="common.attrs.aria.role.list"/>
          <ref name="common.attrs.aria.role.listbox"/>
          <ref name="common.attrs.aria.role.menu"/>
          <ref name="common.attrs.aria.role.menubar"/>
          <ref name="common.attrs.aria.role.radiogroup"/>
          <ref name="common.attrs.aria.role.tablist"/>
          <ref name="common.attrs.aria.role.toolbar"/>
          <ref name="common.attrs.aria.role.tree"/>
          <ref name="common.attrs.aria.role.presentation"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="menu.inner">
    <interleave>
      <zeroOrMore>
        <ref name="mli.elem"/>
      </zeroOrMore>
      <zeroOrMore>
        <ref name="common.elem.script-supporting"/>
      </zeroOrMore>
    </interleave>
  </define>
  <define name="common.elem.flow" combine="choice">
    <ref name="menu.elem"/>
  </define>
  <define name="mli.elem">
    <a:documentation>Toolbar item: &lt;li&gt;</a:documentation>
    <element name="li">
      <interleave>
        <ref name="mli.inner"/>
        <ref name="mli.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="mli.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <choice>
          <ref name="common.attrs.aria.role.listitem"/>
          <ref name="common.attrs.aria.role.menuitem"/>
          <ref name="common.attrs.aria.role.menuitemcheckbox"/>
          <ref name="common.attrs.aria.role.menuitemradio"/>
          <ref name="common.attrs.aria.role.option"/>
          <ref name="common.attrs.aria.role.tab"/>
          <ref name="common.attrs.aria.role.treeitem"/>
          <ref name="common.attrs.aria.role.presentation"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="mli.inner">
    <ref name="common.inner.flow"/>
  </define>
  <define name="canvas.elem.flow">
    <a:documentation>Canvas for Dynamic Graphics: &lt;canvas&gt;</a:documentation>
    <element name="canvas">
      <interleave>
        <ref name="canvas.inner.flow"/>
        <ref name="canvas.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="canvas.elem.phrasing">
    <element name="canvas">
      <interleave>
        <ref name="canvas.inner.phrasing"/>
        <ref name="canvas.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="canvas.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <ref name="canvas.attrs.height"/>
      </optional>
      <optional>
        <ref name="canvas.attrs.width"/>
      </optional>
      <optional>
        <ref name="common.attrs.aria"/>
      </optional>
    </interleave>
  </define>
  <define name="canvas.attrs.height">
    <attribute name="height">
      <ref name="common.data.integer.non-negative"/>
    </attribute>
  </define>
  <define name="canvas.attrs.width">
    <attribute name="width">
      <ref name="common.data.integer.non-negative"/>
    </attribute>
  </define>
  <define name="canvas.inner.flow">
    <ref name="common.inner.transparent.flow"/>
  </define>
  <define name="canvas.inner.phrasing">
    <ref name="common.inner.phrasing"/>
  </define>
  <define name="common.elem.flow" combine="choice">
    <ref name="canvas.elem.flow"/>
  </define>
  <define name="common.elem.phrasing" combine="choice">
    <ref name="canvas.elem.phrasing"/>
  </define>
  <define name="details.elem">
    <a:documentation>Additional On-Demand Information: &lt;details&gt;</a:documentation>
    <element name="details">
      <interleave>
        <ref name="details.inner"/>
        <ref name="details.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="details.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <ref name="details.attrs.open"/>
      </optional>
      <optional>
        <choice>
          <ref name="common.attrs.aria.implicit.group"/>
          <!-- aria-expanded must be true if open attr present; check by assertions -->
          <ref name="common.attrs.aria.role.group"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="details.attrs.open">
    <attribute name="open">
      <choice>
        <value>open</value>
        <value/>
      </choice>
    </attribute>
  </define>
  <define name="details.inner">
    <ref name="summary.elem"/>
    <ref name="common.inner.flow"/>
  </define>
  <define name="common.elem.flow" combine="choice">
    <ref name="details.elem"/>
  </define>
  <define name="summary.elem">
    <a:documentation>Caption/summary for details element: &lt;summary&gt;</a:documentation>
    <element name="summary">
      <interleave>
        <ref name="summary.inner"/>
        <ref name="summary.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="summary.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <choice>
          <ref name="common.attrs.aria.implicit.button"/>
          <ref name="common.attrs.aria.role.button"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="summary.inner">
    <interleave>
      <ref name="common.inner.phrasing"/>
      <optional>
        <ref name="h1.elem"/>
      </optional>
      <optional>
        <ref name="h2.elem"/>
      </optional>
      <optional>
        <ref name="h3.elem"/>
      </optional>
      <optional>
        <ref name="h4.elem"/>
      </optional>
      <optional>
        <ref name="h5.elem"/>
      </optional>
      <optional>
        <ref name="h6.elem"/>
      </optional>
      <optional>
        <ref name="hgroup.elem"/>
      </optional>
    </interleave>
  </define>
  <!-- Inlined from data.rng -->
<!-- ##################################################################### -->
  <define name="time.elem">
    <a:documentation> RELAX NG Schema for HTML 5: Static Data Markup                    #</a:documentation>
    <!-- ##################################################################### -->
    <a:documentation>Time: &lt;time&gt;</a:documentation>
    <element name="time">
      <interleave>
        <ref name="time.inner"/>
        <ref name="time.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="time.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <ref name="common.attrs.aria"/>
      </optional>
    </interleave>
  </define>
  <define name="time.inner">
    <text/>
  </define>
  <!-- Cannot enforce textContent format here -->
  <define name="common.elem.phrasing" combine="choice">
    <ref name="time.elem"/>
  </define>
  <define name="time.datetime.elem">
    <a:documentation>Time with datetime attribute: &lt;time datetime&gt;</a:documentation>
    <element name="time">
      <interleave>
        <ref name="time.datetime.inner"/>
        <ref name="time.datetime.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="time.datetime.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <ref name="time.attrs.datetime"/>
      <optional>
        <ref name="common.attrs.aria"/>
      </optional>
    </interleave>
  </define>
  <define name="time.attrs.datetime">
    <attribute name="datetime">
      <ref name="common.data.time-datetime"/>
    </attribute>
  </define>
  <define name="time.datetime.inner">
    <ref name="common.inner.phrasing"/>
  </define>
  <define name="common.elem.phrasing" combine="choice">
    <ref name="time.datetime.elem"/>
  </define>
  <define name="data.elem">
    <a:documentation>Data: &lt;data&gt;</a:documentation>
    <element name="data">
      <interleave>
        <ref name="data.inner"/>
        <ref name="data.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="data.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <ref name="data.attrs.value"/>
      <optional>
        <ref name="common.attrs.aria"/>
      </optional>
    </interleave>
  </define>
  <define name="data.attrs.value">
    <attribute name="value">
      <data type="string"/>
    </attribute>
  </define>
  <define name="data.inner">
    <ref name="common.inner.phrasing"/>
  </define>
  <define name="common.elem.phrasing" combine="choice">
    <ref name="data.elem"/>
  </define>
  <define name="meter.elem">
    <a:documentation>Scalar Gauge: &lt;meter&gt;</a:documentation>
    <element name="meter">
      <interleave>
        <ref name="meter.inner"/>
        <ref name="meter.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="meter.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <ref name="meter.attrs.value"/>
      <optional>
        <ref name="meter.attrs.min"/>
      </optional>
      <optional>
        <ref name="aria.prop.valuemin"/>
      </optional>
      <optional>
        <ref name="meter.attrs.low"/>
      </optional>
      <optional>
        <ref name="meter.attrs.high"/>
      </optional>
      <optional>
        <ref name="meter.attrs.max"/>
      </optional>
      <optional>
        <ref name="aria.prop.valuemax"/>
      </optional>
      <optional>
        <ref name="meter.attrs.optimum"/>
      </optional>
    </interleave>
  </define>
  <define name="meter.attrs.value">
    <attribute name="value">
      <ref name="common.data.float"/>
    </attribute>
  </define>
  <define name="meter.attrs.min">
    <attribute name="min">
      <ref name="common.data.float"/>
    </attribute>
  </define>
  <define name="meter.attrs.low">
    <attribute name="low">
      <ref name="common.data.float"/>
    </attribute>
  </define>
  <define name="meter.attrs.high">
    <attribute name="high">
      <ref name="common.data.float"/>
    </attribute>
  </define>
  <define name="meter.attrs.max">
    <attribute name="max">
      <ref name="common.data.float"/>
    </attribute>
  </define>
  <define name="meter.attrs.optimum">
    <attribute name="optimum">
      <ref name="common.data.float"/>
    </attribute>
  </define>
  <define name="meter.inner">
    <ref name="common.inner.phrasing"/>
  </define>
  <!-- Cannot enforce textContent format here -->
  <define name="common.elem.phrasing" combine="choice">
    <ref name="meter.elem"/>
  </define>
  <!-- Inlined from aria.rng -->
<!-- ##################################################################### -->
  <define name="aria.global">
    <a:documentation>	RELAX NG Schema for HTML 5: Accessible Rich Internet Applications #</a:documentation>
    <!--
      #####################################################################
      
      history: http://hsivonen.iki.fi/aria-html5-bis/
    -->
    <!-- ##################################################################### -->
    <a:documentation>ARIA</a:documentation>
    <a:documentation>Global states and properties</a:documentation>
    <interleave>
      <optional>
        <ref name="aria.prop.atomic"/>
      </optional>
      <optional>
        <ref name="aria.state.busy"/>
      </optional>
      <optional>
        <ref name="aria.prop.controls"/>
      </optional>
      <optional>
        <ref name="aria.state.current"/>
      </optional>
      <optional>
        <ref name="aria.prop.describedby"/>
      </optional>
      <optional>
        <ref name="aria.prop.details"/>
      </optional>
      <optional>
        <ref name="aria.state.disabled"/>
      </optional>
      <optional>
        <ref name="aria.prop.errormessage"/>
      </optional>
      <optional>
        <ref name="aria.prop.flowto"/>
      </optional>
      <optional>
        <ref name="aria.prop.haspopup"/>
      </optional>
      <optional>
        <ref name="aria.state.hidden"/>
      </optional>
      <optional>
        <ref name="aria.state.invalid"/>
      </optional>
      <optional>
        <ref name="aria.prop.keyshortcuts"/>
      </optional>
      <optional>
        <ref name="aria.prop.label"/>
      </optional>
      <optional>
        <ref name="aria.prop.labelledby"/>
      </optional>
      <optional>
        <ref name="aria.prop.live"/>
      </optional>
      <optional>
        <ref name="aria.prop.owns"/>
      </optional>
      <optional>
        <ref name="aria.prop.relevant"/>
      </optional>
      <optional>
        <ref name="aria.prop.roledescription"/>
      </optional>
      <optional>
        <ref name="aria.prop.description"/>
      </optional>
    </interleave>
  </define>
  <define name="common.attrs.other" combine="interleave">
    <optional>
      <ref name="aria.global"/>
    </optional>
  </define>
  <define name="common.attrs.aria.implicit.button" combine="choice">
    <a:documentation>States and Properties for Native Roles</a:documentation>
    <interleave>
      <optional>
        <ref name="aria.state.expanded"/>
      </optional>
      <optional>
        <ref name="aria.state.pressed"/>
      </optional>
    </interleave>
  </define>
  <define name="common.attrs.aria.implicit.cell" combine="choice">
    <interleave>
      <optional>
        <ref name="aria.prop.colspan"/>
      </optional>
      <optional>
        <ref name="aria.prop.rowspan"/>
      </optional>
      <optional>
        <ref name="aria.prop.rowindex"/>
      </optional>
    </interleave>
  </define>
  <define name="common.attrs.aria.implicit.checkbox" combine="choice">
    <optional>
      <ref name="aria.state.checked"/>
    </optional>
  </define>
  <define name="common.attrs.aria.implicit.combobox" combine="choice">
    <interleave>
      <optional>
        <ref name="aria.state.expanded"/>
      </optional>
      <optional>
        <ref name="aria.prop.autocomplete"/>
      </optional>
      <optional>
        <ref name="aria.prop.required"/>
      </optional>
      <optional>
        <ref name="aria.prop.activedescendant"/>
      </optional>
      <optional>
        <ref name="aria.prop.readonly"/>
      </optional>
    </interleave>
  </define>
  <define name="common.attrs.aria.implicit.definition" combine="choice">
    <optional>
      <ref name="aria.state.expanded"/>
    </optional>
  </define>
  <define name="common.attrs.aria.implicit.dialog" combine="choice">
    <optional>
      <ref name="aria.state.expanded"/>
    </optional>
  </define>
  <define name="common.attrs.aria.implicit.document" combine="choice">
    <optional>
      <ref name="aria.state.expanded"/>
    </optional>
  </define>
  <define name="common.attrs.aria.implicit.figure" combine="choice">
    <optional>
      <ref name="aria.state.expanded"/>
    </optional>
  </define>
  <define name="common.attrs.aria.implicit.form" combine="choice">
    <optional>
      <ref name="aria.state.expanded"/>
    </optional>
  </define>
  <define name="common.attrs.aria.implicit.group" combine="choice">
    <interleave>
      <optional>
        <ref name="aria.state.expanded"/>
      </optional>
      <optional>
        <ref name="aria.prop.activedescendant"/>
      </optional>
    </interleave>
  </define>
  <define name="common.attrs.aria.implicit.heading" combine="choice">
    <interleave>
      <optional>
        <ref name="aria.state.expanded"/>
      </optional>
      <optional>
        <ref name="aria.prop.level"/>
      </optional>
    </interleave>
  </define>
  <define name="common.attrs.aria.implicit.img" combine="choice">
    <optional>
      <ref name="aria.state.expanded"/>
    </optional>
  </define>
  <define name="common.attrs.aria.implicit.link" combine="choice">
    <optional>
      <ref name="aria.state.expanded"/>
    </optional>
  </define>
  <define name="common.attrs.aria.implicit.listbox" combine="choice">
    <interleave>
      <optional>
        <ref name="aria.prop.multiselectable"/>
      </optional>
      <optional>
        <ref name="aria.prop.required"/>
      </optional>
      <optional>
        <ref name="aria.prop.activedescendant"/>
      </optional>
      <optional>
        <ref name="aria.state.expanded"/>
      </optional>
    </interleave>
  </define>
  <define name="common.attrs.aria.implicit.listitem" combine="choice">
    <interleave>
      <optional>
        <ref name="aria.prop.level"/>
      </optional>
      <optional>
        <ref name="aria.prop.posinset"/>
      </optional>
      <optional>
        <ref name="aria.prop.setsize"/>
      </optional>
      <optional>
        <ref name="aria.state.expanded"/>
      </optional>
    </interleave>
  </define>
  <define name="common.attrs.aria.implicit.math" combine="choice">
    <optional>
      <ref name="aria.state.expanded"/>
    </optional>
  </define>
  <define name="common.attrs.aria.implicit.option" combine="choice">
    <interleave>
      <optional>
        <ref name="aria.prop.posinset"/>
      </optional>
      <optional>
        <ref name="aria.prop.setsize"/>
      </optional>
      <optional>
        <ref name="aria.state.checked"/>
      </optional>
      <optional>
        <ref name="aria.state.selected"/>
      </optional>
    </interleave>
  </define>
  <define name="common.attrs.aria.implicit.progressbar" combine="choice">
    <interleave>
      <optional>
        <ref name="aria.prop.valuemax"/>
      </optional>
      <optional>
        <ref name="aria.prop.valuemin"/>
      </optional>
      <optional>
        <ref name="aria.prop.valuenow"/>
      </optional>
      <optional>
        <ref name="aria.prop.valuetext"/>
      </optional>
    </interleave>
  </define>
  <define name="common.attrs.aria.implicit.radio" combine="choice">
    <interleave>
      <optional>
        <ref name="aria.prop.posinset"/>
      </optional>
      <optional>
        <ref name="aria.prop.setsize"/>
      </optional>
      <optional>
        <ref name="aria.state.checked"/>
      </optional>
      <optional>
        <ref name="aria.state.selected"/>
      </optional>
    </interleave>
  </define>
  <define name="common.attrs.aria.implicit.row" combine="choice">
    <interleave>
      <optional>
        <ref name="aria.prop.level"/>
      </optional>
      <optional>
        <!-- not inherited -->
        <ref name="aria.state.selected"/>
      </optional>
      <optional>
        <!-- not inherited -->
        <ref name="aria.prop.activedescendant"/>
      </optional>
      <optional>
        <ref name="aria.state.expanded"/>
      </optional>
    </interleave>
  </define>
  <define name="common.attrs.aria.implicit.rowgroup" combine="choice">
    <interleave>
      <optional>
        <ref name="aria.prop.activedescendant"/>
      </optional>
      <optional>
        <ref name="aria.state.expanded"/>
      </optional>
    </interleave>
  </define>
  <define name="common.attrs.aria.implicit.searchbox" combine="choice">
    <interleave>
      <optional>
        <ref name="aria.prop.activedescendant"/>
      </optional>
      <optional>
        <ref name="aria.prop.autocomplete"/>
      </optional>
      <optional>
        <ref name="aria.prop.multiline"/>
      </optional>
      <optional>
        <ref name="aria.prop.readonly"/>
      </optional>
      <optional>
        <ref name="aria.prop.required"/>
      </optional>
    </interleave>
  </define>
  <define name="common.attrs.aria.implicit.separator" combine="choice">
    <interleave>
      <optional>
        <ref name="aria.prop.valuemax"/>
      </optional>
      <optional>
        <ref name="aria.prop.valuemin"/>
      </optional>
      <optional>
        <ref name="aria.prop.valuenow"/>
      </optional>
      <optional>
        <ref name="aria.prop.valuetext"/>
      </optional>
      <optional>
        <ref name="aria.prop.orientation"/>
      </optional>
    </interleave>
  </define>
  <define name="common.attrs.aria.implicit.slider" combine="choice">
    <interleave>
      <optional>
        <ref name="aria.prop.valuemax"/>
      </optional>
      <optional>
        <ref name="aria.prop.valuemin"/>
      </optional>
      <optional>
        <ref name="aria.prop.valuenow"/>
      </optional>
      <optional>
        <ref name="aria.prop.valuetext"/>
      </optional>
      <optional>
        <ref name="aria.prop.orientation"/>
      </optional>
    </interleave>
  </define>
  <define name="common.attrs.aria.implicit.spinbutton" combine="choice">
    <interleave>
      <optional>
        <ref name="aria.prop.valuemax"/>
      </optional>
      <optional>
        <ref name="aria.prop.valuemin"/>
      </optional>
      <optional>
        <ref name="aria.prop.valuenow"/>
      </optional>
      <optional>
        <ref name="aria.prop.valuetext"/>
      </optional>
      <optional>
        <ref name="aria.prop.required"/>
      </optional>
    </interleave>
  </define>
  <define name="common.attrs.aria.implicit.table" combine="choice">
    <interleave>
      <optional>
        <ref name="aria.prop.colcount"/>
      </optional>
      <optional>
        <ref name="aria.prop.rowcount"/>
      </optional>
    </interleave>
  </define>
  <define name="common.attrs.aria.implicit.term" combine="choice">
    <optional>
      <ref name="aria.state.expanded"/>
    </optional>
  </define>
  <define name="common.attrs.aria.implicit.textbox" combine="choice">
    <interleave>
      <optional>
        <ref name="aria.prop.activedescendant"/>
      </optional>
      <optional>
        <ref name="aria.prop.autocomplete"/>
      </optional>
      <optional>
        <ref name="aria.prop.multiline"/>
      </optional>
      <optional>
        <ref name="aria.prop.readonly"/>
      </optional>
      <optional>
        <ref name="aria.prop.required"/>
      </optional>
    </interleave>
  </define>
  <define name="common.attrs.aria.implicit.toolbar" combine="choice">
    <interleave>
      <optional>
        <ref name="aria.state.expanded"/>
      </optional>
      <optional>
        <ref name="aria.prop.activedescendant"/>
      </optional>
    </interleave>
  </define>
  <define name="common.attrs.aria.implicit.column-or-row-header" combine="choice">
    <interleave>
      <optional>
        <ref name="aria.prop.sort"/>
      </optional>
      <optional>
        <ref name="aria.prop.readonly"/>
      </optional>
      <optional>
        <ref name="aria.prop.required"/>
      </optional>
      <optional>
        <ref name="aria.prop.colspan"/>
      </optional>
      <optional>
        <ref name="aria.prop.colindex"/>
      </optional>
      <optional>
        <ref name="aria.prop.rowspan"/>
      </optional>
      <optional>
        <ref name="aria.prop.rowindex"/>
      </optional>
      <optional>
        <ref name="aria.state.selected"/>
      </optional>
      <optional>
        <ref name="aria.state.expanded"/>
      </optional>
    </interleave>
  </define>
  <!--
    common.attrs.aria.implicit.select |=
    		(	aria.state.invalid?
    	&	aria.prop.required?
    	&	aria.prop.atomic?
    	&	aria.state.busy?
    	&	aria.prop.channel?
    	&	aria.prop.controls?
    	&	aria.prop.live?
    	&	aria.prop.relevant?
    	)
  -->
  <!--
    section
      |
      |_ region
           |
           |_ article
           |
           |_ landmark
           |     |_ banner
           |     |_ complementary
           |     |_ contentinfo
           |     |_ main
           |     |_ navigation
           |
           |_ list
           |
           |_ status
  -->
  <define name="common.attrs.aria.implicit.section" combine="choice">
    <optional>
      <ref name="aria.state.expanded"/>
    </optional>
  </define>
  <define name="common.attrs.aria.implicit.region" combine="choice">
    <ref name="common.attrs.aria.implicit.section"/>
  </define>
  <define name="common.attrs.aria.implicit.article" combine="choice">
    <ref name="common.attrs.aria.implicit.region"/>
  </define>
  <define name="common.attrs.aria.implicit.landmark" combine="choice">
    <ref name="common.attrs.aria.implicit.region"/>
  </define>
  <define name="common.attrs.aria.implicit.list" combine="choice">
    <ref name="common.attrs.aria.implicit.region"/>
  </define>
  <define name="common.attrs.aria.implicit.status" combine="choice">
    <ref name="common.attrs.aria.implicit.region"/>
  </define>
  <define name="common.attrs.aria.implicit.banner" combine="choice">
    <ref name="common.attrs.aria.implicit.landmark"/>
  </define>
  <define name="common.attrs.aria.implicit.complementary" combine="choice">
    <ref name="common.attrs.aria.implicit.landmark"/>
  </define>
  <define name="common.attrs.aria.implicit.contentinfo" combine="choice">
    <ref name="common.attrs.aria.implicit.landmark"/>
  </define>
  <define name="common.attrs.aria.implicit.main" combine="choice">
    <ref name="common.attrs.aria.implicit.landmark"/>
  </define>
  <define name="common.attrs.aria.implicit.navigation" combine="choice">
    <ref name="common.attrs.aria.implicit.landmark"/>
  </define>
  <define name="common.attrs.aria.implicit.search" combine="choice">
    <ref name="common.attrs.aria.implicit.landmark"/>
  </define>
  <!-- ##################################################################### -->
  <define name="aria.state.busy">
    <a:documentation>States</a:documentation>
    <a:documentation>busy</a:documentation>
    <attribute name="aria-busy">
      <choice>
        <value type="string">true</value>
        <value type="string">false</value>
      </choice>
      <!-- default -->
    </attribute>
  </define>
  <define name="aria.state.current">
    <a:documentation>current</a:documentation>
    <attribute name="aria-current">
      <choice>
        <value type="string">page</value>
        <value type="string">step</value>
        <value type="string">location</value>
        <value type="string">date</value>
        <value type="string">time</value>
        <value type="string">true</value>
        <value type="string">false</value>
      </choice>
      <!-- default -->
    </attribute>
  </define>
  <define name="aria.state.checked">
    <a:documentation>checked</a:documentation>
    <attribute name="aria-checked">
      <choice>
        <value type="string">true</value>
        <value type="string">false</value>
        <value type="string">mixed</value>
        <value type="string">undefined</value>
      </choice>
      <!-- default -->
    </attribute>
  </define>
  <define name="aria.state.disabled">
    <a:documentation>disabled</a:documentation>
    <attribute name="aria-disabled">
      <choice>
        <value type="string">true</value>
        <value type="string">false</value>
      </choice>
      <!-- default -->
    </attribute>
  </define>
  <define name="aria.state.expanded">
    <a:documentation>expanded</a:documentation>
    <attribute name="aria-expanded">
      <choice>
        <value type="string">true</value>
        <value type="string">false</value>
        <value type="string">undefined</value>
      </choice>
      <!-- default -->
    </attribute>
  </define>
  <define name="aria.state.hidden">
    <a:documentation>hidden</a:documentation>
    <attribute name="aria-hidden">
      <choice>
        <value type="string">true</value>
        <value type="string">false</value>
      </choice>
      <!-- default -->
    </attribute>
  </define>
  <define name="aria.state.invalid">
    <a:documentation>invalid</a:documentation>
    <attribute name="aria-invalid">
      <choice>
        <value type="string">true</value>
        <value type="string">false</value>
        <!-- default -->
        <value type="string">grammar</value>
        <value type="string">spelling</value>
      </choice>
    </attribute>
  </define>
  <define name="aria.state.pressed">
    <a:documentation>pressed</a:documentation>
    <attribute name="aria-pressed">
      <choice>
        <value type="string">true</value>
        <value type="string">false</value>
        <value type="string">mixed</value>
        <value type="string">undefined</value>
      </choice>
      <!-- default -->
    </attribute>
  </define>
  <define name="aria.state.selected">
    <a:documentation>selected</a:documentation>
    <attribute name="aria-selected">
      <choice>
        <value type="string">true</value>
        <value type="string">false</value>
        <value type="string">undefined</value>
      </choice>
      <!-- default -->
    </attribute>
  </define>
  <!-- ##################################################################### -->
  <define name="aria.prop.activedescendant">
    <a:documentation>Properties</a:documentation>
    <a:documentation>activedescendant</a:documentation>
    <attribute name="aria-activedescendant">
      <ref name="common.data.idref"/>
      <!-- REVISIT add Schematron check -->
    </attribute>
  </define>
  <define name="aria.prop.atomic">
    <a:documentation>atomic</a:documentation>
    <attribute name="aria-atomic">
      <choice>
        <value type="string">true</value>
        <value type="string">false</value>
      </choice>
      <!-- default -->
    </attribute>
  </define>
  <define name="aria.prop.autocomplete">
    <a:documentation>autocomplete</a:documentation>
    <attribute name="aria-autocomplete">
      <choice>
        <value type="string">inline</value>
        <value type="string">list</value>
        <value type="string">both</value>
        <value type="string">none</value>
      </choice>
      <!-- default -->
    </attribute>
  </define>
  <define name="aria.prop.colcount">
    <a:documentation>colcount</a:documentation>
    <attribute name="aria-colcount">
      <choice>
        <ref name="common.data.integer.non-negative"/>
        <value type="string">-1</value>
      </choice>
    </attribute>
  </define>
  <define name="aria.prop.colindex">
    <a:documentation>colindex</a:documentation>
    <attribute name="aria-colindex">
      <ref name="common.data.integer.positive"/>
    </attribute>
  </define>
  <define name="aria.prop.colspan">
    <a:documentation>colspan</a:documentation>
    <attribute name="aria-colspan">
      <ref name="common.data.integer.positive"/>
    </attribute>
  </define>
  <define name="aria.prop.controls">
    <a:documentation>controls</a:documentation>
    <attribute name="aria-controls">
      <ref name="common.data.idrefs"/>
      <!-- REVISIT add Schematron check -->
    </attribute>
  </define>
  <define name="aria.prop.describedby">
    <a:documentation>describedby</a:documentation>
    <attribute name="aria-describedby">
      <ref name="common.data.idrefs"/>
      <!-- REVISIT add Schematron check -->
    </attribute>
  </define>
  <define name="aria.prop.description">
    <a:documentation>description</a:documentation>
    <attribute name="aria-description">
      <data type="string"/>
    </attribute>
  </define>
  <define name="aria.prop.details">
    <a:documentation>details</a:documentation>
    <attribute name="aria-details">
      <ref name="common.data.idref"/>
    </attribute>
  </define>
  <define name="aria.prop.errormessage">
    <a:documentation>errormessage</a:documentation>
    <attribute name="aria-errormessage">
      <ref name="common.data.idref"/>
    </attribute>
  </define>
  <define name="aria.prop.flowto">
    <a:documentation>flowto</a:documentation>
    <attribute name="aria-flowto">
      <ref name="common.data.idrefs"/>
      <!-- REVISIT add Schematron check -->
    </attribute>
  </define>
  <define name="aria.prop.haspopup">
    <a:documentation>haspopup</a:documentation>
    <attribute name="aria-haspopup">
      <choice>
        <value type="string">true</value>
        <!-- REVISIT check owns or descendant -->
        <value type="string">false</value>
        <!-- default -->
        <value type="string">menu</value>
        <value type="string">listbox</value>
        <value type="string">tree</value>
        <value type="string">grid</value>
        <value type="string">dialog</value>
      </choice>
    </attribute>
  </define>
  <define name="aria.prop.keyshortcuts">
    <a:documentation>keyshortcuts</a:documentation>
    <attribute name="aria-keyshortcuts">
      <data type="string"/>
    </attribute>
  </define>
  <define name="aria.prop.label">
    <a:documentation>label</a:documentation>
    <attribute name="aria-label">
      <data type="string"/>
    </attribute>
  </define>
  <define name="aria.prop.labelledby">
    <a:documentation>labelledby</a:documentation>
    <attribute name="aria-labelledby">
      <ref name="common.data.idrefs"/>
      <!-- REVISIT add Schematron check -->
    </attribute>
  </define>
  <define name="aria.prop.level">
    <a:documentation>level</a:documentation>
    <attribute name="aria-level">
      <ref name="common.data.integer.positive"/>
    </attribute>
  </define>
  <define name="aria.prop.live">
    <a:documentation>live</a:documentation>
    <attribute name="aria-live">
      <choice>
        <value type="string">off</value>
        <!-- default -->
        <value type="string">polite</value>
        <value type="string">assertive</value>
      </choice>
    </attribute>
  </define>
  <define name="aria.prop.modal">
    <a:documentation>modal</a:documentation>
    <attribute name="aria-modal">
      <choice>
        <value type="string">true</value>
        <value type="string">false</value>
      </choice>
      <!-- default -->
    </attribute>
  </define>
  <define name="aria.prop.multiline">
    <a:documentation>multiline</a:documentation>
    <attribute name="aria-multiline">
      <choice>
        <value type="string">true</value>
        <value type="string">false</value>
      </choice>
      <!-- default -->
    </attribute>
  </define>
  <define name="aria.prop.multiselectable">
    <a:documentation>multiselectable</a:documentation>
    <attribute name="aria-multiselectable">
      <choice>
        <value type="string">true</value>
        <value type="string">false</value>
      </choice>
      <!-- default -->
    </attribute>
  </define>
  <define name="aria.prop.orientation">
    <a:documentation>orientation</a:documentation>
    <attribute name="aria-orientation">
      <choice>
        <value type="string">vertical</value>
        <value type="string">horizontal</value>
        <!-- default -->
        <value type="string">undefined</value>
      </choice>
    </attribute>
  </define>
  <define name="aria.prop.owns">
    <a:documentation>owns</a:documentation>
    <attribute name="aria-owns">
      <ref name="common.data.idrefs"/>
      <!-- REVISIT add Schematron check -->
    </attribute>
  </define>
  <define name="aria.prop.placeholder">
    <a:documentation>placeholder</a:documentation>
    <attribute name="aria-placeholder">
      <data type="string"/>
    </attribute>
  </define>
  <define name="aria.prop.posinset">
    <a:documentation>posinset</a:documentation>
    <attribute name="aria-posinset">
      <ref name="common.data.integer.positive"/>
    </attribute>
  </define>
  <define name="aria.prop.readonly">
    <a:documentation>readonly</a:documentation>
    <attribute name="aria-readonly">
      <choice>
        <value type="string">true</value>
        <value type="string">false</value>
      </choice>
      <!-- default -->
    </attribute>
  </define>
  <define name="common.attrs.aria.prop.readonly" combine="choice">
    <ref name="aria.prop.readonly"/>
  </define>
  <define name="aria.prop.relevant">
    <a:documentation>relevant</a:documentation>
    <attribute name="aria-relevant">
      <choice>
        <value>all</value>
        <list>
          <value type="string">additions</value>
          <optional>
            <value type="string">removals</value>
          </optional>
          <optional>
            <value type="string">text</value>
          </optional>
        </list>
        <list>
          <value type="string">additions</value>
          <optional>
            <value type="string">text</value>
          </optional>
          <optional>
            <value type="string">removals</value>
          </optional>
        </list>
        <list>
          <value type="string">removals</value>
          <optional>
            <value type="string">additions</value>
          </optional>
          <optional>
            <value type="string">text</value>
          </optional>
        </list>
        <list>
          <value type="string">removals</value>
          <optional>
            <value type="string">text</value>
          </optional>
          <optional>
            <value type="string">additions</value>
          </optional>
        </list>
        <list>
          <value type="string">text</value>
          <optional>
            <value type="string">additions</value>
          </optional>
          <optional>
            <value type="string">removals</value>
          </optional>
        </list>
        <list>
          <value type="string">text</value>
          <optional>
            <value type="string">removals</value>
          </optional>
          <optional>
            <value type="string">additions</value>
          </optional>
        </list>
      </choice>
    </attribute>
  </define>
  <define name="aria.prop.required">
    <a:documentation>required</a:documentation>
    <attribute name="aria-required">
      <choice>
        <value type="string">true</value>
        <value type="string">false</value>
      </choice>
      <!-- default -->
    </attribute>
  </define>
  <define name="aria.prop.roledescription">
    <a:documentation>roledescription</a:documentation>
    <attribute name="aria-roledescription">
      <data type="string"/>
    </attribute>
  </define>
  <define name="aria.prop.rowcount">
    <a:documentation>rowcount</a:documentation>
    <attribute name="aria-rowcount">
      <choice>
        <ref name="common.data.integer.non-negative"/>
        <value type="string">-1</value>
      </choice>
    </attribute>
  </define>
  <define name="aria.prop.rowindex">
    <a:documentation>rowindex</a:documentation>
    <attribute name="aria-rowindex">
      <ref name="common.data.integer.positive"/>
    </attribute>
  </define>
  <define name="aria.prop.rowspan">
    <a:documentation>rowspan</a:documentation>
    <attribute name="aria-rowspan">
      <ref name="common.data.integer.positive"/>
    </attribute>
  </define>
  <define name="aria.prop.setsize">
    <a:documentation>setsize</a:documentation>
    <attribute name="aria-setsize">
      <choice>
        <ref name="common.data.integer.non-negative"/>
        <value type="string">-1</value>
      </choice>
    </attribute>
  </define>
  <define name="aria.prop.sort">
    <a:documentation>sort</a:documentation>
    <attribute name="aria-sort">
      <choice>
        <value type="string">ascending</value>
        <value type="string">descending</value>
        <value type="string">none</value>
        <!-- default -->
        <value type="string">other</value>
      </choice>
    </attribute>
  </define>
  <define name="aria.prop.valuemax">
    <a:documentation>valuemax</a:documentation>
    <attribute name="aria-valuemax">
      <ref name="common.data.float"/>
      <!-- REVISIT -->
    </attribute>
  </define>
  <define name="aria.prop.valuemin">
    <a:documentation>valuemin</a:documentation>
    <attribute name="aria-valuemin">
      <ref name="common.data.float"/>
      <!-- REVISIT -->
    </attribute>
  </define>
  <define name="aria.prop.valuenow">
    <a:documentation>valuenow</a:documentation>
    <attribute name="aria-valuenow">
      <ref name="common.data.float"/>
      <!-- REVISIT -->
    </attribute>
  </define>
  <define name="aria.prop.valuetext">
    <a:documentation>valuetext</a:documentation>
    <attribute name="aria-valuetext">
      <data type="string"/>
    </attribute>
  </define>
  <!-- ##################################################################### -->
  <define name="aria.alert">
    <a:documentation>Roles</a:documentation>
    <a:documentation>alert</a:documentation>
    <interleave>
      <ref name="aria.role.alert"/>
      <optional>
        <ref name="aria.state.expanded"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.alert">
    <attribute name="role">
      <value type="string">alert</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.alert"/>
  </define>
  <define name="common.attrs.aria.role.alert" combine="choice">
    <ref name="aria.alert"/>
  </define>
  <define name="aria.alertdialog">
    <a:documentation>alertdialog</a:documentation>
    <interleave>
      <ref name="aria.role.alertdialog"/>
      <optional>
        <ref name="aria.state.expanded"/>
      </optional>
      <optional>
        <ref name="aria.prop.modal"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.alertdialog">
    <attribute name="role">
      <value type="string">alertdialog</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.alertdialog"/>
  </define>
  <define name="common.attrs.aria.role.alertdialog" combine="choice">
    <ref name="aria.alertdialog"/>
  </define>
  <define name="aria.application">
    <a:documentation>application</a:documentation>
    <interleave>
      <ref name="aria.role.application"/>
      <optional>
        <ref name="aria.state.expanded"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.application">
    <attribute name="role">
      <value type="string">application</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.application"/>
  </define>
  <define name="common.attrs.aria.role.application" combine="choice">
    <ref name="aria.application"/>
  </define>
  <define name="aria.article">
    <a:documentation>article</a:documentation>
    <interleave>
      <ref name="aria.role.article"/>
      <optional>
        <ref name="aria.state.expanded"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.article">
    <attribute name="role">
      <value type="string">article</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.article"/>
  </define>
  <define name="common.attrs.aria.landmark.article" combine="choice">
    <ref name="aria.article"/>
  </define>
  <define name="aria.banner">
    <a:documentation>banner</a:documentation>
    <interleave>
      <ref name="aria.role.banner"/>
      <optional>
        <ref name="aria.state.expanded"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.banner">
    <attribute name="role">
      <value type="string">banner</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.banner"/>
  </define>
  <define name="common.attrs.aria.landmark.banner" combine="choice">
    <ref name="aria.banner"/>
  </define>
  <define name="aria.button">
    <a:documentation>button</a:documentation>
    <interleave>
      <ref name="aria.role.button"/>
      <optional>
        <ref name="aria.state.expanded"/>
      </optional>
      <optional>
        <ref name="aria.state.pressed"/>
      </optional>
    </interleave>
    <!-- not inherited -->
  </define>
  <define name="aria.role.button">
    <attribute name="role">
      <value type="string">button</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.button"/>
  </define>
  <define name="common.attrs.aria.role.button" combine="choice">
    <ref name="aria.button"/>
  </define>
  <define name="aria.cell">
    <a:documentation>cell</a:documentation>
    <interleave>
      <ref name="aria.role.cell"/>
      <optional>
        <ref name="aria.prop.colspan"/>
      </optional>
      <optional>
        <ref name="aria.prop.colindex"/>
      </optional>
      <optional>
        <ref name="aria.prop.rowspan"/>
      </optional>
      <optional>
        <ref name="aria.prop.rowindex"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.cell">
    <attribute name="role">
      <value type="string">cell</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.cell"/>
  </define>
  <define name="common.attrs.aria.role.cell" combine="choice">
    <ref name="aria.cell"/>
  </define>
  <define name="aria.checkbox">
    <a:documentation>checkbox</a:documentation>
    <interleave>
      <ref name="aria.role.checkbox"/>
      <ref name="aria.state.checked"/>
    </interleave>
    <!-- required! -->
  </define>
  <define name="aria.role.checkbox">
    <attribute name="role">
      <value type="string">checkbox</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.checkbox"/>
  </define>
  <define name="common.attrs.aria.role.checkbox" combine="choice">
    <ref name="aria.checkbox"/>
  </define>
  <!-- columnheader -->
  <define name="aria.columnheader">
    <interleave>
      <ref name="aria.role.columnheader"/>
      <optional>
        <ref name="aria.prop.sort"/>
      </optional>
      <optional>
        <!-- not inherited -->
        <ref name="aria.prop.readonly"/>
      </optional>
      <optional>
        <!-- not inherited -->
        <ref name="aria.state.selected"/>
      </optional>
      <optional>
        <!-- not inherited -->
        <ref name="aria.state.expanded"/>
      </optional>
      <optional>
        <ref name="aria.prop.required"/>
      </optional>
      <optional>
        <ref name="aria.prop.colspan"/>
      </optional>
      <optional>
        <ref name="aria.prop.rowspan"/>
      </optional>
      <optional>
        <ref name="aria.prop.rowindex"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.columnheader">
    <attribute name="role">
      <value type="string">columnheader</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.columnheader"/>
  </define>
  <define name="aria.combobox">
    <a:documentation>combobox</a:documentation>
    <!-- 	aria.prop.controls TODO: required! add check to Assertions -->
    <interleave>
      <ref name="aria.role.combobox"/>
      <optional>
        <ref name="aria.prop.activedescendant"/>
      </optional>
      <ref name="aria.state.expanded"/>
      <optional>
        <!-- required! -->
        <ref name="aria.prop.autocomplete"/>
      </optional>
      <optional>
        <ref name="aria.prop.required"/>
      </optional>
      <optional>
        <ref name="aria.prop.readonly"/>
      </optional>
      <optional>
        <ref name="aria.prop.orientation"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.combobox">
    <attribute name="role">
      <value type="string">combobox</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.combobox"/>
  </define>
  <define name="common.attrs.aria.role.combobox" combine="choice">
    <ref name="aria.combobox"/>
  </define>
  <define name="aria.complementary">
    <a:documentation>complementary</a:documentation>
    <interleave>
      <ref name="aria.role.complementary"/>
      <optional>
        <ref name="aria.state.expanded"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.complementary">
    <attribute name="role">
      <value type="string">complementary</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.complementary"/>
  </define>
  <define name="common.attrs.aria.landmark.complementary" combine="choice">
    <ref name="aria.complementary"/>
  </define>
  <define name="aria.contentinfo">
    <a:documentation>contentinfo</a:documentation>
    <interleave>
      <ref name="aria.role.contentinfo"/>
      <optional>
        <ref name="aria.state.expanded"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.contentinfo">
    <attribute name="role">
      <value type="string">contentinfo</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.contentinfo"/>
  </define>
  <define name="common.attrs.aria.landmark.contentinfo" combine="choice">
    <ref name="aria.contentinfo"/>
  </define>
  <define name="aria.definition">
    <a:documentation>definition</a:documentation>
    <interleave>
      <ref name="aria.role.definition"/>
      <optional>
        <ref name="aria.state.expanded"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.definition">
    <attribute name="role">
      <value type="string">definition</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.definition"/>
  </define>
  <define name="common.attrs.aria.role.definition" combine="choice">
    <ref name="aria.definition"/>
  </define>
  <define name="aria.dialog">
    <a:documentation>dialog</a:documentation>
    <interleave>
      <ref name="aria.role.dialog"/>
      <optional>
        <ref name="aria.state.expanded"/>
      </optional>
      <optional>
        <ref name="aria.prop.modal"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.dialog">
    <attribute name="role">
      <value type="string">dialog</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.dialog"/>
  </define>
  <define name="common.attrs.aria.role.dialog" combine="choice">
    <ref name="aria.dialog"/>
  </define>
  <define name="aria.directory">
    <a:documentation>directory</a:documentation>
    <interleave>
      <ref name="aria.role.directory"/>
      <optional>
        <ref name="aria.state.expanded"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.directory">
    <attribute name="role">
      <value type="string">directory</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.directory"/>
  </define>
  <define name="common.attrs.aria.role.directory" combine="choice">
    <ref name="aria.directory"/>
  </define>
  <define name="aria.document">
    <a:documentation>document</a:documentation>
    <interleave>
      <ref name="aria.role.document"/>
      <optional>
        <ref name="aria.state.expanded"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.document">
    <attribute name="role">
      <value type="string">document</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.document"/>
  </define>
  <define name="common.attrs.aria.landmark.document" combine="choice">
    <ref name="aria.document"/>
  </define>
  <define name="aria.feed">
    <a:documentation>feed</a:documentation>
    <interleave>
      <ref name="aria.role.feed"/>
      <optional>
        <ref name="aria.state.expanded"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.feed">
    <attribute name="role">
      <value type="string">feed</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.feed"/>
  </define>
  <define name="common.attrs.aria.role.feed" combine="choice">
    <ref name="aria.feed"/>
  </define>
  <define name="aria.figure">
    <a:documentation>figure</a:documentation>
    <interleave>
      <ref name="aria.role.figure"/>
      <optional>
        <ref name="aria.state.expanded"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.figure">
    <attribute name="role">
      <value type="string">figure</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.figure"/>
  </define>
  <define name="common.attrs.aria.role.figure" combine="choice">
    <ref name="aria.figure"/>
  </define>
  <define name="aria.form">
    <a:documentation>form</a:documentation>
    <interleave>
      <ref name="aria.role.form"/>
      <optional>
        <ref name="aria.state.expanded"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.form">
    <attribute name="role">
      <value type="string">form</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.form"/>
  </define>
  <define name="common.attrs.aria.landmark.form" combine="choice">
    <ref name="aria.form"/>
  </define>
  <define name="aria.grid">
    <a:documentation>grid</a:documentation>
    <interleave>
      <ref name="aria.role.grid"/>
      <optional>
        <ref name="aria.prop.level"/>
      </optional>
      <optional>
        <!-- not inherited -->
        <ref name="aria.prop.multiselectable"/>
      </optional>
      <optional>
        <!-- not inherited -->
        <ref name="aria.prop.readonly"/>
      </optional>
      <optional>
        <!-- not inherited -->
        <ref name="aria.prop.activedescendant"/>
      </optional>
      <optional>
        <ref name="aria.state.expanded"/>
      </optional>
      <optional>
        <ref name="aria.prop.colcount"/>
      </optional>
      <optional>
        <ref name="aria.prop.rowcount"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.grid">
    <attribute name="role">
      <value type="string">grid</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.grid"/>
  </define>
  <define name="aria.gridcell">
    <a:documentation>gridcell</a:documentation>
    <interleave>
      <ref name="aria.role.gridcell"/>
      <optional>
        <ref name="aria.prop.level"/>
      </optional>
      <optional>
        <!-- net inherited -->
        <ref name="aria.prop.readonly"/>
      </optional>
      <optional>
        <!-- not inherited -->
        <ref name="aria.state.selected"/>
      </optional>
      <optional>
        <!-- not inherited -->
        <ref name="aria.state.expanded"/>
      </optional>
      <optional>
        <ref name="aria.prop.required"/>
      </optional>
      <optional>
        <ref name="aria.prop.colspan"/>
      </optional>
      <optional>
        <ref name="aria.prop.colindex"/>
      </optional>
      <optional>
        <ref name="aria.prop.rowspan"/>
      </optional>
      <optional>
        <ref name="aria.prop.rowindex"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.gridcell">
    <attribute name="role">
      <value type="string">gridcell</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.gridcell"/>
  </define>
  <define name="aria.group">
    <a:documentation>group</a:documentation>
    <interleave>
      <ref name="aria.role.group"/>
      <optional>
        <ref name="aria.prop.activedescendant"/>
      </optional>
      <optional>
        <!-- not inherited -->
        <ref name="aria.state.expanded"/>
      </optional>
    </interleave>
    <!-- not inherited -->
  </define>
  <define name="aria.role.group">
    <attribute name="role">
      <value type="string">group</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.group"/>
  </define>
  <define name="common.attrs.aria.role.group" combine="choice">
    <ref name="aria.group"/>
  </define>
  <define name="aria.graphics-document">
    <a:documentation>graphics-document</a:documentation>
    <ref name="aria.role.graphics-document"/>
  </define>
  <define name="aria.role.graphics-document">
    <attribute name="role">
      <value type="string">graphics-document</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.graphics-document"/>
  </define>
  <define name="common.attrs.aria.role.graphics-document" combine="choice">
    <ref name="aria.graphics-document"/>
  </define>
  <define name="aria.graphics-object">
    <a:documentation>graphics-object</a:documentation>
    <ref name="aria.role.graphics-object"/>
  </define>
  <define name="aria.role.graphics-object">
    <attribute name="role">
      <value type="string">graphics-object</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.graphics-object"/>
  </define>
  <define name="common.attrs.aria.role.graphics-object" combine="choice">
    <ref name="aria.graphics-object"/>
  </define>
  <define name="aria.graphics-symbol">
    <a:documentation>graphics-symbol</a:documentation>
    <ref name="aria.role.graphics-symbol"/>
  </define>
  <define name="aria.role.graphics-symbol">
    <attribute name="role">
      <value type="string">graphics-symbol</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.graphics-symbol"/>
  </define>
  <define name="common.attrs.aria.role.graphics-symbol" combine="choice">
    <ref name="aria.graphics-symbol"/>
  </define>
  <define name="aria.heading">
    <a:documentation>heading</a:documentation>
    <interleave>
      <ref name="aria.role.heading"/>
      <optional>
        <ref name="aria.prop.level"/>
      </optional>
      <optional>
        <!-- not inherited -->
        <ref name="aria.state.expanded"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.heading">
    <attribute name="role">
      <value type="string">heading</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.heading"/>
  </define>
  <define name="common.attrs.aria.role.heading" combine="choice">
    <ref name="aria.heading"/>
  </define>
  <define name="aria.img">
    <a:documentation>img</a:documentation>
    <interleave>
      <ref name="aria.role.img"/>
      <optional>
        <ref name="aria.state.expanded"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.img">
    <attribute name="role">
      <value type="string">img</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.img"/>
  </define>
  <define name="common.attrs.aria.role.img" combine="choice">
    <ref name="aria.img"/>
  </define>
  <define name="aria.link">
    <a:documentation>link</a:documentation>
    <interleave>
      <ref name="aria.role.link"/>
      <optional>
        <ref name="aria.state.expanded"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.link">
    <attribute name="role">
      <value type="string">link</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.link"/>
  </define>
  <define name="common.attrs.aria.role.link" combine="choice">
    <ref name="aria.link"/>
  </define>
  <define name="aria.list">
    <a:documentation>list</a:documentation>
    <interleave>
      <ref name="aria.role.list"/>
      <optional>
        <ref name="aria.state.expanded"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.list">
    <attribute name="role">
      <value type="string">list</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.list"/>
  </define>
  <define name="common.attrs.aria.role.list" combine="choice">
    <ref name="aria.list"/>
  </define>
  <define name="aria.listbox">
    <a:documentation>listbox</a:documentation>
    <interleave>
      <ref name="aria.role.listbox"/>
      <optional>
        <ref name="aria.prop.multiselectable"/>
      </optional>
      <optional>
        <!-- not inherited -->
        <ref name="aria.prop.required"/>
      </optional>
      <optional>
        <ref name="aria.prop.activedescendant"/>
      </optional>
      <optional>
        <ref name="aria.state.expanded"/>
      </optional>
      <optional>
        <ref name="aria.prop.orientation"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.listbox">
    <attribute name="role">
      <value type="string">listbox</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.listbox"/>
  </define>
  <define name="common.attrs.aria.role.listbox" combine="choice">
    <ref name="aria.listbox"/>
  </define>
  <define name="aria.listitem">
    <a:documentation>listitem</a:documentation>
    <interleave>
      <ref name="aria.role.listitem"/>
      <optional>
        <ref name="aria.prop.posinset"/>
      </optional>
      <optional>
        <!-- not inherited -->
        <ref name="aria.prop.setsize"/>
      </optional>
      <optional>
        <!-- not inherited -->
        <ref name="aria.prop.level"/>
      </optional>
      <optional>
        <!-- not inherited -->
        <ref name="aria.state.expanded"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.listitem">
    <attribute name="role">
      <value type="string">listitem</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.listitem"/>
  </define>
  <define name="common.attrs.aria.role.listitem" combine="choice">
    <ref name="aria.listitem"/>
  </define>
  <define name="aria.log">
    <a:documentation>log</a:documentation>
    <interleave>
      <ref name="aria.role.log"/>
      <optional>
        <ref name="aria.state.expanded"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.log">
    <attribute name="role">
      <value type="string">log</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.log"/>
  </define>
  <define name="common.attrs.aria.role.log" combine="choice">
    <ref name="aria.log"/>
  </define>
  <define name="aria.main">
    <a:documentation>main</a:documentation>
    <interleave>
      <ref name="aria.role.main"/>
      <optional>
        <ref name="aria.state.expanded"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.main">
    <attribute name="role">
      <value type="string">main</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.main"/>
  </define>
  <define name="common.attrs.aria.landmark.main" combine="choice">
    <ref name="aria.main"/>
  </define>
  <define name="aria.marquee">
    <a:documentation>marquee</a:documentation>
    <interleave>
      <ref name="aria.role.marquee"/>
      <optional>
        <ref name="aria.state.expanded"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.marquee">
    <attribute name="role">
      <value type="string">marquee</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.marquee"/>
  </define>
  <define name="common.attrs.aria.role.marquee" combine="choice">
    <ref name="aria.marquee"/>
  </define>
  <define name="aria.math">
    <a:documentation>math</a:documentation>
    <interleave>
      <ref name="aria.role.math"/>
      <optional>
        <ref name="aria.state.expanded"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.math">
    <attribute name="role">
      <value type="string">math</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.math"/>
  </define>
  <define name="common.attrs.aria.role.math" combine="choice">
    <ref name="aria.math"/>
  </define>
  <define name="aria.menu">
    <a:documentation>menu</a:documentation>
    <interleave>
      <ref name="aria.role.menu"/>
      <optional>
        <ref name="aria.prop.activedescendant"/>
      </optional>
      <optional>
        <ref name="aria.state.expanded"/>
      </optional>
      <optional>
        <ref name="aria.prop.orientation"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.menu">
    <attribute name="role">
      <value type="string">menu</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.menu"/>
  </define>
  <define name="common.attrs.aria.role.menu" combine="choice">
    <ref name="aria.menu"/>
  </define>
  <define name="aria.menubar">
    <a:documentation>menubar</a:documentation>
    <interleave>
      <ref name="aria.role.menubar"/>
      <optional>
        <ref name="aria.prop.activedescendant"/>
      </optional>
      <optional>
        <ref name="aria.state.expanded"/>
      </optional>
      <optional>
        <ref name="aria.prop.orientation"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.menubar">
    <attribute name="role">
      <value type="string">menubar</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.menubar"/>
  </define>
  <define name="common.attrs.aria.role.menubar" combine="choice">
    <ref name="aria.menubar"/>
  </define>
  <define name="aria.menuitem">
    <a:documentation>menuitem</a:documentation>
    <interleave>
      <ref name="aria.role.menuitem"/>
      <optional>
        <ref name="aria.state.expanded"/>
      </optional>
      <optional>
        <ref name="aria.prop.posinset"/>
      </optional>
      <optional>
        <ref name="aria.prop.setsize"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.menuitem">
    <attribute name="role">
      <value type="string">menuitem</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.menuitem"/>
  </define>
  <define name="common.attrs.aria.role.menuitem" combine="choice">
    <ref name="aria.menuitem"/>
  </define>
  <define name="aria.menuitemcheckbox">
    <a:documentation>menuitemcheckbox</a:documentation>
    <interleave>
      <ref name="aria.role.menuitemcheckbox"/>
      <ref name="aria.state.checked"/>
    </interleave>
    <!-- required -->
  </define>
  <define name="aria.role.menuitemcheckbox">
    <attribute name="role">
      <value type="string">menuitemcheckbox</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.menuitemcheckbox"/>
  </define>
  <define name="common.attrs.aria.role.menuitemcheckbox" combine="choice">
    <ref name="aria.menuitemcheckbox"/>
  </define>
  <define name="aria.menuitemcheckbox-checked-not-required">
    <a:documentation>menuitemcheckbox w/o checked required</a:documentation>
    <ref name="aria.role.menuitemcheckbox"/>
  </define>
  <define name="aria.role.menuitemcheckbox-checked-not-required">
    <attribute name="role">
      <value type="string">menuitemcheckbox</value>
    </attribute>
  </define>
  <define name="common.attrs.aria.role.menuitemcheckbox-checked-not-required" combine="choice">
    <ref name="aria.menuitemcheckbox-checked-not-required"/>
  </define>
  <define name="aria.menuitemradio">
    <a:documentation>menuitemradio</a:documentation>
    <interleave>
      <ref name="aria.role.menuitemradio"/>
      <ref name="aria.state.checked"/>
      <optional>
        <!-- required -->
        <ref name="aria.state.selected"/>
      </optional>
      <optional>
        <ref name="aria.prop.posinset"/>
      </optional>
      <optional>
        <ref name="aria.prop.setsize"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.menuitemradio">
    <attribute name="role">
      <value type="string">menuitemradio</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.menuitemradio"/>
  </define>
  <define name="common.attrs.aria.role.menuitemradio" combine="choice">
    <ref name="aria.menuitemradio"/>
  </define>
  <define name="aria.menuitemradio-checked-not-required">
    <a:documentation>menuitemradio w/o checked required</a:documentation>
    <interleave>
      <ref name="aria.role.menuitemradio"/>
      <optional>
        <ref name="aria.state.selected"/>
      </optional>
      <optional>
        <ref name="aria.prop.posinset"/>
      </optional>
      <optional>
        <ref name="aria.prop.setsize"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.menuitemradio-checked-not-required">
    <attribute name="role">
      <value type="string">menuitemradio</value>
    </attribute>
  </define>
  <define name="common.attrs.aria.role.menuitemradio-checked-not-required" combine="choice">
    <ref name="aria.menuitemradio-checked-not-required"/>
  </define>
  <define name="aria.navigation">
    <a:documentation>navigation</a:documentation>
    <interleave>
      <ref name="aria.role.navigation"/>
      <optional>
        <ref name="aria.state.expanded"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.navigation">
    <attribute name="role">
      <value type="string">navigation</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.navigation"/>
  </define>
  <define name="common.attrs.aria.landmark.navigation" combine="choice">
    <ref name="aria.navigation"/>
  </define>
  <define name="aria.none">
    <a:documentation>none</a:documentation>
    <ref name="aria.role.none"/>
  </define>
  <define name="aria.role.none">
    <attribute name="role">
      <value type="string">none</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.none"/>
  </define>
  <define name="common.attrs.aria.role.none" combine="choice">
    <ref name="aria.none"/>
  </define>
  <define name="aria.note">
    <a:documentation>note</a:documentation>
    <interleave>
      <ref name="aria.role.note"/>
      <optional>
        <ref name="aria.state.expanded"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.note">
    <attribute name="role">
      <value type="string">note</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.note"/>
  </define>
  <define name="common.attrs.aria.landmark.note" combine="choice">
    <ref name="aria.note"/>
  </define>
  <define name="aria.option">
    <a:documentation>option</a:documentation>
    <interleave>
      <ref name="aria.role.option"/>
      <optional>
        <ref name="aria.state.checked"/>
      </optional>
      <optional>
        <!-- not inherited -->
        <ref name="aria.state.selected"/>
      </optional>
      <optional>
        <!-- not inherited -->
        <ref name="aria.prop.posinset"/>
      </optional>
      <optional>
        <ref name="aria.prop.setsize"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.option">
    <attribute name="role">
      <value type="string">option</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.option"/>
  </define>
  <define name="common.attrs.aria.role.option" combine="choice">
    <ref name="aria.option"/>
  </define>
  <define name="aria.presentation">
    <a:documentation>presentation</a:documentation>
    <ref name="aria.role.presentation"/>
  </define>
  <define name="aria.role.presentation">
    <attribute name="role">
      <value type="string">presentation</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.presentation"/>
  </define>
  <define name="common.attrs.aria.role.presentation" combine="choice">
    <ref name="aria.presentation"/>
  </define>
  <define name="common.attrs.aria.role.presentation" combine="choice">
    <ref name="aria.none"/>
  </define>
  <define name="aria.progressbar">
    <a:documentation>progressbar</a:documentation>
    <interleave>
      <ref name="aria.role.progressbar"/>
      <optional>
        <ref name="aria.prop.valuemax"/>
      </optional>
      <optional>
        <!-- not inherited -->
        <ref name="aria.prop.valuemin"/>
      </optional>
      <optional>
        <!-- not inherited -->
        <ref name="aria.prop.valuenow"/>
      </optional>
      <optional>
        <!-- not inherited -->
        <ref name="aria.prop.valuetext"/>
      </optional>
    </interleave>
    <!-- not inherited -->
  </define>
  <define name="aria.role.progressbar">
    <attribute name="role">
      <value type="string">progressbar</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.progressbar"/>
  </define>
  <define name="common.attrs.aria.role.progressbar" combine="choice">
    <ref name="aria.progressbar"/>
  </define>
  <define name="aria.radio">
    <a:documentation>radio</a:documentation>
    <interleave>
      <ref name="aria.role.radio"/>
      <ref name="aria.state.checked"/>
      <optional>
        <!-- required! -->
        <ref name="aria.state.selected"/>
      </optional>
      <optional>
        <ref name="aria.prop.posinset"/>
      </optional>
      <optional>
        <ref name="aria.prop.setsize"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.radio">
    <attribute name="role">
      <value type="string">radio</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.radio"/>
  </define>
  <define name="common.attrs.aria.role.radio" combine="choice">
    <ref name="aria.radio"/>
  </define>
  <define name="aria.radiogroup">
    <a:documentation>radiogroup</a:documentation>
    <interleave>
      <ref name="aria.role.radiogroup"/>
      <optional>
        <ref name="aria.prop.activedescendant"/>
      </optional>
      <optional>
        <ref name="aria.state.expanded"/>
      </optional>
      <optional>
        <ref name="aria.prop.required"/>
      </optional>
      <optional>
        <ref name="aria.prop.orientation"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.radiogroup">
    <attribute name="role">
      <value type="string">radiogroup</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.radiogroup"/>
  </define>
  <define name="common.attrs.aria.role.radiogroup" combine="choice">
    <ref name="aria.radiogroup"/>
  </define>
  <define name="aria.region">
    <a:documentation>region</a:documentation>
    <interleave>
      <ref name="aria.role.region"/>
      <optional>
        <ref name="aria.state.expanded"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.region">
    <attribute name="role">
      <value type="string">region</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.region"/>
  </define>
  <define name="common.attrs.aria.role.region" combine="choice">
    <ref name="aria.region"/>
  </define>
  <define name="aria.row">
    <a:documentation>row</a:documentation>
    <interleave>
      <ref name="aria.role.row"/>
      <optional>
        <ref name="aria.prop.level"/>
      </optional>
      <optional>
        <!-- not inherited -->
        <ref name="aria.state.selected"/>
      </optional>
      <optional>
        <!-- not inherited -->
        <ref name="aria.prop.activedescendant"/>
      </optional>
      <optional>
        <ref name="aria.state.expanded"/>
      </optional>
      <optional>
        <ref name="aria.prop.colindex"/>
      </optional>
      <optional>
        <ref name="aria.prop.rowindex"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.row">
    <attribute name="role">
      <value type="string">row</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.row"/>
  </define>
  <define name="aria.rowgroup">
    <a:documentation>rowgroup</a:documentation>
    <interleave>
      <ref name="aria.role.rowgroup"/>
      <optional>
        <ref name="aria.prop.activedescendant"/>
      </optional>
      <optional>
        <ref name="aria.state.expanded"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.rowgroup">
    <attribute name="role">
      <value type="string">rowgroup</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.rowgroup"/>
  </define>
  <define name="common.attrs.aria.role.rowgroup" combine="choice">
    <ref name="aria.rowgroup"/>
  </define>
  <!-- rowheader -->
  <define name="aria.rowheader">
    <interleave>
      <ref name="aria.role.rowheader"/>
      <optional>
        <ref name="aria.prop.sort"/>
      </optional>
      <optional>
        <!-- not inherited -->
        <ref name="aria.prop.readonly"/>
      </optional>
      <optional>
        <!-- not inherited -->
        <ref name="aria.state.selected"/>
      </optional>
      <optional>
        <!-- not inherited -->
        <ref name="aria.state.expanded"/>
      </optional>
      <optional>
        <ref name="aria.prop.required"/>
      </optional>
      <optional>
        <ref name="aria.prop.colspan"/>
      </optional>
      <optional>
        <ref name="aria.prop.rowspan"/>
      </optional>
      <optional>
        <ref name="aria.prop.rowindex"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.rowheader">
    <attribute name="role">
      <value type="string">rowheader</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.rowheader"/>
  </define>
  <define name="aria.searchbox">
    <a:documentation>searchbox</a:documentation>
    <interleave>
      <ref name="aria.role.searchbox"/>
      <optional>
        <ref name="aria.prop.activedescendant"/>
      </optional>
      <optional>
        <ref name="aria.prop.autocomplete"/>
      </optional>
      <optional>
        <ref name="aria.prop.multiline"/>
      </optional>
      <optional>
        <ref name="aria.prop.readonly"/>
      </optional>
      <optional>
        <ref name="aria.prop.required"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.searchbox">
    <attribute name="role">
      <value type="string">searchbox</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.searchbox"/>
  </define>
  <define name="common.attrs.aria.role.searchbox" combine="choice">
    <ref name="aria.searchbox"/>
  </define>
  <define name="aria.scrollbar">
    <a:documentation>scrollbar</a:documentation>
    <interleave>
      <ref name="aria.role.scrollbar"/>
      <ref name="aria.prop.orientation"/>
      <ref name="aria.prop.valuemax"/>
      <ref name="aria.prop.valuemin"/>
      <ref name="aria.prop.valuenow"/>
      <optional>
        <ref name="aria.prop.valuetext"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.scrollbar">
    <attribute name="role">
      <value type="string">scrollbar</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.scrollbar"/>
  </define>
  <define name="common.attrs.aria.role.scrollbar" combine="choice">
    <ref name="aria.scrollbar"/>
  </define>
  <define name="aria.search">
    <a:documentation>search</a:documentation>
    <interleave>
      <ref name="aria.role.search"/>
      <optional>
        <ref name="aria.state.expanded"/>
      </optional>
      <optional>
        <ref name="aria.prop.orientation"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.search">
    <attribute name="role">
      <value type="string">search</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.search"/>
  </define>
  <define name="common.attrs.aria.landmark.search" combine="choice">
    <ref name="aria.search"/>
  </define>
  <define name="aria.separator">
    <a:documentation>separator</a:documentation>
    <interleave>
      <ref name="aria.role.separator"/>
      <optional>
        <ref name="aria.state.expanded"/>
      </optional>
      <optional>
        <ref name="aria.prop.orientation"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.separator">
    <attribute name="role">
      <value type="string">separator</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.separator"/>
  </define>
  <define name="common.attrs.aria.role.separator" combine="choice">
    <ref name="aria.separator"/>
  </define>
  <define name="aria.slider">
    <a:documentation>slider</a:documentation>
    <interleave>
      <ref name="aria.role.slider"/>
      <ref name="aria.prop.valuemax"/>
      <ref name="aria.prop.valuemin"/>
      <ref name="aria.prop.valuenow"/>
      <optional>
        <ref name="aria.prop.valuetext"/>
      </optional>
      <optional>
        <ref name="aria.prop.orientation"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.slider">
    <attribute name="role">
      <value type="string">slider</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.slider"/>
  </define>
  <define name="common.attrs.aria.role.slider" combine="choice">
    <ref name="aria.slider"/>
  </define>
  <define name="aria.spinbutton">
    <a:documentation>spinbutton</a:documentation>
    <interleave>
      <ref name="aria.role.spinbutton"/>
      <ref name="aria.prop.valuemax"/>
      <ref name="aria.prop.valuemin"/>
      <ref name="aria.prop.valuenow"/>
      <optional>
        <ref name="aria.prop.valuetext"/>
      </optional>
      <optional>
        <ref name="aria.prop.required"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.spinbutton">
    <attribute name="role">
      <value type="string">spinbutton</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.spinbutton"/>
  </define>
  <define name="common.attrs.aria.role.spinbutton" combine="choice">
    <ref name="aria.spinbutton"/>
  </define>
  <define name="aria.status">
    <a:documentation>status</a:documentation>
    <interleave>
      <ref name="aria.role.status"/>
      <optional>
        <ref name="aria.state.expanded"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.status">
    <attribute name="role">
      <value type="string">status</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.status"/>
  </define>
  <define name="common.attrs.aria.role.status" combine="choice">
    <ref name="aria.status"/>
  </define>
  <define name="aria.switch">
    <a:documentation>switch</a:documentation>
    <interleave>
      <ref name="aria.role.switch"/>
      <ref name="aria.state.checked"/>
    </interleave>
    <!-- required! -->
  </define>
  <define name="aria.role.switch">
    <attribute name="role">
      <value type="string">switch</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.switch"/>
  </define>
  <define name="common.attrs.aria.role.switch" combine="choice">
    <ref name="aria.switch"/>
  </define>
  <define name="aria.switch-checked-not-required">
    <a:documentation>switch w/o checked required</a:documentation>
    <ref name="aria.role.switch"/>
  </define>
  <define name="aria.role.switch-checked-not-required">
    <attribute name="role">
      <value type="string">switch</value>
    </attribute>
  </define>
  <define name="common.attrs.aria.role.switch-checked-not-required" combine="choice">
    <ref name="aria.switch-checked-not-required"/>
  </define>
  <define name="aria.tab">
    <a:documentation>tab</a:documentation>
    <interleave>
      <ref name="aria.role.tab"/>
      <optional>
        <ref name="aria.state.selected"/>
      </optional>
      <optional>
        <ref name="aria.state.expanded"/>
      </optional>
      <optional>
        <ref name="aria.prop.posinset"/>
      </optional>
      <optional>
        <ref name="aria.prop.setsize"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.tab">
    <attribute name="role">
      <value type="string">tab</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.tab"/>
  </define>
  <define name="common.attrs.aria.role.tab" combine="choice">
    <ref name="aria.tab"/>
  </define>
  <define name="aria.table">
    <a:documentation>table</a:documentation>
    <interleave>
      <ref name="aria.role.table"/>
      <optional>
        <ref name="aria.prop.colcount"/>
      </optional>
      <optional>
        <ref name="aria.prop.rowcount"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.table">
    <attribute name="role">
      <value type="string">table</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.table"/>
  </define>
  <define name="common.attrs.aria.role.table" combine="choice">
    <ref name="aria.table"/>
  </define>
  <define name="aria.tablist">
    <a:documentation>tablist</a:documentation>
    <interleave>
      <ref name="aria.role.tablist"/>
      <optional>
        <ref name="aria.prop.activedescendant"/>
      </optional>
      <optional>
        <ref name="aria.state.expanded"/>
      </optional>
      <optional>
        <ref name="aria.prop.level"/>
      </optional>
      <optional>
        <ref name="aria.prop.multiselectable"/>
      </optional>
      <optional>
        <ref name="aria.prop.orientation"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.tablist">
    <attribute name="role">
      <value type="string">tablist</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.tablist"/>
  </define>
  <define name="common.attrs.aria.role.tablist" combine="choice">
    <ref name="aria.tablist"/>
  </define>
  <define name="aria.tabpanel">
    <a:documentation>tabpanel</a:documentation>
    <interleave>
      <ref name="aria.role.tabpanel"/>
      <optional>
        <ref name="aria.state.expanded"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.tabpanel">
    <attribute name="role">
      <value type="string">tabpanel</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.tabpanel"/>
  </define>
  <define name="common.attrs.aria.role.tabpanel" combine="choice">
    <ref name="aria.tabpanel"/>
  </define>
  <define name="aria.term">
    <a:documentation>term</a:documentation>
    <interleave>
      <ref name="aria.role.term"/>
      <optional>
        <ref name="aria.state.expanded"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.term">
    <attribute name="role">
      <value type="string">term</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.term"/>
  </define>
  <define name="common.attrs.aria.role.term" combine="choice">
    <ref name="aria.term"/>
  </define>
  <define name="aria.textbox">
    <a:documentation>textbox</a:documentation>
    <interleave>
      <ref name="aria.role.textbox"/>
      <optional>
        <ref name="aria.prop.activedescendant"/>
      </optional>
      <optional>
        <ref name="aria.prop.autocomplete"/>
      </optional>
      <optional>
        <!-- not inherited -->
        <ref name="aria.prop.multiline"/>
      </optional>
      <optional>
        <!-- not inherited -->
        <ref name="aria.prop.readonly"/>
      </optional>
      <optional>
        <!-- not inherited -->
        <ref name="aria.prop.required"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.textbox">
    <attribute name="role">
      <value type="string">textbox</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.textbox"/>
  </define>
  <define name="common.attrs.aria.role.textbox" combine="choice">
    <ref name="aria.textbox"/>
  </define>
  <define name="aria.timer">
    <a:documentation>timer</a:documentation>
    <interleave>
      <ref name="aria.role.timer"/>
      <optional>
        <ref name="aria.state.expanded"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.timer">
    <attribute name="role">
      <value type="string">timer</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.timer"/>
  </define>
  <define name="aria.toolbar">
    <a:documentation>toolbar</a:documentation>
    <interleave>
      <ref name="aria.role.toolbar"/>
      <optional>
        <ref name="aria.prop.activedescendant"/>
      </optional>
      <optional>
        <ref name="aria.state.expanded"/>
      </optional>
      <optional>
        <ref name="aria.prop.orientation"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.toolbar">
    <attribute name="role">
      <value type="string">toolbar</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.toolbar"/>
  </define>
  <define name="common.attrs.aria.role.toolbar" combine="choice">
    <ref name="aria.toolbar"/>
  </define>
  <define name="aria.tooltip">
    <a:documentation>tooltip</a:documentation>
    <interleave>
      <ref name="aria.role.tooltip"/>
      <optional>
        <ref name="aria.state.expanded"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.tooltip">
    <attribute name="role">
      <value type="string">tooltip</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.tooltip"/>
  </define>
  <define name="aria.tree">
    <a:documentation>tree</a:documentation>
    <interleave>
      <ref name="aria.role.tree"/>
      <optional>
        <ref name="aria.prop.multiselectable"/>
      </optional>
      <optional>
        <!-- not inherited -->
        <ref name="aria.prop.activedescendant"/>
      </optional>
      <optional>
        <ref name="aria.state.expanded"/>
      </optional>
      <optional>
        <ref name="aria.prop.required"/>
      </optional>
      <optional>
        <ref name="aria.prop.orientation"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.tree">
    <attribute name="role">
      <value type="string">tree</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.tree"/>
  </define>
  <define name="common.attrs.aria.role.tree" combine="choice">
    <ref name="aria.tree"/>
  </define>
  <define name="aria.treegrid">
    <a:documentation>treegrid</a:documentation>
    <interleave>
      <ref name="aria.role.treegrid"/>
      <optional>
        <ref name="aria.prop.activedescendant"/>
      </optional>
      <optional>
        <ref name="aria.state.expanded"/>
      </optional>
      <optional>
        <ref name="aria.prop.level"/>
      </optional>
      <optional>
        <ref name="aria.prop.multiselectable"/>
      </optional>
      <optional>
        <ref name="aria.prop.readonly"/>
      </optional>
      <optional>
        <ref name="aria.prop.required"/>
      </optional>
      <optional>
        <ref name="aria.prop.orientation"/>
      </optional>
      <optional>
        <ref name="aria.prop.colcount"/>
      </optional>
      <optional>
        <ref name="aria.prop.rowcount"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.treegrid">
    <attribute name="role">
      <value type="string">treegrid</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.treegrid"/>
  </define>
  <define name="aria.treeitem">
    <a:documentation>treeitem</a:documentation>
    <interleave>
      <ref name="aria.role.treeitem"/>
      <optional>
        <ref name="aria.state.checked"/>
      </optional>
      <optional>
        <ref name="aria.state.expanded"/>
      </optional>
      <optional>
        <ref name="aria.prop.level"/>
      </optional>
      <optional>
        <ref name="aria.prop.posinset"/>
      </optional>
      <optional>
        <ref name="aria.state.selected"/>
      </optional>
      <optional>
        <ref name="aria.prop.setsize"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.treeitem">
    <attribute name="role">
      <value type="string">treeitem</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.treeitem"/>
  </define>
  <define name="common.attrs.aria.role.treeitem" combine="choice">
    <ref name="aria.treeitem"/>
  </define>
  <!-- ##################################################################### -->
  <define name="aria.doc-abstract">
    <a:documentation>https://w3c.github.io/aria/aria/dpub.html</a:documentation>
    <ref name="aria.role.doc-abstract"/>
  </define>
  <define name="aria.role.doc-abstract">
    <attribute name="role">
      <value type="string">doc-abstract</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.doc-abstract"/>
  </define>
  <define name="common.attrs.aria.role.doc-abstract" combine="choice">
    <ref name="aria.doc-abstract"/>
  </define>
  <define name="aria.doc-acknowledgments">
    <ref name="aria.role.doc-acknowledgments"/>
  </define>
  <define name="aria.role.doc-acknowledgments">
    <attribute name="role">
      <value type="string">doc-acknowledgments</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.doc-acknowledgments"/>
  </define>
  <define name="common.attrs.aria.role.doc-acknowledgments" combine="choice">
    <ref name="aria.doc-acknowledgments"/>
  </define>
  <define name="aria.doc-afterword">
    <ref name="aria.role.doc-afterword"/>
  </define>
  <define name="aria.role.doc-afterword">
    <attribute name="role">
      <value type="string">doc-afterword</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.doc-afterword"/>
  </define>
  <define name="common.attrs.aria.role.doc-afterword" combine="choice">
    <ref name="aria.doc-afterword"/>
  </define>
  <define name="aria.doc-appendix">
    <ref name="aria.role.doc-appendix"/>
  </define>
  <define name="aria.role.doc-appendix">
    <attribute name="role">
      <value type="string">doc-appendix</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.doc-appendix"/>
  </define>
  <define name="common.attrs.aria.role.doc-appendix" combine="choice">
    <ref name="aria.doc-appendix"/>
  </define>
  <define name="aria.doc-backlink">
    <ref name="aria.role.doc-backlink"/>
  </define>
  <define name="aria.role.doc-backlink">
    <attribute name="role">
      <value type="string">doc-backlink</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.doc-backlink"/>
  </define>
  <define name="common.attrs.aria.role.doc-backlink" combine="choice">
    <ref name="aria.doc-backlink"/>
  </define>
  <define name="aria.doc-biblioentry">
    <ref name="aria.role.doc-biblioentry"/>
  </define>
  <define name="aria.role.doc-biblioentry">
    <attribute name="role">
      <value type="string">doc-biblioentry</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.doc-biblioentry"/>
  </define>
  <define name="common.attrs.aria.role.doc-biblioentry" combine="choice">
    <ref name="aria.doc-biblioentry"/>
  </define>
  <define name="aria.doc-bibliography">
    <ref name="aria.role.doc-bibliography"/>
  </define>
  <define name="aria.role.doc-bibliography">
    <attribute name="role">
      <value type="string">doc-bibliography</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.doc-bibliography"/>
  </define>
  <define name="common.attrs.aria.role.doc-bibliography" combine="choice">
    <ref name="aria.doc-bibliography"/>
  </define>
  <define name="aria.doc-biblioref">
    <ref name="aria.role.doc-biblioref"/>
  </define>
  <define name="aria.role.doc-biblioref">
    <attribute name="role">
      <value type="string">doc-biblioref</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.doc-biblioref"/>
  </define>
  <define name="common.attrs.aria.role.doc-biblioref" combine="choice">
    <ref name="aria.doc-biblioref"/>
  </define>
  <define name="aria.doc-chapter">
    <ref name="aria.role.doc-chapter"/>
  </define>
  <define name="aria.role.doc-chapter">
    <attribute name="role">
      <value type="string">doc-chapter</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.doc-chapter"/>
  </define>
  <define name="common.attrs.aria.role.doc-chapter" combine="choice">
    <ref name="aria.doc-chapter"/>
  </define>
  <define name="aria.doc-colophon">
    <ref name="aria.role.doc-colophon"/>
  </define>
  <define name="aria.role.doc-colophon">
    <attribute name="role">
      <value type="string">doc-colophon</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.doc-colophon"/>
  </define>
  <define name="common.attrs.aria.role.doc-colophon" combine="choice">
    <ref name="aria.doc-colophon"/>
  </define>
  <define name="aria.doc-conclusion">
    <ref name="aria.role.doc-conclusion"/>
  </define>
  <define name="aria.role.doc-conclusion">
    <attribute name="role">
      <value type="string">doc-conclusion</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.doc-conclusion"/>
  </define>
  <define name="common.attrs.aria.role.doc-conclusion" combine="choice">
    <ref name="aria.doc-conclusion"/>
  </define>
  <define name="aria.doc-cover">
    <ref name="aria.role.doc-cover"/>
  </define>
  <define name="aria.role.doc-cover">
    <attribute name="role">
      <value type="string">doc-cover</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.doc-cover"/>
  </define>
  <define name="common.attrs.aria.role.doc-cover" combine="choice">
    <ref name="aria.doc-cover"/>
  </define>
  <define name="aria.doc-credit">
    <ref name="aria.role.doc-credit"/>
  </define>
  <define name="aria.role.doc-credit">
    <attribute name="role">
      <value type="string">doc-credit</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.doc-credit"/>
  </define>
  <define name="common.attrs.aria.role.doc-credit" combine="choice">
    <ref name="aria.doc-credit"/>
  </define>
  <define name="aria.doc-credits">
    <ref name="aria.role.doc-credits"/>
  </define>
  <define name="aria.role.doc-credits">
    <attribute name="role">
      <value type="string">doc-credits</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.doc-credits"/>
  </define>
  <define name="common.attrs.aria.role.doc-credits" combine="choice">
    <ref name="aria.doc-credits"/>
  </define>
  <define name="aria.doc-dedication">
    <ref name="aria.role.doc-dedication"/>
  </define>
  <define name="aria.role.doc-dedication">
    <attribute name="role">
      <value type="string">doc-dedication</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.doc-dedication"/>
  </define>
  <define name="common.attrs.aria.role.doc-dedication" combine="choice">
    <ref name="aria.doc-dedication"/>
  </define>
  <define name="aria.doc-endnote">
    <ref name="aria.role.doc-endnote"/>
  </define>
  <define name="aria.role.doc-endnote">
    <attribute name="role">
      <value type="string">doc-endnote</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.doc-endnote"/>
  </define>
  <define name="common.attrs.aria.role.doc-endnote" combine="choice">
    <ref name="aria.doc-endnote"/>
  </define>
  <define name="aria.doc-endnotes">
    <ref name="aria.role.doc-endnotes"/>
  </define>
  <define name="aria.role.doc-endnotes">
    <attribute name="role">
      <value type="string">doc-endnotes</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.doc-endnotes"/>
  </define>
  <define name="common.attrs.aria.role.doc-endnotes" combine="choice">
    <ref name="aria.doc-endnotes"/>
  </define>
  <define name="aria.doc-epigraph">
    <ref name="aria.role.doc-epigraph"/>
  </define>
  <define name="aria.role.doc-epigraph">
    <attribute name="role">
      <value type="string">doc-epigraph</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.doc-epigraph"/>
  </define>
  <define name="common.attrs.aria.role.doc-epigraph" combine="choice">
    <ref name="aria.doc-epigraph"/>
  </define>
  <define name="aria.doc-epilogue">
    <ref name="aria.role.doc-epilogue"/>
  </define>
  <define name="aria.role.doc-epilogue">
    <attribute name="role">
      <value type="string">doc-epilogue</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.doc-epilogue"/>
  </define>
  <define name="common.attrs.aria.role.doc-epilogue" combine="choice">
    <ref name="aria.doc-epilogue"/>
  </define>
  <define name="aria.doc-errata">
    <ref name="aria.role.doc-errata"/>
  </define>
  <define name="aria.role.doc-errata">
    <attribute name="role">
      <value type="string">doc-errata</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.doc-errata"/>
  </define>
  <define name="common.attrs.aria.role.doc-errata" combine="choice">
    <ref name="aria.doc-errata"/>
  </define>
  <define name="aria.doc-example">
    <ref name="aria.role.doc-example"/>
  </define>
  <define name="aria.role.doc-example">
    <attribute name="role">
      <value type="string">doc-example</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.doc-example"/>
  </define>
  <define name="common.attrs.aria.role.doc-example" combine="choice">
    <ref name="aria.doc-example"/>
  </define>
  <define name="aria.doc-footnote">
    <ref name="aria.role.doc-footnote"/>
  </define>
  <define name="aria.role.doc-footnote">
    <attribute name="role">
      <value type="string">doc-footnote</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.doc-footnote"/>
  </define>
  <define name="common.attrs.aria.role.doc-footnote" combine="choice">
    <ref name="aria.doc-footnote"/>
  </define>
  <define name="aria.doc-foreword">
    <ref name="aria.role.doc-foreword"/>
  </define>
  <define name="aria.role.doc-foreword">
    <attribute name="role">
      <value type="string">doc-foreword</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.doc-foreword"/>
  </define>
  <define name="common.attrs.aria.role.doc-foreword" combine="choice">
    <ref name="aria.doc-foreword"/>
  </define>
  <define name="aria.doc-glossary">
    <ref name="aria.role.doc-glossary"/>
  </define>
  <define name="aria.role.doc-glossary">
    <attribute name="role">
      <value type="string">doc-glossary</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.doc-glossary"/>
  </define>
  <define name="common.attrs.aria.role.doc-glossary" combine="choice">
    <ref name="aria.doc-glossary"/>
  </define>
  <define name="aria.doc-glossref">
    <ref name="aria.role.doc-glossref"/>
  </define>
  <define name="aria.role.doc-glossref">
    <attribute name="role">
      <value type="string">doc-glossref</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.doc-glossref"/>
  </define>
  <define name="common.attrs.aria.role.doc-glossref" combine="choice">
    <ref name="aria.doc-glossref"/>
  </define>
  <define name="aria.doc-index">
    <ref name="aria.role.doc-index"/>
  </define>
  <define name="aria.role.doc-index">
    <attribute name="role">
      <value type="string">doc-index</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.doc-index"/>
  </define>
  <define name="common.attrs.aria.role.doc-index" combine="choice">
    <ref name="aria.doc-index"/>
  </define>
  <define name="aria.doc-introduction">
    <ref name="aria.role.doc-introduction"/>
  </define>
  <define name="aria.role.doc-introduction">
    <attribute name="role">
      <value type="string">doc-introduction</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.doc-introduction"/>
  </define>
  <define name="common.attrs.aria.role.doc-introduction" combine="choice">
    <ref name="aria.doc-introduction"/>
  </define>
  <define name="aria.doc-noteref">
    <ref name="aria.role.doc-noteref"/>
  </define>
  <define name="aria.role.doc-noteref">
    <attribute name="role">
      <value type="string">doc-noteref</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.doc-noteref"/>
  </define>
  <define name="common.attrs.aria.role.doc-noteref" combine="choice">
    <ref name="aria.doc-noteref"/>
  </define>
  <define name="aria.doc-notice">
    <ref name="aria.role.doc-notice"/>
  </define>
  <define name="aria.role.doc-notice">
    <attribute name="role">
      <value type="string">doc-notice</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.doc-notice"/>
  </define>
  <define name="common.attrs.aria.role.doc-notice" combine="choice">
    <ref name="aria.doc-notice"/>
  </define>
  <define name="aria.doc-pagebreak">
    <ref name="aria.role.doc-pagebreak"/>
  </define>
  <define name="aria.role.doc-pagebreak">
    <attribute name="role">
      <value type="string">doc-pagebreak</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.doc-pagebreak"/>
  </define>
  <define name="common.attrs.aria.role.doc-pagebreak" combine="choice">
    <ref name="aria.doc-pagebreak"/>
  </define>
  <define name="aria.doc-pagelist">
    <ref name="aria.role.doc-pagelist"/>
  </define>
  <define name="aria.role.doc-pagelist">
    <attribute name="role">
      <value type="string">doc-pagelist</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.doc-pagelist"/>
  </define>
  <define name="common.attrs.aria.role.doc-pagelist" combine="choice">
    <ref name="aria.doc-pagelist"/>
  </define>
  <define name="aria.doc-part">
    <ref name="aria.role.doc-part"/>
  </define>
  <define name="aria.role.doc-part">
    <attribute name="role">
      <value type="string">doc-part</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.doc-part"/>
  </define>
  <define name="common.attrs.aria.role.doc-part" combine="choice">
    <ref name="aria.doc-part"/>
  </define>
  <define name="aria.doc-preface">
    <ref name="aria.role.doc-preface"/>
  </define>
  <define name="aria.role.doc-preface">
    <attribute name="role">
      <value type="string">doc-preface</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.doc-preface"/>
  </define>
  <define name="common.attrs.aria.role.doc-preface" combine="choice">
    <ref name="aria.doc-preface"/>
  </define>
  <define name="aria.doc-prologue">
    <ref name="aria.role.doc-prologue"/>
  </define>
  <define name="aria.role.doc-prologue">
    <attribute name="role">
      <value type="string">doc-prologue</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.doc-prologue"/>
  </define>
  <define name="common.attrs.aria.role.doc-prologue" combine="choice">
    <ref name="aria.doc-prologue"/>
  </define>
  <define name="aria.doc-pullquote">
    <ref name="aria.role.doc-pullquote"/>
  </define>
  <define name="aria.role.doc-pullquote">
    <attribute name="role">
      <value type="string">doc-pullquote</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.doc-pullquote"/>
  </define>
  <define name="common.attrs.aria.role.doc-pullquote" combine="choice">
    <ref name="aria.doc-pullquote"/>
  </define>
  <define name="aria.doc-qna">
    <ref name="aria.role.doc-qna"/>
  </define>
  <define name="aria.role.doc-qna">
    <attribute name="role">
      <value type="string">doc-qna</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.doc-qna"/>
  </define>
  <define name="common.attrs.aria.role.doc-qna" combine="choice">
    <ref name="aria.doc-qna"/>
  </define>
  <define name="aria.doc-subtitle">
    <ref name="aria.role.doc-subtitle"/>
  </define>
  <define name="aria.role.doc-subtitle">
    <attribute name="role">
      <value type="string">doc-subtitle</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.doc-subtitle"/>
  </define>
  <define name="common.attrs.aria.role.doc-subtitle" combine="choice">
    <ref name="aria.doc-subtitle"/>
  </define>
  <define name="aria.doc-tip">
    <ref name="aria.role.doc-tip"/>
  </define>
  <define name="aria.role.doc-tip">
    <attribute name="role">
      <value type="string">doc-tip</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.doc-tip"/>
  </define>
  <define name="common.attrs.aria.role.doc-tip" combine="choice">
    <ref name="aria.doc-tip"/>
  </define>
  <define name="aria.doc-toc">
    <ref name="aria.role.doc-toc"/>
  </define>
  <define name="aria.role.doc-toc">
    <attribute name="role">
      <value type="string">doc-toc</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.doc-toc"/>
  </define>
  <define name="common.attrs.aria.role.doc-toc" combine="choice">
    <ref name="aria.doc-toc"/>
  </define>
  <!-- Inlined from microdata.rng -->
<!-- ##################################################################### -->
  <!-- ##################################################################### -->
  <define name="common.attrs.microdata">
    <a:documentation> RELAX NG Schema for HTML 5: Microdata                             #</a:documentation>
    <interleave>
      <optional>
        <ref name="common.attrs.microdata.itemref"/>
      </optional>
      <optional>
        <ref name="common.attrs.microdata.itemprop"/>
      </optional>
      <optional>
        <ref name="common.attrs.microdata.itemscope"/>
      </optional>
      <optional>
        <ref name="common.attrs.microdata.itemtype"/>
      </optional>
      <optional>
        <ref name="common.attrs.microdata.itemid"/>
      </optional>
    </interleave>
  </define>
  <define name="common.attrs.microdata.itemref">
    <attribute name="itemref">
      <ref name="common.data.idrefs"/>
    </attribute>
  </define>
  <define name="common.attrs.microdata.itemprop">
    <attribute name="itemprop">
      <ref name="common.data.microdata-properties"/>
    </attribute>
  </define>
  <define name="common.attrs.microdata.itemscope">
    <attribute name="itemscope">
      <choice>
        <value>itemscope</value>
        <value/>
      </choice>
    </attribute>
  </define>
  <define name="common.attrs.microdata.itemtype">
    <attribute name="itemtype">
      <list>
        <oneOrMore>
          <ref name="common.data.uri.absolute"/>
        </oneOrMore>
      </list>
    </attribute>
  </define>
  <define name="common.attrs.microdata.itemid">
    <attribute name="itemid">
      <ref name="common.data.uri"/>
    </attribute>
  </define>
  <define name="common.attrs" combine="interleave">
    <ref name="common.attrs.microdata"/>
  </define>
  <define name="a.attrs" combine="interleave">
    <ref name="common.attrs.microdata"/>
  </define>
  <define name="area.attrs" combine="interleave">
    <ref name="common.attrs.microdata"/>
  </define>
  <define name="base.attrs" combine="interleave">
    <ref name="common.attrs.microdata"/>
  </define>
  <define name="link.elem.phrasing">
    <a:documentation>URL-valued Property Metadata: &lt;link itemprop&gt;</a:documentation>
    <element name="link">
      <interleave>
        <ref name="link.inner"/>
        <ref name="link.phrasing.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="link.phrasing.attrs">
    <interleave>
      <ref name="common.attrs.basic"/>
      <ref name="common.attrs.i18n"/>
      <ref name="common.attrs.present"/>
      <ref name="common.attrs.other"/>
      <ref name="common.attrs.microdata.itemprop"/>
      <optional>
        <ref name="common.attrs.microdata.itemref"/>
      </optional>
      <optional>
        <ref name="common.attrs.microdata.itemscope"/>
      </optional>
      <optional>
        <ref name="common.attrs.microdata.itemtype"/>
      </optional>
      <optional>
        <ref name="common.attrs.microdata.itemid"/>
      </optional>
      <ref name="shared-hyperlink.attrs.href"/>
      <optional>
        <ref name="shared-hyperlink.attrs.hreflang"/>
      </optional>
      <optional>
        <ref name="shared-hyperlink.attrs.media"/>
      </optional>
      <optional>
        <ref name="shared-hyperlink.attrs.type"/>
      </optional>
      <optional>
        <ref name="link.attrs.sizes"/>
      </optional>
      <optional>
        <!-- 	link.attrs.title included in common.attrs -->
        <ref name="embedded.content.attrs.crossorigin"/>
      </optional>
      <optional>
        <choice>
          <ref name="common.attrs.aria.role.link"/>
          <ref name="common.attrs.aria.role.presentation"/>
          <ref name="common.attrs.aria.role.menuitem"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="common.elem.phrasing" combine="choice">
    <ref name="link.elem.phrasing"/>
  </define>
  <define name="link.attrs.rel" combine="choice">
    <a:documentation>&lt;link&gt; element in head, extensions</a:documentation>
    <ref name="common.attrs.microdata.itemprop"/>
  </define>
  <define name="link.attrs" combine="interleave">
    <optional>
      <ref name="common.attrs.microdata.itemref"/>
    </optional>
  </define>
  <define name="link.attrs" combine="interleave">
    <optional>
      <ref name="common.attrs.microdata.itemscope"/>
    </optional>
  </define>
  <define name="link.attrs" combine="interleave">
    <optional>
      <ref name="common.attrs.microdata.itemtype"/>
    </optional>
  </define>
  <define name="link.attrs" combine="interleave">
    <optional>
      <ref name="common.attrs.microdata.itemid"/>
    </optional>
  </define>
  <define name="meta.itemprop.elem">
    <a:documentation>Property Metadata: &lt;meta itemprop&gt;</a:documentation>
    <element name="meta">
      <interleave>
        <ref name="meta.inner"/>
        <ref name="meta.itemprop.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="meta.itemprop.attrs">
    <interleave>
      <ref name="common.attrs.basic"/>
      <ref name="common.attrs.i18n"/>
      <ref name="common.attrs.present"/>
      <ref name="common.attrs.other"/>
      <ref name="common.attrs.microdata.itemprop"/>
      <optional>
        <ref name="common.attrs.microdata.itemref"/>
      </optional>
      <optional>
        <ref name="common.attrs.microdata.itemscope"/>
      </optional>
      <optional>
        <ref name="common.attrs.microdata.itemtype"/>
      </optional>
      <optional>
        <ref name="common.attrs.microdata.itemid"/>
      </optional>
      <ref name="meta.itemprop.attrs.content"/>
    </interleave>
  </define>
  <define name="meta.itemprop.attrs.content">
    <attribute name="content">
      <data type="string"/>
    </attribute>
  </define>
  <define name="common.elem.metadata" combine="choice">
    <ref name="meta.itemprop.elem"/>
  </define>
  <define name="common.elem.phrasing" combine="choice">
    <ref name="meta.itemprop.elem"/>
  </define>
  <!-- Inlined from web-components.rng -->
<!-- ##################################################################### -->
  <define name="template.elem">
    <a:documentation> RELAX NG Schema for HTML 5: Web Components</a:documentation>
    <!-- ##################################################################### -->
    <a:documentation>Templates: &lt;template&gt;</a:documentation>
    <element name="template">
      <interleave>
        <ref name="template.inner"/>
        <ref name="template.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="template.attrs">
    <ref name="common.attrs"/>
  </define>
  <define name="template.attrs.shadowrootmode">
    <attribute name="shadowrootmode">
      <choice>
        <value>open</value>
        <value>closed</value>
      </choice>
    </attribute>
  </define>
  <define name="template.attrs.shadowrootdelegatesfocus">
    <attribute name="shadowrootdelegatesfocus">
      <choice>
        <value>true</value>
        <value>false</value>
      </choice>
    </attribute>
  </define>
  <define name="template.attrs.shadowrootclonable">
    <attribute name="shadowrootclonable">
      <choice>
        <value>true</value>
        <value>false</value>
      </choice>
    </attribute>
  </define>
  <define name="template.attrs.shadowrootserializable">
    <attribute name="shadowrootserializable">
      <choice>
        <value>true</value>
        <value>false</value>
      </choice>
    </attribute>
  </define>
  <define name="template.attrs.shadowrootcustomelementregistry">
    <attribute name="shadowrootcustomelementregistry">
      <choice>
        <value>true</value>
        <value>false</value>
      </choice>
    </attribute>
  </define>
  <define name="template.inner">
    <choice>
      <ref name="common.inner.metadata"/>
      <ref name="common.inner.flow"/>
      <ref name="ol.inner"/>
      <ref name="ul.inner"/>
      <ref name="dl.inner"/>
      <ref name="figure.inner"/>
      <ref name="ruby.inner"/>
      <ref name="object.inner.flow"/>
      <ref name="object.inner.phrasing"/>
      <ref name="video.inner.flow"/>
      <ref name="video.inner.phrasing"/>
      <ref name="audio.inner.flow"/>
      <ref name="audio.inner.phrasing"/>
      <ref name="table.inner"/>
      <ref name="colgroup.inner"/>
      <ref name="thead.inner"/>
      <ref name="tbody.inner"/>
      <ref name="tfoot.inner"/>
      <ref name="tr.inner"/>
      <ref name="fieldset.inner"/>
      <ref name="select.inner"/>
      <ref name="details.inner"/>
    </choice>
  </define>
  <define name="common.elem.metadata" combine="choice">
    <ref name="template.elem"/>
  </define>
  <define name="common.elem.phrasing" combine="choice">
    <ref name="template.elem"/>
  </define>
  <define name="common.elem.script-supporting" combine="choice">
    <ref name="template.elem"/>
  </define>
  <!-- also allow <script> wherever <template> is allowed -->
  <define name="common.elem.script-supporting" combine="choice">
    <ref name="script.elem"/>
  </define>
  <define name="common.elem.flow" combine="choice">
    <a:documentation>Custom elements: &lt;foo-bar&gt;</a:documentation>
    <element>
      <nsName ns="http://n.validator.nu/custom-elements/"/>
      <interleave>
        <ref name="common.inner.transparent.flow"/>
        <zeroOrMore>
          <ref name="attr.any"/>
        </zeroOrMore>
      </interleave>
    </element>
  </define>
  <define name="common.elem.phrasing" combine="choice">
    <element>
      <nsName ns="http://n.validator.nu/custom-elements/"/>
      <interleave>
        <ref name="common.inner.phrasing"/>
        <zeroOrMore>
          <ref name="attr.any"/>
        </zeroOrMore>
      </interleave>
    </element>
  </define>
  <define name="attr.any">
    <attribute>
      <anyName/>
    </attribute>
  </define>
  <define name="common.attrs.other" combine="interleave">
    <a:documentation>The "is" attribute</a:documentation>
    <optional>
      <attribute name="is">
        <ref name="common.data.custom.element.name"/>
      </attribute>
    </optional>
  </define>
  <define name="slot.elem.flow">
    <a:documentation>Slot: &lt;slot&gt;</a:documentation>
    <element name="slot">
      <interleave>
        <ref name="slot.inner.flow"/>
        <ref name="slot.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="slot.elem.phrasing">
    <element name="slot">
      <interleave>
        <ref name="slot.inner.phrasing"/>
        <ref name="slot.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="slot.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <ref name="slot.attrs.name"/>
      </optional>
      <optional>
        <ref name="common.attrs.aria"/>
      </optional>
    </interleave>
  </define>
  <define name="slot.attrs.name">
    <attribute name="name">
      <data type="string"/>
    </attribute>
  </define>
  <define name="slot.inner.flow">
    <ref name="common.inner.transparent.flow"/>
  </define>
  <define name="slot.inner.phrasing">
    <ref name="common.inner.phrasing"/>
  </define>
  <define name="common.elem.flow" combine="choice">
    <ref name="slot.elem.flow"/>
  </define>
  <define name="common.elem.phrasing" combine="choice">
    <ref name="slot.elem.phrasing"/>
  </define>
  <define name="common.attrs.other" combine="interleave">
    <a:documentation>The "slot" attribute</a:documentation>
    <optional>
      <attribute name="slot"/>
    </optional>
  </define>
  <!-- Inlined from rdfa.rng -->
<define name="nonRDFaLite">
    <empty/>
  </define>
  <!-- ##################################################################### -->
  <!-- ##################################################################### -->
  <define name="common.data.rdfa.safecurie">
    <a:documentation> RELAX NG Schema for HTML 5: RDFa 1.1 and RDFa Lite 1.1            #</a:documentation>
    <!-- ##################################################################### -->
    <!-- ##################################################################### -->
    <a:documentation> RDFa Datatypes                                                    #</a:documentation>
    <data type="string">
      <param name="pattern">\\[(([\\i-[:]][\\c-[:]]*)?:?)[^\\s]*\\]</param>
      <param name="minLength">2</param>
    </data>
  </define>
  <define name="common.data.rdfa.curie">
    <data type="string">
      <param name="pattern">(([\\i-[:]][\\c-[:]]*)?:)[^\\s]*</param>
      <param name="minLength">1</param>
    </data>
  </define>
  <define name="common.data.rdfa.term">
    <data type="string">
      <param name="pattern">[\\i-[:]][/\\c-[:]]*</param>
    </data>
  </define>
  <!-- ##################################################################### -->
  <!-- ##################################################################### -->
  <define name="common.attrs.rdfa" combine="interleave">
    <a:documentation> RDFa Attributes                                                   #</a:documentation>
    <interleave>
      <optional>
        <ref name="common.attrs.rdfa.about"/>
      </optional>
      <optional>
        <ref name="common.attrs.rdfa.prefix"/>
      </optional>
      <optional>
        <ref name="common.attrs.rdfa.property"/>
      </optional>
      <optional>
        <ref name="common.attrs.rdfa.typeof"/>
      </optional>
      <optional>
        <ref name="common.attrs.rdfa.vocab"/>
      </optional>
      <optional>
        <ref name="common.attrs.rdfa.content"/>
      </optional>
      <optional>
        <ref name="common.attrs.rdfa.datatype"/>
      </optional>
      <optional>
        <ref name="common.attrs.rdfa.rel"/>
      </optional>
      <optional>
        <ref name="common.attrs.rdfa.resource"/>
      </optional>
      <optional>
        <ref name="common.attrs.rdfa.rev"/>
      </optional>
      <optional>
        <ref name="common.attrs.rdfa.inlist"/>
      </optional>
    </interleave>
  </define>
  <define name="common.attrs.rdfa.prefix">
    <attribute name="prefix">
      <choice>
        <data type="string">
          <param name="pattern">\\s*([\\i-[:]][\\c-[:]]*: [^ ]+)(\\s+[\\i-[:]][\\c-[:]]*: [^ ]+)*\\s*</param>
        </data>
        <value type="string" datatypeLibrary=""/>
      </choice>
    </attribute>
  </define>
  <define name="common.attrs.rdfa.property">
    <attribute name="property">
      <choice>
        <list>
          <oneOrMore>
            <choice>
              <ref name="common.data.rdfa.term"/>
              <ref name="common.data.rdfa.curie"/>
              <ref name="common.data.uri.absolute"/>
            </choice>
          </oneOrMore>
        </list>
        <value type="string" datatypeLibrary=""/>
      </choice>
    </attribute>
  </define>
  <define name="common.attrs.rdfa.resource">
    <attribute name="resource">
      <choice>
        <ref name="common.data.rdfa.safecurie"/>
        <ref name="common.data.rdfa.curie"/>
        <ref name="common.data.uri"/>
      </choice>
    </attribute>
  </define>
  <define name="common.attrs.rdfa.typeof">
    <attribute name="typeof">
      <choice>
        <list>
          <oneOrMore>
            <choice>
              <ref name="common.data.rdfa.term"/>
              <ref name="common.data.rdfa.curie"/>
              <ref name="common.data.uri.absolute"/>
            </choice>
          </oneOrMore>
        </list>
        <value type="string" datatypeLibrary=""/>
      </choice>
    </attribute>
  </define>
  <define name="common.attrs.rdfa.vocab">
    <attribute name="vocab">
      <choice>
        <ref name="common.data.uri.absolute"/>
        <value type="string" datatypeLibrary=""/>
      </choice>
    </attribute>
  </define>
  <define name="common.attrs.rdfa.about">
    <interleave>
      <attribute name="about">
        <choice>
          <ref name="common.data.rdfa.safecurie"/>
          <ref name="common.data.rdfa.curie"/>
          <ref name="common.data.uri"/>
        </choice>
      </attribute>
      <ref name="nonRDFaLite"/>
    </interleave>
  </define>
  <define name="common.attrs.rdfa.content">
    <interleave>
      <attribute name="content">
        <data type="string" datatypeLibrary=""/>
      </attribute>
      <ref name="nonRDFaLite"/>
    </interleave>
  </define>
  <define name="common.attrs.rdfa.datatype">
    <interleave>
      <attribute name="datatype">
        <choice>
          <ref name="common.data.rdfa.term"/>
          <ref name="common.data.rdfa.curie"/>
          <ref name="common.data.uri.absolute"/>
          <value type="string" datatypeLibrary=""/>
        </choice>
      </attribute>
      <ref name="nonRDFaLite"/>
    </interleave>
  </define>
  <define name="common.attrs.rdfa.rel">
    <interleave>
      <attribute name="rel">
        <choice>
          <list>
            <oneOrMore>
              <choice>
                <ref name="common.data.rdfa.term"/>
                <ref name="common.data.rdfa.curie"/>
                <ref name="common.data.uri.absolute"/>
              </choice>
            </oneOrMore>
          </list>
          <value type="string" datatypeLibrary=""/>
        </choice>
      </attribute>
      <ref name="nonRDFaLite"/>
    </interleave>
  </define>
  <define name="common.attrs.rdfa.rev">
    <interleave>
      <attribute name="rev">
        <choice>
          <list>
            <oneOrMore>
              <choice>
                <ref name="common.data.rdfa.term"/>
                <ref name="common.data.rdfa.curie"/>
                <ref name="common.data.uri.absolute"/>
              </choice>
            </oneOrMore>
          </list>
          <value type="string" datatypeLibrary=""/>
        </choice>
      </attribute>
      <ref name="nonRDFaLite"/>
    </interleave>
  </define>
  <define name="common.attrs.rdfa.inlist">
    <interleave>
      <attribute name="inlist">
        <data type="string" datatypeLibrary=""/>
      </attribute>
      <ref name="nonRDFaLite"/>
    </interleave>
  </define>
  <define name="common.attrs.rdfa.no-rel" combine="interleave">
    <interleave>
      <optional>
        <ref name="common.attrs.rdfa.about"/>
      </optional>
      <optional>
        <ref name="common.attrs.rdfa.prefix"/>
      </optional>
      <optional>
        <ref name="common.attrs.rdfa.property"/>
      </optional>
      <optional>
        <ref name="common.attrs.rdfa.typeof"/>
      </optional>
      <optional>
        <ref name="common.attrs.rdfa.vocab"/>
      </optional>
      <optional>
        <ref name="common.attrs.rdfa.content"/>
      </optional>
      <optional>
        <ref name="common.attrs.rdfa.datatype"/>
      </optional>
      <optional>
        <ref name="common.attrs.rdfa.resource"/>
      </optional>
      <optional>
        <ref name="common.attrs.rdfa.rev"/>
      </optional>
      <optional>
        <ref name="common.attrs.rdfa.inlist"/>
      </optional>
    </interleave>
  </define>
  <define name="common.attrs.rdfa.no-rel-rev" combine="interleave">
    <interleave>
      <optional>
        <ref name="common.attrs.rdfa.about"/>
      </optional>
      <optional>
        <ref name="common.attrs.rdfa.prefix"/>
      </optional>
      <optional>
        <ref name="common.attrs.rdfa.property"/>
      </optional>
      <optional>
        <ref name="common.attrs.rdfa.typeof"/>
      </optional>
      <optional>
        <ref name="common.attrs.rdfa.vocab"/>
      </optional>
      <optional>
        <ref name="common.attrs.rdfa.content"/>
      </optional>
      <optional>
        <ref name="common.attrs.rdfa.datatype"/>
      </optional>
      <optional>
        <ref name="common.attrs.rdfa.resource"/>
      </optional>
      <optional>
        <ref name="common.attrs.rdfa.inlist"/>
      </optional>
    </interleave>
  </define>
  <define name="common.attrs.rdfa.no-content-noproperty" combine="interleave">
    <interleave>
      <optional>
        <ref name="common.attrs.rdfa.about"/>
      </optional>
      <optional>
        <ref name="common.attrs.rdfa.prefix"/>
      </optional>
      <optional>
        <ref name="common.attrs.rdfa.typeof"/>
      </optional>
      <optional>
        <ref name="common.attrs.rdfa.vocab"/>
      </optional>
      <optional>
        <ref name="common.attrs.rdfa.datatype"/>
      </optional>
      <optional>
        <ref name="common.attrs.rdfa.resource"/>
      </optional>
      <optional>
        <ref name="common.attrs.rdfa.inlist"/>
      </optional>
    </interleave>
  </define>
  <define name="common.attrs" combine="interleave">
    <ref name="common.attrs.rdfa"/>
  </define>
  <define name="a.attrs" combine="interleave">
    <ref name="common.attrs.rdfa.no-rel-rev"/>
  </define>
  <define name="area.attrs" combine="interleave">
    <ref name="common.attrs.rdfa.no-rel"/>
  </define>
  <define name="base.attrs" combine="interleave">
    <ref name="common.attrs.rdfa.no-rel"/>
  </define>
  <define name="link.rdfa.elem.metadata">
    <element name="link">
      <interleave>
        <ref name="link.inner"/>
        <ref name="link.rdfa.attrs.metadata"/>
      </interleave>
    </element>
  </define>
  <define name="link.rdfa.elem.phrasing">
    <element name="link">
      <interleave>
        <ref name="link.inner"/>
        <ref name="link.rdfa.attrs.phrasing"/>
      </interleave>
    </element>
  </define>
  <define name="link.rdfa.attrs.metadata">
    <interleave>
      <ref name="common.attrs.basic"/>
      <ref name="common.attrs.i18n"/>
      <ref name="common.attrs.present"/>
      <ref name="common.attrs.other"/>
      <choice>
        <interleave>
          <ref name="common.attrs.rdfa.property"/>
          <optional>
            <ref name="link.attrs.rel"/>
          </optional>
        </interleave>
        <interleave>
          <optional>
            <ref name="common.attrs.rdfa.property"/>
          </optional>
          <ref name="link.attrs.rel"/>
        </interleave>
      </choice>
      <optional>
        <ref name="common.attrs.rdfa.about"/>
      </optional>
      <optional>
        <ref name="common.attrs.rdfa.prefix"/>
      </optional>
      <optional>
        <ref name="common.attrs.rdfa.typeof"/>
      </optional>
      <optional>
        <ref name="common.attrs.rdfa.vocab"/>
      </optional>
      <optional>
        <ref name="common.attrs.rdfa.content"/>
      </optional>
      <optional>
        <ref name="common.attrs.rdfa.datatype"/>
      </optional>
      <choice>
        <interleave>
          <ref name="common.attrs.rdfa.resource"/>
          <optional>
            <ref name="link.attrs.href"/>
          </optional>
        </interleave>
        <interleave>
          <optional>
            <ref name="common.attrs.rdfa.resource"/>
          </optional>
          <ref name="link.attrs.href"/>
        </interleave>
      </choice>
      <optional>
        <ref name="common.attrs.rdfa.rev"/>
      </optional>
      <optional>
        <ref name="common.attrs.rdfa.inlist"/>
      </optional>
      <optional>
        <ref name="shared-hyperlink.attrs.hreflang"/>
      </optional>
      <optional>
        <ref name="shared-hyperlink.attrs.media"/>
      </optional>
      <optional>
        <ref name="shared-hyperlink.attrs.type"/>
      </optional>
      <optional>
        <ref name="link.attrs.sizes"/>
      </optional>
      <optional>
        <ref name="link.attrs.as"/>
      </optional>
      <optional>
        <!-- 	link.attrs.title included in common.attrs -->
        <ref name="embedded.content.attrs.crossorigin"/>
      </optional>
      <optional>
        <choice>
          <ref name="common.attrs.aria.role.link"/>
          <ref name="common.attrs.aria.role.presentation"/>
          <ref name="common.attrs.aria.role.menuitem"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="link.rdfa.attrs.phrasing">
    <interleave>
      <ref name="common.attrs.basic"/>
      <ref name="common.attrs.i18n"/>
      <ref name="common.attrs.present"/>
      <ref name="common.attrs.other"/>
      <ref name="common.attrs.rdfa.property"/>
      <optional>
        <ref name="link.attrs.rel"/>
      </optional>
      <choice>
        <interleave>
          <ref name="common.attrs.rdfa.resource"/>
          <optional>
            <ref name="link.attrs.href"/>
          </optional>
        </interleave>
        <interleave>
          <optional>
            <ref name="common.attrs.rdfa.resource"/>
          </optional>
          <ref name="link.attrs.href"/>
        </interleave>
      </choice>
      <optional>
        <ref name="common.attrs.rdfa.about"/>
      </optional>
      <optional>
        <ref name="common.attrs.rdfa.prefix"/>
      </optional>
      <optional>
        <ref name="common.attrs.rdfa.typeof"/>
      </optional>
      <optional>
        <ref name="common.attrs.rdfa.vocab"/>
      </optional>
      <optional>
        <ref name="common.attrs.rdfa.content"/>
      </optional>
      <optional>
        <ref name="common.attrs.rdfa.datatype"/>
      </optional>
      <optional>
        <ref name="common.attrs.rdfa.rev"/>
      </optional>
      <optional>
        <ref name="common.attrs.rdfa.inlist"/>
      </optional>
      <optional>
        <ref name="shared-hyperlink.attrs.hreflang"/>
      </optional>
      <optional>
        <ref name="shared-hyperlink.attrs.media"/>
      </optional>
      <optional>
        <ref name="shared-hyperlink.attrs.type"/>
      </optional>
      <optional>
        <ref name="link.attrs.sizes"/>
      </optional>
      <optional>
        <!-- 	link.attrs.title included in common.attrs -->
        <ref name="embedded.content.attrs.crossorigin"/>
      </optional>
      <optional>
        <choice>
          <ref name="common.attrs.aria.role.link"/>
          <ref name="common.attrs.aria.role.presentation"/>
          <ref name="common.attrs.aria.role.menuitem"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="common.elem.metadata" combine="choice">
    <ref name="link.rdfa.elem.metadata"/>
  </define>
  <define name="common.elem.phrasing" combine="choice">
    <ref name="link.rdfa.elem.phrasing"/>
  </define>
  <define name="meta.property.elem">
    <a:documentation>&lt;meta property=foo content=bar&gt; in head ("name" attribute optional)</a:documentation>
    <element name="meta">
      <interleave>
        <ref name="meta.inner"/>
        <ref name="meta.property.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="meta.property.attrs">
    <interleave>
      <ref name="common.attrs.basic"/>
      <ref name="common.attrs.i18n"/>
      <ref name="common.attrs.present"/>
      <ref name="common.attrs.other"/>
      <optional>
        <ref name="meta.name.attrs.name"/>
      </optional>
      <ref name="common.attrs.rdfa.property"/>
      <ref name="meta.name.attrs.content"/>
    </interleave>
  </define>
  <define name="common.elem.metadata" combine="choice">
    <ref name="meta.property.elem"/>
  </define>
  <define name="meta.property-no-name.elem">
    <a:documentation>&lt;meta property=foo content=bar&gt; in body ("name" attribute disallowed)</a:documentation>
    <element name="meta">
      <interleave>
        <ref name="meta.inner"/>
        <ref name="meta.property-no-name.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="meta.property-no-name.attrs">
    <interleave>
      <ref name="common.attrs.basic"/>
      <ref name="common.attrs.i18n"/>
      <ref name="common.attrs.present"/>
      <ref name="common.attrs.other"/>
      <ref name="common.attrs.rdfa.property"/>
      <ref name="meta.name.attrs.content"/>
      <optional>
        <choice>
          <ref name="common.attrs.aria.role.presentation"/>
          <ref name="common.attrs.aria.role.menuitem"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="common.elem.phrasing" combine="choice">
    <ref name="meta.property-no-name.elem"/>
  </define>
  <define name="meta.property.attrs" combine="interleave">
    <ref name="common.attrs.rdfa.no-content-noproperty"/>
  </define>
  <define name="meta.property-no-name.attrs" combine="interleave">
    <ref name="common.attrs.rdfa.no-content-noproperty"/>
  </define>
  <define name="meta.name.attrs" combine="interleave">
    <ref name="common.attrs.rdfa.no-content-noproperty"/>
  </define>
  <!-- More tweaks for W3C-allowed features -->
  <define name="table.attrs" combine="interleave">
    <optional>
      <attribute name="border">
        <choice>
          <value/>
          <value>1</value>
        </choice>
      </attribute>
    </optional>
  </define>

    <a:documentation> RELAX NG Schema for EPUB: EPUB XHTML (+ SVG, + MathML)            #</a:documentation>
  
  <!-- Inlined from epub-svg-forgiving-inc.rng -->
<!-- ##################################################################### -->
  <define name="svg">
    <a:documentation> RELAX NG Schema for EPUB: EPUB SVG forgiving grammar check        #</a:documentation>
    <!-- ##################################################################### -->
    <!--
      The schema:
      - checks the \`id\` attribute datatype
      - restricts the content model of the \`title\` and \`foreignObject\`,
        following the EPUB SVG restrictions
      - checks that \`epub:type\` is only used on allowed elements
        (i.e. structural, shape, and text elements)
      Ohterwise, it does not report SVG validation errors.
    -->
    <a:documentation>Root Element: &lt;svg&gt;</a:documentation>
    <element name="svg">
      <interleave>
        <ref name="svg.inner"/>
        <ref name="svg.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="svg.attrs">
    <ref name="svg.epubtype.allowed.attrs"/>
  </define>
  <define name="svg.inner">
    <ref name="svg.any.inner"/>
  </define>
  <!-- ID attribute is defined specifically, for type checking -->
  <define name="svg.attr.id">
    <a:documentation>Attributes</a:documentation>
    <attribute name="id">
      <ref name="datatype.html5.token"/>
    </attribute>
  </define>
  <!-- Any other attribute -->
  <define name="svg.generic.attr">
    <attribute>
      <anyName>
        <except>
          <name ns="">id</name>
          <nsName ns="http://www.idpf.org/2007/ops"/>
        </except>
      </anyName>
    </attribute>
  </define>
  <!-- Attribute list of elements where \`epub:type\` is allowed -->
  <define name="svg.epubtype.allowed.attrs">
    <interleave>
      <optional>
        <ref name="epub.type.attr"/>
      </optional>
      <optional>
        <ref name="svg.attr.id"/>
      </optional>
      <zeroOrMore>
        <ref name="svg.generic.attr"/>
      </zeroOrMore>
    </interleave>
  </define>
  <!-- Attribute list of elements where \`epub:type\` is forbidden -->
  <define name="svg.epubtype.forbidden.attrs">
    <interleave>
      <optional>
        <ref name="svg.attr.id"/>
      </optional>
      <zeroOrMore>
        <ref name="svg.generic.attr"/>
      </zeroOrMore>
    </interleave>
  </define>
  <define name="svg.restricted.elem">
    <a:documentation>Restricted Elements</a:documentation>
    <choice>
      <ref name="svg.foreignObject.elem"/>
      <ref name="svg.title.elem"/>
    </choice>
  </define>
  <define name="svg.foreignObject.elem">
    <a:documentation>Restricted Element: \`foreignObject\`</a:documentation>
    <element name="foreignObject">
      <interleave>
        <ref name="svg.foreignObject.inner"/>
        <ref name="svg.foreignObject.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="svg.foreignObject.attrs">
    <ref name="svg.epubtype.forbidden.attrs"/>
  </define>
  <define name="svg.foreignObject.inner">
    <ref name="common.inner.flow"/>
  </define>
  <define name="svg.title.elem">
    <a:documentation>Restricted Element: \`title\`</a:documentation>
    <element name="title">
      <interleave>
        <ref name="svg.title.inner"/>
        <ref name="svg.title.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="svg.title.attrs">
    <ref name="svg.epubtype.forbidden.attrs"/>
  </define>
  <define name="svg.title.inner">
    <ref name="common.inner.anyhtml"/>
  </define>
  <!--
    the elements where \`epub:type\` is allowed and that have no
    specific content model defined anove.
    
    Note: an element in this list also needs to be added to the
    exception clause in the \`svg.anyother.elem\` class
  -->
  <define name="svg.renderable.elem">
    <a:documentation>Other elements where \`epub:type\` is allowed</a:documentation>
    <choice>
      <element name="a">
        <interleave>
          <ref name="svg.any.inner"/>
          <ref name="svg.epubtype.allowed.attrs"/>
        </interleave>
      </element>
      <element name="audio">
        <interleave>
          <ref name="svg.any.inner"/>
          <ref name="svg.epubtype.allowed.attrs"/>
        </interleave>
      </element>
      <element name="canvas">
        <interleave>
          <ref name="svg.any.inner"/>
          <ref name="svg.epubtype.allowed.attrs"/>
        </interleave>
      </element>
      <element name="circle">
        <interleave>
          <ref name="svg.any.inner"/>
          <ref name="svg.epubtype.allowed.attrs"/>
        </interleave>
      </element>
      <element name="ellipse">
        <interleave>
          <ref name="svg.any.inner"/>
          <ref name="svg.epubtype.allowed.attrs"/>
        </interleave>
      </element>
      <element name="g">
        <interleave>
          <ref name="svg.any.inner"/>
          <ref name="svg.epubtype.allowed.attrs"/>
        </interleave>
      </element>
      <element name="iframe">
        <interleave>
          <ref name="svg.any.inner"/>
          <ref name="svg.epubtype.allowed.attrs"/>
        </interleave>
      </element>
      <element name="image">
        <interleave>
          <ref name="svg.any.inner"/>
          <ref name="svg.epubtype.allowed.attrs"/>
        </interleave>
      </element>
      <element name="line">
        <interleave>
          <ref name="svg.any.inner"/>
          <ref name="svg.epubtype.allowed.attrs"/>
        </interleave>
      </element>
      <element name="path">
        <interleave>
          <ref name="svg.any.inner"/>
          <ref name="svg.epubtype.allowed.attrs"/>
        </interleave>
      </element>
      <element name="polygon">
        <interleave>
          <ref name="svg.any.inner"/>
          <ref name="svg.epubtype.allowed.attrs"/>
        </interleave>
      </element>
      <element name="polyline">
        <interleave>
          <ref name="svg.any.inner"/>
          <ref name="svg.epubtype.allowed.attrs"/>
        </interleave>
      </element>
      <element name="rect">
        <interleave>
          <ref name="svg.any.inner"/>
          <ref name="svg.epubtype.allowed.attrs"/>
        </interleave>
      </element>
      <element name="svg">
        <interleave>
          <ref name="svg.any.inner"/>
          <ref name="svg.epubtype.allowed.attrs"/>
        </interleave>
      </element>
      <element name="switch">
        <interleave>
          <ref name="svg.any.inner"/>
          <ref name="svg.epubtype.allowed.attrs"/>
        </interleave>
      </element>
      <element name="symbol">
        <interleave>
          <ref name="svg.any.inner"/>
          <ref name="svg.epubtype.allowed.attrs"/>
        </interleave>
      </element>
      <element name="text">
        <interleave>
          <ref name="svg.any.inner"/>
          <ref name="svg.epubtype.allowed.attrs"/>
        </interleave>
      </element>
      <element name="textPath">
        <interleave>
          <ref name="svg.any.inner"/>
          <ref name="svg.epubtype.allowed.attrs"/>
        </interleave>
      </element>
      <element name="tspan">
        <interleave>
          <ref name="svg.any.inner"/>
          <ref name="svg.epubtype.allowed.attrs"/>
        </interleave>
      </element>
      <element name="unknown">
        <interleave>
          <ref name="svg.any.inner"/>
          <ref name="svg.epubtype.allowed.attrs"/>
        </interleave>
      </element>
      <element name="use">
        <interleave>
          <ref name="svg.any.inner"/>
          <ref name="svg.epubtype.allowed.attrs"/>
        </interleave>
      </element>
      <element name="video">
        <interleave>
          <ref name="svg.any.inner"/>
          <ref name="svg.epubtype.allowed.attrs"/>
        </interleave>
      </element>
    </choice>
  </define>
  <define name="svg.epubtype.allowed.elem">
    <ref name="svg.renderable.elem"/>
  </define>
  <!--
    any element except:
    - the elements with a restricted content model
    - the elements allowing \`epub:type\`
  -->
  <define name="svg.anyother.elem">
    <a:documentation>Any other elements</a:documentation>
    <element>
      <anyName>
        <except>
          <name>foreignObject</name>
          <name>title</name>
          <name>a</name>
          <name>audio</name>
          <name>canvas</name>
          <name>circle</name>
          <name>ellipse</name>
          <name>g</name>
          <name>iframe</name>
          <name>image</name>
          <name>line</name>
          <name>path</name>
          <name>polygon</name>
          <name>polyline</name>
          <name>rect</name>
          <name>svg</name>
          <name>switch</name>
          <name>symbol</name>
          <name>text</name>
          <name>textPath</name>
          <name>tspan</name>
          <name>unknown</name>
          <name>use</name>
          <name>video</name>
        </except>
      </anyName>
      <interleave>
        <ref name="svg.any.inner"/>
        <ref name="svg.epubtype.forbidden.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="svg.any.elem">
    <a:documentation>Anything</a:documentation>
    <choice>
      <ref name="svg.epubtype.allowed.elem"/>
      <ref name="svg.restricted.elem"/>
      <ref name="svg.anyother.elem"/>
    </choice>
  </define>
  <define name="svg.any.inner">
    <interleave>
      <text/>
      <zeroOrMore>
        <ref name="svg.any.elem"/>
      </zeroOrMore>
    </interleave>
  </define>
  <!-- Inlined from epub-mathml3-inc.rng -->
<!--
    #####################################################################
    
     MathML validation based on the schemas from the Nu Html Checker,
     with the following changes:
       - Content MathML is only allowed in annotation-xml
       - annotation-xml follows the restrictions defined in
         EPUB Content Documents
       - EPUB SSML attributes are allowed
    
    #####################################################################
  -->
  <!-- Inlined from mathml3-inc.rng with overrides -->
<!-- Inlined from mathml3-content.rng with overrides -->
<!--
        This is the Mathematical Markup Language (MathML) 3.0, an XML
        application for describing mathematical notation and capturing
        both its structure and content.
    
        With additional changes for integration into the validator.nu
        service.
    
        Copyright 1998-2010 W3C (MIT, ERCIM, Keio)
        Copyright 2012 Mozilla Foundation
        Copyright 2014-2019 W3C (MIT, ERCIM, Keio, Beihang)
    
        Use and distribution of this code are permitted under the terms
        W3C Software Notice and License
        http://www.w3.org/Consortium/Legal/2002/copyright-software-20021231
  -->
  <!-- Inlined from mathml3-strict-content.rng with overrides -->
<define name="ContExp">
    <choice>
      <ref name="semantics-contexp"/>
      <ref name="cn"/>
      <ref name="ci"/>
      <ref name="csymbol"/>
      <ref name="apply"/>
      <ref name="bind"/>
      <ref name="share"/>
      <ref name="cerror"/>
      <ref name="cbytes"/>
      <ref name="cs"/>
    </choice>
  </define>
  <define name="cn">
    <element name="cn">
      <ref name="cn.attributes"/>
      <ref name="cn.content"/>
    </element>
  </define>
  <define name="cn.content">
    <text/>
  </define>
  <define name="cn.attributes">
    <ref name="CommonAtt"/>
    <attribute name="type">
      <choice>
        <value>integer</value>
        <value>real</value>
        <value>double</value>
        <value>hexdouble</value>
      </choice>
    </attribute>
  </define>
  <define name="semantics-ci">
    <element name="semantics">
      <ref name="semantics.attributes"/>
      <choice>
        <ref name="ci"/>
        <ref name="semantics-ci"/>
      </choice>
      <zeroOrMore>
        <choice>
          <ref name="annotation"/>
          <ref name="annotation-xml"/>
        </choice>
      </zeroOrMore>
    </element>
  </define>
  <define name="semantics-contexp">
    <element name="semantics">
      <ref name="semantics.attributes"/>
      <ref name="ContExp"/>
      <zeroOrMore>
        <choice>
          <ref name="annotation"/>
          <ref name="annotation-xml"/>
        </choice>
      </zeroOrMore>
    </element>
  </define>
  <define name="ci">
    <element name="ci">
      <ref name="ci.attributes"/>
      <ref name="ci.content"/>
    </element>
  </define>
  <define name="ci.attributes">
    <ref name="CommonAtt"/>
    <optional>
      <ref name="ci.type"/>
    </optional>
  </define>
  <define name="ci.type">
    <attribute name="type">
      <choice>
        <value>integer</value>
        <value>rational</value>
        <value>real</value>
        <value>complex</value>
        <value>complex-polar</value>
        <value>complex-cartesian</value>
        <value>constant</value>
        <value>function</value>
        <value>vector</value>
        <value>list</value>
        <value>set</value>
        <value>matrix</value>
      </choice>
    </attribute>
  </define>
  <define name="ci.content">
    <text/>
  </define>
  <define name="csymbol">
    <element name="csymbol">
      <ref name="csymbol.attributes"/>
      <ref name="csymbol.content"/>
    </element>
  </define>
  <define name="SymbolName">
    <data type="NCName"/>
  </define>
  <define name="csymbol.attributes">
    <ref name="CommonAtt"/>
    <ref name="cd"/>
  </define>
  <define name="csymbol.content">
    <ref name="SymbolName"/>
  </define>
  <define name="BvarQ">
    <zeroOrMore>
      <ref name="bvar"/>
    </zeroOrMore>
  </define>
  <define name="bvar">
    <element name="bvar">
      <ref name="CommonAtt"/>
      <choice>
        <ref name="ci"/>
        <ref name="semantics-ci"/>
      </choice>
    </element>
  </define>
  <define name="apply">
    <element name="apply">
      <ref name="CommonAtt"/>
      <ref name="apply.content"/>
    </element>
  </define>
  <define name="apply.content">
    <oneOrMore>
      <ref name="ContExp"/>
    </oneOrMore>
  </define>
  <define name="bind">
    <element name="bind">
      <ref name="CommonAtt"/>
      <ref name="bind.content"/>
    </element>
  </define>
  <define name="bind.content">
    <ref name="ContExp"/>
    <zeroOrMore>
      <ref name="bvar"/>
    </zeroOrMore>
    <ref name="ContExp"/>
  </define>
  <define name="share">
    <element name="share">
      <ref name="CommonAtt"/>
      <ref name="src"/>
      <empty/>
    </element>
  </define>
  <define name="cerror">
    <element name="cerror">
      <ref name="cerror.attributes"/>
      <ref name="csymbol"/>
      <zeroOrMore>
        <ref name="ContExp"/>
      </zeroOrMore>
    </element>
  </define>
  <define name="cerror.attributes">
    <ref name="CommonAtt"/>
  </define>
  <define name="cbytes">
    <element name="cbytes">
      <ref name="cbytes.attributes"/>
      <ref name="base64"/>
    </element>
  </define>
  <define name="cbytes.attributes">
    <ref name="CommonAtt"/>
  </define>
  <define name="base64">
    <data type="base64Binary"/>
  </define>
  <define name="cs">
    <element name="cs">
      <ref name="cs.attributes"/>
      <text/>
    </element>
  </define>
  <define name="cs.attributes">
    <ref name="CommonAtt"/>
  </define>
  <define name="MathExpression" combine="choice">
    <ref name="ContExp"/>
  </define>

    <define name="cn.content">
      <zeroOrMore>
        <choice>
          <text/>
          <ref name="mglyph"/>
          <ref name="sep"/>
          <ref name="PresentationExpression"/>
        </choice>
      </zeroOrMore>
    </define>
    <define name="cn.attributes">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <optional>
        <attribute name="type"/>
      </optional>
      <optional>
        <ref name="math-base"/>
      </optional>
    </define>
    <define name="ci.attributes">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <optional>
        <ref name="ci.type"/>
      </optional>
    </define>
    <define name="ci.type">
      <attribute name="type"/>
    </define>
    <define name="ci.content">
      <zeroOrMore>
        <choice>
          <text/>
          <ref name="mglyph"/>
          <ref name="PresentationExpression"/>
        </choice>
      </zeroOrMore>
    </define>
    <define name="csymbol.attributes">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <optional>
        <attribute name="type"/>
      </optional>
      <optional>
        <ref name="cd"/>
      </optional>
    </define>
    <define name="csymbol.content">
      <zeroOrMore>
        <choice>
          <text/>
          <ref name="mglyph"/>
          <ref name="PresentationExpression"/>
        </choice>
      </zeroOrMore>
    </define>
    <define name="bvar">
      <element name="bvar">
        <ref name="CommonAtt"/>
        <interleave>
          <choice>
            <ref name="ci"/>
            <ref name="semantics-ci"/>
          </choice>
          <optional>
            <ref name="degree"/>
          </optional>
        </interleave>
      </element>
    </define>
    <define name="cbytes.attributes">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
    </define>
    <define name="cs.attributes">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
    </define>
    <define name="apply.content">
      <choice>
        <oneOrMore>
          <ref name="ContExp"/>
        </oneOrMore>
        <group>
          <ref name="ContExp"/>
          <ref name="BvarQ"/>
          <zeroOrMore>
            <ref name="Qualifier"/>
          </zeroOrMore>
          <zeroOrMore>
            <ref name="ContExp"/>
          </zeroOrMore>
        </group>
      </choice>
    </define>
    <define name="bind.content">
      <ref name="apply.content"/>
    </define>
  
  <!-- changed pattern name to math-base to avoid name conflict - mike -->
  <define name="math-base">
    <attribute name="base"/>
  </define>
  <define name="sep">
    <element name="sep">
      <empty/>
    </element>
  </define>
  <define name="PresentationExpression" combine="choice">
    <notAllowed/>
  </define>
  <define name="DomainQ">
    <zeroOrMore>
      <choice>
        <ref name="domainofapplication"/>
        <ref name="condition"/>
        <ref name="interval"/>
        <group>
          <ref name="lowlimit"/>
          <optional>
            <ref name="uplimit"/>
          </optional>
        </group>
      </choice>
    </zeroOrMore>
  </define>
  <define name="domainofapplication">
    <element name="domainofapplication">
      <ref name="ContExp"/>
    </element>
  </define>
  <define name="condition">
    <element name="condition">
      <ref name="ContExp"/>
    </element>
  </define>
  <define name="uplimit">
    <element name="uplimit">
      <ref name="ContExp"/>
    </element>
  </define>
  <define name="lowlimit">
    <element name="lowlimit">
      <ref name="ContExp"/>
    </element>
  </define>
  <define name="Qualifier">
    <choice>
      <ref name="DomainQ"/>
      <ref name="degree"/>
      <ref name="momentabout"/>
      <ref name="logbase"/>
    </choice>
  </define>
  <define name="degree">
    <element name="degree">
      <ref name="ContExp"/>
    </element>
  </define>
  <define name="momentabout">
    <element name="momentabout">
      <ref name="ContExp"/>
    </element>
  </define>
  <define name="logbase">
    <element name="logbase">
      <ref name="ContExp"/>
    </element>
  </define>
  <define name="type">
    <attribute name="type"/>
  </define>
  <define name="order">
    <attribute name="order">
      <choice>
        <value>numeric</value>
        <value>lexicographic</value>
      </choice>
    </attribute>
  </define>
  <define name="closure">
    <attribute name="closure"/>
  </define>
  <define name="ContExp" combine="choice">
    <ref name="piecewise"/>
  </define>
  <define name="piecewise">
    <element name="piecewise">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <interleave>
        <zeroOrMore>
          <ref name="piece"/>
        </zeroOrMore>
        <optional>
          <ref name="otherwise"/>
        </optional>
      </interleave>
    </element>
  </define>
  <define name="piece">
    <element name="piece">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <ref name="ContExp"/>
      <ref name="ContExp"/>
    </element>
  </define>
  <define name="otherwise">
    <element name="otherwise">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <ref name="ContExp"/>
    </element>
  </define>
  <define name="DeprecatedContExp">
    <choice>
      <ref name="reln"/>
      <ref name="fn"/>
      <ref name="declare"/>
    </choice>
  </define>
  <define name="ContExp" combine="choice">
    <ref name="DeprecatedContExp"/>
  </define>
  <define name="reln">
    <element name="reln">
      <zeroOrMore>
        <ref name="ContExp"/>
      </zeroOrMore>
    </element>
  </define>
  <define name="fn">
    <element name="fn">
      <ref name="ContExp"/>
    </element>
  </define>
  <define name="declare">
    <element name="declare">
      <optional>
        <attribute name="type">
          <data type="string"/>
        </attribute>
      </optional>
      <optional>
        <attribute name="scope">
          <data type="string"/>
        </attribute>
      </optional>
      <optional>
        <attribute name="nargs">
          <data type="nonNegativeInteger"/>
        </attribute>
      </optional>
      <optional>
        <attribute name="occurrence">
          <choice>
            <value>prefix</value>
            <value>infix</value>
            <value>function-model</value>
          </choice>
        </attribute>
      </optional>
      <ref name="DefEncAtt"/>
      <oneOrMore>
        <ref name="ContExp"/>
      </oneOrMore>
    </element>
  </define>
  <define name="interval.class">
    <ref name="interval"/>
  </define>
  <define name="ContExp" combine="choice">
    <ref name="interval.class"/>
  </define>
  <define name="interval">
    <element name="interval">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <optional>
        <ref name="closure"/>
      </optional>
      <ref name="ContExp"/>
      <ref name="ContExp"/>
    </element>
  </define>
  <define name="unary-functional.class">
    <choice>
      <ref name="inverse"/>
      <ref name="ident"/>
      <ref name="domain"/>
      <ref name="codomain"/>
      <ref name="math-image"/>
      <ref name="ln"/>
      <ref name="log"/>
      <ref name="moment"/>
    </choice>
  </define>
  <define name="ContExp" combine="choice">
    <ref name="unary-functional.class"/>
  </define>
  <define name="inverse">
    <element name="inverse">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="ident">
    <element name="ident">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="domain">
    <element name="domain">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="codomain">
    <element name="codomain">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <!-- changed pattern name to math-image to avoid name conflict - mike -->
  <define name="math-image">
    <element name="image">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="ln">
    <element name="ln">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="log">
    <element name="log">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="moment">
    <element name="moment">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="lambda.class">
    <ref name="lambda"/>
  </define>
  <define name="ContExp" combine="choice">
    <ref name="lambda.class"/>
  </define>
  <define name="lambda">
    <element name="lambda">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <ref name="BvarQ"/>
      <ref name="DomainQ"/>
      <ref name="ContExp"/>
    </element>
  </define>
  <define name="nary-functional.class">
    <ref name="compose"/>
  </define>
  <define name="ContExp" combine="choice">
    <ref name="nary-functional.class"/>
  </define>
  <define name="compose">
    <element name="compose">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="binary-arith.class">
    <choice>
      <ref name="quotient"/>
      <ref name="divide"/>
      <ref name="minus"/>
      <ref name="power"/>
      <ref name="rem"/>
      <ref name="root"/>
    </choice>
  </define>
  <define name="ContExp" combine="choice">
    <ref name="binary-arith.class"/>
  </define>
  <define name="quotient">
    <element name="quotient">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="divide">
    <element name="divide">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="minus">
    <element name="minus">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="power">
    <element name="power">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="rem">
    <element name="rem">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="root">
    <element name="root">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="unary-arith.class">
    <choice>
      <ref name="factorial"/>
      <ref name="minus"/>
      <ref name="root"/>
      <ref name="abs"/>
      <ref name="conjugate"/>
      <ref name="arg"/>
      <ref name="real"/>
      <ref name="imaginary"/>
      <ref name="floor"/>
      <ref name="ceiling"/>
      <ref name="exp"/>
    </choice>
  </define>
  <define name="ContExp" combine="choice">
    <ref name="unary-arith.class"/>
  </define>
  <define name="factorial">
    <element name="factorial">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="abs">
    <element name="abs">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="conjugate">
    <element name="conjugate">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="arg">
    <element name="arg">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="real">
    <element name="real">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="imaginary">
    <element name="imaginary">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="floor">
    <element name="floor">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="ceiling">
    <element name="ceiling">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="exp">
    <element name="exp">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="nary-minmax.class">
    <choice>
      <ref name="max"/>
      <ref name="min"/>
    </choice>
  </define>
  <define name="ContExp" combine="choice">
    <ref name="nary-minmax.class"/>
  </define>
  <define name="max">
    <element name="max">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="min">
    <element name="min">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="nary-arith.class">
    <choice>
      <ref name="plus"/>
      <ref name="times"/>
      <ref name="gcd"/>
      <ref name="lcm"/>
    </choice>
  </define>
  <define name="ContExp" combine="choice">
    <ref name="nary-arith.class"/>
  </define>
  <define name="plus">
    <element name="plus">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="times">
    <element name="times">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="gcd">
    <element name="gcd">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="lcm">
    <element name="lcm">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="nary-logical.class">
    <choice>
      <ref name="and"/>
      <ref name="or"/>
      <ref name="xor"/>
    </choice>
  </define>
  <define name="ContExp" combine="choice">
    <ref name="nary-logical.class"/>
  </define>
  <define name="and">
    <element name="and">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="or">
    <element name="or">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="xor">
    <element name="xor">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="unary-logical.class">
    <ref name="not"/>
  </define>
  <define name="ContExp" combine="choice">
    <ref name="unary-logical.class"/>
  </define>
  <define name="not">
    <element name="not">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="binary-logical.class">
    <choice>
      <ref name="implies"/>
      <ref name="equivalent"/>
    </choice>
  </define>
  <define name="ContExp" combine="choice">
    <ref name="binary-logical.class"/>
  </define>
  <define name="implies">
    <element name="implies">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="equivalent">
    <element name="equivalent">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="quantifier.class">
    <choice>
      <ref name="forall"/>
      <ref name="exists"/>
    </choice>
  </define>
  <define name="ContExp" combine="choice">
    <ref name="quantifier.class"/>
  </define>
  <define name="forall">
    <element name="forall">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="exists">
    <element name="exists">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="nary-reln.class">
    <choice>
      <ref name="eq"/>
      <ref name="gt"/>
      <ref name="lt"/>
      <ref name="geq"/>
      <ref name="leq"/>
    </choice>
  </define>
  <define name="ContExp" combine="choice">
    <ref name="nary-reln.class"/>
  </define>
  <define name="eq">
    <element name="eq">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="gt">
    <element name="gt">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="lt">
    <element name="lt">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="geq">
    <element name="geq">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="leq">
    <element name="leq">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="binary-reln.class">
    <choice>
      <ref name="neq"/>
      <ref name="approx"/>
      <ref name="factorof"/>
      <ref name="tendsto"/>
    </choice>
  </define>
  <define name="ContExp" combine="choice">
    <ref name="binary-reln.class"/>
  </define>
  <define name="neq">
    <element name="neq">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="approx">
    <element name="approx">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="factorof">
    <element name="factorof">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="tendsto">
    <element name="tendsto">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <optional>
        <ref name="type"/>
      </optional>
      <empty/>
    </element>
  </define>
  <define name="int.class">
    <ref name="int"/>
  </define>
  <define name="ContExp" combine="choice">
    <ref name="int.class"/>
  </define>
  <define name="int">
    <element name="int">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="Differential-Operator.class">
    <ref name="diff"/>
  </define>
  <define name="ContExp" combine="choice">
    <ref name="Differential-Operator.class"/>
  </define>
  <define name="diff">
    <element name="diff">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="partialdiff.class">
    <ref name="partialdiff"/>
  </define>
  <define name="ContExp" combine="choice">
    <ref name="partialdiff.class"/>
  </define>
  <define name="partialdiff">
    <element name="partialdiff">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="unary-veccalc.class">
    <choice>
      <ref name="divergence"/>
      <ref name="grad"/>
      <ref name="curl"/>
      <ref name="laplacian"/>
    </choice>
  </define>
  <define name="ContExp" combine="choice">
    <ref name="unary-veccalc.class"/>
  </define>
  <define name="divergence">
    <element name="divergence">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="grad">
    <element name="grad">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="curl">
    <element name="curl">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="laplacian">
    <element name="laplacian">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="nary-setlist-constructor.class">
    <choice>
      <ref name="math-set"/>
      <ref name="list"/>
    </choice>
  </define>
  <define name="ContExp" combine="choice">
    <ref name="nary-setlist-constructor.class"/>
  </define>
  <!-- changed pattern name to math-set to avoid name conflict - mike -->
  <define name="math-set">
    <element name="set">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <optional>
        <ref name="type"/>
      </optional>
      <zeroOrMore>
        <ref name="BvarQ"/>
      </zeroOrMore>
      <zeroOrMore>
        <ref name="DomainQ"/>
      </zeroOrMore>
      <zeroOrMore>
        <ref name="ContExp"/>
      </zeroOrMore>
    </element>
  </define>
  <define name="list">
    <element name="list">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <optional>
        <ref name="order"/>
      </optional>
      <zeroOrMore>
        <ref name="BvarQ"/>
      </zeroOrMore>
      <zeroOrMore>
        <ref name="DomainQ"/>
      </zeroOrMore>
      <zeroOrMore>
        <ref name="ContExp"/>
      </zeroOrMore>
    </element>
  </define>
  <define name="nary-set.class">
    <choice>
      <ref name="union"/>
      <ref name="intersect"/>
      <ref name="cartesianproduct"/>
    </choice>
  </define>
  <define name="ContExp" combine="choice">
    <ref name="nary-set.class"/>
  </define>
  <define name="union">
    <element name="union">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="intersect">
    <element name="intersect">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="cartesianproduct">
    <element name="cartesianproduct">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="binary-set.class">
    <choice>
      <ref name="in"/>
      <ref name="notin"/>
      <ref name="notsubset"/>
      <ref name="notprsubset"/>
      <ref name="setdiff"/>
    </choice>
  </define>
  <define name="ContExp" combine="choice">
    <ref name="binary-set.class"/>
  </define>
  <define name="in">
    <element name="in">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="notin">
    <element name="notin">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="notsubset">
    <element name="notsubset">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="notprsubset">
    <element name="notprsubset">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="setdiff">
    <element name="setdiff">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="nary-set-reln.class">
    <choice>
      <ref name="subset"/>
      <ref name="prsubset"/>
    </choice>
  </define>
  <define name="ContExp" combine="choice">
    <ref name="nary-set-reln.class"/>
  </define>
  <define name="subset">
    <element name="subset">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="prsubset">
    <element name="prsubset">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="unary-set.class">
    <ref name="card"/>
  </define>
  <define name="ContExp" combine="choice">
    <ref name="unary-set.class"/>
  </define>
  <define name="card">
    <element name="card">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="sum.class">
    <ref name="sum"/>
  </define>
  <define name="ContExp" combine="choice">
    <ref name="sum.class"/>
  </define>
  <define name="sum">
    <element name="sum">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="product.class">
    <ref name="product"/>
  </define>
  <define name="ContExp" combine="choice">
    <ref name="product.class"/>
  </define>
  <define name="product">
    <element name="product">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="limit.class">
    <ref name="limit"/>
  </define>
  <define name="ContExp" combine="choice">
    <ref name="limit.class"/>
  </define>
  <define name="limit">
    <element name="limit">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="unary-elementary.class">
    <choice>
      <ref name="sin"/>
      <ref name="cos"/>
      <ref name="tan"/>
      <ref name="sec"/>
      <ref name="csc"/>
      <ref name="cot"/>
      <ref name="sinh"/>
      <ref name="cosh"/>
      <ref name="tanh"/>
      <ref name="sech"/>
      <ref name="csch"/>
      <ref name="coth"/>
      <ref name="arcsin"/>
      <ref name="arccos"/>
      <ref name="arctan"/>
      <ref name="arccosh"/>
      <ref name="arccot"/>
      <ref name="arccoth"/>
      <ref name="arccsc"/>
      <ref name="arccsch"/>
      <ref name="arcsec"/>
      <ref name="arcsech"/>
      <ref name="arcsinh"/>
      <ref name="arctanh"/>
    </choice>
  </define>
  <define name="ContExp" combine="choice">
    <ref name="unary-elementary.class"/>
  </define>
  <define name="sin">
    <element name="sin">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="cos">
    <element name="cos">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="tan">
    <element name="tan">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="sec">
    <element name="sec">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="csc">
    <element name="csc">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="cot">
    <element name="cot">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="sinh">
    <element name="sinh">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="cosh">
    <element name="cosh">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="tanh">
    <element name="tanh">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="sech">
    <element name="sech">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="csch">
    <element name="csch">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="coth">
    <element name="coth">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="arcsin">
    <element name="arcsin">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="arccos">
    <element name="arccos">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="arctan">
    <element name="arctan">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="arccosh">
    <element name="arccosh">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="arccot">
    <element name="arccot">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="arccoth">
    <element name="arccoth">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="arccsc">
    <element name="arccsc">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="arccsch">
    <element name="arccsch">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="arcsec">
    <element name="arcsec">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="arcsech">
    <element name="arcsech">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="arcsinh">
    <element name="arcsinh">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="arctanh">
    <element name="arctanh">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="nary-stats.class">
    <choice>
      <ref name="mean"/>
      <ref name="sdev"/>
      <ref name="variance"/>
      <ref name="median"/>
      <ref name="mode"/>
    </choice>
  </define>
  <define name="ContExp" combine="choice">
    <ref name="nary-stats.class"/>
  </define>
  <define name="mean">
    <element name="mean">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="sdev">
    <element name="sdev">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="variance">
    <element name="variance">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="median">
    <element name="median">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="mode">
    <element name="mode">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="nary-constructor.class">
    <choice>
      <ref name="vector"/>
      <ref name="matrix"/>
      <ref name="matrixrow"/>
    </choice>
  </define>
  <define name="ContExp" combine="choice">
    <ref name="nary-constructor.class"/>
  </define>
  <define name="vector">
    <element name="vector">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <ref name="BvarQ"/>
      <ref name="DomainQ"/>
      <zeroOrMore>
        <ref name="ContExp"/>
      </zeroOrMore>
    </element>
  </define>
  <define name="matrix">
    <element name="matrix">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <ref name="BvarQ"/>
      <ref name="DomainQ"/>
      <zeroOrMore>
        <ref name="ContExp"/>
      </zeroOrMore>
    </element>
  </define>
  <define name="matrixrow">
    <element name="matrixrow">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <ref name="BvarQ"/>
      <ref name="DomainQ"/>
      <zeroOrMore>
        <ref name="ContExp"/>
      </zeroOrMore>
    </element>
  </define>
  <define name="unary-linalg.class">
    <choice>
      <ref name="determinant"/>
      <ref name="transpose"/>
    </choice>
  </define>
  <define name="ContExp" combine="choice">
    <ref name="unary-linalg.class"/>
  </define>
  <define name="determinant">
    <element name="determinant">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="transpose">
    <element name="transpose">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="nary-linalg.class">
    <ref name="selector"/>
  </define>
  <define name="ContExp" combine="choice">
    <ref name="nary-linalg.class"/>
  </define>
  <define name="selector">
    <element name="selector">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="binary-linalg.class">
    <choice>
      <ref name="vectorproduct"/>
      <ref name="scalarproduct"/>
      <ref name="outerproduct"/>
    </choice>
  </define>
  <define name="ContExp" combine="choice">
    <ref name="binary-linalg.class"/>
  </define>
  <define name="vectorproduct">
    <element name="vectorproduct">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="scalarproduct">
    <element name="scalarproduct">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="outerproduct">
    <element name="outerproduct">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="constant-set.class">
    <choice>
      <ref name="integers"/>
      <ref name="reals"/>
      <ref name="rationals"/>
      <ref name="naturalnumbers"/>
      <ref name="complexes"/>
      <ref name="primes"/>
      <ref name="emptyset"/>
    </choice>
  </define>
  <define name="ContExp" combine="choice">
    <ref name="constant-set.class"/>
  </define>
  <define name="integers">
    <element name="integers">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="reals">
    <element name="reals">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="rationals">
    <element name="rationals">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="naturalnumbers">
    <element name="naturalnumbers">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="complexes">
    <element name="complexes">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="primes">
    <element name="primes">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="emptyset">
    <element name="emptyset">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="constant-arith.class">
    <choice>
      <ref name="exponentiale"/>
      <ref name="imaginaryi"/>
      <ref name="notanumber"/>
      <ref name="true"/>
      <ref name="false"/>
      <ref name="pi"/>
      <ref name="eulergamma"/>
      <ref name="infinity"/>
    </choice>
  </define>
  <define name="ContExp" combine="choice">
    <ref name="constant-arith.class"/>
  </define>
  <define name="exponentiale">
    <element name="exponentiale">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="imaginaryi">
    <element name="imaginaryi">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="notanumber">
    <element name="notanumber">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="true">
    <element name="true">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="false">
    <element name="false">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="pi">
    <element name="pi">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="eulergamma">
    <element name="eulergamma">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="infinity">
    <element name="infinity">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>

    <a:documentation>Content  MathML</a:documentation>
  
  <!-- Inlined from mathml3-presentation.rng with overrides -->
<define name="MathExpression" combine="choice">
    <ref name="PresentationExpression"/>
  </define>
  <define name="ImpliedMrow">
    <zeroOrMore>
      <ref name="MathExpression"/>
    </zeroOrMore>
  </define>
  <define name="TableRowExpression">
    <choice>
      <ref name="mtr"/>
      <ref name="mlabeledtr"/>
    </choice>
  </define>
  <define name="TableCellExpression">
    <ref name="mtd"/>
  </define>
  <define name="MstackExpression">
    <choice>
      <ref name="MathExpression"/>
      <ref name="mscarries"/>
      <ref name="msline"/>
      <ref name="msrow"/>
      <ref name="msgroup"/>
    </choice>
  </define>
  <define name="MsrowExpression">
    <choice>
      <ref name="MathExpression"/>
      <ref name="none"/>
    </choice>
  </define>
  <define name="MultiScriptExpression">
    <choice>
      <ref name="MathExpression"/>
      <ref name="none"/>
    </choice>
    <choice>
      <ref name="MathExpression"/>
      <ref name="none"/>
    </choice>
  </define>
  <define name="mpadded-length">
    <data type="string">
      <param name="pattern">\\s*([\\+\\-]?[0-9]*([0-9]\\.?|\\.[0-9])[0-9]*\\s*((%?\\s*(height|depth|width)?)|e[mx]|in|cm|mm|p[xtc]|((negative)?((very){0,2}thi(n|ck)|medium)mathspace))?)\\s*</param>
    </data>
  </define>
  <define name="linestyle">
    <choice>
      <value>none</value>
      <value>solid</value>
      <value>dashed</value>
    </choice>
  </define>
  <define name="verticalalign">
    <choice>
      <value>top</value>
      <value>bottom</value>
      <value>center</value>
      <value>baseline</value>
      <value>axis</value>
    </choice>
  </define>
  <define name="columnalignstyle">
    <choice>
      <value>left</value>
      <value>center</value>
      <value>right</value>
    </choice>
  </define>
  <define name="notationstyle">
    <choice>
      <value>longdiv</value>
      <value>actuarial</value>
      <value>radical</value>
      <value>box</value>
      <value>roundedbox</value>
      <value>circle</value>
      <value>left</value>
      <value>right</value>
      <value>top</value>
      <value>bottom</value>
      <value>updiagonalstrike</value>
      <value>downdiagonalstrike</value>
      <value>verticalstrike</value>
      <value>horizontalstrike</value>
      <value>madruwb</value>
    </choice>
  </define>
  <define name="idref">
    <text/>
  </define>
  <define name="unsigned-integer">
    <data type="unsignedLong"/>
  </define>
  <define name="integer">
    <data type="integer"/>
  </define>
  <define name="number">
    <data type="decimal"/>
  </define>
  <define name="character">
    <data type="string">
      <param name="pattern">\\s*\\S\\s*</param>
    </data>
  </define>
  <define name="color">
    <data type="string">
      <param name="pattern">\\s*((#[0-9a-fA-F]{3}([0-9a-fA-F]{3})?)|[aA][qQ][uU][aA]|[bB][lL][aA][cC][kK]|[bB][lL][uU][eE]|[fF][uU][cC][hH][sS][iI][aA]|[gG][rR][aA][yY]|[gG][rR][eE][eE][nN]|[lL][iI][mM][eE]|[mM][aA][rR][oO][oO][nN]|[nN][aA][vV][yY]|[oO][lL][iI][vV][eE]|[pP][uU][rR][pP][lL][eE]|[rR][eE][dD]|[sS][iI][lL][vV][eE][rR]|[tT][eE][aA][lL]|[wW][hH][iI][tT][eE]|[yY][eE][lL][lL][oO][wW])\\s*</param>
    </data>
  </define>
  <define name="group-alignment">
    <choice>
      <value>left</value>
      <value>center</value>
      <value>right</value>
      <value>decimalpoint</value>
    </choice>
  </define>
  <define name="group-alignment-list">
    <list>
      <oneOrMore>
        <ref name="group-alignment"/>
      </oneOrMore>
    </list>
  </define>
  <define name="group-alignment-list-list">
    <data type="string">
      <param name="pattern">(\\s*\\{\\s*(left|center|right|decimalpoint)(\\s+(left|center|right|decimalpoint))*\\})*\\s*</param>
    </data>
  </define>
  <define name="positive-integer">
    <data type="positiveInteger"/>
  </define>
  <define name="TokenExpression">
    <choice>
      <ref name="mi"/>
      <ref name="mn"/>
      <ref name="mo"/>
      <ref name="mtext"/>
      <ref name="mspace"/>
      <ref name="ms"/>
    </choice>
  </define>
  <define name="token.content">
    <choice>
      <ref name="mglyph"/>
      <ref name="malignmark"/>
      <text/>
    </choice>
  </define>
  <define name="mi">
    <element name="mi">
      <ref name="mi.attributes"/>
      <zeroOrMore>
        <ref name="token.content"/>
      </zeroOrMore>
    </element>
  </define>
  <define name="mi.attributes">
    <ref name="CommonAtt"/>
    <ref name="CommonPresAtt"/>
    <ref name="TokenAtt"/>
  </define>
  <define name="mn">
    <element name="mn">
      <ref name="mn.attributes"/>
      <zeroOrMore>
        <ref name="token.content"/>
      </zeroOrMore>
    </element>
  </define>
  <define name="mn.attributes">
    <ref name="CommonAtt"/>
    <ref name="CommonPresAtt"/>
    <ref name="TokenAtt"/>
  </define>
  <define name="mo">
    <element name="mo">
      <ref name="mo.attributes"/>
      <zeroOrMore>
        <ref name="token.content"/>
      </zeroOrMore>
    </element>
  </define>
  <define name="mo.attributes">
    <ref name="CommonAtt"/>
    <ref name="CommonPresAtt"/>
    <ref name="TokenAtt"/>
    <optional>
      <attribute name="form">
        <choice>
          <value>prefix</value>
          <value>infix</value>
          <value>postfix</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="fence">
        <choice>
          <value>true</value>
          <value>false</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="separator">
        <choice>
          <value>true</value>
          <value>false</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="lspace">
        <ref name="length"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="rspace">
        <ref name="length"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="stretchy">
        <choice>
          <value>true</value>
          <value>false</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="symmetric">
        <choice>
          <value>true</value>
          <value>false</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="maxsize">
        <choice>
          <ref name="length"/>
          <value>infinity</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="minsize">
        <ref name="length"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="largeop">
        <choice>
          <value>true</value>
          <value>false</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="movablelimits">
        <choice>
          <value>true</value>
          <value>false</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="accent">
        <choice>
          <value>true</value>
          <value>false</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="linebreak">
        <choice>
          <value>auto</value>
          <value>newline</value>
          <value>nobreak</value>
          <value>goodbreak</value>
          <value>badbreak</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="lineleading">
        <ref name="length"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="linebreakstyle">
        <choice>
          <value>before</value>
          <value>after</value>
          <value>duplicate</value>
          <value>infixlinebreakstyle</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="linebreakmultchar"/>
    </optional>
    <optional>
      <attribute name="indentalign">
        <choice>
          <value>left</value>
          <value>center</value>
          <value>right</value>
          <value>auto</value>
          <value>id</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="indentshift">
        <ref name="length"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="indenttarget">
        <ref name="idref"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="indentalignfirst">
        <choice>
          <value>left</value>
          <value>center</value>
          <value>right</value>
          <value>auto</value>
          <value>id</value>
          <value>indentalign</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="indentshiftfirst">
        <choice>
          <ref name="length"/>
          <value>indentshift</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="indentalignlast">
        <choice>
          <value>left</value>
          <value>center</value>
          <value>right</value>
          <value>auto</value>
          <value>id</value>
          <value>indentalign</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="indentshiftlast">
        <choice>
          <ref name="length"/>
          <value>indentshift</value>
        </choice>
      </attribute>
    </optional>
  </define>
  <!--
    changed mtext content model to use mtext.content instead of generic
    token.content, because we want to handle mtext differently than other
    MathML "token elements" - - mike
  -->
  <define name="mtext">
    <element name="mtext">
      <ref name="mtext.attributes"/>
      <zeroOrMore>
        <ref name="mtext.content"/>
      </zeroOrMore>
    </element>
  </define>
  <define name="mtext.attributes">
    <ref name="CommonAtt"/>
    <ref name="CommonPresAtt"/>
    <ref name="TokenAtt"/>
  </define>
  <define name="mtext.content">
    <choice>
      <ref name="mglyph"/>
      <ref name="malignmark"/>
      <text/>
    </choice>
  </define>
  <define name="mspace">
    <element name="mspace">
      <ref name="mspace.attributes"/>
      <empty/>
    </element>
  </define>
  <define name="mspace.attributes">
    <ref name="CommonAtt"/>
    <ref name="CommonPresAtt"/>
    <ref name="TokenAtt"/>
    <optional>
      <attribute name="width">
        <ref name="length"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="height">
        <ref name="length"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="depth">
        <ref name="length"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="linebreak">
        <choice>
          <value>auto</value>
          <value>newline</value>
          <value>nobreak</value>
          <value>goodbreak</value>
          <value>badbreak</value>
          <value>indentingnewline</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="indentalign">
        <choice>
          <value>left</value>
          <value>center</value>
          <value>right</value>
          <value>auto</value>
          <value>id</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="indentshift">
        <ref name="length"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="indenttarget">
        <ref name="idref"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="indentalignfirst">
        <choice>
          <value>left</value>
          <value>center</value>
          <value>right</value>
          <value>auto</value>
          <value>id</value>
          <value>indentalign</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="indentshiftfirst">
        <choice>
          <ref name="length"/>
          <value>indentshift</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="indentalignlast">
        <choice>
          <value>left</value>
          <value>center</value>
          <value>right</value>
          <value>auto</value>
          <value>id</value>
          <value>indentalign</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="indentshiftlast">
        <choice>
          <ref name="length"/>
          <value>indentshift</value>
        </choice>
      </attribute>
    </optional>
  </define>
  <define name="ms">
    <element name="ms">
      <ref name="ms.attributes"/>
      <zeroOrMore>
        <ref name="token.content"/>
      </zeroOrMore>
    </element>
  </define>
  <define name="ms.attributes">
    <ref name="CommonAtt"/>
    <ref name="CommonPresAtt"/>
    <ref name="TokenAtt"/>
    <optional>
      <attribute name="lquote"/>
    </optional>
    <optional>
      <attribute name="rquote"/>
    </optional>
  </define>
  <define name="mglyph">
    <element name="mglyph">
      <ref name="mglyph.attributes"/>
      <ref name="mglyph.deprecatedattributes"/>
      <empty/>
    </element>
  </define>
  <define name="mglyph.attributes">
    <ref name="CommonAtt"/>
    <ref name="CommonPresAtt"/>
    <optional>
      <attribute name="src">
        <data type="anyURI"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="width">
        <ref name="length"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="height">
        <ref name="length"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="valign">
        <ref name="length"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="alt"/>
    </optional>
  </define>
  <define name="mglyph.deprecatedattributes">
    <optional>
      <attribute name="index">
        <ref name="integer"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="mathvariant">
        <choice>
          <value>normal</value>
          <value>bold</value>
          <value>italic</value>
          <value>bold-italic</value>
          <value>double-struck</value>
          <value>bold-fraktur</value>
          <value>script</value>
          <value>bold-script</value>
          <value>fraktur</value>
          <value>sans-serif</value>
          <value>bold-sans-serif</value>
          <value>sans-serif-italic</value>
          <value>sans-serif-bold-italic</value>
          <value>monospace</value>
          <value>initial</value>
          <value>tailed</value>
          <value>looped</value>
          <value>stretched</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="mathsize">
        <choice>
          <value>small</value>
          <value>normal</value>
          <value>big</value>
          <ref name="length"/>
        </choice>
      </attribute>
    </optional>
    <ref name="DeprecatedTokenAtt"/>
  </define>
  <define name="msline">
    <element name="msline">
      <ref name="msline.attributes"/>
      <empty/>
    </element>
  </define>
  <define name="msline.attributes">
    <ref name="CommonAtt"/>
    <ref name="CommonPresAtt"/>
    <optional>
      <attribute name="position">
        <ref name="integer"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="length">
        <ref name="unsigned-integer"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="leftoverhang">
        <ref name="length"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="rightoverhang">
        <ref name="length"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="mslinethickness">
        <choice>
          <ref name="length"/>
          <value>thin</value>
          <value>medium</value>
          <value>thick</value>
        </choice>
      </attribute>
    </optional>
  </define>
  <define name="none">
    <element name="none">
      <ref name="none.attributes"/>
      <empty/>
    </element>
  </define>
  <define name="none.attributes">
    <ref name="CommonAtt"/>
    <ref name="CommonPresAtt"/>
  </define>
  <define name="mprescripts">
    <element name="mprescripts">
      <ref name="mprescripts.attributes"/>
      <empty/>
    </element>
  </define>
  <define name="mprescripts.attributes">
    <ref name="CommonAtt"/>
    <ref name="CommonPresAtt"/>
  </define>
  <define name="CommonPresAtt">
    <optional>
      <attribute name="mathcolor">
        <ref name="color"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="mathbackground">
        <choice>
          <ref name="color"/>
          <value>transparent</value>
        </choice>
      </attribute>
    </optional>
  </define>
  <define name="TokenAtt">
    <optional>
      <attribute name="mathvariant">
        <choice>
          <value>normal</value>
          <value>bold</value>
          <value>italic</value>
          <value>bold-italic</value>
          <value>double-struck</value>
          <value>bold-fraktur</value>
          <value>script</value>
          <value>bold-script</value>
          <value>fraktur</value>
          <value>sans-serif</value>
          <value>bold-sans-serif</value>
          <value>sans-serif-italic</value>
          <value>sans-serif-bold-italic</value>
          <value>monospace</value>
          <value>initial</value>
          <value>tailed</value>
          <value>looped</value>
          <value>stretched</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="mathsize">
        <choice>
          <value>small</value>
          <value>normal</value>
          <value>big</value>
          <ref name="length"/>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="dir">
        <choice>
          <value>ltr</value>
          <value>rtl</value>
        </choice>
      </attribute>
    </optional>
    <ref name="DeprecatedTokenAtt"/>
  </define>
  <define name="DeprecatedTokenAtt">
    <optional>
      <attribute name="fontfamily"/>
    </optional>
    <optional>
      <attribute name="fontweight">
        <choice>
          <value>normal</value>
          <value>bold</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="fontstyle">
        <choice>
          <value>normal</value>
          <value>italic</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="fontsize">
        <ref name="length"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="color">
        <ref name="color"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="background">
        <choice>
          <ref name="color"/>
          <value>transparent</value>
        </choice>
      </attribute>
    </optional>
  </define>
  <define name="MalignExpression">
    <choice>
      <ref name="maligngroup"/>
      <ref name="malignmark"/>
    </choice>
  </define>
  <define name="malignmark">
    <element name="malignmark">
      <ref name="malignmark.attributes"/>
      <empty/>
    </element>
  </define>
  <define name="malignmark.attributes">
    <ref name="CommonAtt"/>
    <ref name="CommonPresAtt"/>
    <optional>
      <attribute name="edge">
        <choice>
          <value>left</value>
          <value>right</value>
        </choice>
      </attribute>
    </optional>
  </define>
  <define name="maligngroup">
    <element name="maligngroup">
      <ref name="maligngroup.attributes"/>
      <empty/>
    </element>
  </define>
  <define name="maligngroup.attributes">
    <ref name="CommonAtt"/>
    <ref name="CommonPresAtt"/>
    <optional>
      <attribute name="groupalign">
        <choice>
          <value>left</value>
          <value>center</value>
          <value>right</value>
          <value>decimalpoint</value>
        </choice>
      </attribute>
    </optional>
  </define>
  <define name="PresentationExpression">
    <choice>
      <ref name="TokenExpression"/>
      <ref name="MalignExpression"/>
      <ref name="mrow"/>
      <ref name="mfrac"/>
      <ref name="msqrt"/>
      <ref name="mroot"/>
      <ref name="mstyle"/>
      <ref name="merror"/>
      <ref name="mpadded"/>
      <ref name="mphantom"/>
      <ref name="mfenced"/>
      <ref name="menclose"/>
      <ref name="msub"/>
      <ref name="msup"/>
      <ref name="msubsup"/>
      <ref name="munder"/>
      <ref name="mover"/>
      <ref name="munderover"/>
      <ref name="mmultiscripts"/>
      <ref name="mtable"/>
      <ref name="mstack"/>
      <ref name="mlongdiv"/>
      <ref name="maction"/>
    </choice>
  </define>
  <define name="mrow">
    <element name="mrow">
      <ref name="mrow.attributes"/>
      <zeroOrMore>
        <ref name="MathExpression"/>
      </zeroOrMore>
    </element>
  </define>
  <define name="mrow.attributes">
    <ref name="CommonAtt"/>
    <ref name="CommonPresAtt"/>
    <optional>
      <attribute name="dir">
        <choice>
          <value>ltr</value>
          <value>rtl</value>
        </choice>
      </attribute>
    </optional>
  </define>
  <define name="mfrac">
    <element name="mfrac">
      <ref name="mfrac.attributes"/>
      <ref name="MathExpression"/>
      <ref name="MathExpression"/>
    </element>
  </define>
  <define name="mfrac.attributes">
    <ref name="CommonAtt"/>
    <ref name="CommonPresAtt"/>
    <optional>
      <attribute name="linethickness">
        <choice>
          <ref name="length"/>
          <value>thin</value>
          <value>medium</value>
          <value>thick</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="numalign">
        <choice>
          <value>left</value>
          <value>center</value>
          <value>right</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="denomalign">
        <choice>
          <value>left</value>
          <value>center</value>
          <value>right</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="bevelled">
        <choice>
          <value>true</value>
          <value>false</value>
        </choice>
      </attribute>
    </optional>
  </define>
  <define name="msqrt">
    <element name="msqrt">
      <ref name="msqrt.attributes"/>
      <ref name="ImpliedMrow"/>
    </element>
  </define>
  <define name="msqrt.attributes">
    <ref name="CommonAtt"/>
    <ref name="CommonPresAtt"/>
  </define>
  <define name="mroot">
    <element name="mroot">
      <ref name="mroot.attributes"/>
      <ref name="MathExpression"/>
      <ref name="MathExpression"/>
    </element>
  </define>
  <define name="mroot.attributes">
    <ref name="CommonAtt"/>
    <ref name="CommonPresAtt"/>
  </define>
  <define name="mstyle">
    <element name="mstyle">
      <ref name="mstyle.attributes"/>
      <ref name="ImpliedMrow"/>
    </element>
  </define>
  <define name="mstyle.attributes">
    <ref name="CommonAtt"/>
    <ref name="CommonPresAtt"/>
    <ref name="mstyle.specificattributes"/>
    <ref name="mstyle.generalattributes"/>
    <ref name="mstyle.deprecatedattributes"/>
  </define>
  <define name="mstyle.specificattributes">
    <optional>
      <attribute name="scriptlevel">
        <ref name="integer"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="displaystyle">
        <choice>
          <value>true</value>
          <value>false</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="scriptsizemultiplier">
        <ref name="number"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="scriptminsize">
        <ref name="length"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="infixlinebreakstyle">
        <choice>
          <value>before</value>
          <value>after</value>
          <value>duplicate</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="decimalpoint">
        <ref name="character"/>
      </attribute>
    </optional>
  </define>
  <define name="mstyle.generalattributes">
    <optional>
      <attribute name="accent">
        <choice>
          <value>true</value>
          <value>false</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="accentunder">
        <choice>
          <value>true</value>
          <value>false</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="align">
        <choice>
          <value>left</value>
          <value>right</value>
          <value>center</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="alignmentscope">
        <list>
          <oneOrMore>
            <choice>
              <value>true</value>
              <value>false</value>
            </choice>
          </oneOrMore>
        </list>
      </attribute>
    </optional>
    <optional>
      <attribute name="bevelled">
        <choice>
          <value>true</value>
          <value>false</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="charalign">
        <choice>
          <value>left</value>
          <value>center</value>
          <value>right</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="charspacing">
        <choice>
          <ref name="length"/>
          <value>loose</value>
          <value>medium</value>
          <value>tight</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="close"/>
    </optional>
    <optional>
      <attribute name="columnalign">
        <list>
          <oneOrMore>
            <ref name="columnalignstyle"/>
          </oneOrMore>
        </list>
      </attribute>
    </optional>
    <optional>
      <attribute name="columnlines">
        <list>
          <oneOrMore>
            <ref name="linestyle"/>
          </oneOrMore>
        </list>
      </attribute>
    </optional>
    <optional>
      <attribute name="columnspacing">
        <list>
          <oneOrMore>
            <ref name="length"/>
          </oneOrMore>
        </list>
      </attribute>
    </optional>
    <optional>
      <attribute name="columnspan">
        <ref name="positive-integer"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="columnwidth">
        <list>
          <oneOrMore>
            <choice>
              <value>auto</value>
              <ref name="length"/>
              <value>fit</value>
            </choice>
          </oneOrMore>
        </list>
      </attribute>
    </optional>
    <optional>
      <attribute name="crossout">
        <list>
          <zeroOrMore>
            <choice>
              <value>none</value>
              <value>updiagonalstrike</value>
              <value>downdiagonalstrike</value>
              <value>verticalstrike</value>
              <value>horizontalstrike</value>
            </choice>
          </zeroOrMore>
        </list>
      </attribute>
    </optional>
    <optional>
      <attribute name="denomalign">
        <choice>
          <value>left</value>
          <value>center</value>
          <value>right</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="depth">
        <ref name="length"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="dir">
        <choice>
          <value>ltr</value>
          <value>rtl</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="edge">
        <choice>
          <value>left</value>
          <value>right</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="equalcolumns">
        <choice>
          <value>true</value>
          <value>false</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="equalrows">
        <choice>
          <value>true</value>
          <value>false</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="fence">
        <choice>
          <value>true</value>
          <value>false</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="form">
        <choice>
          <value>prefix</value>
          <value>infix</value>
          <value>postfix</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="frame">
        <ref name="linestyle"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="framespacing">
        <list>
          <ref name="length"/>
          <ref name="length"/>
        </list>
      </attribute>
    </optional>
    <optional>
      <attribute name="groupalign">
        <ref name="group-alignment-list-list"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="height">
        <ref name="length"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="indentalign">
        <choice>
          <value>left</value>
          <value>center</value>
          <value>right</value>
          <value>auto</value>
          <value>id</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="indentalignfirst">
        <choice>
          <value>left</value>
          <value>center</value>
          <value>right</value>
          <value>auto</value>
          <value>id</value>
          <value>indentalign</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="indentalignlast">
        <choice>
          <value>left</value>
          <value>center</value>
          <value>right</value>
          <value>auto</value>
          <value>id</value>
          <value>indentalign</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="indentshift">
        <ref name="length"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="indentshiftfirst">
        <choice>
          <ref name="length"/>
          <value>indentshift</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="indentshiftlast">
        <choice>
          <ref name="length"/>
          <value>indentshift</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="indenttarget">
        <ref name="idref"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="largeop">
        <choice>
          <value>true</value>
          <value>false</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="leftoverhang">
        <ref name="length"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="length">
        <ref name="unsigned-integer"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="linebreak">
        <choice>
          <value>auto</value>
          <value>newline</value>
          <value>nobreak</value>
          <value>goodbreak</value>
          <value>badbreak</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="linebreakmultchar"/>
    </optional>
    <optional>
      <attribute name="linebreakstyle">
        <choice>
          <value>before</value>
          <value>after</value>
          <value>duplicate</value>
          <value>infixlinebreakstyle</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="lineleading">
        <ref name="length"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="linethickness">
        <choice>
          <ref name="length"/>
          <value>thin</value>
          <value>medium</value>
          <value>thick</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="location">
        <choice>
          <value>w</value>
          <value>nw</value>
          <value>n</value>
          <value>ne</value>
          <value>e</value>
          <value>se</value>
          <value>s</value>
          <value>sw</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="longdivstyle">
        <choice>
          <value>lefttop</value>
          <value>stackedrightright</value>
          <value>mediumstackedrightright</value>
          <value>shortstackedrightright</value>
          <value>righttop</value>
          <value>left/\\right</value>
          <value>left)(right</value>
          <value>:right=right</value>
          <value>stackedleftleft</value>
          <value>stackedleftlinetop</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="lquote"/>
    </optional>
    <optional>
      <attribute name="lspace">
        <ref name="length"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="mathsize">
        <choice>
          <value>small</value>
          <value>normal</value>
          <value>big</value>
          <ref name="length"/>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="mathvariant">
        <choice>
          <value>normal</value>
          <value>bold</value>
          <value>italic</value>
          <value>bold-italic</value>
          <value>double-struck</value>
          <value>bold-fraktur</value>
          <value>script</value>
          <value>bold-script</value>
          <value>fraktur</value>
          <value>sans-serif</value>
          <value>bold-sans-serif</value>
          <value>sans-serif-italic</value>
          <value>sans-serif-bold-italic</value>
          <value>monospace</value>
          <value>initial</value>
          <value>tailed</value>
          <value>looped</value>
          <value>stretched</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="maxsize">
        <choice>
          <ref name="length"/>
          <value>infinity</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="minlabelspacing">
        <ref name="length"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="minsize">
        <ref name="length"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="movablelimits">
        <choice>
          <value>true</value>
          <value>false</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="mslinethickness">
        <choice>
          <ref name="length"/>
          <value>thin</value>
          <value>medium</value>
          <value>thick</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="notation"/>
    </optional>
    <optional>
      <attribute name="numalign">
        <choice>
          <value>left</value>
          <value>center</value>
          <value>right</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="open"/>
    </optional>
    <optional>
      <attribute name="position">
        <ref name="integer"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="rightoverhang">
        <ref name="length"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="rowalign">
        <list>
          <oneOrMore>
            <ref name="verticalalign"/>
          </oneOrMore>
        </list>
      </attribute>
    </optional>
    <optional>
      <attribute name="rowlines">
        <list>
          <oneOrMore>
            <ref name="linestyle"/>
          </oneOrMore>
        </list>
      </attribute>
    </optional>
    <optional>
      <attribute name="rowspacing">
        <list>
          <oneOrMore>
            <ref name="length"/>
          </oneOrMore>
        </list>
      </attribute>
    </optional>
    <optional>
      <attribute name="rowspan">
        <ref name="positive-integer"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="rquote"/>
    </optional>
    <optional>
      <attribute name="rspace">
        <ref name="length"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="selection">
        <ref name="positive-integer"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="separator">
        <choice>
          <value>true</value>
          <value>false</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="separators"/>
    </optional>
    <optional>
      <attribute name="shift">
        <ref name="integer"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="side">
        <choice>
          <value>left</value>
          <value>right</value>
          <value>leftoverlap</value>
          <value>rightoverlap</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="stackalign">
        <choice>
          <value>left</value>
          <value>center</value>
          <value>right</value>
          <value>decimalpoint</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="stretchy">
        <choice>
          <value>true</value>
          <value>false</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="subscriptshift">
        <ref name="length"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="superscriptshift">
        <ref name="length"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="symmetric">
        <choice>
          <value>true</value>
          <value>false</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="valign">
        <ref name="length"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="width">
        <ref name="length"/>
      </attribute>
    </optional>
  </define>
  <define name="mstyle.deprecatedattributes">
    <ref name="DeprecatedTokenAtt"/>
    <optional>
      <attribute name="veryverythinmathspace">
        <ref name="length"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="verythinmathspace">
        <ref name="length"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="thinmathspace">
        <ref name="length"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="mediummathspace">
        <ref name="length"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="thickmathspace">
        <ref name="length"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="verythickmathspace">
        <ref name="length"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="veryverythickmathspace">
        <ref name="length"/>
      </attribute>
    </optional>
  </define>
  <define name="math.attributes" combine="interleave">
    <ref name="CommonPresAtt"/>
  </define>
  <define name="math.attributes" combine="interleave">
    <ref name="mstyle.specificattributes"/>
  </define>
  <define name="math.attributes" combine="interleave">
    <ref name="mstyle.generalattributes"/>
  </define>
  <define name="merror">
    <element name="merror">
      <ref name="merror.attributes"/>
      <ref name="ImpliedMrow"/>
    </element>
  </define>
  <define name="merror.attributes">
    <ref name="CommonAtt"/>
    <ref name="CommonPresAtt"/>
  </define>
  <define name="mpadded">
    <element name="mpadded">
      <ref name="mpadded.attributes"/>
      <ref name="ImpliedMrow"/>
    </element>
  </define>
  <define name="mpadded.attributes">
    <ref name="CommonAtt"/>
    <ref name="CommonPresAtt"/>
    <optional>
      <attribute name="height">
        <ref name="mpadded-length"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="depth">
        <ref name="mpadded-length"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="width">
        <ref name="mpadded-length"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="lspace">
        <ref name="mpadded-length"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="voffset">
        <ref name="mpadded-length"/>
      </attribute>
    </optional>
  </define>
  <define name="mphantom">
    <element name="mphantom">
      <ref name="mphantom.attributes"/>
      <ref name="ImpliedMrow"/>
    </element>
  </define>
  <define name="mphantom.attributes">
    <ref name="CommonAtt"/>
    <ref name="CommonPresAtt"/>
  </define>
  <define name="mfenced">
    <element name="mfenced">
      <ref name="mfenced.attributes"/>
      <zeroOrMore>
        <ref name="MathExpression"/>
      </zeroOrMore>
    </element>
  </define>
  <define name="mfenced.attributes">
    <ref name="CommonAtt"/>
    <ref name="CommonPresAtt"/>
    <optional>
      <attribute name="open"/>
    </optional>
    <optional>
      <attribute name="close"/>
    </optional>
    <optional>
      <attribute name="separators"/>
    </optional>
  </define>
  <define name="menclose">
    <element name="menclose">
      <ref name="menclose.attributes"/>
      <ref name="ImpliedMrow"/>
    </element>
  </define>
  <define name="menclose.attributes">
    <ref name="CommonAtt"/>
    <ref name="CommonPresAtt"/>
    <optional>
      <attribute name="notation"/>
    </optional>
  </define>
  <define name="msub">
    <element name="msub">
      <ref name="msub.attributes"/>
      <ref name="MathExpression"/>
      <ref name="MathExpression"/>
    </element>
  </define>
  <define name="msub.attributes">
    <ref name="CommonAtt"/>
    <ref name="CommonPresAtt"/>
    <optional>
      <attribute name="subscriptshift">
        <ref name="length"/>
      </attribute>
    </optional>
  </define>
  <define name="msup">
    <element name="msup">
      <ref name="msup.attributes"/>
      <ref name="MathExpression"/>
      <ref name="MathExpression"/>
    </element>
  </define>
  <define name="msup.attributes">
    <ref name="CommonAtt"/>
    <ref name="CommonPresAtt"/>
    <optional>
      <attribute name="superscriptshift">
        <ref name="length"/>
      </attribute>
    </optional>
  </define>
  <define name="msubsup">
    <element name="msubsup">
      <ref name="msubsup.attributes"/>
      <ref name="MathExpression"/>
      <ref name="MathExpression"/>
      <ref name="MathExpression"/>
    </element>
  </define>
  <define name="msubsup.attributes">
    <ref name="CommonAtt"/>
    <ref name="CommonPresAtt"/>
    <optional>
      <attribute name="subscriptshift">
        <ref name="length"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="superscriptshift">
        <ref name="length"/>
      </attribute>
    </optional>
  </define>
  <define name="munder">
    <element name="munder">
      <ref name="munder.attributes"/>
      <ref name="MathExpression"/>
      <ref name="MathExpression"/>
    </element>
  </define>
  <define name="munder.attributes">
    <ref name="CommonAtt"/>
    <ref name="CommonPresAtt"/>
    <optional>
      <attribute name="accentunder">
        <choice>
          <value>true</value>
          <value>false</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="align">
        <choice>
          <value>left</value>
          <value>right</value>
          <value>center</value>
        </choice>
      </attribute>
    </optional>
  </define>
  <define name="mover">
    <element name="mover">
      <ref name="mover.attributes"/>
      <ref name="MathExpression"/>
      <ref name="MathExpression"/>
    </element>
  </define>
  <define name="mover.attributes">
    <ref name="CommonAtt"/>
    <ref name="CommonPresAtt"/>
    <optional>
      <attribute name="accent">
        <choice>
          <value>true</value>
          <value>false</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="align">
        <choice>
          <value>left</value>
          <value>right</value>
          <value>center</value>
        </choice>
      </attribute>
    </optional>
  </define>
  <define name="munderover">
    <element name="munderover">
      <ref name="munderover.attributes"/>
      <ref name="MathExpression"/>
      <ref name="MathExpression"/>
      <ref name="MathExpression"/>
    </element>
  </define>
  <define name="munderover.attributes">
    <ref name="CommonAtt"/>
    <ref name="CommonPresAtt"/>
    <optional>
      <attribute name="accent">
        <choice>
          <value>true</value>
          <value>false</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="accentunder">
        <choice>
          <value>true</value>
          <value>false</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="align">
        <choice>
          <value>left</value>
          <value>right</value>
          <value>center</value>
        </choice>
      </attribute>
    </optional>
  </define>
  <define name="mmultiscripts">
    <element name="mmultiscripts">
      <ref name="mmultiscripts.attributes"/>
      <ref name="MathExpression"/>
      <zeroOrMore>
        <ref name="MultiScriptExpression"/>
      </zeroOrMore>
      <optional>
        <ref name="mprescripts"/>
        <zeroOrMore>
          <ref name="MultiScriptExpression"/>
        </zeroOrMore>
      </optional>
    </element>
  </define>
  <define name="mmultiscripts.attributes">
    <ref name="msubsup.attributes"/>
  </define>
  <define name="mtable">
    <element name="mtable">
      <ref name="mtable.attributes"/>
      <zeroOrMore>
        <ref name="TableRowExpression"/>
      </zeroOrMore>
    </element>
  </define>
  <define name="mtable.attributes">
    <ref name="CommonAtt"/>
    <ref name="CommonPresAtt"/>
    <optional>
      <attribute name="align">
        <data type="string">
          <param name="pattern">\\s*(top|bottom|center|baseline|axis)(\\s+-?[0-9]+)?\\s*</param>
        </data>
      </attribute>
    </optional>
    <optional>
      <attribute name="rowalign">
        <list>
          <oneOrMore>
            <ref name="verticalalign"/>
          </oneOrMore>
        </list>
      </attribute>
    </optional>
    <optional>
      <attribute name="columnalign">
        <list>
          <oneOrMore>
            <ref name="columnalignstyle"/>
          </oneOrMore>
        </list>
      </attribute>
    </optional>
    <optional>
      <attribute name="groupalign">
        <ref name="group-alignment-list-list"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="alignmentscope">
        <list>
          <oneOrMore>
            <choice>
              <value>true</value>
              <value>false</value>
            </choice>
          </oneOrMore>
        </list>
      </attribute>
    </optional>
    <optional>
      <attribute name="columnwidth">
        <list>
          <oneOrMore>
            <choice>
              <value>auto</value>
              <ref name="length"/>
              <value>fit</value>
            </choice>
          </oneOrMore>
        </list>
      </attribute>
    </optional>
    <optional>
      <attribute name="width">
        <choice>
          <value>auto</value>
          <ref name="length"/>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="rowspacing">
        <list>
          <oneOrMore>
            <ref name="length"/>
          </oneOrMore>
        </list>
      </attribute>
    </optional>
    <optional>
      <attribute name="columnspacing">
        <list>
          <oneOrMore>
            <ref name="length"/>
          </oneOrMore>
        </list>
      </attribute>
    </optional>
    <optional>
      <attribute name="rowlines">
        <list>
          <oneOrMore>
            <ref name="linestyle"/>
          </oneOrMore>
        </list>
      </attribute>
    </optional>
    <optional>
      <attribute name="columnlines">
        <list>
          <oneOrMore>
            <ref name="linestyle"/>
          </oneOrMore>
        </list>
      </attribute>
    </optional>
    <optional>
      <attribute name="frame">
        <ref name="linestyle"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="framespacing">
        <list>
          <ref name="length"/>
          <ref name="length"/>
        </list>
      </attribute>
    </optional>
    <optional>
      <attribute name="equalrows">
        <choice>
          <value>true</value>
          <value>false</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="equalcolumns">
        <choice>
          <value>true</value>
          <value>false</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="displaystyle">
        <choice>
          <value>true</value>
          <value>false</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="side">
        <choice>
          <value>left</value>
          <value>right</value>
          <value>leftoverlap</value>
          <value>rightoverlap</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="minlabelspacing">
        <ref name="length"/>
      </attribute>
    </optional>
  </define>
  <define name="mlabeledtr">
    <element name="mlabeledtr">
      <ref name="mlabeledtr.attributes"/>
      <oneOrMore>
        <ref name="TableCellExpression"/>
      </oneOrMore>
    </element>
  </define>
  <define name="mlabeledtr.attributes">
    <ref name="mtr.attributes"/>
  </define>
  <define name="mtr">
    <element name="mtr">
      <ref name="mtr.attributes"/>
      <zeroOrMore>
        <ref name="TableCellExpression"/>
      </zeroOrMore>
    </element>
  </define>
  <define name="mtr.attributes">
    <ref name="CommonAtt"/>
    <ref name="CommonPresAtt"/>
    <optional>
      <attribute name="rowalign">
        <choice>
          <value>top</value>
          <value>bottom</value>
          <value>center</value>
          <value>baseline</value>
          <value>axis</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="columnalign">
        <list>
          <oneOrMore>
            <ref name="columnalignstyle"/>
          </oneOrMore>
        </list>
      </attribute>
    </optional>
    <optional>
      <attribute name="groupalign">
        <ref name="group-alignment-list-list"/>
      </attribute>
    </optional>
  </define>
  <define name="mtd">
    <element name="mtd">
      <ref name="mtd.attributes"/>
      <ref name="ImpliedMrow"/>
    </element>
  </define>
  <define name="mtd.attributes">
    <ref name="CommonAtt"/>
    <ref name="CommonPresAtt"/>
    <optional>
      <attribute name="rowspan">
        <ref name="positive-integer"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="columnspan">
        <ref name="positive-integer"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="rowalign">
        <choice>
          <value>top</value>
          <value>bottom</value>
          <value>center</value>
          <value>baseline</value>
          <value>axis</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="columnalign">
        <ref name="columnalignstyle"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="groupalign">
        <ref name="group-alignment-list"/>
      </attribute>
    </optional>
  </define>
  <define name="mstack">
    <element name="mstack">
      <ref name="mstack.attributes"/>
      <zeroOrMore>
        <ref name="MstackExpression"/>
      </zeroOrMore>
    </element>
  </define>
  <define name="mstack.attributes">
    <ref name="CommonAtt"/>
    <ref name="CommonPresAtt"/>
    <optional>
      <attribute name="align">
        <data type="string">
          <param name="pattern">\\s*(top|bottom|center|baseline|axis)(\\s+-?[0-9]+)?\\s*</param>
        </data>
      </attribute>
    </optional>
    <optional>
      <attribute name="stackalign">
        <choice>
          <value>left</value>
          <value>center</value>
          <value>right</value>
          <value>decimalpoint</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="charalign">
        <choice>
          <value>left</value>
          <value>center</value>
          <value>right</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="charspacing">
        <choice>
          <ref name="length"/>
          <value>loose</value>
          <value>medium</value>
          <value>tight</value>
        </choice>
      </attribute>
    </optional>
  </define>
  <define name="mlongdiv">
    <element name="mlongdiv">
      <ref name="mlongdiv.attributes"/>
      <ref name="MstackExpression"/>
      <ref name="MstackExpression"/>
      <oneOrMore>
        <ref name="MstackExpression"/>
      </oneOrMore>
    </element>
  </define>
  <define name="mlongdiv.attributes">
    <ref name="msgroup.attributes"/>
    <optional>
      <attribute name="longdivstyle">
        <choice>
          <value>lefttop</value>
          <value>stackedrightright</value>
          <value>mediumstackedrightright</value>
          <value>shortstackedrightright</value>
          <value>righttop</value>
          <value>left/\\right</value>
          <value>left)(right</value>
          <value>:right=right</value>
          <value>stackedleftleft</value>
          <value>stackedleftlinetop</value>
        </choice>
      </attribute>
    </optional>
  </define>
  <define name="msgroup">
    <element name="msgroup">
      <ref name="msgroup.attributes"/>
      <zeroOrMore>
        <ref name="MstackExpression"/>
      </zeroOrMore>
    </element>
  </define>
  <define name="msgroup.attributes">
    <ref name="CommonAtt"/>
    <ref name="CommonPresAtt"/>
    <optional>
      <attribute name="position">
        <ref name="integer"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="shift">
        <ref name="integer"/>
      </attribute>
    </optional>
  </define>
  <define name="msrow">
    <element name="msrow">
      <ref name="msrow.attributes"/>
      <zeroOrMore>
        <ref name="MsrowExpression"/>
      </zeroOrMore>
    </element>
  </define>
  <define name="msrow.attributes">
    <ref name="CommonAtt"/>
    <ref name="CommonPresAtt"/>
    <optional>
      <attribute name="position">
        <ref name="integer"/>
      </attribute>
    </optional>
  </define>
  <define name="mscarries">
    <element name="mscarries">
      <ref name="mscarries.attributes"/>
      <zeroOrMore>
        <choice>
          <ref name="MsrowExpression"/>
          <ref name="mscarry"/>
        </choice>
      </zeroOrMore>
    </element>
  </define>
  <define name="mscarries.attributes">
    <ref name="CommonAtt"/>
    <ref name="CommonPresAtt"/>
    <optional>
      <attribute name="position">
        <ref name="integer"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="location">
        <choice>
          <value>w</value>
          <value>nw</value>
          <value>n</value>
          <value>ne</value>
          <value>e</value>
          <value>se</value>
          <value>s</value>
          <value>sw</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="crossout">
        <list>
          <zeroOrMore>
            <choice>
              <value>none</value>
              <value>updiagonalstrike</value>
              <value>downdiagonalstrike</value>
              <value>verticalstrike</value>
              <value>horizontalstrike</value>
            </choice>
          </zeroOrMore>
        </list>
      </attribute>
    </optional>
    <optional>
      <attribute name="scriptsizemultiplier">
        <ref name="number"/>
      </attribute>
    </optional>
  </define>
  <define name="mscarry">
    <element name="mscarry">
      <ref name="mscarry.attributes"/>
      <zeroOrMore>
        <ref name="MsrowExpression"/>
      </zeroOrMore>
    </element>
  </define>
  <define name="mscarry.attributes">
    <ref name="CommonAtt"/>
    <ref name="CommonPresAtt"/>
    <optional>
      <attribute name="location">
        <choice>
          <value>w</value>
          <value>nw</value>
          <value>n</value>
          <value>ne</value>
          <value>e</value>
          <value>se</value>
          <value>s</value>
          <value>sw</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="crossout">
        <list>
          <zeroOrMore>
            <choice>
              <value>none</value>
              <value>updiagonalstrike</value>
              <value>downdiagonalstrike</value>
              <value>verticalstrike</value>
              <value>horizontalstrike</value>
            </choice>
          </zeroOrMore>
        </list>
      </attribute>
    </optional>
  </define>
  <define name="maction">
    <element name="maction">
      <ref name="maction.attributes"/>
      <oneOrMore>
        <ref name="MathExpression"/>
      </oneOrMore>
    </element>
  </define>
  <define name="maction.attributes">
    <ref name="CommonAtt"/>
    <ref name="CommonPresAtt"/>
    <attribute name="actiontype"/>
    <optional>
      <attribute name="selection">
        <ref name="positive-integer"/>
      </attribute>
    </optional>
  </define>

    <a:documentation>Presentation MathML</a:documentation>
  
  <!-- Inlined from mathml3-common.rng with overrides -->
<define name="math">
    <element name="math">
      <ref name="math.attributes"/>
      <zeroOrMore>
        <ref name="MathExpression"/>
      </zeroOrMore>
    </element>
  </define>
  <define name="MathExpression">
    <ref name="semantics"/>
  </define>
  <define name="NonMathMLAtt">
    <attribute>
      <anyName>
        <except>
          <nsName ns=""/>
          <nsName/>
        </except>
      </anyName>
      <data type="string"/>
    </attribute>
  </define>
  <define name="CommonDeprecatedAtt">
    <optional>
      <attribute name="other"/>
    </optional>
  </define>
  <!-- changed datatype of id attr from ID to non-empty string -->
  <define name="CommonAtt">
    <optional>
      <attribute name="id">
        <data type="string">
          <param name="pattern">[^\\s]+</param>
        </data>
      </attribute>
    </optional>
    <optional>
      <attribute name="xref"/>
    </optional>
    <optional>
      <attribute name="class">
        <data type="NMTOKENS"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="style">
        <data type="string"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="href">
        <data type="anyURI"/>
      </attribute>
    </optional>
    <ref name="CommonDeprecatedAtt"/>
    <zeroOrMore>
      <ref name="NonMathMLAtt"/>
    </zeroOrMore>
  </define>
  <define name="math.attributes">
    <ref name="CommonAtt"/>
    <optional>
      <attribute name="display">
        <choice>
          <value>block</value>
          <value>inline</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="maxwidth">
        <ref name="length"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="overflow">
        <choice>
          <value>linebreak</value>
          <value>scroll</value>
          <value>elide</value>
          <value>truncate</value>
          <value>scale</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="altimg">
        <data type="anyURI"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="altimg-width">
        <ref name="length"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="altimg-height">
        <ref name="length"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="altimg-valign">
        <choice>
          <ref name="length"/>
          <value>top</value>
          <value>middle</value>
          <value>bottom</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="alttext"/>
    </optional>
    <optional>
      <attribute name="cdgroup">
        <data type="anyURI"/>
      </attribute>
    </optional>
    <ref name="math.deprecatedattributes"/>
  </define>
  <!--
    the mathml3-presentation schema  adds additional attributes
    to the math element, all those valid on mstyle
  -->
  <define name="math.deprecatedattributes">
    <optional>
      <attribute name="mode">
        <data type="string"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="macros">
        <data type="string"/>
      </attribute>
    </optional>
  </define>
  <define name="name">
    <attribute name="name">
      <data type="NCName"/>
    </attribute>
  </define>
  <define name="cd">
    <attribute name="cd">
      <data type="NCName"/>
    </attribute>
  </define>
  <define name="src">
    <optional>
      <attribute name="src">
        <data type="anyURI"/>
      </attribute>
    </optional>
  </define>
  <define name="annotation">
    <element name="annotation">
      <ref name="annotation.attributes"/>
      <text/>
    </element>
  </define>
  <!-- changed content model of annotation-xml - - mike -->
  <define name="annotation-xml">
    <choice>
      <ref name="annotation-xml.xhtml"/>
      <ref name="annotation-xml.svg"/>
      <ref name="annotation-xml.mathml"/>
    </choice>
  </define>
  <define name="annotation-xml.model">
    <zeroOrMore>
      <choice>
        <ref name="MathExpression"/>
        <ref name="anyElement"/>
      </choice>
    </zeroOrMore>
  </define>
  <define name="anyElement">
    <element>
      <anyName>
        <except>
          <nsName/>
        </except>
      </anyName>
      <zeroOrMore>
        <choice>
          <attribute>
            <anyName/>
          </attribute>
          <text/>
          <ref name="anyElement"/>
        </choice>
      </zeroOrMore>
    </element>
  </define>
  <define name="annotation-xml.xhtml">
    <element name="annotation-xml">
      <ref name="annotation-xml.model.xhtml"/>
      <ref name="annotation-xml.attributes"/>
      <optional>
        <ref name="att-encoding.xhtml"/>
      </optional>
    </element>
  </define>
  <define name="annotation-xml.model.xhtml">
    <notAllowed/>
  </define>
  <define name="att-encoding.xhtml">
    <attribute name="encoding">
      <choice>
        <value type="string" datatypeLibrary="">application/xhtml+xml</value>
        <value type="string" datatypeLibrary="">text/html</value>
      </choice>
    </attribute>
  </define>
  <define name="annotation-xml.svg">
    <element name="annotation-xml">
      <ref name="annotation-xml.model.svg"/>
      <ref name="annotation-xml.attributes"/>
      <optional>
        <ref name="att-encoding.svg"/>
      </optional>
    </element>
  </define>
  <define name="annotation-xml.model.svg">
    <notAllowed/>
  </define>
  <define name="att-encoding.svg">
    <attribute name="encoding">
      <value type="string" datatypeLibrary="">SVG1.1</value>
    </attribute>
  </define>
  <define name="annotation-xml.mathml">
    <element name="annotation-xml">
      <ref name="annotation-xml.model.mathml"/>
      <ref name="annotation-xml.attributes"/>
      <optional>
        <ref name="att-encoding.mathml"/>
      </optional>
    </element>
  </define>
  <define name="annotation-xml.model.mathml">
    <ref name="math"/>
  </define>
  <define name="att-encoding.mathml">
    <attribute name="encoding">
      <choice>
        <value type="string" datatypeLibrary="">MathML</value>
        <value type="string" datatypeLibrary="">MathML-Content</value>
        <value type="string" datatypeLibrary="">MathML-Presentation</value>
      </choice>
    </attribute>
  </define>
  <define name="annotation.attributes">
    <ref name="CommonAtt"/>
    <optional>
      <ref name="cd"/>
    </optional>
    <optional>
      <ref name="name"/>
    </optional>
    <ref name="DefEncAtt"/>
    <optional>
      <ref name="src"/>
    </optional>
  </define>
  <define name="annotation-xml.attributes">
    <ref name="CommonAtt"/>
    <optional>
      <ref name="cd"/>
    </optional>
    <optional>
      <ref name="name"/>
    </optional>
    <optional>
      <ref name="src"/>
    </optional>
  </define>
  <define name="DefEncAtt">
    <optional>
      <attribute name="encoding">
        <data type="string"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="definitionURL">
        <data type="anyURI"/>
      </attribute>
    </optional>
  </define>
  <define name="semantics">
    <element name="semantics">
      <ref name="semantics.attributes"/>
      <ref name="MathExpression"/>
      <zeroOrMore>
        <choice>
          <ref name="annotation"/>
          <ref name="annotation-xml"/>
        </choice>
      </zeroOrMore>
    </element>
  </define>
  <define name="semantics.attributes">
    <ref name="CommonAtt"/>
    <ref name="DefEncAtt"/>
    <optional>
      <ref name="cd"/>
    </optional>
    <optional>
      <ref name="name"/>
    </optional>
  </define>
  <define name="length">
    <data type="string">
      <param name="pattern">\\s*((-?[0-9]*([0-9]\\.?|\\.[0-9])[0-9]*(e[mx]|in|cm|mm|p[xtc]|%)?)|(negative)?((very){0,2}thi(n|ck)|medium)mathspace)\\s*</param>
    </data>
  </define>

    <a:documentation>math and semantics common to both Content and Presentation</a:documentation>

    <!-- extend to circumvent datatype collisions -->
    <define name="NonMathMLAtt">
      <attribute>
        <anyName>
          <except>
            <nsName ns=""/>
            <nsName/>
            <nsName ns="http://www.w3.org/XML/1998/namespace"/>
            <nsName ns="http://www.w3.org/1999/xhtml"/>
            <nsName ns="http://www.w3.org/2001/xml-events"/>
            <nsName ns="http://www.w3.org/2001/10/synthesis"/>
            <nsName ns="http://www.idpf.org/2007/ops"/>
          </except>
        </anyName>
        <ref name="datatype.string"/>
      </attribute>
    </define>
    <!-- as ops allows presentation mathml only at top level, kill the contribution to MathExpression -->
    <define name="MathExpression">
      <choice>
        <ref name="semantics"/>
        <ref name="PresentationExpression"/>
      </choice>
    </define>
    <!-- override annotation-xml with EPUB restrictions -->
    <define name="annotation-xml">
      <ref name="epub.annotation-xml"/>
    </define>
  
  <!--
    Common attribute extensions
    - epub:type
  -->
  <define name="CommonAtt" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <!-- - SSML attributes -->
  <define name="CommonAtt" combine="interleave">
    <optional>
      <ref name="epub.ssml.ph.attr"/>
    </optional>
  </define>
  <!-- - xml:base -->
  <define name="CommonAtt" combine="interleave">
    <optional>
      <ref name="common.attrs.xmlbase"/>
    </optional>
  </define>
  <!-- - ARIA -->
  <define name="CommonAtt" combine="interleave">
    <optional>
      <ref name="aria.global"/>
    </optional>
  </define>
  <define name="annotation-xml.model.xhtml" combine="choice">
    <ref name="common.inner.flow"/>
  </define>
  <define name="annotation-xml.model.svg" combine="choice">
    <ref name="svg"/>
  </define>
  <!--
    The following comes from validator.nus xhtml5-svg-mathml.rnc driver:
    in our integration, <mtext> is the only MathML "token element" that can
    contain HTML element content; the <mi>, <mn>, <mo> and <ms> elements
    cannot; see http://www.w3.org/Bugs/Public/show_bug.cgi?id=9859#c8 for a
    rationale
  -->
  <define name="mtext.content" combine="choice">
    <ref name="common.elem.phrasing"/>
  </define>
  <!-- EPUB very specific annotation-xml restrictions: -->
  <define name="epub.annotation-xml">
    <choice>
      <ref name="annotation-xml.xhtml"/>
      <ref name="annotation-xml.svg"/>
      <ref name="epub.annotation-xml.mathml.content"/>
      <ref name="epub.annotation-xml.mathml.presentation"/>
    </choice>
  </define>
  <define name="epub.annotation-xml.attributes">
    <ref name="CommonAtt"/>
    <optional>
      <ref name="cd"/>
    </optional>
    <optional>
      <ref name="src"/>
    </optional>
  </define>
  <define name="epub.annotation-xml.mathml.content">
    <element name="annotation-xml">
      <ref name="epub.annotation-xml.model.mathml.content"/>
      <ref name="epub.annotation-xml.attributes"/>
      <ref name="epub.att-encoding.mathml.content"/>
      <ref name="epub.att-name.mathml.content"/>
    </element>
  </define>
  <define name="epub.annotation-xml.model.mathml.content">
    <zeroOrMore>
      <ref name="ContExp"/>
    </zeroOrMore>
  </define>
  <define name="epub.att-encoding.mathml.content">
    <attribute name="encoding">
      <choice>
        <value type="string" datatypeLibrary="">MathML-Content</value>
        <value type="string" datatypeLibrary="">application/mathml-content+xml</value>
      </choice>
    </attribute>
  </define>
  <define name="epub.att-name.mathml.content">
    <attribute name="name">
      <value type="string" datatypeLibrary="">contentequiv</value>
    </attribute>
  </define>
  <define name="epub.annotation-xml.mathml.presentation">
    <element name="annotation-xml">
      <ref name="epub.annotation-xml.model.mathml.presentation"/>
      <ref name="epub.annotation-xml.attributes"/>
      <ref name="epub.att-encoding.mathml.presentation"/>
      <optional>
        <ref name="epub.att-name.mathml.presentation"/>
      </optional>
    </element>
  </define>
  <define name="epub.annotation-xml.model.mathml.presentation">
    <zeroOrMore>
      <ref name="MathExpression"/>
    </zeroOrMore>
  </define>
  <define name="epub.att-encoding.mathml.presentation">
    <attribute name="encoding">
      <choice>
        <value type="string" datatypeLibrary="">MathML</value>
        <value>MathML-Presentation</value>
        <value type="string" datatypeLibrary="">application/mathml-presentation+xml</value>
      </choice>
    </attribute>
  </define>
  <define name="epub.att-name.mathml.presentation">
    <attribute name="name">
      <data type="NCName"/>
    </attribute>
  </define>
  <!-- Inlined from epub-shared-inc.rng -->
<!-- ##################################################################### -->
  <!-- EPUB elements -->
  <!-- Inlined from epub-trigger.rng with overrides -->
<!-- ##################################################################### -->
  <define name="epub.trigger">
    <a:documentation> RELAX NG Schema for EPUB: EPUB trigger element                    #</a:documentation>
    <!-- ##################################################################### -->
    <a:documentation>\`epub:trigger\` element</a:documentation>
    <element name="epub:trigger">
      <interleave>
        <ref name="epub.trigger.attrs"/>
        <ref name="epub.trigger.inner"/>
      </interleave>
    </element>
  </define>
  <define name="epub.trigger.attrs">
    <interleave>
      <optional>
        <ref name="common.attrs.id"/>
      </optional>
      <ref name="epub.trigger.attrs.action"/>
      <ref name="epub.trigger.attrs.ref"/>
      <ref name="xml.events.attrs.event"/>
      <ref name="xml.events.attrs.observer"/>
      <optional>
        <ref name="xml.events.attrs.defaultAction"/>
      </optional>
      <optional>
        <ref name="xml.events.attrs.phase"/>
      </optional>
      <optional>
        <ref name="xml.events.attrs.propagate"/>
      </optional>
    </interleave>
  </define>
  <define name="epub.trigger.attrs.action">
    <attribute name="action">
      <choice>
        <value>show</value>
        <value>hide</value>
        <value>play</value>
        <value>pause</value>
        <value>resume</value>
        <value>mute</value>
        <value>unmute</value>
      </choice>
    </attribute>
  </define>
  <define name="epub.trigger.attrs.ref">
    <attribute name="ref">
      <ref name="datatype.IDREF"/>
    </attribute>
  </define>
  <define name="xml.events.attrs.event">
    <attribute name="ev:event">
      <ref name="datatype.NMTOKEN"/>
    </attribute>
  </define>
  <define name="xml.events.attrs.observer">
    <attribute name="ev:observer">
      <ref name="datatype.IDREF"/>
    </attribute>
  </define>
  <define name="xml.events.attrs.defaultAction">
    <attribute name="ev:defaultAction">
      <choice>
        <value>cancel</value>
        <value>perform</value>
      </choice>
    </attribute>
  </define>
  <define name="xml.events.attrs.phase">
    <attribute name="ev:phase">
      <choice>
        <value>capture</value>
        <value>default</value>
      </choice>
    </attribute>
  </define>
  <define name="xml.events.attrs.propagate">
    <attribute name="ev:propagate">
      <choice>
        <value>stop</value>
        <value>continue</value>
      </choice>
    </attribute>
  </define>
  <define name="epub.trigger.inner">
    <empty/>
  </define>

    <a:documentation> RELAX NG Schema for EPUB: shared definitions for inclusion        #</a:documentation>
    <!-- ##################################################################### -->
    <a:documentation>Includes</a:documentation>
  
  <!-- Inlined from epub-switch.rng -->
<!-- ##################################################################### -->
  <define name="epub.switch.flow">
    <a:documentation> RELAX NG Schema for EPUB: EPUB switch element                     #</a:documentation>
    <!-- ##################################################################### -->
    <a:documentation>\`epub:switch\` element</a:documentation>
    <element name="epub:switch">
      <ref name="epub.switch.attrs"/>
      <oneOrMore>
        <ref name="epub.switch.case.flow"/>
      </oneOrMore>
      <ref name="epub.switch.default.flow"/>
    </element>
  </define>
  <define name="epub.switch.phrasing">
    <element name="epub:switch">
      <ref name="epub.switch.attrs"/>
      <oneOrMore>
        <ref name="epub.switch.case.phrasing"/>
      </oneOrMore>
      <ref name="epub.switch.default.phrasing"/>
    </element>
  </define>
  <define name="epub.switch.case.flow">
    <element name="epub:case">
      <interleave>
        <ref name="epub.case.attrs"/>
        <ref name="epub.case.flow.inner"/>
      </interleave>
    </element>
  </define>
  <define name="epub.switch.case.phrasing">
    <element name="epub:case">
      <interleave>
        <ref name="epub.case.attrs"/>
        <ref name="epub.case.phrasing.inner"/>
      </interleave>
    </element>
  </define>
  <define name="epub.switch.default.flow">
    <element name="epub:default">
      <interleave>
        <ref name="epub.default.attrs"/>
        <ref name="epub.default.flow.inner"/>
      </interleave>
    </element>
  </define>
  <define name="epub.switch.default.phrasing">
    <element name="epub:default">
      <interleave>
        <ref name="epub.default.attrs"/>
        <ref name="epub.default.phrasing.inner"/>
      </interleave>
    </element>
  </define>
  <define name="epub.case.flow.inner">
    <ref name="epub.switch.any"/>
  </define>
  <define name="epub.case.phrasing.inner">
    <ref name="epub.switch.any"/>
  </define>
  <define name="epub.switch.any">
    <zeroOrMore>
      <choice>
        <ref name="common.elem.flow"/>
        <ref name="epub.switch.anyElement"/>
        <text/>
      </choice>
    </zeroOrMore>
  </define>
  <define name="epub.default.flow.inner">
    <ref name="common.inner.flow"/>
  </define>
  <define name="epub.default.phrasing.inner">
    <ref name="common.inner.phrasing"/>
  </define>
  <define name="epub.switch.attrs" combine="interleave">
    <optional>
      <ref name="common.attrs.id"/>
    </optional>
  </define>
  <define name="epub.case.attrs" combine="interleave">
    <interleave>
      <optional>
        <ref name="common.attrs.id"/>
      </optional>
      <ref name="epub.case.attrs.rn"/>
    </interleave>
  </define>
  <define name="epub.default.attrs" combine="interleave">
    <optional>
      <ref name="common.attrs.id"/>
    </optional>
  </define>
  <define name="epub.case.attrs.rn">
    <attribute name="required-namespace">
      <ref name="datatype.URI"/>
    </attribute>
  </define>
  <define name="epub.switch.anyElement">
    <element>
      <anyName>
        <except>
          <nsName ns="http://www.w3.org/1998/Math/MathML"/>
          <nsName/>
        </except>
      </anyName>
      <zeroOrMore>
        <choice>
          <attribute>
            <anyName/>
          </attribute>
          <text/>
          <ref name="epub.switch.anyElement"/>
          <ref name="common.elem.flow"/>
        </choice>
      </zeroOrMore>
    </element>
  </define>
  <!-- EPUB attributes -->
  <!-- Inlined from epub-prefix-attr.rng -->
<!-- ##################################################################### -->
  <define name="epub.prefix.attr">
    <a:documentation> RELAX NG Schema for EPUB: EPUB prefix attributes                  #</a:documentation>
    <!-- ##################################################################### -->
    <a:documentation>prefix attributes</a:documentation>
    <attribute name="prefix">
      <ref name="datatype.prefixdecl"/>
    </attribute>
  </define>
  <define name="epub.prefix.attr.ns">
    <attribute name="epub:prefix">
      <ref name="datatype.prefixdecl"/>
    </attribute>
  </define>
  <!-- Inlined from epub-ssml-attrs.rng -->
<!-- ##################################################################### -->
  <define name="epub.ssml.ph.attr">
    <a:documentation> RELAX NG Schema for EPUB: EPUB SSML attributes                    #</a:documentation>
    <!-- ##################################################################### -->
    <a:documentation>SSML attributes</a:documentation>
    <attribute name="ssml:ph">
      <ref name="datatype.ssml.PhoneticExpression"/>
    </attribute>
  </define>
  <define name="epub.ssml.alphabet.attr">
    <attribute name="ssml:alphabet">
      <ref name="datatype.ssml.PhoneticAlphabet"/>
    </attribute>
  </define>
  <!-- Inlined from epub-type-attr.rng -->
<!-- ##################################################################### -->
  <define name="epub.type.attr">
    <a:documentation> RELAX NG Schema for EPUB: \`epub:type\` attribute                   #</a:documentation>
    <!-- ##################################################################### -->
    <a:documentation>\`epub:type\` attribute</a:documentation>
    <attribute name="epub:type">
      <ref name="datatype.properties"/>
    </attribute>
  </define>
  <!-- EPUB integration logic -->
  <!-- Inlined from epub-xhtml-integration.rng -->
<!-- ##################################################################### -->
  <!--
    Allow \`epub:type\` on all elements except:
     - the \`head\` element
     - metadata content (base, link, meta, noscript, script, style, template, title)
    
    Note:
    We can't use a common category since none is defined
    for non-metadata content. So we add it for each element.
  -->
  <!-- from applications.rnc -->
  <define name="progress.attrs" combine="interleave">
    <a:documentation> RELAX NG Schema for EPUB: integration of EPUB specifics in HTML   #</a:documentation>
    <!-- #####################################################################     -->
    <a:documentation>combine \`epub:type\`</a:documentation>
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="dialog.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="menu.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="mli.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="canvas.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="details.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="summary.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <!-- from block.rnc -->
  <define name="p.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="hr.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="pre.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="ul.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="li.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="ol.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="oli.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="dl.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="dt.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="dd.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="div.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="legend.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <!-- from data.rnc -->
  <define name="time.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="time.datetime.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="data.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="meter.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <!-- from embed.rnc -->
  <define name="img.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="picture.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="embed.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="object.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="param.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="iframe.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="map.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="area.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <!-- from media.rnc -->
  <define name="source.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="video.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="audio.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="track.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="figure.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="figcaption.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <!-- from meta.rnc -->
  <define name="html.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="body.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <!-- from phrase.rnc -->
  <define name="a.href.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="a.nohref.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="em.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="strong.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="small.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="mark.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="abbr.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="dfn.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="i.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="b.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="s.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="u.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="code.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="var.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="samp.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="kbd.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="sup.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="sub.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="q.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="cite.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="span.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="bdo.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="bdi.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="br.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="wbr.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <!-- from revision.rnc -->
  <define name="ins.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="del.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <!-- from ruby.rnc -->
  <define name="ruby.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="rt.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="rp.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <!-- from sectional.rnc -->
  <define name="h1.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="h2.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="h3.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="h4.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="h5.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="h6.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="hgroup.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="address.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="blockquote.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <!-- from structural.rnc -->
  <define name="section.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="nav.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="article.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="aside.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="header.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="footer.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="main.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <!-- from tables.rnc -->
  <define name="table.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="caption.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="colgroup.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="thead.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="tfoot.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="tbody.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="tr.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="td.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="th.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <!-- from web-forms.rnc and web-forms2.rnc -->
  <define name="common-form.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="option.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="optgroup.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="form.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="label.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="output.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="datalist.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="html.attrs" combine="interleave">
    <a:documentation>combine prefix attributes</a:documentation>
    <optional>
      <ref name="epub.prefix.attr.ns"/>
    </optional>
  </define>
  <define name="common.attrs.other" combine="interleave">
    <a:documentation>combine SSML attributes</a:documentation>
    <interleave>
      <optional>
        <ref name="epub.ssml.ph.attr"/>
      </optional>
      <optional>
        <ref name="epub.ssml.alphabet.attr"/>
      </optional>
    </interleave>
  </define>
  <define name="common.elem.flow" combine="choice">
    <a:documentation>combine \`epub:switch\` element</a:documentation>
    <ref name="epub.switch.flow"/>
  </define>
  <define name="common.elem.phrasing" combine="choice">
    <ref name="epub.switch.phrasing"/>
  </define>
  <define name="common.elem.metadata" combine="choice">
    <a:documentation>combine \`epub:trigger\` element</a:documentation>
    <ref name="epub.trigger"/>
  </define>
  <define name="common.elem.flow" combine="choice">
    <ref name="epub.trigger"/>
  </define>
  <!--
    Note: the default HMTL schema does not define such a category, so we
    do our best to include what makes sense here
  -->
  <define name="common.inner.anyhtml">
    <a:documentation>Content model: HTML fragments</a:documentation>
    <choice>
      <ref name="html.elem"/>
      <ref name="body.elem"/>
      <ref name="common.inner.flow"/>
    </choice>
  </define>
  <define name="common.elem.phrasing" combine="choice">
    <ref name="svg"/>
  </define>
  <define name="common.elem.phrasing" combine="choice">
    <ref name="math"/>
  </define>

    <a:documentation> RELAX NG Schema for EPUB: EPUB XHTML (+ SVG, + MathML)            #</a:documentation>

    <a:documentation> RELAX NG Schema for EPUB: EPUB Navigation Documents               #</a:documentation>
    <define name="nav.attrs">
      <ref name="nav.attrs.noepubtype"/>
    </define>
  
  <define name="nav.attrs.noepubtype">
    <a:documentation>"reset" the definition of nav.attrs to what it was
before epub:type was set to augment common.attrs.basic</a:documentation>
    <interleave>
      <optional>
        <ref name="common.attrs.id"/>
      </optional>
      <optional>
        <ref name="common.attrs.class"/>
      </optional>
      <optional>
        <ref name="common.attrs.title"/>
      </optional>
      <optional>
        <ref name="common.attrs.base"/>
      </optional>
      <optional>
        <ref name="common.attrs.space"/>
      </optional>
      <ref name="common.attrs.i18n"/>
      <ref name="common.attrs.present"/>
      <ref name="common.attrs.other"/>
      <optional>
        <choice>
          <ref name="common.attrs.aria.implicit.navigation"/>
          <ref name="common.attrs.aria.landmark.navigation"/>
          <ref name="common.attrs.aria.role.doc-index"/>
          <ref name="common.attrs.aria.role.doc-pagelist"/>
          <ref name="common.attrs.aria.role.doc-toc"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="html5.headings.class">
    <choice>
      <ref name="hgroup.elem"/>
      <ref name="h1.elem"/>
      <ref name="h2.elem"/>
      <ref name="h3.elem"/>
      <ref name="h4.elem"/>
      <ref name="h5.elem"/>
      <ref name="h6.elem"/>
    </choice>
  </define>
  <define name="epub.nav">
    <element name="nav">
      <interleave>
        <ref name="epub.type.attr"/>
        <ref name="nav.attrs.noepubtype"/>
        <ref name="epub.nav.content"/>
      </interleave>
    </element>
  </define>
  <define name="epub.nav.content">
    <optional>
      <ref name="html5.headings.class"/>
    </optional>
    <ref name="epub.nav.ol"/>
  </define>
  <define name="epub.nav.ol">
    <element name="ol">
      <interleave>
        <ref name="ol.attrs"/>
        <ref name="epub.nav.ol.content"/>
      </interleave>
    </element>
  </define>
  <define name="epub.nav.ol.content">
    <oneOrMore>
      <ref name="epub.nav.oli"/>
    </oneOrMore>
  </define>
  <define name="epub.nav.oli">
    <element name="li">
      <interleave>
        <ref name="oli.attrs"/>
        <ref name="epub.nav.oli.content"/>
      </interleave>
    </element>
  </define>
  <define name="epub.nav.oli.content">
    <choice>
      <ref name="a.elem.phrasing"/>
      <group>
        <choice>
          <ref name="a.elem.phrasing"/>
          <ref name="span.elem"/>
        </choice>
        <ref name="epub.nav.ol"/>
      </group>
    </choice>
  </define>
  <define name="common.elem.flow" combine="choice">
    <ref name="epub.nav"/>
  </define>
</grammar>
`;

export const EPUB_NAV_30_SCH = `<?xml version="1.0" encoding="UTF-8"?>
<schema xmlns="http://purl.oclc.org/dsdl/schematron"  queryBinding="xslt2">

    <ns uri="http://www.w3.org/1999/xhtml" prefix="html"/>
    <ns uri="http://www.idpf.org/2007/ops" prefix="epub"/>

    <pattern id="nav-ocurrence">
        <rule context="html:body">
            <assert test="count(.//html:nav[tokenize(@epub:type,'\\s+')='toc']) = 1">Exactly one "toc" nav element
                must be present</assert>
            <assert test="count(.//html:nav[tokenize(@epub:type,'\\s+')='page-list']) &lt; 2">Multiple occurrences of
                the "page-list" nav element</assert>
            <assert test="count(.//html:nav[tokenize(@epub:type,'\\s+')='landmarks']) &lt; 2">Multiple occurrences of
                the "landmarks" nav element</assert>
        </rule>
    </pattern>

    <pattern id="span-no-sublist">
        <rule context="html:body//html:nav[@epub:type]//html:span">
            <assert test="count(.//ol) = 0"> The span element must only be used as heading for flat
                sublists (not hierarchical navigation structures) </assert>
        </rule>
    </pattern>

    <pattern id="landmarks">
        <rule context="html:nav[tokenize(@epub:type,'\\s+')='landmarks']//html:ol//html:a">
            <let name="current" value="."/>
            <let name="current_type_normalized" value="tokenize(lower-case(@epub:type),'\\s+')"/>
            <let name="current_href_normalized" value="normalize-space(lower-case(@href))"/>

            <!-- Check for missing epub:type attributes -->
            <assert test="@epub:type">Missing epub:type attribute on anchor inside "landmarks" nav element</assert>

            <!--
                landmarks anchors should be unique (#493)
                and only reported within the same ancestor landmarks element
            -->
            <assert test="
                empty(ancestor::html:nav//html:ol//html:a[
                    not(. is $current) and
                    tokenize(lower-case(@epub:type),'\\s+') = $current_type_normalized and
                    normalize-space(lower-case(@href)) = $current_href_normalized
                    ])">Another landmark was found with the same epub:type and same reference to "<value-of select="$current_href_normalized"/>"</assert>
        </rule>
    </pattern>

    <pattern id="link-labels">
        <rule context="html:nav[@epub:type]//html:ol//html:a">
            <assert
                test="string-length(normalize-space(string-join(.|./html:img/@alt|.//@aria-label))) > 0"
                >Anchors within nav elements must contain text</assert>
        </rule>
    </pattern>

    <pattern id="span-labels">
        <rule context="html:nav[@epub:type]//html:ol//html:span">
            <assert
                test="string-length(normalize-space(string-join(.|./html:img/@alt|.//@aria-label))) > 0"
                >Spans within nav elements must contain text</assert>
        </rule>
    </pattern>

    <pattern id="req-heading">
        <rule
          context="html:nav[@epub:type][not(tokenize(@epub:type,'\\s+') = ('toc','page-list','landmarks'))]">
            <assert test="child::*[1][self::html:h1|self::html:h2|self::html:h3|self::html:h4|self::html:h5|self::html:h6]">nav
                elements other than "toc", "page-list" and "landmarks" must have a heading as their
                first child</assert>
        </rule>
    </pattern>

    <pattern id="heading-content">
        <rule context="html:h1|html:h2|html:h3|html:h4|html:h5|html:h6">
            <assert
                test="string-length(normalize-space(string-join(.|./html:img/@alt|.//@aria-label))) > 0"
                >Heading elements must contain text</assert>
        </rule>
    </pattern>
    
    <pattern id="flat-nav">
        <rule context="html:nav[tokenize(@epub:type,'\\s+') = ('page-list','landmarks')]">
            <assert test="count(.//html:ol) = 1">WARNING: A "<value-of select="@epub:type"/>" nav element should contain
                only a single ol descendant (no nested sublists)</assert>
        </rule>
    </pattern>

</schema>
`;

export const EPUB_PREFIX_ATTR_RNG = `<?xml version="1.0" encoding="UTF-8"?>
<grammar xmlns:a="http://relaxng.org/ns/compatibility/annotations/1.0" xmlns:epub="http://www.idpf.org/2007/ops" xmlns="http://relaxng.org/ns/structure/1.0">
  <!-- ##################################################################### -->
  <define name="epub.prefix.attr">
    <a:documentation> RELAX NG Schema for EPUB: EPUB prefix attributes                  #</a:documentation>
    <!-- ##################################################################### -->
    <a:documentation>prefix attributes</a:documentation>
    <attribute name="prefix">
      <ref name="datatype.prefixdecl"/>
    </attribute>
  </define>
  <define name="epub.prefix.attr.ns">
    <attribute name="epub:prefix">
      <ref name="datatype.prefixdecl"/>
    </attribute>
  </define>
</grammar>
`;

export const EPUB_SHARED_INC_RNG = `<?xml version="1.0" encoding="UTF-8"?>
<grammar xmlns:a="http://relaxng.org/ns/compatibility/annotations/1.0" xmlns="http://relaxng.org/ns/structure/1.0">
  <!-- ##################################################################### -->
  <!-- EPUB elements -->
  <include href="epub-trigger.rng">
    <a:documentation> RELAX NG Schema for EPUB: shared definitions for inclusion        #</a:documentation>
    <!-- ##################################################################### -->
    <a:documentation>Includes</a:documentation>
  </include>
  <include href="epub-switch.rng"/>
  <!-- EPUB attributes -->
  <include href="epub-prefix-attr.rng"/>
  <include href="epub-ssml-attrs.rng"/>
  <include href="epub-type-attr.rng"/>
  <!-- EPUB integration logic -->
  <include href="epub-xhtml-integration.rng"/>
  <!--
    Note: the default HMTL schema does not define such a category, so we
    do our best to include what makes sense here
  -->
  <define name="common.inner.anyhtml">
    <a:documentation>Content model: HTML fragments</a:documentation>
    <choice>
      <ref name="html.elem"/>
      <ref name="body.elem"/>
      <ref name="common.inner.flow"/>
    </choice>
  </define>
</grammar>
`;

export const EPUB_SSML_ATTRS_RNG = `<?xml version="1.0" encoding="UTF-8"?>
<grammar xmlns:a="http://relaxng.org/ns/compatibility/annotations/1.0" xmlns:epub="http://www.idpf.org/2007/ops" xmlns:ssml="http://www.w3.org/2001/10/synthesis" xmlns="http://relaxng.org/ns/structure/1.0">
  <!-- ##################################################################### -->
  <define name="epub.ssml.ph.attr">
    <a:documentation> RELAX NG Schema for EPUB: EPUB SSML attributes                    #</a:documentation>
    <!-- ##################################################################### -->
    <a:documentation>SSML attributes</a:documentation>
    <attribute name="ssml:ph">
      <ref name="datatype.ssml.PhoneticExpression"/>
    </attribute>
  </define>
  <define name="epub.ssml.alphabet.attr">
    <attribute name="ssml:alphabet">
      <ref name="datatype.ssml.PhoneticAlphabet"/>
    </attribute>
  </define>
</grammar>
`;

export const EPUB_SVG_30_RNC = `
# #####################################################################
##  RELAX NG Schema for EPUB: EPUB SVG (+ XHTML, + MathML)            #
# #####################################################################

include "./mod/epub-xhtml-svg-mathml.rnc" {
  start = svg
  
  # Override the \`id\` attribute to require a valid XML ID
  svg.attr.id = attribute id { xsd:ID }?
}

# Allow \`body\` element as a child of \`foreignObject\` 
svg.foreignObject.inner |= body.elem 

# Allow \`epub:prefix\` attribute on \`svg\` root
svg.attrs &= epub.prefix.attr.ns?
`;

export const EPUB_SVG_30_RNG = `<?xml version="1.0" encoding="UTF-8"?>
<grammar xmlns:a="http://relaxng.org/ns/compatibility/annotations/1.0" xmlns="http://relaxng.org/ns/structure/1.0" datatypeLibrary="http://www.w3.org/2001/XMLSchema-datatypes">
  <!-- ##################################################################### -->
  <!-- ##################################################################### -->
  <!-- Inlined from epub-xhtml-svg-mathml.rng with overrides -->
<!-- ##################################################################### -->
  <!-- ##################################################################### -->
  <!-- Inlined from epub-xhtml-inc.rng with overrides -->
<!-- ##################################################################### -->
  <!-- Inlined from common.rng with overrides -->
<!-- ##################################################################### -->
  <define name="XMLonly">
    <a:documentation> RELAX NG Schema for HTML 5: Common Definitions                    #</a:documentation>
    <!-- ##################################################################### -->
    <!-- ##################################################################### -->
    <a:documentation> Language Parameters - redefine in inclusion block as necessary    #</a:documentation>
    <!-- ##################################################################### -->
    <a:documentation>HTML vs. XHTML restrictions</a:documentation>
    <empty/>
  </define>
  <define name="HTMLonly">
    <notAllowed/>
  </define>
  <!--
                            (This only affects mixed-version modules; wholly HTML5
                             modules should simply be left out of the inclusion list.)
  -->
  <define name="v5only">
    <a:documentation>HTML 4 Compatibility - set to notAllowed to disallow markup introduced in HTML 5</a:documentation>
    <empty/>
  </define>
  <!--  (xml:base on elements other than <html>) -->
  <define name="nonRoundtrippable">
    <a:documentation>HTML Compatibility Switches - set to notAllowed to disallow</a:documentation>
    <a:documentation>XML features that can't be roundtripped HTML &lt;-&gt; XHTML</a:documentation>
    <empty/>
  </define>
  <define name="nonHTMLizable">
    <a:documentation>XML features that can't be serialized as HTML</a:documentation>
    <empty/>
  </define>
  <!-- ##################################################################### -->
  <define name="common.attr.anything">
    <a:documentation> Wildcards                                                         #</a:documentation>
    <!-- ##################################################################### -->
    <a:documentation>Any attribute from any namespace</a:documentation>
    <zeroOrMore>
      <attribute>
        <anyName/>
      </attribute>
    </zeroOrMore>
  </define>
  <define name="common.elem.anything">
    <a:documentation>Any element from any namespace</a:documentation>
    <element>
      <anyName/>
      <interleave>
        <ref name="common.inner.anything"/>
        <ref name="common.attr.anything"/>
      </interleave>
    </element>
  </define>
  <define name="common.inner.anything">
    <a:documentation>Any content from any namespace</a:documentation>
    <interleave>
      <text/>
      <zeroOrMore>
        <ref name="common.elem.anything"/>
      </zeroOrMore>
    </interleave>
  </define>
  <!-- ##################################################################### -->
  <define name="common.elem.metadata">
    <a:documentation> Common Element Classes                                            #</a:documentation>
    <!-- ##################################################################### -->
    <a:documentation>Metadata Elements</a:documentation>
    <notAllowed/>
  </define>
  <define name="common.elem.phrasing">
    <a:documentation>Phrase Elements</a:documentation>
    <notAllowed/>
  </define>
  <define name="common.elem.flow">
    <a:documentation>Prose Elements</a:documentation>
    <ref name="common.elem.phrasing"/>
  </define>
  <!-- ##################################################################### -->
  <define name="common.inner.metadata">
    <a:documentation> Common Content Models                                             #</a:documentation>
    <!-- ##################################################################### -->
    <a:documentation>Metadata Content</a:documentation>
    <zeroOrMore>
      <ref name="common.elem.metadata"/>
    </zeroOrMore>
  </define>
  <define name="common.inner.phrasing">
    <a:documentation>Phrase Content</a:documentation>
    <interleave>
      <text/>
      <zeroOrMore>
        <ref name="common.elem.phrasing"/>
      </zeroOrMore>
    </interleave>
  </define>
  <define name="common.inner.transparent.flow">
    <a:documentation>Prose Content</a:documentation>
    <interleave>
      <text/>
      <zeroOrMore>
        <ref name="common.elem.flow"/>
      </zeroOrMore>
    </interleave>
  </define>
  <define name="common.inner.flow">
    <interleave>
      <text/>
      <zeroOrMore>
        <ref name="common.elem.flow"/>
      </zeroOrMore>
    </interleave>
  </define>
  <!-- ##################################################################### -->
  <!-- ##################################################################### -->
  <!-- When updating, check <bdo> definition too -->
  <define name="common.attrs">
    <a:documentation> Common Attributes                                                 #</a:documentation>
    <interleave>
      <ref name="common.attrs.basic"/>
      <ref name="common.attrs.i18n"/>
      <ref name="common.attrs.present"/>
      <ref name="common.attrs.other"/>
    </interleave>
  </define>
  <define name="common.attrs.basic">
    <interleave>
      <optional>
        <ref name="common.attrs.id"/>
      </optional>
      <optional>
        <ref name="common.attrs.class"/>
      </optional>
      <optional>
        <ref name="common.attrs.title"/>
      </optional>
      <optional>
        <ref name="common.attrs.base"/>
      </optional>
      <optional>
        <ref name="common.attrs.space"/>
      </optional>
    </interleave>
  </define>
  <define name="common.attrs.id">
    <attribute name="id">
      <ref name="common.data.id"/>
    </attribute>
  </define>
  <define name="common.attrs.class">
    <attribute name="class">
      <ref name="common.data.tokens"/>
    </attribute>
  </define>
  <define name="common.attrs.title">
    <attribute name="title"/>
  </define>
  <define name="common.attrs.base">
    <interleave>
      <ref name="common.attrs.xmlbase"/>
      <ref name="nonRoundtrippable"/>
    </interleave>
  </define>
  <define name="common.attrs.xmlbase">
    <interleave>
      <attribute name="xml:base">
        <ref name="common.data.uri"/>
      </attribute>
      <ref name="XMLonly"/>
    </interleave>
  </define>
  <define name="common.attrs.space">
    <ref name="common.attrs.xmlspace"/>
  </define>
  <define name="common.attrs.xmlspace">
    <interleave>
      <attribute name="xml:space">
        <choice>
          <value type="string" datatypeLibrary="">preserve</value>
          <value type="string" datatypeLibrary="">default</value>
        </choice>
      </attribute>
      <ref name="XMLonly"/>
    </interleave>
  </define>
  <define name="common.attrs.i18n">
    <interleave>
      <optional>
        <ref name="common.attrs.dir"/>
      </optional>
      <optional>
        <ref name="common.attrs.language"/>
      </optional>
      <optional>
        <ref name="common.attrs.translate"/>
      </optional>
    </interleave>
  </define>
  <define name="common.attrs.dir">
    <attribute name="dir">
      <choice>
        <value>ltr</value>
        <value>rtl</value>
        <value>auto</value>
      </choice>
    </attribute>
  </define>
  <!--
    This lang definition is a hack for environments where
    the HTML5 parser maps lang to xml:lang.
    Sameness check left to Schematron
  -->
  <define name="common.attrs.language">
    <interleave>
      <optional>
        <ref name="common.attrs.xmllang"/>
      </optional>
      <optional>
        <ref name="common.attrs.lang"/>
      </optional>
    </interleave>
  </define>
  <define name="common.attrs.lang">
    <interleave>
      <attribute name="lang">
        <ref name="common.data.langcode"/>
      </attribute>
      <ref name="XMLonly"/>
    </interleave>
  </define>
  <define name="common.attrs.xmllang">
    <attribute name="xml:lang">
      <ref name="common.data.langcode"/>
    </attribute>
  </define>
  <!--
    	common.attrs.language =
    		(	common.attrs.lang
    		|	common.attrs.xmllang
    		)
    	common.attrs.lang =
    		attribute lang {
    			common.data.langcode
    		} & HTMLonly
    	common.attrs.xmllang =
    		attribute xml:lang {
    			common.data.langcode
    		} & XMLonly
  -->
  <define name="common.attrs.translate">
    <attribute name="translate">
      <choice>
        <value/>
        <value>yes</value>
        <value>no</value>
      </choice>
    </attribute>
  </define>
  <define name="common.attrs.present">
    <interleave>
      <optional>
        <ref name="common.attrs.style"/>
      </optional>
      <optional>
        <ref name="common.attrs.tabindex"/>
      </optional>
      <optional>
        <ref name="common.attrs.accesskey"/>
      </optional>
    </interleave>
  </define>
  <define name="common.attrs.style">
    <attribute name="style">
      <data type="string" datatypeLibrary=""/>
    </attribute>
  </define>
  <define name="common.attrs.tabindex">
    <attribute name="tabindex">
      <ref name="common.data.integer"/>
    </attribute>
  </define>
  <!-- REVISIT move style to a module and bundle tabindex with ARIA -->
  <define name="common.attrs.accesskey">
    <attribute name="accesskey">
      <ref name="common.data.keylabellist"/>
    </attribute>
  </define>
  <define name="common.attrs.other">
    <interleave>
      <optional>
        <ref name="common.attrs.autofocus"/>
      </optional>
      <optional>
        <ref name="common.attrs.nonce"/>
      </optional>
      <optional>
        <ref name="common.attrs.inert"/>
      </optional>
    </interleave>
  </define>
  <define name="common.attrs.autofocus">
    <attribute name="autofocus">
      <choice>
        <value>autofocus</value>
        <value/>
      </choice>
    </attribute>
  </define>
  <define name="common.attrs.blocking">
    <attribute name="blocking">
      <list>
        <value>render</value>
      </list>
    </attribute>
  </define>
  <define name="common.attrs.fetchpriority">
    <attribute name="fetchpriority">
      <choice>
        <value>high</value>
        <value>low</value>
        <value>auto</value>
      </choice>
    </attribute>
  </define>
  <define name="common.attrs.nonce">
    <attribute name="nonce">
      <data type="string" datatypeLibrary=""/>
    </attribute>
  </define>
  <define name="common.attrs.inert">
    <attribute name="inert">
      <choice>
        <value type="string" datatypeLibrary="">inert</value>
        <value type="string" datatypeLibrary=""/>
      </choice>
    </attribute>
  </define>
  <!-- ##################################################################### -->
  <define name="common.data.tokens">
    <a:documentation> Common Datatypes                                                  #</a:documentation>
    <!-- ##################################################################### -->
    <a:documentation>Names and Tokens</a:documentation>
    <list>
      <zeroOrMore>
        <data type="token" datatypeLibrary=""/>
      </zeroOrMore>
    </list>
  </define>
  <define name="common.data.browsing-context">
    <ref name="datatype.html5.browsing.context.name"/>
  </define>
  <define name="common.data.browsing-context-or-keyword">
    <ref name="datatype.html5.browsing.context.name.or.keyword"/>
  </define>
  <!--
    		xsd:string {
    			pattern = "()|([^_].*)|(_[bB][lL][aA][nN][kK])|(_[sS][eE][lL][fF])|(_[pP][aA][rR][eE][nN][tT])|(_[tT][oO][pP])"
    		}
  -->
  <define name="common.data.id">
    <a:documentation>IDs and IDREFs</a:documentation>
    <ref name="datatype.html5.token"/>
  </define>
  <!--
    		xsd:string {
    			pattern = "\\S+"
    		}
  -->
  <define name="common.data.idref">
    <ref name="datatype.html5.token"/>
  </define>
  <define name="common.data.idrefs">
    <ref name="datatype.html5.space.separated.tokens"/>
  </define>
  <define name="common.data.name">
    <ref name="datatype.html5.token"/>
  </define>
  <define name="common.data.hash-name">
    <ref name="datatype.html5.name.reference"/>
  </define>
  <!--
    		xsd:string {
    			pattern = "#.+"
    		}
  -->
  <define name="common.data.integer">
    <a:documentation>Numerical</a:documentation>
    <ref name="datatype.integer"/>
  </define>
  <!--
    		xsd:string {
    			pattern = "-?[0-9]+"
    		}
  -->
  <define name="common.data.integer.positive">
    <ref name="datatype.positive.integer"/>
  </define>
  <!--
    		xsd:string {
    			pattern = "0*[1-9][0-9]*"
    		}
  -->
  <define name="common.data.integer.non-negative">
    <ref name="datatype.non-negative.integer"/>
  </define>
  <!--
    		xsd:string {
    			pattern = "[0-9]+"
    		}
  -->
  <!--
    	common.data.percent =
    		xsd:string {
    			pattern = "(100)|([1-9]?[0-9](\\.[0-9]+)?)%"
    		}
  -->
  <define name="common.data.float">
    <ref name="datatype.float"/>
  </define>
  <!--
    		xsd:string {
    			pattern = "-?[0-9]+(\\.[0-9]+)?([eE]-?[0-9]+)?"
    		}
  -->
  <define name="common.data.float.positive">
    <ref name="datatype.float.positive"/>
  </define>
  <!--
    		xsd:string {
    			pattern = "(0*[1-9][0-9]*(\\.[0-9]+)?)|([0-9]+(\\.0*[1-9][0-9]*)?)([eE]-?[0-9]+)?"
    		}
  -->
  <define name="common.data.float.non-negative">
    <ref name="datatype.float.non-negative"/>
  </define>
  <!--
    		xsd:string {
    			pattern = "[0-9]+(\\.[0-9]+)?([eE]-?[0-9]+)?"
    		}
  -->
  <define name="common.data.datetime">
    <a:documentation>Temporal</a:documentation>
    <ref name="datatype.html5.datetime"/>
  </define>
  <define name="common.data.date">
    <ref name="datatype.html5.date"/>
  </define>
  <define name="common.data.time-datetime">
    <ref name="datatype.html5.date.or.time"/>
  </define>
  <define name="common.data.uri">
    <a:documentation>IRIs</a:documentation>
    <!--
      allow either a non-empty IRI ref or zero or more HTML
      space characters (which are: space, tab, LF, FF, CR)
    -->
    <choice>
      <ref name="datatype.IRI"/>
      <data type="string">
        <param name="pattern">[ 
-&#xD;]*</param>
      </data>
    </choice>
    <!--
      NOTE The range above incorrectly allows U+000B
      in addition to the HTML space characters; but
      that's not a problem in practice because HTML
      and XML parsers will both catch any U+000B
      and report an error for it before that pattern
      ever gets evaluated.
    -->
  </define>
  <define name="common.data.uri.non-empty">
    <ref name="datatype.string.nonempty"/>
  </define>
  <define name="common.data.uris">
    <list>
      <zeroOrMore>
        <ref name="datatype.IRI"/>
      </zeroOrMore>
    </list>
  </define>
  <define name="common.data.uris.http.or.https">
    <list>
      <zeroOrMore>
        <ref name="datatype.URI.absolute"/>
      </zeroOrMore>
    </list>
  </define>
  <define name="common.data.uri.absolute">
    <ref name="datatype.URI.absolute"/>
  </define>
  <define name="common.data.sizes">
    <a:documentation>&lt;link type='icon'&gt; sizes</a:documentation>
    <!-- 		list { w:sizes } -->
    <list>
      <oneOrMore>
        <data type="string">
          <param name="pattern">[1-9][0-9]*x[1-9][0-9]*</param>
        </data>
      </oneOrMore>
    </list>
  </define>
  <define name="common.data.color">
    <a:documentation>color for &lt;link rel="mask-icon"&gt; and &lt;meta name="theme-color"&gt;</a:documentation>
    <ref name="datatype.html5.color"/>
  </define>
  <define name="common.data.mimetype">
    <a:documentation>MIME types</a:documentation>
    <ref name="datatype.mimetype"/>
  </define>
  <define name="common.data.scripttype">
    <a:documentation>Script type</a:documentation>
    <ref name="datatype.string"/>
  </define>
  <define name="common.data.charset">
    <a:documentation>Encodings</a:documentation>
    <ref name="datatype.character.encoding"/>
  </define>
  <define name="common.data.meta-charset">
    <ref name="datatype.string"/>
  </define>
  <define name="common.data.refresh">
    <a:documentation>Refresh</a:documentation>
    <ref name="datatype.string"/>
  </define>
  <define name="common.data.default-style">
    <a:documentation>Default style</a:documentation>
    <data type="string" datatypeLibrary=""/>
  </define>
  <!-- 		w:default-style -->
  <define name="common.data.x-ua-compatible">
    <a:documentation>X-UA-Compatible</a:documentation>
    <data type="string" datatypeLibrary=""/>
  </define>
  <define name="common.data.mediaquery">
    <a:documentation>Media Queries</a:documentation>
    <ref name="datatype.html5.media.query"/>
  </define>
  <define name="common.data.langcode">
    <a:documentation>Language Codes</a:documentation>
    <choice>
      <value/>
      <ref name="datatype.languagecode"/>
    </choice>
  </define>
  <define name="common.data.keylabellist">
    <a:documentation>List of Key Labels</a:documentation>
    <ref name="datatype.html5.accesskey"/>
  </define>
  <define name="common.data.source.size.list">
    <a:documentation>List of Source Sizes</a:documentation>
    <ref name="datatype.string"/>
  </define>
  <define name="common.data.integrity">
    <a:documentation>Subresource Integrity</a:documentation>
    <ref name="datatype.string"/>
  </define>
  <define name="common.data.content-security-policy">
    <a:documentation>Content Security Policy</a:documentation>
    <ref name="datatype.string"/>
  </define>
  <define name="common.data.feature-policy">
    <a:documentation>Feature Policy</a:documentation>
    <data type="string" datatypeLibrary=""/>
  </define>
  <define name="common.data.sandbox-allow-list">
    <a:documentation>List of sandbox keywords</a:documentation>
    <choice>
      <value/>
      <list>
        <optional>
          <value>allow-top-navigation</value>
        </optional>
        <optional>
          <value>allow-same-origin</value>
        </optional>
        <optional>
          <value>allow-forms</value>
        </optional>
        <optional>
          <value>allow-scripts</value>
        </optional>
      </list>
      <list>
        <optional>
          <value>allow-top-navigation</value>
        </optional>
        <optional>
          <value>allow-same-origin</value>
        </optional>
        <optional>
          <value>allow-scripts</value>
        </optional>
        <optional>
          <value>allow-forms</value>
        </optional>
      </list>
    </choice>
  </define>
  <define name="common.data.custom.element.name">
    <a:documentation>Custom element name</a:documentation>
    <ref name="datatype.string"/>
  </define>
  <define name="common.data.microdata-properties">
    <a:documentation>Microdata Properties</a:documentation>
    <list>
      <oneOrMore>
        <ref name="datatype.string"/>
      </oneOrMore>
    </list>
  </define>
  <define name="common.data.zero">
    <a:documentation>Zero</a:documentation>
    <value>0</value>
  </define>
  <define name="common.data.functionbody">
    <a:documentation>ECMAScript FunctionBody</a:documentation>
    <data type="string" datatypeLibrary=""/>
  </define>
  <define name="common.data.autocomplete.any">
    <a:documentation>autocomplete</a:documentation>
    <ref name="datatype.string"/>
  </define>
  <!-- ##################################################################### -->
  <!-- ##################################################################### -->
  <define name="common-form.attrs.form">
    <a:documentation> WF2 Module Hook                                                   #</a:documentation>
    <notAllowed/>
  </define>
  <!-- ##################################################################### -->
  <!-- ##################################################################### -->
  <define name="common.elem.script-supporting">
    <a:documentation> Script-supporting elements</a:documentation>
    <notAllowed/>
  </define>
  <!-- ##################################################################### -->
  <!-- ##################################################################### -->
  <define name="common.attrs.aria">
    <a:documentation> ARIA Module Hooks                                                 #</a:documentation>
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.alert">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.alertdialog">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.application">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.article">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.banner">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.button">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.cell" combine="choice">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.checkbox">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.combobox">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.complementary">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.dialog">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.directory">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.document">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.feed" combine="choice">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.figure" combine="choice">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.group">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.heading">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.img">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.link">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.list">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.listitem">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.log">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.listbox">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.main">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.marquee">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.menu">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.menubar">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.menuitem">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.menuitemcheckbox">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.menuitemradio">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.option">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.presentation">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.progressbar">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.radio">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.radiogroup" combine="choice">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.region">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.rowgroup" combine="choice">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.search">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.searchbox" combine="choice">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.separator">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.slider">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.spinbutton">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.status">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.switch">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.tab">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.table" combine="choice">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.tablist">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.tabpanel">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.textbox">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.toolbar">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.tree">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.treeitem">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.implicit.article">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.implicit.banner">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.implicit.button">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.implicit.cell" combine="choice">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.implicit.checkbox">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.implicit.column-or-row-header">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.implicit.combobox">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.implicit.complementary">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.implicit.contentinfo">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.implicit.dialog">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.implicit.figure" combine="choice">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.implicit.document">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.implicit.form">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.implicit.group">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.implicit.heading">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.implicit.img">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.implicit.landmark">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.implicit.link">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.implicit.list">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.implicit.listbox">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.implicit.listitem">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.implicit.main">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.implicit.math" combine="choice">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.implicit.navigation">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.implicit.option">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.implicit.progressbar">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.implicit.radio">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.implicit.region">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.implicit.row" combine="choice">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.implicit.rowgroup" combine="choice">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.implicit.search">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.implicit.searchbox" combine="choice">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.implicit.section">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.implicit.select">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.implicit.separator">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.implicit.slider">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.implicit.spinbutton">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.implicit.status">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.implicit.structure">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.implicit.table" combine="choice">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.implicit.textbox">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.implicit.toolbar">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.prop.readonly">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.landmark.banner">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.landmark.complementary">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.landmark.contentinfo">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.landmark.form">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.landmark.main">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.landmark.navigation">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.landmark.search">
    <notAllowed/>
  </define>
  <!-- per ARIA spec: article, document, and note are not actually landmarks -->
  <define name="common.attrs.aria.landmark.article">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.landmark.document">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.landmark.note">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.doc-abstract">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.doc-acknowledgments">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.doc-afterword">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.doc-appendix">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.doc-backlink">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.doc-biblioentry">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.doc-bibliography">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.doc-biblioref">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.doc-chapter">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.doc-colophon">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.doc-conclusion">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.doc-cover">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.doc-credit">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.doc-credits">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.doc-dedication">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.doc-endnote">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.doc-endnotes">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.doc-epigraph">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.doc-epilogue">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.doc-errata">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.doc-example">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.doc-footnote">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.doc-foreword">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.doc-glossary">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.doc-glossref">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.doc-index">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.doc-introduction">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.doc-noteref">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.doc-notice">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.doc-pagebreak">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.doc-pagelist">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.doc-part">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.doc-preface">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.doc-prologue">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.doc-pullquote">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.doc-qna">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.doc-subtitle">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.doc-tip">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.doc-toc">
    <notAllowed/>
  </define>

    <a:documentation> RELAX NG Schema for XHTML 5                                       #</a:documentation>
    <!--
      #####################################################################
      
       XHTML validation based on the schemas from the Nu Html Checker,
       with the following changes:
         - datatypes replaced to use the patterns in datatype.rnc
         - title element not required (a missing title element will be
           reported as a WARNING in Schematron
         - allows meta http-equiv in encoding declaration state
         - allows the border attribute on tables
         - allow EPUB extensions (epub:type, epub:switch, epub:trigger,
           ssml:* attributes, etc)
      
      #####################################################################
    -->
    <a:documentation>Schema Framework &amp; Parameters</a:documentation>
    <!-- XHTML flavor # -->
    <define name="XMLonly">
      <empty/>
    </define>
    <define name="HTMLonly">
      <notAllowed/>
    </define>
    <!-- HTML 4 compat # -->
    <define name="v5only">
      <empty/>
    </define>
  
  <!-- ##################################################################### -->
  <start>
    <a:documentation>Language Definitions</a:documentation>
    <ref name="html.elem"/>
  </start>
  <!--
    Note: these are too simplistic. The Nu HTML Checker performs
    a significant part of the checking in its Java-based datatype
    library.
  -->
  <!-- Inlined from datatypes.rng with overrides -->
<div xml:id="datatypes-common">
    <define name="datatype.ID">
      <ref name="datatype.ID.lexical"/>
    </define>
    <define name="datatype.IDREF">
      <ref name="datatype.IDREF.lexical"/>
    </define>
    <define name="datatype.IDREFS">
      <ref name="datatype.IDREFS.lexical"/>
    </define>
    <define name="datatype.languagecode">
      <ref name="datatype.BCP47"/>
    </define>
    <!-- http://www.w3.org/TR/xmlschema11-2/#language -->
    <define name="datatype.BCP47">
      <data type="language"/>
    </define>
    <!-- http://www.w3.org/TR/xmlschema11-2/#ID  -->
    <define name="datatype.ID.xsd">
      <data type="ID"/>
    </define>
    <!-- http://www.w3.org/TR/xmlschema11-2/#NCName -->
    <define name="datatype.IDREF.lexical">
      <data type="NCName"/>
    </define>
    <define name="datatype.IDREFS.lexical">
      <list>
        <oneOrMore>
          <ref name="datatype.IDREF.lexical"/>
        </oneOrMore>
      </list>
    </define>
    <define name="datatype.ID.lexical">
      <data type="NCName"/>
    </define>
    <!-- http://www.w3.org/TR/xmlschema11-2/#IDREF -->
    <define name="datatype.IDREF.xsd">
      <data type="IDREF"/>
    </define>
    <!-- http://www.w3.org/TR/xmlschema11-2/#IDREFS -->
    <define name="datatype.IDREFS.xsd">
      <data type="IDREFS"/>
    </define>
    <!-- http://www.w3.org/TR/xmlschema11-2/#NMTOKEN -->
    <define name="datatype.NMTOKEN">
      <data type="NMTOKEN"/>
    </define>
    <!-- http://www.w3.org/TR/xmlschema11-2/#NMTOKENS  -->
    <define name="datatype.NMTOKENS">
      <data type="NMTOKENS"/>
    </define>
    <!-- http://www.w3.org/TR/xmlschema11-2/#string -->
    <define name="datatype.string">
      <data type="string"/>
    </define>
    <define name="datatype.string.nonempty">
      <data type="token">
        <param name="minLength">1</param>
      </data>
    </define>
    <define name="datatype.text">
      <text/>
    </define>
    <!-- http://www.w3.org/TR/xmlschema11-2/#nt-dateRep -->
    <define name="datatype.date">
      <data type="date"/>
    </define>
    <!-- http://www.w3.org/TR/xmlschema11-2/#nt-dateTimeRep -->
    <define name="datatype.dateTime">
      <data type="dateTime"/>
    </define>
    <!-- http://www.w3.org/TR/xmlschema11-2/#nt-timeRep -->
    <define name="datatype.date.or.dateTime">
      <choice>
        <ref name="datatype.date"/>
        <ref name="datatype.dateTime"/>
      </choice>
    </define>
    <define name="datatype.LEIRI">
      <data type="anyURI"/>
    </define>
    <!--
      http://www.w3.org/TR/xmlschema11-2/#anyURI
      http://tools.ietf.org/html/rfc3986#appendix-B
      http://www.w3.org/TR/html5/urls.html#valid-url-potentially-surrounded-by-spaces  
    -->
    <define name="datatype.URI">
      <data type="anyURI"/>
    </define>
    <define name="datatype.URI.absolute">
      <data type="anyURI"/>
    </define>
    <define name="datatype.IRI">
      <ref name="datatype.URI"/>
    </define>
    <define name="datatype.character.encoding">
      <ref name="datatype.iana.charset"/>
    </define>
    <define name="datatype.iana.charset">
      <data type="NMTOKEN"/>
    </define>
    <!--
      http://www.w3.org/TR/html5/infrastructure.html#valid-mime-type
      http://tools.ietf.org/html/rfc4288#section-4.2
      http://tools.ietf.org/html/rfc2616#section-3.7
    -->
    <define name="datatype.mimetype">
      <data type="string">
        <param name="pattern">[a-zA-Z0-9!#$&amp;+\\-\\^_]+/[a-zA-Z0-9!#$&amp;+\\-\\^_]+.*</param>
      </data>
    </define>
    <define name="datatype.mimetype.nocharset">
      <ref name="datatype.mimetype"/>
    </define>
    <!--
      http://www.w3.org/TR/xmlschema11-2/#nonNegativeInteger
      http://www.w3.org/TR/html5/common-microsyntaxes.html#non-negative-integers
    -->
    <define name="datatype.non-negative.integer">
      <data type="nonNegativeInteger"/>
    </define>
    <!-- http://www.w3.org/TR/xmlschema11-2/#positiveInteger -->
    <define name="datatype.positive.integer">
      <data type="positiveInteger"/>
    </define>
    <!-- http://www.w3.org/TR/xmlschema11-2/#integer  -->
    <define name="datatype.integer">
      <data type="integer"/>
    </define>
    <!--
      http://www.w3.org/TR/xmlschema11-2/#nt-floatRep
      http://www.w3.org/TR/html5/common-microsyntaxes.html#real-numbers
    -->
    <define name="datatype.float">
      <data type="float"/>
    </define>
    <define name="datatype.float.positive">
      <data type="float">
        <param name="minExclusive">0</param>
      </data>
    </define>
    <define name="datatype.float.non-negative">
      <data type="float">
        <param name="minInclusive">0</param>
      </data>
    </define>
    <define name="datatype.token">
      <data type="string">
        <param name="pattern">[^\\s]+</param>
      </data>
    </define>
    <define name="datatype.space.separated.tokens">
      <list>
        <zeroOrMore>
          <ref name="datatype.token"/>
        </zeroOrMore>
      </list>
    </define>
  </div>
  <div xml:id="datatypes-smil">
    <!--
      http://www.w3.org/TR/smil/smil-timing.html#TimingSyntax-Full-clock-value
      http://www.w3.org/TR/smil/smil-timing.html#TimingSyntax-Partial-clock-value
      http://www.w3.org/TR/smil/smil-timing.html#TimingSyntax-Timecount-value
    -->
    <define name="datatype.smil.npt">
      <choice>
        <data type="string">
          <param name="pattern">(\\s*)[0-9]+:[0-5][0-9]:[0-5][0-9](\\.[0-9]+)?(\\s*)</param>
        </data>
        <data type="string">
          <param name="pattern">(\\s*)[0-5][0-9]:[0-5][0-9](\\.[0-9]+)?(\\s*)</param>
        </data>
        <data type="string">
          <param name="pattern">(\\s*)[0-9]+(\\.[0-9]+)?(h|min|s|ms)?(\\s*)</param>
        </data>
      </choice>
    </define>
  </div>
  <div xml:id="datatypes-vocab">
    <define name="datatype.property">
      <data type="NMTOKEN"/>
    </define>
    <define name="datatype.properties">
      <data type="NMTOKENS"/>
    </define>
    <define name="datatype.prefixdecl">
      <text/>
    </define>
    <!-- \\s*([\\i-[:]][\\c-[:]]*: +[^ ]+)(\\s+[\\i-[:]][\\c-[:]]*: +[^ ]+)*\\s* -->
  </div>
  <div xml:id="datatypes-ssml">
    <!-- http://www.w3.org/TR/speech-synthesis11/#edef_phoneme -->
    <define name="datatype.ssml.PhoneticExpression">
      <data type="string"/>
    </define>
    <define name="datatype.ssml.PhoneticAlphabet">
      <data type="string">
        <param name="pattern">(ipa|x-.+)</param>
      </data>
    </define>
  </div>
  <div xml:id="datatypes-html5">
    <define name="datatype.html5.browsing.context.name.or.keyword">
      <data type="string">
        <param name="pattern">()|([^_].*)|(_[bB][lL][aA][nN][kK])|(_[sS][eE][lL][fF])|(_[pP][aA][rR][eE][nN][tT])|(_[tT][oO][pP])</param>
      </data>
    </define>
    <define name="datatype.html5.browsing.context.name">
      <data type="string">
        <param name="pattern">()|([^_].*)</param>
      </data>
    </define>
    <define name="datatype.html5.token">
      <data type="string">
        <param name="pattern">[^\\s]+</param>
      </data>
    </define>
    <!-- http://www.w3.org/TR/html5/common-microsyntaxes.html#space-separated-tokens -->
    <define name="datatype.html5.space.separated.tokens">
      <list>
        <zeroOrMore>
          <ref name="datatype.html5.token"/>
        </zeroOrMore>
      </list>
    </define>
    <define name="datatype.html5.ordered.set.unique.tokens">
      <ref name="datatype.html5.space.separated.tokens"/>
    </define>
    <define name="datatype.html5.URL.spaces">
      <ref name="datatype.URI"/>
    </define>
    <!--
      http://dev.w3.org/csswg/css3-mediaqueries/#syntax
      http://www.w3.org/TR/html5/common-microsyntaxes.html#mq
    -->
    <define name="datatype.html5.media.query">
      <data type="string"/>
    </define>
    <define name="datatype.html5.name">
      <data type="string"/>
    </define>
    <define name="datatype.html5.name.reference">
      <data type="string">
        <param name="pattern">#.+</param>
      </data>
    </define>
    <define name="datatype.html5.year">
      <data type="token">
        <param name="pattern">[0-9]{4}</param>
      </data>
    </define>
    <define name="datatype.html5.yearless">
      <data type="token">
        <param name="pattern">(--)?(0[0-9]|1[0-2])-(0[0-9]|[1-2][0-9]|3[0-1])</param>
      </data>
    </define>
    <define name="datatype.html5.duration">
      <data type="token">
        <param name="pattern">(((P[0-9]+D)|(P([0-9]+D)?T((([0-9]+H)([0-9]+M)?([0-9]+(\\.[0-9]{1,3})?S)?)|(([0-9]+H)?([0-9]+M)([0-9]+(\\.[0-9]{1,3})?S)?)|(([0-9]+H)?([0-9]+M)?([0-9]+(\\.[0-9]{1,3})?S)))))|( *(([0-9]+ *[WDHM])|([0-9]+(\\.[0-9]{1,3})? *S)) *)+)</param>
      </data>
    </define>
    <!-- http://www.w3.org/TR/html5/common-microsyntaxes.html#months -->
    <define name="datatype.html5.month">
      <data type="token">
        <param name="pattern">([0-9]{4,})-([0-9]{2})</param>
      </data>
    </define>
    <!-- http://www.w3.org/TR/html5/common-microsyntaxes.html#dates -->
    <define name="datatype.html5.date">
      <data type="token">
        <param name="pattern">([0-9]{4,})-([0-9]{2})-([0-9]{2})</param>
      </data>
    </define>
    <!-- http://www.w3.org/TR/html5/common-microsyntaxes.html#times -->
    <define name="datatype.html5.time">
      <data type="token">
        <param name="pattern">([0-9]{2}):([0-9]{2})(:[0-9]{2}(\\.[0-9]{1,3})?)?</param>
      </data>
    </define>
    <!-- http://www.w3.org/TR/html5/common-microsyntaxes.html#local-dates-and-times -->
    <define name="datatype.html5.datetime.local">
      <data type="token">
        <param name="pattern">([0-9]{4,})-([0-9]{2})-([0-9]{2})([T ])([0-9]{2}):([0-9]{2})(:[0-9]{2}(\\.[0-9]{1,3})?)?</param>
      </data>
    </define>
    <!-- http://www.w3.org/TR/html5/common-microsyntaxes.html#global-dates-and-times -->
    <define name="datatype.html5.datetime.global">
      <data type="token">
        <param name="pattern">([0-9]{4,})-([0-9]{2})-([0-9]{2})([T ])([0-9]{2}):([0-9]{2})(:[0-9]{2}(\\.[0-9]{1,3})?)?(Z|((\\+|-)([0-9]{2}):?([0-9]{2})))?</param>
      </data>
    </define>
    <define name="datatype.html5.datetime">
      <ref name="datatype.html5.datetime.global"/>
    </define>
    <!-- http://www.w3.org/TR/html5/common-microsyntaxes.html#vaguer-moments-in-time -->
    <define name="datatype.html5.date.or.time">
      <choice>
        <ref name="datatype.html5.year"/>
        <ref name="datatype.html5.yearless"/>
        <ref name="datatype.html5.week"/>
        <ref name="datatype.html5.date"/>
        <ref name="datatype.html5.month"/>
        <ref name="datatype.html5.time"/>
        <ref name="datatype.html5.datetime.global"/>
        <ref name="datatype.html5.duration"/>
      </choice>
    </define>
    <!-- http://www.w3.org/TR/html5/common-microsyntaxes.html#vaguer-moments-in-time -->
    <define name="datatype.html5.date.optional.time">
      <choice>
        <ref name="datatype.html5.date"/>
        <ref name="datatype.html5.datetime.global"/>
      </choice>
    </define>
    <define name="datatype.html5.week">
      <data type="token">
        <param name="pattern">([0-9]{4,})-W([0-9]{2})</param>
      </data>
    </define>
    <define name="datatype.html5.accesskey">
      <ref name="datatype.html5.ordered.set.unique.tokens"/>
    </define>
    <define name="datatype.html5.coords.rectangle">
      <data type="token">
        <param name="pattern">-?[0-9]+,-?[0-9]+,-?[0-9]+,-?[0-9]+</param>
      </data>
    </define>
    <define name="datatype.html5.coords.circle">
      <data type="token">
        <param name="pattern">-?[0-9]+,-?[0-9]+,[0-9]+</param>
      </data>
    </define>
    <define name="datatype.html5.coords.poly">
      <data type="token">
        <param name="pattern">-?[0-9]+,-?[0-9]+,-?[0-9]+,-?[0-9]+,-?[0-9]+,-?[0-9]+(,-?[0-9]+,-?[0-9]+)*</param>
      </data>
    </define>
    <define name="datatype.html5.js">
      <data type="string"/>
    </define>
    <define name="datatype.html5.script">
      <data type="string"/>
    </define>
    <define name="datatype.html5.script.documentation">
      <data type="string"/>
    </define>
    <define name="datatype.html5.iframe.srcdoc.xml">
      <data type="string"/>
    </define>
    <define name="datatype.style">
      <data type="string"/>
    </define>
    <define name="datatype.html5.sizes">
      <list>
        <oneOrMore>
          <data type="string">
            <param name="pattern">[1-9][0-9]*x[1-9][0-9]*</param>
          </data>
        </oneOrMore>
      </list>
    </define>
    <define name="datatype.html5.emailaddress">
      <data type="string">
        <param name="pattern">[^@]+@[^@]+</param>
      </data>
    </define>
    <define name="datatype.html5.emailaddresslist">
      <data type="string">
        <param name="pattern">([^@]+@[^@]+,)*([^@]+@[^@]+)</param>
      </data>
    </define>
    <!-- http://www.w3.org/TR/html5/common-microsyntaxes.html#colors -->
    <define name="datatype.html5.color">
      <data type="string">
        <param name="pattern">#([A-Fa-f0-9]{6})</param>
      </data>
    </define>
  </div>
  <div xml:id="datatypes-html5forms">
    <define name="datatype.html5.forms.mimetypelist">
      <data type="string"/>
    </define>
    <!-- http://www.w3.org/TR/html5/forms.html#attr-form-accept-charset -->
    <define name="datatype.html5.forms.charsetlist">
      <list>
        <oneOrMore>
          <ref name="datatype.character.encoding"/>
        </oneOrMore>
      </list>
    </define>
    <define name="datatype.html5.forms.pattern">
      <data type="string"/>
    </define>
    <define name="datatype.html5.forms.string.nolinebreaks">
      <data type="string"/>
    </define>
  </div>

    <a:documentation>Static datatypes</a:documentation>
  
  <!-- Inlined from meta.rng with overrides -->
<!-- ##################################################################### -->
  <define name="html.elem">
    <a:documentation> RELAX NG Schema for HTML 5: Global Structure &amp; Metadata          #</a:documentation>
    <!-- ##################################################################### -->
    <a:documentation>Root Element: &lt;html&gt;</a:documentation>
    <element name="html">
      <interleave>
        <ref name="html.inner"/>
        <ref name="html.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="html.attrs">
    <ref name="common.attrs"/>
  </define>
  <define name="html.inner">
    <ref name="head.elem"/>
    <ref name="body.elem"/>
  </define>
  <define name="head.elem">
    <a:documentation>Metadata Container: &lt;head&gt;</a:documentation>
    <element name="head">
      <interleave>
        <ref name="head.inner"/>
        <ref name="head.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="head.attrs">
    <ref name="common.attrs"/>
    <!-- 		&	head.attrs.profile? -->
  </define>
  <!--
    		head.attrs.profile =
    			attribute profile {
    				common.data.uris #REVISIT should these be absolute (zero or more)
    			}
  -->
  <define name="head.inner">
    <interleave>
      <ref name="title.elem"/>
      <optional>
        <ref name="base.elem"/>
      </optional>
      <!-- REVISIT need a non-schema checker or Schematron -->
      <ref name="common.inner.metadata"/>
    </interleave>
    <!-- Limit encoding decl position in Schematron -->
  </define>
  <!--
    	head.inner =
    		(	meta.elem.encoding?
    		,	(	title.elem
    			&	base.elem? # REVISIT need a non-schema checker or Schematron
    			&	common.inner.metadata
    			)
    		)
  -->
  <define name="body.elem">
    <a:documentation>Content Container: &lt;body&gt;</a:documentation>
    <element name="body">
      <interleave>
        <ref name="body.inner"/>
        <ref name="body.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="body.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <choice>
          <ref name="common.attrs.aria.role.application"/>
          <ref name="common.attrs.aria.landmark.document"/>
          <ref name="common.attrs.aria.role.presentation"/>
          <ref name="common.attrs.aria.implicit.document"/>
        </choice>
      </optional>
      <optional>
        <ref name="body.attrs.onafterprint"/>
      </optional>
      <optional>
        <ref name="body.attrs.onbeforeprint"/>
      </optional>
      <optional>
        <ref name="body.attrs.onbeforeunload"/>
      </optional>
      <optional>
        <ref name="body.attrs.onhashchange"/>
      </optional>
      <optional>
        <ref name="body.attrs.onlanguagechange"/>
      </optional>
      <optional>
        <ref name="body.attrs.onmessage"/>
      </optional>
      <optional>
        <ref name="body.attrs.onmessageerror"/>
      </optional>
      <optional>
        <ref name="body.attrs.onoffline"/>
      </optional>
      <optional>
        <ref name="body.attrs.ononline"/>
      </optional>
      <optional>
        <ref name="body.attrs.onpagehide"/>
      </optional>
      <optional>
        <ref name="body.attrs.onpageshow"/>
      </optional>
      <optional>
        <ref name="body.attrs.onpopstate"/>
      </optional>
      <optional>
        <ref name="body.attrs.onrejectionhandled"/>
      </optional>
      <optional>
        <ref name="body.attrs.onstorage"/>
      </optional>
      <optional>
        <ref name="body.attrs.onunhandledrejection"/>
      </optional>
      <optional>
        <ref name="body.attrs.onunload"/>
      </optional>
    </interleave>
  </define>
  <define name="body.inner">
    <ref name="common.inner.flow"/>
  </define>
  <define name="body.attrs.onafterprint">
    <attribute name="onafterprint">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="body.attrs.onbeforeprint">
    <attribute name="onbeforeprint">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="body.attrs.onbeforeunload">
    <attribute name="onbeforeunload">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="body.attrs.onhashchange">
    <attribute name="onhashchange">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="body.attrs.onlanguagechange">
    <attribute name="onlanguagechange">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="body.attrs.onmessage">
    <attribute name="onmessage">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="body.attrs.onmessageerror">
    <attribute name="onmessageerror">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="body.attrs.onoffline">
    <attribute name="onoffline">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="body.attrs.ononline">
    <attribute name="ononline">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="body.attrs.onpagehide">
    <attribute name="onpagehide">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="body.attrs.onpageshow">
    <attribute name="onpageshow">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="body.attrs.onpopstate">
    <attribute name="onpopstate">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="body.attrs.onrejectionhandled">
    <attribute name="onrejectionhandled">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="body.attrs.onstorage">
    <attribute name="onstorage">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="body.attrs.onunhandledrejection">
    <attribute name="onunhandledrejection">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="body.attrs.onunload">
    <attribute name="onunload">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="title.elem">
    <a:documentation>Document Title: &lt;title&gt;</a:documentation>
    <element name="title">
      <interleave>
        <ref name="title.inner"/>
        <ref name="title.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="title.attrs">
    <ref name="common.attrs"/>
  </define>
  <define name="title.inner">
    <text/>
  </define>
  <define name="base.elem">
    <a:documentation>Base URI: &lt;base&gt;</a:documentation>
    <element name="base">
      <interleave>
        <ref name="base.inner"/>
        <ref name="base.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="base.attrs">
    <interleave>
      <ref name="common.attrs.basic"/>
      <ref name="common.attrs.i18n"/>
      <ref name="common.attrs.present"/>
      <ref name="common.attrs.other"/>
      <choice>
        <interleave>
          <ref name="base.attrs.href"/>
          <optional>
            <ref name="base.attrs.target"/>
          </optional>
        </interleave>
        <ref name="base.attrs.target"/>
      </choice>
    </interleave>
  </define>
  <define name="base.attrs.href">
    <attribute name="href">
      <ref name="common.data.uri"/>
    </attribute>
  </define>
  <define name="base.attrs.target">
    <attribute name="target">
      <ref name="common.data.browsing-context-or-keyword"/>
    </attribute>
  </define>
  <define name="base.inner">
    <empty/>
  </define>
  <define name="link.elem">
    <a:documentation>Global Relationships: &lt;link&gt;</a:documentation>
    <element name="link">
      <interleave>
        <ref name="link.inner"/>
        <ref name="link.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="link.attrs">
    <interleave>
      <ref name="common.attrs.basic"/>
      <ref name="common.attrs.i18n"/>
      <ref name="common.attrs.present"/>
      <ref name="common.attrs.other"/>
      <ref name="link.attrs.rel"/>
      <optional>
        <ref name="link.attrs.href"/>
      </optional>
      <optional>
        <ref name="link.attrs.as"/>
      </optional>
      <optional>
        <ref name="link.attrs.integrity"/>
      </optional>
      <optional>
        <ref name="shared-hyperlink.attrs.hreflang"/>
      </optional>
      <optional>
        <ref name="shared-hyperlink.attrs.media"/>
      </optional>
      <optional>
        <ref name="shared-hyperlink.attrs.type"/>
      </optional>
      <optional>
        <ref name="referrerpolicy"/>
      </optional>
      <optional>
        <ref name="link.attrs.sizes"/>
      </optional>
      <optional>
        <ref name="link.attrs.color"/>
      </optional>
      <optional>
        <ref name="link.attrs.disabled"/>
      </optional>
      <optional>
        <ref name="link.attrs.scope"/>
      </optional>
      <optional>
        <ref name="link.attrs.updateviacache"/>
      </optional>
      <optional>
        <ref name="link.attrs.workertype"/>
      </optional>
      <optional>
        <ref name="link.attrs.imagesrcset"/>
      </optional>
      <optional>
        <ref name="link.attrs.imagesizes"/>
      </optional>
      <optional>
        <ref name="common.attrs.fetchpriority"/>
      </optional>
      <optional>
        <!-- 	link.attrs.title included in common.attrs -->
        <ref name="embedded.content.attrs.crossorigin"/>
      </optional>
      <optional>
        <ref name="common.attrs.blocking"/>
      </optional>
      <optional>
        <ref name="common.attrs.aria.role.link"/>
      </optional>
    </interleave>
  </define>
  <define name="link.attrs.href">
    <attribute name="href">
      <ref name="common.data.uri.non-empty"/>
    </attribute>
  </define>
  <define name="link.attrs.rel">
    <attribute name="rel">
      <data type="string" datatypeLibrary=""/>
    </attribute>
  </define>
  <define name="link.attrs.as">
    <attribute name="as">
      <choice>
        <value type="string" datatypeLibrary=""/>
        <value type="string" datatypeLibrary="">audio</value>
        <value type="string" datatypeLibrary="">audioworklet</value>
        <value type="string" datatypeLibrary="">document</value>
        <value type="string" datatypeLibrary="">embed</value>
        <value type="string" datatypeLibrary="">fetch</value>
        <value type="string" datatypeLibrary="">font</value>
        <value type="string" datatypeLibrary="">image</value>
        <value type="string" datatypeLibrary="">manifest</value>
        <value type="string" datatypeLibrary="">object</value>
        <value type="string" datatypeLibrary="">paintworklet</value>
        <value type="string" datatypeLibrary="">report</value>
        <value type="string" datatypeLibrary="">script</value>
        <value type="string" datatypeLibrary="">serviceworker</value>
        <value type="string" datatypeLibrary="">sharedworker</value>
        <value type="string" datatypeLibrary="">style</value>
        <value type="string" datatypeLibrary="">track</value>
        <value type="string" datatypeLibrary="">video</value>
        <value type="string" datatypeLibrary="">worker</value>
        <value type="string" datatypeLibrary="">xslt</value>
      </choice>
    </attribute>
  </define>
  <define name="link.attrs.integrity">
    <attribute name="integrity">
      <ref name="common.data.integrity"/>
    </attribute>
  </define>
  <define name="link.attrs.sizes">
    <attribute name="sizes">
      <choice>
        <value>any</value>
        <ref name="common.data.sizes"/>
      </choice>
    </attribute>
  </define>
  <define name="link.attrs.color">
    <attribute name="color">
      <ref name="common.data.color"/>
    </attribute>
  </define>
  <define name="link.attrs.disabled">
    <attribute name="disabled">
      <choice>
        <value>disabled</value>
        <value/>
      </choice>
    </attribute>
  </define>
  <define name="link.attrs.scope">
    <attribute name="scope">
      <ref name="common.data.uri"/>
    </attribute>
  </define>
  <define name="link.attrs.updateviacache">
    <attribute name="updateviacache">
      <choice>
        <value type="string" datatypeLibrary="">imports</value>
        <value type="string" datatypeLibrary="">all</value>
        <value type="string" datatypeLibrary="">none</value>
      </choice>
    </attribute>
  </define>
  <define name="link.attrs.workertype">
    <attribute name="workertype">
      <choice>
        <value type="string" datatypeLibrary="">classic</value>
        <value type="string" datatypeLibrary="">module</value>
      </choice>
    </attribute>
  </define>
  <define name="link.attrs.imagesrcset">
    <interleave>
      <attribute name="imagesrcset">
        <data type="string" datatypeLibrary=""/>
      </attribute>
      <ref name="v5only"/>
    </interleave>
  </define>
  <define name="link.attrs.imagesizes">
    <interleave>
      <attribute name="imagesizes">
        <ref name="common.data.source.size.list"/>
      </attribute>
      <ref name="v5only"/>
    </interleave>
  </define>
  <define name="link.inner">
    <empty/>
  </define>
  <define name="common.elem.metadata" combine="choice">
    <ref name="link.elem"/>
  </define>
  <define name="common.elem.phrasing" combine="choice">
    <ref name="link.elem"/>
  </define>
  <define name="common.elem.flow" combine="choice">
    <ref name="link.elem"/>
  </define>
  <define name="style.elem">
    <a:documentation>Global Style: &lt;style&gt;</a:documentation>
    <element name="style">
      <interleave>
        <ref name="style.inner"/>
        <ref name="style.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="style.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <ref name="style.attrs.type"/>
      </optional>
      <optional>
        <ref name="style.attrs.media"/>
      </optional>
      <optional>
        <ref name="common.attrs.blocking"/>
      </optional>
    </interleave>
    <!-- 	style.attrs.title included in common.attrs -->
  </define>
  <define name="style.attrs.type">
    <attribute name="type"/>
  </define>
  <define name="style.attrs.media">
    <attribute name="media">
      <ref name="common.data.mediaquery"/>
    </attribute>
  </define>
  <define name="style.inner">
    <ref name="common.inner.anything"/>
  </define>
  <define name="common.elem.metadata" combine="choice">
    <ref name="style.elem"/>
  </define>
  <define name="meta.name.elem">
    <a:documentation>Name-Value Metadata: &lt;meta name&gt;</a:documentation>
    <element name="meta">
      <interleave>
        <ref name="meta.inner"/>
        <ref name="meta.name.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="meta.name.attrs">
    <interleave>
      <ref name="common.attrs.basic"/>
      <ref name="common.attrs.i18n"/>
      <ref name="common.attrs.present"/>
      <ref name="common.attrs.other"/>
      <ref name="meta.name.attrs.name"/>
      <ref name="meta.name.attrs.content"/>
      <optional>
        <ref name="common.attrs.microdata.itemref"/>
      </optional>
      <optional>
        <ref name="common.attrs.microdata.itemscope"/>
      </optional>
      <optional>
        <ref name="common.attrs.microdata.itemtype"/>
      </optional>
      <optional>
        <ref name="common.attrs.microdata.itemid"/>
      </optional>
      <optional>
        <ref name="shared-hyperlink.attrs.media"/>
      </optional>
    </interleave>
  </define>
  <define name="meta.name.attrs.name">
    <attribute name="name">
      <ref name="datatype.string.nonempty"/>
    </attribute>
  </define>
  <define name="meta.name.attrs.content">
    <attribute name="content">
      <data type="string" datatypeLibrary=""/>
    </attribute>
  </define>
  <define name="meta.inner">
    <empty/>
  </define>
  <define name="common.elem.metadata" combine="choice">
    <ref name="meta.name.elem"/>
  </define>
  <define name="meta.http-equiv.refresh.elem">
    <a:documentation>"refresh" pragma directive: &lt;meta http-equiv='refresh'&gt;</a:documentation>
    <element name="meta">
      <interleave>
        <ref name="meta.inner"/>
        <ref name="meta.http-equiv.refresh.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="meta.http-equiv.refresh.attrs">
    <interleave>
      <ref name="common.attrs.basic"/>
      <ref name="common.attrs.i18n"/>
      <ref name="common.attrs.present"/>
      <ref name="common.attrs.other"/>
      <ref name="meta.http-equiv.attrs.http-equiv.refresh"/>
      <ref name="meta.http-equiv.attrs.content.refresh"/>
    </interleave>
  </define>
  <define name="meta.http-equiv.attrs.http-equiv.refresh">
    <attribute name="http-equiv">
      <value>refresh</value>
    </attribute>
  </define>
  <define name="meta.http-equiv.attrs.content.refresh">
    <attribute name="content">
      <ref name="common.data.refresh"/>
    </attribute>
  </define>
  <define name="common.elem.metadata" combine="choice">
    <ref name="meta.http-equiv.refresh.elem"/>
  </define>
  <!--
    not quite right per spec
    if the definition is 
    reused in another language
  -->
  <define name="meta.http-equiv.default-style.elem">
    <a:documentation>"default-style" pragma directive: &lt;meta http-equiv='default-style'&gt;</a:documentation>
    <element name="meta">
      <interleave>
        <ref name="meta.inner"/>
        <ref name="meta.http-equiv.default-style.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="meta.http-equiv.default-style.attrs">
    <interleave>
      <ref name="common.attrs.basic"/>
      <ref name="common.attrs.i18n"/>
      <ref name="common.attrs.present"/>
      <ref name="common.attrs.other"/>
      <ref name="meta.http-equiv.attrs.http-equiv.default-style"/>
      <ref name="meta.http-equiv.attrs.content.default-style"/>
    </interleave>
  </define>
  <define name="meta.http-equiv.attrs.http-equiv.default-style">
    <attribute name="http-equiv">
      <value>default-style</value>
    </attribute>
  </define>
  <define name="meta.http-equiv.attrs.content.default-style">
    <attribute name="content">
      <ref name="common.data.default-style"/>
    </attribute>
  </define>
  <define name="common.elem.metadata" combine="choice">
    <ref name="meta.http-equiv.default-style.elem"/>
  </define>
  <!--
    not quite right per spec
    if the definition is 
    reused in another language
  -->
  <define name="meta.http-equiv.content-security-policy.elem">
    <a:documentation>Content Security Policy pragma directive: &lt;meta http-equiv='content-security-policy'&gt;</a:documentation>
    <element name="meta">
      <interleave>
        <ref name="meta.inner"/>
        <ref name="meta.http-equiv.content-security-policy.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="meta.http-equiv.content-security-policy.attrs">
    <interleave>
      <ref name="common.attrs.basic"/>
      <ref name="common.attrs.i18n"/>
      <ref name="common.attrs.present"/>
      <ref name="common.attrs.other"/>
      <ref name="meta.http-equiv.attrs.http-equiv.content-security-policy"/>
      <ref name="meta.http-equiv.attrs.content.content-security-policy"/>
    </interleave>
  </define>
  <define name="meta.http-equiv.attrs.http-equiv.content-security-policy">
    <attribute name="http-equiv">
      <value>content-security-policy</value>
    </attribute>
  </define>
  <define name="meta.http-equiv.attrs.content.content-security-policy">
    <attribute name="content">
      <ref name="common.data.content-security-policy"/>
    </attribute>
  </define>
  <define name="common.elem.metadata" combine="choice">
    <ref name="meta.http-equiv.content-security-policy.elem"/>
  </define>
  <define name="meta.http-equiv.x-ua-compatible.elem">
    <a:documentation>"x-ua-compatible" pragma directive: &lt;meta http-equiv='x-ua-compatible'&gt;</a:documentation>
    <element name="meta">
      <interleave>
        <ref name="meta.inner"/>
        <ref name="meta.http-equiv.x-ua-compatible.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="meta.http-equiv.x-ua-compatible.attrs">
    <interleave>
      <ref name="common.attrs.basic"/>
      <ref name="common.attrs.i18n"/>
      <ref name="common.attrs.present"/>
      <ref name="common.attrs.other"/>
      <ref name="meta.http-equiv.attrs.http-equiv.x-ua-compatible"/>
      <ref name="meta.http-equiv.attrs.content.x-ua-compatible"/>
    </interleave>
  </define>
  <define name="meta.http-equiv.attrs.http-equiv.x-ua-compatible">
    <attribute name="http-equiv">
      <value>x-ua-compatible</value>
    </attribute>
  </define>
  <define name="meta.http-equiv.attrs.content.x-ua-compatible">
    <attribute name="content">
      <ref name="common.data.x-ua-compatible"/>
    </attribute>
  </define>
  <define name="common.elem.metadata" combine="choice">
    <ref name="meta.http-equiv.x-ua-compatible.elem"/>
  </define>
  <define name="meta.charset.elem">
    <a:documentation>Inline Character Encoding Statement for HTML: &lt;meta charset&gt;</a:documentation>
    <element name="meta">
      <interleave>
        <ref name="meta.inner"/>
        <ref name="meta.charset.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="meta.charset.attrs">
    <interleave>
      <ref name="common.attrs.basic"/>
      <ref name="common.attrs.i18n"/>
      <ref name="common.attrs.present"/>
      <ref name="common.attrs.other"/>
      <ref name="meta.charset.attrs.charset"/>
    </interleave>
  </define>
  <define name="meta.charset.attrs.charset">
    <attribute name="charset">
      <choice>
        <interleave>
          <data type="string" datatypeLibrary=""/>
          <ref name="HTMLonly"/>
        </interleave>
        <interleave>
          <data type="string">
            <param name="pattern">[uU][tT][fF]-8</param>
          </data>
          <ref name="XMLonly"/>
        </interleave>
      </choice>
    </attribute>
  </define>
  <define name="meta.http-equiv.content-type.elem">
    <a:documentation>Inline Character Encoding Statement for HTML: &lt;meta http-equiv='content-type'&gt;</a:documentation>
    <interleave>
      <element name="meta">
        <interleave>
          <ref name="meta.inner"/>
          <ref name="meta.http-equiv.content-type.attrs"/>
        </interleave>
      </element>
      <ref name="HTMLonly"/>
    </interleave>
  </define>
  <define name="meta.http-equiv.content-type.attrs">
    <interleave>
      <ref name="common.attrs.basic"/>
      <ref name="common.attrs.i18n"/>
      <ref name="common.attrs.present"/>
      <ref name="common.attrs.other"/>
      <ref name="meta.http-equiv.attrs.http-equiv.content-type"/>
      <ref name="meta.http-equiv.attrs.content.content-type"/>
    </interleave>
  </define>
  <define name="meta.http-equiv.attrs.http-equiv.content-type">
    <attribute name="http-equiv">
      <value>content-type</value>
    </attribute>
  </define>
  <define name="meta.http-equiv.attrs.content.content-type">
    <attribute name="content">
      <ref name="common.data.meta-charset"/>
    </attribute>
  </define>
  <define name="common.elem.metadata" combine="choice">
    <choice>
      <ref name="meta.charset.elem"/>
      <ref name="meta.http-equiv.content-type.elem"/>
    </choice>
  </define>

    <a:documentation>Modules from the Nu HTML Checker</a:documentation>
    <!--
      make the title element optional, since one could see the publication title
      as defining a proper "higher-level protocol"
      the lack of \`title\` will however raise a WARNING in a Schematron rule 
    -->
    <define name="head.inner">
      <interleave>
        <optional>
          <ref name="title.elem"/>
        </optional>
        <optional>
          <ref name="base.elem"/>
        </optional>
        <!-- REVISIT need a non-schema checker or Schematron -->
        <ref name="common.inner.metadata"/>
      </interleave>
      <!-- Limit encoding decl position in Schematron -->
    </define>
    <!--
      Allow http-equiv in encoding declaration state in XHTML too
      (W3C allows that, but not WHATWG)
    -->
    <define name="meta.http-equiv.content-type.elem">
      <element name="meta">
        <interleave>
          <ref name="meta.inner"/>
          <ref name="meta.http-equiv.content-type.attrs"/>
        </interleave>
      </element>
    </define>
    <!--
      Make http-equiv case-insensitive
      This is an ugly hack. Case-insensitiveness would better be solved
      at parsing time.
    -->
    <define name="meta.http-equiv.attrs.http-equiv.content-type">
      <attribute name="http-equiv">
        <data type="string">
          <param name="pattern">[cC][oO][nN][tT][eE][nN][tT]-[tT][yY][pP][eE]</param>
        </data>
      </attribute>
    </define>
    <define name="meta.http-equiv.attrs.http-equiv.refresh">
      <attribute name="http-equiv">
        <data type="string">
          <param name="pattern">[rR][eE][fF][rR][eE][sS][hH]</param>
        </data>
      </attribute>
    </define>
    <define name="meta.http-equiv.attrs.http-equiv.default-style">
      <attribute name="http-equiv">
        <data type="string">
          <param name="pattern">[dD][eE][fF][aA][uU][lL][tT]-[sS][tT][yY][lL][eE]</param>
        </data>
      </attribute>
    </define>
    <define name="meta.http-equiv.attrs.http-equiv.content-security-policy">
      <attribute name="http-equiv">
        <data type="string">
          <param name="pattern">[cC][oO][nN][tT][eE][nN][tT]-[sS][eE][cC][uU][rR][iI][tT][yY]-[pP][oO][lL][iI][cC][yY]</param>
        </data>
      </attribute>
    </define>
    <define name="meta.http-equiv.attrs.http-equiv.x-ua-compatible">
      <attribute name="http-equiv">
        <data type="string">
          <param name="pattern">[xX]-[uU][aA]-[cC][oO][mM][pP][aA][tT][iI][bB][lL][eE]</param>
        </data>
      </attribute>
    </define>
  
  <!-- Inlined from phrase.rng -->
<!-- ##################################################################### -->
  <define name="a.elem.phrasing">
    <a:documentation> RELAX NG Schema for HTML 5: Phrase Markup                         #</a:documentation>
    <!-- ##################################################################### -->
    <a:documentation>Contextual Hyperlink: &lt;a&gt;</a:documentation>
    <choice>
      <ref name="a.href.elem.phrasing"/>
      <ref name="a.nohref.elem.phrasing"/>
    </choice>
  </define>
  <define name="a.elem.flow">
    <choice>
      <ref name="a.href.elem.flow"/>
      <ref name="a.nohref.elem.flow"/>
    </choice>
  </define>
  <define name="a.href.elem.phrasing">
    <element name="a">
      <interleave>
        <ref name="a.inner.phrasing"/>
        <ref name="a.href.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="a.href.elem.flow">
    <element name="a">
      <interleave>
        <ref name="a.inner.flow"/>
        <ref name="a.href.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="a.nohref.elem.phrasing">
    <element name="a">
      <interleave>
        <ref name="a.inner.phrasing"/>
        <ref name="a.nohref.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="a.nohref.elem.flow">
    <element name="a">
      <interleave>
        <ref name="a.inner.flow"/>
        <ref name="a.nohref.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="a.href.attrs">
    <interleave>
      <ref name="a.attrs"/>
      <ref name="shared-hyperlink.attrs.href"/>
      <optional>
        <choice>
          <ref name="common.attrs.aria.implicit.link"/>
          <ref name="common.attrs.aria.role.button"/>
          <ref name="common.attrs.aria.role.checkbox"/>
          <ref name="common.attrs.aria.role.link"/>
          <ref name="common.attrs.aria.role.menuitem"/>
          <ref name="common.attrs.aria.role.menuitemcheckbox"/>
          <ref name="common.attrs.aria.role.menuitemradio"/>
          <ref name="common.attrs.aria.role.option"/>
          <ref name="common.attrs.aria.role.radio"/>
          <ref name="common.attrs.aria.role.switch"/>
          <ref name="common.attrs.aria.role.tab"/>
          <ref name="common.attrs.aria.role.treeitem"/>
          <ref name="common.attrs.aria.role.doc-backlink"/>
          <ref name="common.attrs.aria.role.doc-biblioref"/>
          <ref name="common.attrs.aria.role.doc-glossref"/>
          <ref name="common.attrs.aria.role.doc-noteref"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="a.nohref.attrs">
    <interleave>
      <ref name="common.attrs.basic"/>
      <ref name="common.attrs.i18n"/>
      <ref name="common.attrs.present"/>
      <ref name="common.attrs.other"/>
      <optional>
        <ref name="a.attrs.name"/>
      </optional>
      <optional>
        <ref name="common.attrs.aria"/>
      </optional>
    </interleave>
  </define>
  <define name="a.attrs">
    <interleave>
      <ref name="common.attrs.basic"/>
      <ref name="common.attrs.i18n"/>
      <ref name="common.attrs.present"/>
      <ref name="common.attrs.other"/>
      <optional>
        <ref name="a.attrs.name"/>
      </optional>
      <optional>
        <ref name="shared-hyperlink.attrs.download"/>
      </optional>
      <optional>
        <ref name="shared-hyperlink.attrs.target"/>
      </optional>
      <optional>
        <ref name="shared-hyperlink.attrs.rel"/>
      </optional>
      <optional>
        <ref name="shared-hyperlink.attrs.hreflang"/>
      </optional>
      <optional>
        <ref name="shared-hyperlink.attrs.type"/>
      </optional>
      <optional>
        <ref name="shared-hyperlink.attrs.ping"/>
      </optional>
      <optional>
        <ref name="referrerpolicy"/>
      </optional>
    </interleave>
  </define>
  <define name="a.attrs.name">
    <attribute name="name">
      <ref name="common.data.id"/>
      <!-- XXX not what the spec says -->
    </attribute>
  </define>
  <define name="a.inner.phrasing">
    <ref name="common.inner.phrasing"/>
  </define>
  <define name="a.inner.flow">
    <ref name="common.inner.transparent.flow"/>
  </define>
  <define name="common.elem.phrasing" combine="choice">
    <ref name="a.elem.phrasing"/>
  </define>
  <define name="common.elem.flow" combine="choice">
    <ref name="a.elem.flow"/>
  </define>
  <define name="shared-hyperlink.attrs.download">
    <a:documentation>Shared hyperlink attributes</a:documentation>
    <attribute name="download">
      <data type="string"/>
    </attribute>
  </define>
  <define name="shared-hyperlink.attrs.href">
    <attribute name="href">
      <ref name="common.data.uri"/>
    </attribute>
  </define>
  <define name="shared-hyperlink.attrs.target">
    <attribute name="target">
      <ref name="common.data.browsing-context-or-keyword"/>
    </attribute>
  </define>
  <define name="shared-hyperlink.attrs.rel">
    <attribute name="rel">
      <data type="string"/>
    </attribute>
  </define>
  <define name="shared-hyperlink.attrs.hreflang">
    <attribute name="hreflang">
      <ref name="common.data.langcode"/>
    </attribute>
  </define>
  <define name="shared-hyperlink.attrs.media">
    <attribute name="media">
      <ref name="common.data.mediaquery"/>
    </attribute>
  </define>
  <define name="shared-hyperlink.attrs.type">
    <attribute name="type">
      <ref name="common.data.mimetype"/>
    </attribute>
  </define>
  <define name="shared-hyperlink.attrs.ping">
    <interleave>
      <attribute name="ping">
        <ref name="common.data.uris.http.or.https"/>
      </attribute>
      <ref name="v5only"/>
    </interleave>
  </define>
  <define name="referrerpolicy">
    <interleave>
      <attribute name="referrerpolicy">
        <choice>
          <value type="string"/>
          <value type="string">no-referrer</value>
          <value type="string">no-referrer-when-downgrade</value>
          <value type="string">same-origin</value>
          <value type="string">origin</value>
          <value type="string">strict-origin</value>
          <value type="string">origin-when-cross-origin</value>
          <value type="string">strict-origin-when-cross-origin</value>
          <value type="string">unsafe-url</value>
        </choice>
      </attribute>
      <ref name="v5only"/>
    </interleave>
  </define>
  <define name="em.elem">
    <a:documentation>Emphatic Stress: &lt;em&gt;</a:documentation>
    <element name="em">
      <interleave>
        <ref name="em.inner"/>
        <ref name="em.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="em.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <ref name="common.attrs.aria"/>
      </optional>
    </interleave>
  </define>
  <define name="em.inner">
    <ref name="common.inner.phrasing"/>
  </define>
  <define name="common.elem.phrasing" combine="choice">
    <ref name="em.elem"/>
  </define>
  <define name="strong.elem">
    <a:documentation>Strong Importance: &lt;strong&gt;</a:documentation>
    <element name="strong">
      <interleave>
        <ref name="strong.inner"/>
        <ref name="strong.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="strong.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <ref name="common.attrs.aria"/>
      </optional>
    </interleave>
  </define>
  <define name="strong.inner">
    <ref name="common.inner.phrasing"/>
  </define>
  <define name="common.elem.phrasing" combine="choice">
    <ref name="strong.elem"/>
  </define>
  <define name="small.elem">
    <a:documentation>Small Print and Side Comments: &lt;small&gt;</a:documentation>
    <element name="small">
      <interleave>
        <ref name="small.inner"/>
        <ref name="small.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="small.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <ref name="common.attrs.aria"/>
      </optional>
    </interleave>
  </define>
  <define name="small.inner">
    <ref name="common.inner.phrasing"/>
  </define>
  <define name="common.elem.phrasing" combine="choice">
    <ref name="small.elem"/>
  </define>
  <define name="mark.elem">
    <a:documentation>Marked (Highlighted) Text: &lt;mark&gt;</a:documentation>
    <interleave>
      <element name="mark">
        <interleave>
          <ref name="mark.inner"/>
          <ref name="mark.attrs"/>
        </interleave>
      </element>
      <ref name="v5only"/>
    </interleave>
  </define>
  <define name="mark.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <ref name="common.attrs.aria"/>
      </optional>
    </interleave>
  </define>
  <define name="mark.inner">
    <ref name="common.inner.phrasing"/>
  </define>
  <define name="common.elem.phrasing" combine="choice">
    <ref name="mark.elem"/>
  </define>
  <define name="abbr.elem">
    <a:documentation>Abbreviation: &lt;abbr&gt;</a:documentation>
    <element name="abbr">
      <interleave>
        <ref name="abbr.inner"/>
        <ref name="abbr.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="abbr.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <!-- 	abbr.attrs.title included in common.attrs -->
        <ref name="common.attrs.aria"/>
      </optional>
    </interleave>
  </define>
  <define name="abbr.inner">
    <ref name="common.inner.phrasing"/>
  </define>
  <define name="common.elem.phrasing" combine="choice">
    <ref name="abbr.elem"/>
  </define>
  <define name="dfn.elem">
    <a:documentation>Defining Instance: &lt;dfn&gt;</a:documentation>
    <element name="dfn">
      <interleave>
        <ref name="dfn.inner"/>
        <ref name="dfn.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="dfn.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <!-- 	dfn.attrs.title included in common.attrs -->
        <ref name="common.attrs.aria"/>
      </optional>
    </interleave>
  </define>
  <define name="dfn.inner">
    <ref name="common.inner.phrasing"/>
  </define>
  <define name="common.elem.phrasing" combine="choice">
    <ref name="dfn.elem"/>
  </define>
  <define name="i.elem">
    <a:documentation>Italic: &lt;i&gt;</a:documentation>
    <element name="i">
      <interleave>
        <ref name="i.inner"/>
        <ref name="i.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="i.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <ref name="common.attrs.aria"/>
      </optional>
    </interleave>
  </define>
  <define name="i.inner">
    <ref name="common.inner.phrasing"/>
  </define>
  <define name="common.elem.phrasing" combine="choice">
    <ref name="i.elem"/>
  </define>
  <define name="b.elem">
    <a:documentation>Bold: &lt;b&gt;</a:documentation>
    <element name="b">
      <interleave>
        <ref name="b.inner"/>
        <ref name="b.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="b.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <ref name="common.attrs.aria"/>
      </optional>
    </interleave>
  </define>
  <define name="b.inner">
    <ref name="common.inner.phrasing"/>
  </define>
  <define name="common.elem.phrasing" combine="choice">
    <ref name="b.elem"/>
  </define>
  <define name="s.elem">
    <a:documentation>Struck Text: &lt;s&gt;</a:documentation>
    <element name="s">
      <interleave>
        <ref name="s.inner"/>
        <ref name="s.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="s.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <ref name="common.attrs.aria"/>
      </optional>
    </interleave>
  </define>
  <define name="s.inner">
    <ref name="common.inner.phrasing"/>
  </define>
  <define name="common.elem.phrasing" combine="choice">
    <ref name="s.elem"/>
  </define>
  <define name="u.elem">
    <a:documentation>Underline: &lt;u&gt;</a:documentation>
    <element name="u">
      <interleave>
        <ref name="u.inner"/>
        <ref name="u.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="u.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <ref name="common.attrs.aria"/>
      </optional>
    </interleave>
  </define>
  <define name="u.inner">
    <ref name="common.inner.phrasing"/>
  </define>
  <define name="common.elem.phrasing" combine="choice">
    <ref name="u.elem"/>
  </define>
  <define name="code.elem">
    <a:documentation>Code Fragment: &lt;code&gt;</a:documentation>
    <element name="code">
      <interleave>
        <ref name="code.inner"/>
        <ref name="code.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="code.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <ref name="common.attrs.aria"/>
      </optional>
    </interleave>
  </define>
  <define name="code.inner">
    <ref name="common.inner.phrasing"/>
  </define>
  <define name="common.elem.phrasing" combine="choice">
    <ref name="code.elem"/>
  </define>
  <define name="var.elem">
    <a:documentation>Variable or Placeholder: &lt;var&gt;</a:documentation>
    <element name="var">
      <interleave>
        <ref name="var.inner"/>
        <ref name="var.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="var.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <ref name="common.attrs.aria"/>
      </optional>
    </interleave>
  </define>
  <define name="var.inner">
    <ref name="common.inner.phrasing"/>
  </define>
  <define name="common.elem.phrasing" combine="choice">
    <ref name="var.elem"/>
  </define>
  <define name="samp.elem">
    <a:documentation>(Sample) Output: &lt;samp&gt;</a:documentation>
    <element name="samp">
      <interleave>
        <ref name="samp.inner"/>
        <ref name="samp.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="samp.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <ref name="common.attrs.aria"/>
      </optional>
    </interleave>
  </define>
  <define name="samp.inner">
    <ref name="common.inner.phrasing"/>
  </define>
  <define name="common.elem.phrasing" combine="choice">
    <ref name="samp.elem"/>
  </define>
  <define name="kbd.elem">
    <a:documentation>User Input: &lt;kbd&gt;</a:documentation>
    <element name="kbd">
      <interleave>
        <ref name="kbd.inner"/>
        <ref name="kbd.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="kbd.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <ref name="common.attrs.aria"/>
      </optional>
    </interleave>
  </define>
  <define name="kbd.inner">
    <ref name="common.inner.phrasing"/>
  </define>
  <define name="common.elem.phrasing" combine="choice">
    <ref name="kbd.elem"/>
  </define>
  <define name="sup.elem">
    <a:documentation>Superscript: &lt;sup&gt;</a:documentation>
    <element name="sup">
      <interleave>
        <ref name="sup.inner"/>
        <ref name="sup.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="sup.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <ref name="common.attrs.aria"/>
      </optional>
    </interleave>
  </define>
  <define name="sup.inner">
    <ref name="common.inner.phrasing"/>
  </define>
  <define name="common.elem.phrasing" combine="choice">
    <ref name="sup.elem"/>
  </define>
  <define name="sub.elem">
    <a:documentation>Subscript: &lt;sub&gt;</a:documentation>
    <element name="sub">
      <interleave>
        <ref name="sub.inner"/>
        <ref name="sub.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="sub.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <ref name="common.attrs.aria"/>
      </optional>
    </interleave>
  </define>
  <define name="sub.inner">
    <ref name="common.inner.phrasing"/>
  </define>
  <define name="common.elem.phrasing" combine="choice">
    <ref name="sub.elem"/>
  </define>
  <define name="q.elem">
    <a:documentation>Quotation: &lt;q&gt;</a:documentation>
    <element name="q">
      <interleave>
        <ref name="q.inner"/>
        <ref name="q.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="q.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <ref name="q.attrs.cite"/>
      </optional>
      <optional>
        <ref name="common.attrs.aria"/>
      </optional>
    </interleave>
  </define>
  <define name="q.attrs.cite">
    <attribute name="cite">
      <ref name="common.data.uri"/>
    </attribute>
  </define>
  <define name="q.inner">
    <ref name="common.inner.phrasing"/>
  </define>
  <define name="common.elem.phrasing" combine="choice">
    <ref name="q.elem"/>
  </define>
  <define name="cite.elem">
    <a:documentation>Title of Work: &lt;cite&gt;</a:documentation>
    <element name="cite">
      <interleave>
        <ref name="cite.inner"/>
        <ref name="cite.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="cite.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <ref name="common.attrs.aria"/>
      </optional>
    </interleave>
  </define>
  <define name="cite.inner">
    <ref name="common.inner.phrasing"/>
  </define>
  <define name="common.elem.phrasing" combine="choice">
    <ref name="cite.elem"/>
  </define>
  <define name="span.elem">
    <a:documentation>Generic Span: &lt;span&gt;</a:documentation>
    <element name="span">
      <interleave>
        <ref name="span.inner"/>
        <ref name="span.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="span.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <ref name="common.attrs.aria"/>
      </optional>
    </interleave>
  </define>
  <define name="span.inner">
    <ref name="common.inner.phrasing"/>
  </define>
  <!-- REVISIT allow ol and ul? -->
  <define name="common.elem.phrasing" combine="choice">
    <ref name="span.elem"/>
  </define>
  <define name="bdo.elem">
    <a:documentation>Bidirectional Override: &lt;bdo&gt;</a:documentation>
    <element name="bdo">
      <interleave>
        <ref name="bdo.inner"/>
        <ref name="bdo.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="bdo.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <ref name="common.attrs.aria"/>
      </optional>
    </interleave>
  </define>
  <define name="bdo.inner">
    <ref name="common.inner.phrasing"/>
  </define>
  <define name="common.elem.phrasing" combine="choice">
    <ref name="bdo.elem"/>
  </define>
  <define name="bdi.elem">
    <a:documentation>Bidirectional Isolate: &lt;bdi&gt;</a:documentation>
    <element name="bdi">
      <interleave>
        <ref name="bdi.inner"/>
        <ref name="bdi.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="bdi.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <ref name="common.attrs.aria"/>
      </optional>
    </interleave>
  </define>
  <define name="bdi.inner">
    <ref name="common.inner.phrasing"/>
  </define>
  <define name="common.elem.phrasing" combine="choice">
    <ref name="bdi.elem"/>
  </define>
  <define name="br.elem">
    <a:documentation>Line Break: &lt;br&gt;</a:documentation>
    <element name="br">
      <interleave>
        <ref name="br.inner"/>
        <ref name="br.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="br.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <ref name="common.attrs.aria.role.presentation"/>
      </optional>
    </interleave>
  </define>
  <define name="br.inner">
    <empty/>
  </define>
  <define name="common.elem.phrasing" combine="choice">
    <ref name="br.elem"/>
  </define>
  <define name="wbr.elem">
    <a:documentation>Line-break opportunity: &lt;wbr&gt;</a:documentation>
    <element name="wbr">
      <interleave>
        <ref name="wbr.inner"/>
        <ref name="wbr.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="wbr.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <ref name="common.attrs.aria.role.presentation"/>
      </optional>
    </interleave>
  </define>
  <define name="wbr.inner">
    <empty/>
  </define>
  <define name="common.elem.phrasing" combine="choice">
    <ref name="wbr.elem"/>
  </define>
  <!-- Inlined from block.rng -->
<!-- ##################################################################### -->
  <define name="p.elem">
    <a:documentation> RELAX NG Schema for HTML 5: Basic Prose Markup                    #</a:documentation>
    <!-- ##################################################################### -->
    <!-- ##################################################################### -->
    <a:documentation>Paragraph-Level</a:documentation>
    <a:documentation>Paragraph: &lt;p&gt;</a:documentation>
    <element name="p">
      <interleave>
        <ref name="p.inner"/>
        <ref name="p.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="p.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <ref name="common.attrs.aria"/>
      </optional>
    </interleave>
  </define>
  <define name="p.inner">
    <ref name="common.inner.phrasing"/>
  </define>
  <!-- REVISIT lists in span? -->
  <define name="common.elem.flow" combine="choice">
    <ref name="p.elem"/>
  </define>
  <define name="hr.elem">
    <a:documentation>Hint Transition: &lt;hr&gt;</a:documentation>
    <element name="hr">
      <interleave>
        <ref name="hr.inner"/>
        <ref name="hr.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="hr.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <choice>
          <ref name="common.attrs.aria.implicit.separator"/>
          <ref name="common.attrs.aria.role.separator"/>
          <ref name="common.attrs.aria.role.presentation"/>
          <ref name="common.attrs.aria.role.doc-pagebreak"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="hr.inner">
    <empty/>
  </define>
  <define name="common.elem.flow" combine="choice">
    <ref name="hr.elem"/>
  </define>
  <!-- ##################################################################### -->
  <define name="pre.elem">
    <a:documentation>Preformatting Blocks</a:documentation>
    <a:documentation>Preformatted Text: &lt;pre&gt;</a:documentation>
    <element name="pre">
      <interleave>
        <ref name="pre.inner"/>
        <ref name="pre.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="pre.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <ref name="common.attrs.aria"/>
      </optional>
    </interleave>
  </define>
  <define name="pre.inner">
    <ref name="common.inner.phrasing"/>
  </define>
  <define name="common.elem.flow" combine="choice">
    <ref name="pre.elem"/>
  </define>
  <!-- ##################################################################### -->
  <define name="ul.elem">
    <a:documentation>Simple Lists</a:documentation>
    <a:documentation>Unordered List: &lt;ul&gt;</a:documentation>
    <element name="ul">
      <interleave>
        <ref name="ul.inner"/>
        <ref name="ul.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="ul.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <choice>
          <choice>
            <ref name="common.attrs.aria.role.directory"/>
            <ref name="common.attrs.aria.role.group"/>
            <ref name="common.attrs.aria.role.list"/>
            <ref name="common.attrs.aria.role.listbox"/>
            <ref name="common.attrs.aria.role.menu"/>
            <ref name="common.attrs.aria.role.menubar"/>
            <ref name="common.attrs.aria.role.radiogroup"/>
            <ref name="common.attrs.aria.role.tablist"/>
            <ref name="common.attrs.aria.role.toolbar"/>
            <ref name="common.attrs.aria.role.tree"/>
            <ref name="common.attrs.aria.role.presentation"/>
          </choice>
          <ref name="common.attrs.aria.implicit.list"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="ul.inner">
    <interleave>
      <zeroOrMore>
        <ref name="li.elem"/>
      </zeroOrMore>
      <zeroOrMore>
        <ref name="common.elem.script-supporting"/>
      </zeroOrMore>
    </interleave>
  </define>
  <define name="common.elem.flow" combine="choice">
    <ref name="ul.elem"/>
  </define>
  <define name="li.elem">
    <a:documentation>Unordered List Item: &lt;li&gt;</a:documentation>
    <element name="li">
      <interleave>
        <ref name="li.inner"/>
        <ref name="li.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="li.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <choice>
          <ref name="common.attrs.aria.implicit.listitem"/>
          <ref name="common.attrs.aria.role.listitem"/>
          <ref name="common.attrs.aria.role.menuitem"/>
          <ref name="common.attrs.aria.role.menuitemcheckbox"/>
          <ref name="common.attrs.aria.role.menuitemradio"/>
          <ref name="common.attrs.aria.role.option"/>
          <ref name="common.attrs.aria.role.radio"/>
          <ref name="common.attrs.aria.role.tab"/>
          <ref name="common.attrs.aria.role.treeitem"/>
          <ref name="common.attrs.aria.role.separator"/>
          <ref name="common.attrs.aria.role.presentation"/>
          <ref name="common.attrs.aria.role.doc-biblioentry"/>
          <ref name="common.attrs.aria.role.doc-endnote"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="li.inner">
    <ref name="common.inner.flow"/>
  </define>
  <define name="ol.elem">
    <a:documentation>Ordered List: &lt;ol&gt;</a:documentation>
    <element name="ol">
      <interleave>
        <ref name="ol.inner"/>
        <ref name="ol.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="ol.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <ref name="ol.attrs.start"/>
      </optional>
      <optional>
        <ref name="ol.attrs.reversed"/>
      </optional>
      <optional>
        <ref name="ol.attrs.type"/>
      </optional>
      <optional>
        <choice>
          <choice>
            <ref name="common.attrs.aria.role.directory"/>
            <ref name="common.attrs.aria.role.group"/>
            <ref name="common.attrs.aria.role.list"/>
            <ref name="common.attrs.aria.role.listbox"/>
            <ref name="common.attrs.aria.role.menu"/>
            <ref name="common.attrs.aria.role.menubar"/>
            <ref name="common.attrs.aria.role.radiogroup"/>
            <ref name="common.attrs.aria.role.tablist"/>
            <ref name="common.attrs.aria.role.toolbar"/>
            <ref name="common.attrs.aria.role.tree"/>
            <ref name="common.attrs.aria.role.presentation"/>
          </choice>
          <ref name="common.attrs.aria.implicit.list"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="ol.attrs.start">
    <attribute name="start">
      <ref name="common.data.integer"/>
    </attribute>
  </define>
  <define name="ol.attrs.reversed">
    <attribute name="reversed">
      <choice>
        <value>reversed</value>
        <value/>
      </choice>
    </attribute>
  </define>
  <define name="ol.attrs.type">
    <attribute name="type">
      <choice>
        <value>1</value>
        <value>a</value>
        <value>A</value>
        <value>i</value>
        <value>I</value>
      </choice>
    </attribute>
  </define>
  <define name="ol.inner">
    <interleave>
      <zeroOrMore>
        <ref name="oli.elem"/>
      </zeroOrMore>
      <zeroOrMore>
        <ref name="common.elem.script-supporting"/>
      </zeroOrMore>
    </interleave>
  </define>
  <define name="common.elem.flow" combine="choice">
    <ref name="ol.elem"/>
  </define>
  <define name="oli.elem">
    <a:documentation>Ordered List Item: &lt;li&gt;</a:documentation>
    <element name="li">
      <interleave>
        <ref name="oli.inner"/>
        <ref name="oli.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="oli.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <ref name="oli.attrs.value"/>
      </optional>
      <optional>
        <choice>
          <ref name="common.attrs.aria.implicit.listitem"/>
          <ref name="common.attrs.aria.role.listitem"/>
          <ref name="common.attrs.aria.role.menuitem"/>
          <ref name="common.attrs.aria.role.menuitemcheckbox"/>
          <ref name="common.attrs.aria.role.menuitemradio"/>
          <ref name="common.attrs.aria.role.option"/>
          <ref name="common.attrs.aria.role.radio"/>
          <ref name="common.attrs.aria.role.tab"/>
          <ref name="common.attrs.aria.role.treeitem"/>
          <ref name="common.attrs.aria.role.separator"/>
          <ref name="common.attrs.aria.role.presentation"/>
          <ref name="common.attrs.aria.role.doc-biblioentry"/>
          <ref name="common.attrs.aria.role.doc-endnote"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="oli.attrs.value">
    <attribute name="value">
      <ref name="common.data.integer"/>
    </attribute>
  </define>
  <define name="oli.inner">
    <ref name="common.inner.flow"/>
  </define>
  <!-- ##################################################################### -->
  <define name="dl.elem">
    <a:documentation>Definition Lists</a:documentation>
    <a:documentation>Definition List: &lt;dl&gt;</a:documentation>
    <element name="dl">
      <interleave>
        <ref name="dl.inner"/>
        <ref name="dl.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="dl.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <choice>
          <ref name="common.attrs.aria.role.list"/>
          <ref name="common.attrs.aria.role.group"/>
          <ref name="common.attrs.aria.role.presentation"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="dl.inner">
    <choice>
      <zeroOrMore>
        <oneOrMore>
          <interleave>
            <ref name="dt.elem"/>
            <zeroOrMore>
              <ref name="common.elem.script-supporting"/>
            </zeroOrMore>
          </interleave>
        </oneOrMore>
        <oneOrMore>
          <interleave>
            <ref name="dd.elem"/>
            <zeroOrMore>
              <ref name="common.elem.script-supporting"/>
            </zeroOrMore>
          </interleave>
        </oneOrMore>
      </zeroOrMore>
      <oneOrMore>
        <interleave>
          <ref name="dldiv.elem"/>
          <zeroOrMore>
            <ref name="common.elem.script-supporting"/>
          </zeroOrMore>
        </interleave>
      </oneOrMore>
      <zeroOrMore>
        <ref name="common.elem.script-supporting"/>
      </zeroOrMore>
    </choice>
  </define>
  <define name="common.elem.flow" combine="choice">
    <ref name="dl.elem"/>
  </define>
  <define name="dt.elem">
    <a:documentation>Definition Term: &lt;dt&gt;</a:documentation>
    <element name="dt">
      <interleave>
        <ref name="dt.inner"/>
        <ref name="dt.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="dt.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <choice>
        <ref name="common.attrs.aria.implicit.term"/>
        <ref name="common.attrs.aria.role.term"/>
        <ref name="common.attrs.aria.role.listitem"/>
      </choice>
    </interleave>
  </define>
  <define name="dt.inner">
    <ref name="common.inner.flow"/>
  </define>
  <define name="dd.elem">
    <a:documentation>Definition Description: &lt;dd&gt;</a:documentation>
    <element name="dd">
      <interleave>
        <ref name="dd.inner"/>
        <ref name="dd.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="dd.elem.phrasing">
    <element name="dd">
      <interleave>
        <ref name="dd.inner.phrasing"/>
        <ref name="dd.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="dd.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <choice>
        <ref name="common.attrs.aria.implicit.definition"/>
        <ref name="common.attrs.aria.role.definition"/>
      </choice>
    </interleave>
  </define>
  <define name="dd.inner">
    <ref name="common.inner.flow"/>
  </define>
  <define name="dd.inner.phrasing">
    <ref name="common.inner.phrasing"/>
  </define>
  <!-- ##################################################################### -->
  <define name="div.elem">
    <a:documentation>Miscellaneous Elements</a:documentation>
    <a:documentation>Generic Container: &lt;div&gt;</a:documentation>
    <element name="div">
      <interleave>
        <ref name="div.inner"/>
        <ref name="div.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="div.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <ref name="common.attrs.aria"/>
      </optional>
    </interleave>
  </define>
  <define name="div.inner">
    <ref name="common.inner.flow"/>
  </define>
  <define name="common.elem.flow" combine="choice">
    <ref name="div.elem"/>
  </define>
  <define name="dldiv.elem">
    <element name="div">
      <interleave>
        <ref name="dldiv.inner"/>
        <ref name="div.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="dldiv.inner">
    <oneOrMore>
      <interleave>
        <ref name="dt.elem"/>
        <zeroOrMore>
          <ref name="common.elem.script-supporting"/>
        </zeroOrMore>
      </interleave>
    </oneOrMore>
    <oneOrMore>
      <interleave>
        <ref name="dd.elem"/>
        <zeroOrMore>
          <ref name="common.elem.script-supporting"/>
        </zeroOrMore>
      </interleave>
    </oneOrMore>
  </define>
  <define name="legend.elem">
    <a:documentation>Title or Explanatory Caption: &lt;legend&gt;</a:documentation>
    <element name="legend">
      <interleave>
        <ref name="legend.inner"/>
        <ref name="legend.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="legend.attrs">
    <ref name="common.attrs"/>
  </define>
  <define name="legend.inner">
    <interleave>
      <ref name="common.inner.phrasing"/>
      <optional>
        <ref name="h1.elem"/>
      </optional>
      <optional>
        <ref name="h2.elem"/>
      </optional>
      <optional>
        <ref name="h3.elem"/>
      </optional>
      <optional>
        <ref name="h4.elem"/>
      </optional>
      <optional>
        <ref name="h5.elem"/>
      </optional>
      <optional>
        <ref name="h6.elem"/>
      </optional>
      <optional>
        <ref name="hgroup.elem"/>
      </optional>
    </interleave>
  </define>
  <!-- Inlined from sectional.rng -->
<!-- ##################################################################### -->
  <define name="h1.elem">
    <a:documentation> RELAX NG Schema for HTML 5: Sectioning Markup                     #</a:documentation>
    <!-- ##################################################################### -->
    <!-- ##################################################################### -->
    <a:documentation>Headings</a:documentation>
    <a:documentation>Heading (Rank 1): &lt;h1&gt;</a:documentation>
    <element name="h1">
      <interleave>
        <ref name="h1.inner"/>
        <ref name="h1.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="h1.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <choice>
          <ref name="common.attrs.aria.implicit.heading"/>
          <ref name="common.attrs.aria.role.heading"/>
          <ref name="common.attrs.aria.role.tab"/>
          <ref name="common.attrs.aria.role.presentation"/>
          <ref name="common.attrs.aria.role.doc-subtitle"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="h1.inner">
    <ref name="common.inner.phrasing"/>
  </define>
  <define name="common.elem.flow" combine="choice">
    <ref name="h1.elem"/>
  </define>
  <define name="h2.elem">
    <a:documentation>Heading (Rank 2): &lt;h2&gt;</a:documentation>
    <element name="h2">
      <interleave>
        <ref name="h2.inner"/>
        <ref name="h2.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="h2.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <choice>
          <ref name="common.attrs.aria.implicit.heading"/>
          <ref name="common.attrs.aria.role.heading"/>
          <ref name="common.attrs.aria.role.tab"/>
          <ref name="common.attrs.aria.role.presentation"/>
          <ref name="common.attrs.aria.role.doc-subtitle"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="h2.inner">
    <ref name="common.inner.phrasing"/>
  </define>
  <define name="common.elem.flow" combine="choice">
    <ref name="h2.elem"/>
  </define>
  <define name="h3.elem">
    <a:documentation>Heading (Rank 3): &lt;h3&gt;</a:documentation>
    <element name="h3">
      <interleave>
        <ref name="h3.inner"/>
        <ref name="h3.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="h3.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <choice>
          <ref name="common.attrs.aria.implicit.heading"/>
          <ref name="common.attrs.aria.role.heading"/>
          <ref name="common.attrs.aria.role.tab"/>
          <ref name="common.attrs.aria.role.presentation"/>
          <ref name="common.attrs.aria.role.doc-subtitle"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="h3.inner">
    <ref name="common.inner.phrasing"/>
  </define>
  <define name="common.elem.flow" combine="choice">
    <ref name="h3.elem"/>
  </define>
  <define name="h4.elem">
    <a:documentation>Heading (Rank 4): &lt;h4&gt;</a:documentation>
    <element name="h4">
      <interleave>
        <ref name="h4.inner"/>
        <ref name="h4.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="h4.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <choice>
          <ref name="common.attrs.aria.implicit.heading"/>
          <ref name="common.attrs.aria.role.heading"/>
          <ref name="common.attrs.aria.role.tab"/>
          <ref name="common.attrs.aria.role.presentation"/>
          <ref name="common.attrs.aria.role.doc-subtitle"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="h4.inner">
    <ref name="common.inner.phrasing"/>
  </define>
  <define name="common.elem.flow" combine="choice">
    <ref name="h4.elem"/>
  </define>
  <define name="h5.elem">
    <a:documentation>Heading (Rank 5): &lt;h5&gt;</a:documentation>
    <element name="h5">
      <interleave>
        <ref name="h5.inner"/>
        <ref name="h5.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="h5.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <choice>
          <ref name="common.attrs.aria.implicit.heading"/>
          <ref name="common.attrs.aria.role.heading"/>
          <ref name="common.attrs.aria.role.tab"/>
          <ref name="common.attrs.aria.role.presentation"/>
          <ref name="common.attrs.aria.role.doc-subtitle"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="h5.inner">
    <ref name="common.inner.phrasing"/>
  </define>
  <define name="common.elem.flow" combine="choice">
    <ref name="h5.elem"/>
  </define>
  <define name="h6.elem">
    <a:documentation>Heading (Rank 6): &lt;h6&gt;</a:documentation>
    <element name="h6">
      <interleave>
        <ref name="h6.inner"/>
        <ref name="h6.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="h6.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <choice>
          <ref name="common.attrs.aria.implicit.heading"/>
          <ref name="common.attrs.aria.role.heading"/>
          <ref name="common.attrs.aria.role.tab"/>
          <ref name="common.attrs.aria.role.presentation"/>
          <ref name="common.attrs.aria.role.doc-subtitle"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="h6.inner">
    <ref name="common.inner.phrasing"/>
  </define>
  <define name="common.elem.flow" combine="choice">
    <ref name="h6.elem"/>
  </define>
  <define name="hgroup.elem">
    <a:documentation>Heading Group: &lt;hgroup&gt;</a:documentation>
    <element name="hgroup">
      <interleave>
        <ref name="hgroup.inner"/>
        <ref name="hgroup.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="hgroup.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <ref name="common.attrs.aria"/>
      </optional>
    </interleave>
  </define>
  <define name="hgroup.inner">
    <interleave>
      <choice>
        <ref name="h1.elem"/>
        <ref name="h2.elem"/>
        <ref name="h3.elem"/>
        <ref name="h4.elem"/>
        <ref name="h5.elem"/>
        <ref name="h6.elem"/>
      </choice>
      <zeroOrMore>
        <ref name="p.elem"/>
      </zeroOrMore>
      <zeroOrMore>
        <ref name="common.elem.script-supporting"/>
      </zeroOrMore>
    </interleave>
  </define>
  <define name="common.elem.flow" combine="choice">
    <ref name="hgroup.elem"/>
  </define>
  <!-- ##################################################################### -->
  <define name="address.elem">
    <a:documentation>Section Meta</a:documentation>
    <a:documentation>Contact Info: &lt;address&gt;</a:documentation>
    <element name="address">
      <interleave>
        <ref name="address.inner"/>
        <ref name="address.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="address.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <ref name="common.attrs.aria"/>
      </optional>
    </interleave>
  </define>
  <define name="address.inner">
    <ref name="common.inner.flow"/>
  </define>
  <define name="common.elem.flow" combine="choice">
    <ref name="address.elem"/>
  </define>
  <!-- ##################################################################### -->
  <define name="blockquote.elem">
    <a:documentation>Quotations	</a:documentation>
    <a:documentation>Block Quotes: &lt;blockquote&gt;</a:documentation>
    <element name="blockquote">
      <interleave>
        <ref name="blockquote.inner"/>
        <ref name="blockquote.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="blockquote.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <ref name="blockquote.attrs.cite"/>
      </optional>
      <optional>
        <ref name="common.attrs.aria"/>
      </optional>
    </interleave>
  </define>
  <define name="blockquote.attrs.cite">
    <attribute name="cite">
      <ref name="common.data.uri"/>
    </attribute>
  </define>
  <define name="blockquote.inner">
    <ref name="common.inner.flow"/>
  </define>
  <define name="common.elem.flow" combine="choice">
    <ref name="blockquote.elem"/>
  </define>
  <!-- Inlined from structural.rng -->
<!-- ##################################################################### -->
  <define name="section.elem">
    <a:documentation> RELAX NG Schema for HTML 5: Block Markup Added in HTML5           #</a:documentation>
    <!-- ##################################################################### -->
    <a:documentation>Section: &lt;section&gt;</a:documentation>
    <element name="section">
      <interleave>
        <ref name="section.inner"/>
        <ref name="section.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="section.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <choice>
          <ref name="common.attrs.aria.implicit.region"/>
          <ref name="common.attrs.aria.role.alert"/>
          <ref name="common.attrs.aria.role.alertdialog"/>
          <ref name="common.attrs.aria.role.application"/>
          <ref name="common.attrs.aria.role.dialog"/>
          <ref name="common.attrs.aria.role.feed"/>
          <ref name="common.attrs.aria.role.group"/>
          <ref name="common.attrs.aria.role.log"/>
          <ref name="common.attrs.aria.role.marquee"/>
          <ref name="common.attrs.aria.role.presentation"/>
          <ref name="common.attrs.aria.role.region"/>
          <ref name="common.attrs.aria.role.status"/>
          <ref name="common.attrs.aria.role.tabpanel"/>
          <ref name="common.attrs.aria.landmark.banner"/>
          <ref name="common.attrs.aria.landmark.complementary"/>
          <ref name="common.attrs.aria.landmark.contentinfo"/>
          <ref name="common.attrs.aria.landmark.document"/>
          <ref name="common.attrs.aria.landmark.main"/>
          <ref name="common.attrs.aria.landmark.navigation"/>
          <ref name="common.attrs.aria.landmark.note"/>
          <ref name="common.attrs.aria.landmark.search"/>
          <ref name="common.attrs.aria.role.doc-abstract"/>
          <ref name="common.attrs.aria.role.doc-acknowledgments"/>
          <ref name="common.attrs.aria.role.doc-afterword"/>
          <ref name="common.attrs.aria.role.doc-appendix"/>
          <ref name="common.attrs.aria.role.doc-bibliography"/>
          <ref name="common.attrs.aria.role.doc-chapter"/>
          <ref name="common.attrs.aria.role.doc-colophon"/>
          <ref name="common.attrs.aria.role.doc-conclusion"/>
          <ref name="common.attrs.aria.role.doc-credit"/>
          <ref name="common.attrs.aria.role.doc-credits"/>
          <ref name="common.attrs.aria.role.doc-dedication"/>
          <ref name="common.attrs.aria.role.doc-endnotes"/>
          <ref name="common.attrs.aria.role.doc-epigraph"/>
          <ref name="common.attrs.aria.role.doc-epilogue"/>
          <ref name="common.attrs.aria.role.doc-errata"/>
          <ref name="common.attrs.aria.role.doc-example"/>
          <ref name="common.attrs.aria.role.doc-foreword"/>
          <ref name="common.attrs.aria.role.doc-glossary"/>
          <ref name="common.attrs.aria.role.doc-index"/>
          <ref name="common.attrs.aria.role.doc-introduction"/>
          <ref name="common.attrs.aria.role.doc-notice"/>
          <ref name="common.attrs.aria.role.doc-pagelist"/>
          <ref name="common.attrs.aria.role.doc-part"/>
          <ref name="common.attrs.aria.role.doc-preface"/>
          <ref name="common.attrs.aria.role.doc-prologue"/>
          <ref name="common.attrs.aria.role.doc-pullquote"/>
          <ref name="common.attrs.aria.role.doc-qna"/>
          <ref name="common.attrs.aria.role.doc-toc"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="section.inner">
    <ref name="common.inner.flow"/>
  </define>
  <define name="common.elem.flow" combine="choice">
    <ref name="section.elem"/>
  </define>
  <define name="nav.elem">
    <a:documentation>Navigational Links: &lt;nav&gt;</a:documentation>
    <element name="nav">
      <interleave>
        <ref name="nav.inner"/>
        <ref name="nav.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="nav.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <choice>
          <ref name="common.attrs.aria.implicit.navigation"/>
          <ref name="common.attrs.aria.landmark.navigation"/>
          <ref name="common.attrs.aria.role.doc-index"/>
          <ref name="common.attrs.aria.role.doc-pagelist"/>
          <ref name="common.attrs.aria.role.doc-toc"/>
          <ref name="common.attrs.aria.role.menu"/>
          <ref name="common.attrs.aria.role.menubar"/>
          <ref name="common.attrs.aria.role.none"/>
          <ref name="common.attrs.aria.role.presentation"/>
          <ref name="common.attrs.aria.role.tablist"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="nav.inner">
    <ref name="common.inner.flow"/>
  </define>
  <define name="common.elem.flow" combine="choice">
    <ref name="nav.elem"/>
  </define>
  <define name="article.elem">
    <a:documentation>Article: &lt;article&gt;</a:documentation>
    <element name="article">
      <interleave>
        <ref name="article.inner"/>
        <ref name="article.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="article.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <choice>
          <ref name="common.attrs.aria.implicit.article"/>
          <ref name="common.attrs.aria.landmark.article"/>
          <ref name="common.attrs.aria.landmark.document"/>
          <ref name="common.attrs.aria.role.application"/>
          <ref name="common.attrs.aria.landmark.main"/>
          <ref name="common.attrs.aria.role.feed"/>
          <ref name="common.attrs.aria.role.region"/>
          <ref name="common.attrs.aria.role.presentation"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="article.inner">
    <ref name="common.inner.flow"/>
  </define>
  <define name="common.elem.flow" combine="choice">
    <ref name="article.elem"/>
  </define>
  <define name="aside.elem">
    <a:documentation>Tangential Aside: &lt;aside&gt;</a:documentation>
    <element name="aside">
      <interleave>
        <ref name="aside.inner"/>
        <ref name="aside.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="aside.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <choice>
          <ref name="common.attrs.aria.implicit.complementary"/>
          <ref name="common.attrs.aria.landmark.note"/>
          <ref name="common.attrs.aria.landmark.complementary"/>
          <ref name="common.attrs.aria.landmark.search"/>
          <ref name="common.attrs.aria.role.feed"/>
          <ref name="common.attrs.aria.role.region"/>
          <ref name="common.attrs.aria.role.presentation"/>
          <ref name="common.attrs.aria.role.doc-dedication"/>
          <ref name="common.attrs.aria.role.doc-example"/>
          <ref name="common.attrs.aria.role.doc-footnote"/>
          <ref name="common.attrs.aria.role.doc-glossary"/>
          <ref name="common.attrs.aria.role.doc-pullquote"/>
          <ref name="common.attrs.aria.role.doc-tip"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="aside.inner">
    <ref name="common.inner.flow"/>
  </define>
  <define name="common.elem.flow" combine="choice">
    <ref name="aside.elem"/>
  </define>
  <define name="header.elem">
    <a:documentation>Header: &lt;header&gt;</a:documentation>
    <element name="header">
      <interleave>
        <ref name="header.inner"/>
        <ref name="header.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="header.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <choice>
          <ref name="common.attrs.aria.implicit.banner"/>
          <ref name="common.attrs.aria.landmark.banner"/>
          <ref name="common.attrs.aria.role.group"/>
          <ref name="common.attrs.aria.role.presentation"/>
          <ref name="common.attrs.aria.role.doc-footnote"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="header.inner">
    <ref name="common.inner.flow"/>
  </define>
  <define name="common.elem.flow" combine="choice">
    <ref name="header.elem"/>
  </define>
  <define name="footer.elem">
    <a:documentation>Footer: &lt;footer&gt;</a:documentation>
    <element name="footer">
      <interleave>
        <ref name="footer.inner"/>
        <ref name="footer.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="footer.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <choice>
          <ref name="common.attrs.aria.implicit.contentinfo"/>
          <ref name="common.attrs.aria.landmark.contentinfo"/>
          <ref name="common.attrs.aria.role.group"/>
          <ref name="common.attrs.aria.role.presentation"/>
          <ref name="common.attrs.aria.role.doc-footnote"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="footer.inner">
    <ref name="common.inner.flow"/>
  </define>
  <define name="common.elem.flow" combine="choice">
    <ref name="footer.elem"/>
  </define>
  <define name="main.elem">
    <a:documentation>main content: &lt;main&gt;</a:documentation>
    <element name="main">
      <interleave>
        <ref name="main.inner"/>
        <ref name="main.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="main.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <choice>
          <ref name="common.attrs.aria.implicit.main"/>
          <ref name="common.attrs.aria.landmark.main"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="main.inner">
    <ref name="common.inner.flow"/>
  </define>
  <define name="common.elem.flow" combine="choice">
    <ref name="main.elem"/>
  </define>
  <define name="search.elem">
    <a:documentation>Search: &lt;search&gt;</a:documentation>
    <element name="search">
      <interleave>
        <ref name="search.inner"/>
        <ref name="search.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="search.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <choice>
          <ref name="common.attrs.aria.implicit.search"/>
          <ref name="common.attrs.aria.landmark.search"/>
          <ref name="common.attrs.aria.landmark.form"/>
          <ref name="common.attrs.aria.role.group"/>
          <ref name="common.attrs.aria.role.none"/>
          <ref name="common.attrs.aria.role.presentation"/>
          <ref name="common.attrs.aria.role.region"/>
          <ref name="common.attrs.aria.role.search"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="search.inner">
    <ref name="common.inner.flow"/>
  </define>
  <define name="common.elem.flow" combine="choice">
    <ref name="search.elem"/>
  </define>
  <!-- Inlined from revision.rng -->
<!-- ##################################################################### -->
  <define name="edit.attrs.cite">
    <a:documentation> RELAX NG Schema for HTML 5: Revision Annotations                  #</a:documentation>
    <!-- ##################################################################### -->
    <a:documentation>Common Attributes</a:documentation>
    <attribute name="cite">
      <ref name="common.data.uri"/>
    </attribute>
  </define>
  <define name="edit.attrs.datetime">
    <attribute name="datetime">
      <choice>
        <ref name="common.data.datetime"/>
        <ref name="common.data.date"/>
      </choice>
    </attribute>
  </define>
  <define name="ins.elem.flow">
    <a:documentation>Inserts: &lt;ins&gt;</a:documentation>
    <element name="ins">
      <interleave>
        <ref name="ins.inner.flow"/>
        <ref name="ins.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="ins.elem.phrasing">
    <element name="ins">
      <interleave>
        <ref name="ins.inner.phrasing"/>
        <ref name="ins.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="ins.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <ref name="edit.attrs.cite"/>
      </optional>
      <optional>
        <ref name="edit.attrs.datetime"/>
      </optional>
      <optional>
        <ref name="common.attrs.aria"/>
      </optional>
    </interleave>
  </define>
  <define name="ins.inner.flow">
    <ref name="common.inner.transparent.flow"/>
  </define>
  <define name="ins.inner.phrasing">
    <ref name="common.inner.phrasing"/>
  </define>
  <define name="common.elem.flow" combine="choice">
    <ref name="ins.elem.flow"/>
  </define>
  <define name="common.elem.phrasing" combine="choice">
    <ref name="ins.elem.phrasing"/>
  </define>
  <define name="del.elem.flow">
    <a:documentation>Deletions: &lt;del&gt;</a:documentation>
    <element name="del">
      <interleave>
        <ref name="del.inner.flow"/>
        <ref name="del.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="del.elem.phrasing">
    <element name="del">
      <interleave>
        <ref name="del.inner.phrasing"/>
        <ref name="del.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="del.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <ref name="edit.attrs.cite"/>
      </optional>
      <optional>
        <ref name="edit.attrs.datetime"/>
      </optional>
      <optional>
        <ref name="common.attrs.aria"/>
      </optional>
    </interleave>
  </define>
  <define name="del.inner.flow">
    <ref name="common.inner.transparent.flow"/>
  </define>
  <define name="del.inner.phrasing">
    <ref name="common.inner.phrasing"/>
  </define>
  <define name="common.elem.flow" combine="choice">
    <ref name="del.elem.flow"/>
  </define>
  <define name="common.elem.phrasing" combine="choice">
    <ref name="del.elem.phrasing"/>
  </define>
  <!-- Inlined from embed.rng -->
<!-- ##################################################################### -->
  <define name="shared-img.attrs">
    <a:documentation> RELAX NG Schema for HTML 5: Embedded Content                      #</a:documentation>
    <!-- ##################################################################### -->
    <a:documentation>
Replaced Content</a:documentation>
    <a:documentation>Images: &lt;img&gt;</a:documentation>
    <interleave>
      <ref name="common.attrs"/>
      <ref name="img.attrs.src"/>
      <optional>
        <ref name="img.attrs.srcset"/>
      </optional>
      <optional>
        <ref name="img.attrs.sizes"/>
      </optional>
      <optional>
        <ref name="img.attrs.generator-unable-to-provide-required-alt"/>
      </optional>
      <optional>
        <ref name="img.attrs.height"/>
      </optional>
      <optional>
        <ref name="img.attrs.width"/>
      </optional>
      <optional>
        <ref name="img.attrs.usemap"/>
      </optional>
      <optional>
        <ref name="img.attrs.ismap"/>
      </optional>
      <optional>
        <ref name="img.attrs.decoding"/>
      </optional>
      <optional>
        <ref name="img.attrs.loading"/>
      </optional>
      <optional>
        <ref name="common.attrs.fetchpriority"/>
      </optional>
      <optional>
        <ref name="img.attrs.border"/>
      </optional>
      <optional>
        <!-- obsolete -->
        <ref name="referrerpolicy"/>
      </optional>
      <optional>
        <ref name="embedded.content.attrs.crossorigin"/>
      </optional>
    </interleave>
  </define>
  <define name="img.elem">
    <element name="img">
      <interleave>
        <ref name="img.inner"/>
        <ref name="img.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="img.attrs">
    <interleave>
      <ref name="shared-img.attrs"/>
      <optional>
        <ref name="img.attrs.alt"/>
      </optional>
      <optional>
        <choice>
          <ref name="common.attrs.aria.implicit.img"/>
          <ref name="common.attrs.aria.role.button"/>
          <ref name="common.attrs.aria.role.checkbox"/>
          <ref name="common.attrs.aria.role.img"/>
          <ref name="common.attrs.aria.role.link"/>
          <ref name="common.attrs.aria.role.math"/>
          <ref name="common.attrs.aria.role.menuitem"/>
          <ref name="common.attrs.aria.role.menuitemcheckbox"/>
          <ref name="common.attrs.aria.role.menuitemradio"/>
          <ref name="common.attrs.aria.role.none"/>
          <ref name="common.attrs.aria.role.option"/>
          <ref name="common.attrs.aria.role.presentation"/>
          <ref name="common.attrs.aria.role.progressbar"/>
          <ref name="common.attrs.aria.role.radio"/>
          <ref name="common.attrs.aria.role.scrollbar"/>
          <ref name="common.attrs.aria.role.separator"/>
          <ref name="common.attrs.aria.role.slider"/>
          <ref name="common.attrs.aria.role.switch"/>
          <ref name="common.attrs.aria.role.tab"/>
          <ref name="common.attrs.aria.role.treeitem"/>
          <ref name="common.attrs.aria.role.doc-cover"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="img.attrs.src">
    <attribute name="src">
      <ref name="common.data.uri.non-empty"/>
    </attribute>
  </define>
  <define name="img.attrs.srcset">
    <interleave>
      <attribute name="srcset">
        <data type="string"/>
      </attribute>
      <ref name="v5only"/>
    </interleave>
  </define>
  <define name="img.attrs.sizes">
    <interleave>
      <attribute name="sizes">
        <ref name="common.data.source.size.list"/>
      </attribute>
      <ref name="v5only"/>
    </interleave>
  </define>
  <define name="img.attrs.alt">
    <attribute name="alt"/>
  </define>
  <define name="img.attrs.generator-unable-to-provide-required-alt">
    <attribute name="generator-unable-to-provide-required-alt">
      <value type="string"/>
    </attribute>
  </define>
  <define name="img.attrs.height">
    <attribute name="height">
      <ref name="common.data.integer.non-negative"/>
    </attribute>
  </define>
  <define name="img.attrs.width">
    <attribute name="width">
      <ref name="common.data.integer.non-negative"/>
    </attribute>
  </define>
  <define name="img.attrs.usemap">
    <attribute name="usemap">
      <ref name="common.data.hash-name"/>
    </attribute>
  </define>
  <define name="img.attrs.ismap">
    <attribute name="ismap">
      <choice>
        <value>ismap</value>
        <value/>
      </choice>
    </attribute>
  </define>
  <define name="img.attrs.decoding">
    <attribute name="decoding">
      <choice>
        <value type="string">sync</value>
        <value type="string">async</value>
        <value type="string">auto</value>
      </choice>
    </attribute>
  </define>
  <define name="img.attrs.loading">
    <attribute name="loading">
      <choice>
        <value type="string">lazy</value>
        <value type="string">eager</value>
      </choice>
    </attribute>
  </define>
  <define name="img.attrs.border">
    <attribute name="border">
      <ref name="common.data.zero"/>
    </attribute>
  </define>
  <define name="img.inner">
    <empty/>
  </define>
  <define name="common.elem.phrasing" combine="choice">
    <ref name="img.elem"/>
  </define>
  <define name="picture.elem">
    <a:documentation>Image with multiple sources: &lt;picture&gt;</a:documentation>
    <interleave>
      <element name="picture">
        <interleave>
          <ref name="picture.inner"/>
          <ref name="picture.attrs"/>
        </interleave>
      </element>
      <ref name="v5only"/>
    </interleave>
  </define>
  <define name="picture.attrs">
    <ref name="common.attrs"/>
  </define>
  <define name="picture.inner">
    <interleave>
      <zeroOrMore>
        <ref name="source.picture.elem"/>
      </zeroOrMore>
      <zeroOrMore>
        <ref name="common.elem.script-supporting"/>
      </zeroOrMore>
    </interleave>
    <interleave>
      <ref name="img.elem"/>
      <zeroOrMore>
        <ref name="common.elem.script-supporting"/>
      </zeroOrMore>
    </interleave>
  </define>
  <define name="common.elem.phrasing" combine="choice">
    <ref name="picture.elem"/>
  </define>
  <define name="source.picture.elem">
    <a:documentation>Picture source: &lt;source srcset&gt;</a:documentation>
    <element name="source">
      <interleave>
        <ref name="source.picture.inner"/>
        <ref name="source.picture.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="source.picture.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <ref name="source.picture.attrs.media"/>
      </optional>
      <ref name="source.picture.attrs.srcset"/>
      <optional>
        <ref name="source.picture.attrs.sizes"/>
      </optional>
      <optional>
        <ref name="source.picture.attrs.type"/>
      </optional>
      <optional>
        <ref name="source.picture.attrs.width"/>
      </optional>
      <optional>
        <ref name="source.picture.attrs.height"/>
      </optional>
    </interleave>
  </define>
  <define name="source.picture.attrs.media">
    <attribute name="media">
      <ref name="common.data.mediaquery"/>
    </attribute>
  </define>
  <define name="source.picture.attrs.srcset">
    <attribute name="srcset">
      <data type="string"/>
    </attribute>
  </define>
  <define name="source.picture.attrs.sizes">
    <attribute name="sizes">
      <ref name="common.data.source.size.list"/>
    </attribute>
  </define>
  <define name="source.picture.attrs.type">
    <attribute name="type">
      <ref name="common.data.mimetype"/>
    </attribute>
  </define>
  <define name="source.picture.attrs.width">
    <attribute name="width">
      <ref name="common.data.integer.non-negative"/>
    </attribute>
  </define>
  <define name="source.picture.attrs.height">
    <attribute name="height">
      <ref name="common.data.integer.non-negative"/>
    </attribute>
  </define>
  <define name="source.picture.inner">
    <empty/>
  </define>
  <define name="embed.elem">
    <a:documentation>Plug-ins: &lt;embed&gt;</a:documentation>
    <element name="embed">
      <interleave>
        <ref name="embed.inner"/>
        <ref name="embed.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="embed.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <ref name="embed.attrs.src"/>
      </optional>
      <optional>
        <ref name="embed.attrs.type"/>
      </optional>
      <optional>
        <ref name="embed.attrs.height"/>
      </optional>
      <optional>
        <ref name="embed.attrs.width"/>
      </optional>
      <zeroOrMore>
        <ref name="embed.attrs.other"/>
      </zeroOrMore>
      <optional>
        <choice>
          <ref name="common.attrs.aria.role.application"/>
          <ref name="common.attrs.aria.landmark.document"/>
          <ref name="common.attrs.aria.role.img"/>
          <ref name="common.attrs.aria.role.presentation"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="embed.attrs.src">
    <attribute name="src">
      <ref name="common.data.uri.non-empty"/>
    </attribute>
  </define>
  <define name="embed.attrs.type">
    <attribute name="type">
      <ref name="common.data.mimetype"/>
    </attribute>
  </define>
  <define name="embed.attrs.height">
    <attribute name="height">
      <ref name="common.data.integer.non-negative"/>
    </attribute>
  </define>
  <define name="embed.attrs.width">
    <attribute name="width">
      <ref name="common.data.integer.non-negative"/>
    </attribute>
  </define>
  <define name="embed.attrs.other">
    <!-- REVISIT common.attrs -->
    <attribute>
      <nsName ns="">
        <except>
          <name>src</name>
          <name>type</name>
          <name>height</name>
          <name>width</name>
          <name>id</name>
          <name>is</name>
          <name>slot</name>
          <name>class</name>
          <name>title</name>
          <name>dir</name>
          <name>lang</name>
          <name>translate</name>
          <name>style</name>
          <name>tabindex</name>
          <name>autofocus</name>
          <name>inert</name>
          <name>contenteditable</name>
          <name>draggable</name>
          <name>hidden</name>
          <name>popover</name>
          <name>inputmode</name>
          <name>nonce</name>
          <name>onauxclick</name>
          <name>onbeforeinput</name>
          <name>onbeforematch</name>
          <name>onblur</name>
          <name>oncancel</name>
          <name>oncanplay</name>
          <name>oncanplaythrough</name>
          <name>onchange</name>
          <name>onclick</name>
          <name>onclose</name>
          <name>oncontextlost</name>
          <name>oncontextmenu</name>
          <name>oncontextrestored</name>
          <name>oncopy</name>
          <name>oncuechange</name>
          <name>oncut</name>
          <name>ondblclick</name>
          <name>ondrag</name>
          <name>ondragend</name>
          <name>ondragenter</name>
          <name>ondragleave</name>
          <name>ondragover</name>
          <name>ondragstart</name>
          <name>ondrop</name>
          <name>ondurationchange</name>
          <name>onemptied</name>
          <name>onended</name>
          <name>onerror</name>
          <name>onfocus</name>
          <name>onformdata</name>
          <name>oninput</name>
          <name>oninvalid</name>
          <name>onkeydown</name>
          <name>onkeypress</name>
          <name>onkeyup</name>
          <name>onload</name>
          <name>onloadeddata</name>
          <name>onloadedmetadata</name>
          <name>onloadstart</name>
          <name>onmousedown</name>
          <name>onmouseenter</name>
          <name>onmouseleave</name>
          <name>onmousemove</name>
          <name>onmouseout</name>
          <name>onmouseover</name>
          <name>onmouseup</name>
          <name>onpaste</name>
          <name>onpause</name>
          <name>onplay</name>
          <name>onplaying</name>
          <name>onprogress</name>
          <name>onratechange</name>
          <name>onreset</name>
          <name>onresize</name>
          <name>onscroll</name>
          <name>onscrollend</name>
          <name>onsecuritypolicyviolation</name>
          <name>onseeked</name>
          <name>onseeking</name>
          <name>onselect</name>
          <name>onslotchange</name>
          <name>onstalled</name>
          <name>onsubmit</name>
          <name>onsuspend</name>
          <name>ontimeupdate</name>
          <name>ontoggle</name>
          <name>onvolumechange</name>
          <name>onwaiting</name>
          <name>onwheel</name>
          <name>onpointerover</name>
          <name>onpointerenter</name>
          <name>onpointerdown</name>
          <name>onpointermove</name>
          <name>onpointerrawupdate</name>
          <name>onpointerup</name>
          <name>onpointercancel</name>
          <name>onpointerout</name>
          <name>onpointerleave</name>
          <name>ongotpointercapture</name>
          <name>onlostpointercapture</name>
          <name>role</name>
          <name>aria-atomic</name>
          <name>aria-busy</name>
          <name>aria-controls</name>
          <name>aria-current</name>
          <name>aria-details</name>
          <name>aria-describedby</name>
          <name>aria-description</name>
          <name>aria-disabled</name>
          <name>aria-dropeffect</name>
          <name>aria-errormessage</name>
          <name>aria-expanded</name>
          <name>aria-flowto</name>
          <name>aria-grabbed</name>
          <name>aria-haspopup</name>
          <name>aria-hidden</name>
          <name>aria-invalid</name>
          <name>aria-keyshortcuts</name>
          <name>aria-label</name>
          <name>aria-labelledby</name>
          <name>aria-live</name>
          <name>aria-owns</name>
          <name>aria-relevant</name>
          <name>aria-required</name>
          <name>aria-roledescription</name>
          <name>spellcheck</name>
          <name>autocapitalize</name>
          <name>enterkeyhint</name>
          <name>accesskey</name>
          <name>itemref</name>
          <name>itemprop</name>
          <name>itemscope</name>
          <name>itemtype</name>
          <name>itemid</name>
          <name>name</name>
          <name>align</name>
          <name>hspace</name>
          <name>vspace</name>
          <name>about</name>
          <name>prefix</name>
          <name>property</name>
          <name>typeof</name>
          <name>vocab</name>
          <name>content</name>
          <name>datatype</name>
          <name>href</name>
          <name>rel</name>
          <name>resource</name>
          <name>rev</name>
          <name>inlist</name>
          <name>its-loc-note</name>
          <name>its-loc-note-type</name>
          <name>its-loc-note-ref</name>
          <name>its-term-info-ref</name>
          <name>its-term</name>
          <name>its-term-confidence</name>
          <name>its-within-text</name>
          <name>its-domain-mapping</name>
          <name>its-ta-confidence</name>
          <name>its-ta-class-ref</name>
          <name>its-ta-ident</name>
          <name>its-ta-ident-ref</name>
          <name>its-ta-source</name>
          <name>its-locale-filter-list</name>
          <name>its-locale-filter-type</name>
          <name>its-person</name>
          <name>its-person-ref</name>
          <name>its-org</name>
          <name>its-org-ref</name>
          <name>its-tool</name>
          <name>its-tool-ref</name>
          <name>its-rev-person</name>
          <name>its-rev-person-ref</name>
          <name>its-rev-org</name>
          <name>its-rev-org-ref</name>
          <name>its-rev-tool</name>
          <name>its-rev-tool-ref</name>
          <name>its-prov-ref</name>
          <name>its-provenance-records-ref</name>
          <name>its-loc-quality-issues-ref</name>
          <name>its-loc-quality-issue-type</name>
          <name>its-loc-quality-issue-comment</name>
          <name>its-loc-quality-issue-severity</name>
          <name>its-loc-quality-issue-profile-ref</name>
          <name>its-loc-quality-issue-enabled</name>
          <name>its-loc-quality-rating-score</name>
          <name>its-loc-quality-rating-vote</name>
          <name>its-loc-quality-rating-score-threshold</name>
          <name>its-loc-quality-rating-vote-threshold</name>
          <name>its-loc-quality-rating-profile-ref</name>
          <name>its-mt-confidence</name>
          <name>its-allowed-characters</name>
          <name>its-storage-size</name>
          <name>its-storage-encoding</name>
          <name>its-line-break-type</name>
          <name>its-annotators-ref</name>
        </except>
      </nsName>
      <data type="string"/>
    </attribute>
  </define>
  <define name="embed.inner">
    <empty/>
  </define>
  <define name="common.elem.phrasing" combine="choice">
    <ref name="embed.elem"/>
  </define>
  <define name="object.elem.flow">
    <a:documentation>Generic Objects: &lt;object&gt;</a:documentation>
    <element name="object">
      <interleave>
        <ref name="object.inner.flow"/>
        <ref name="object.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="object.elem.phrasing">
    <element name="object">
      <interleave>
        <ref name="object.inner.phrasing"/>
        <ref name="object.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="object.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <choice>
        <interleave>
          <ref name="object.attrs.data"/>
          <optional>
            <ref name="object.attrs.type"/>
          </optional>
        </interleave>
        <ref name="object.attrs.type"/>
      </choice>
      <optional>
        <!--
          		&	object.attrs.classid?
          		&	object.attrs.codebase?
          		&	object.attrs.codetype?
        -->
        <ref name="object.attrs.height"/>
      </optional>
      <optional>
        <ref name="object.attrs.width"/>
      </optional>
      <optional>
        <ref name="object.attrs.usemap"/>
      </optional>
      <optional>
        <ref name="object.attrs.name"/>
      </optional>
      <optional>
        <ref name="common-form.attrs.form"/>
      </optional>
      <optional>
        <choice>
          <ref name="common.attrs.aria.role.application"/>
          <ref name="common.attrs.aria.landmark.document"/>
          <ref name="common.attrs.aria.role.img"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="object.attrs.data">
    <attribute name="data">
      <ref name="common.data.uri.non-empty"/>
    </attribute>
  </define>
  <define name="object.attrs.type">
    <attribute name="type">
      <ref name="common.data.mimetype"/>
    </attribute>
  </define>
  <define name="object.attrs.height">
    <attribute name="height">
      <ref name="common.data.integer.non-negative"/>
    </attribute>
  </define>
  <define name="object.attrs.width">
    <attribute name="width">
      <ref name="common.data.integer.non-negative"/>
    </attribute>
  </define>
  <define name="object.attrs.usemap">
    <attribute name="usemap">
      <ref name="common.data.hash-name"/>
    </attribute>
  </define>
  <define name="object.attrs.name">
    <attribute name="name">
      <ref name="common.data.browsing-context"/>
    </attribute>
  </define>
  <define name="object.inner.flow">
    <zeroOrMore>
      <ref name="param.elem"/>
    </zeroOrMore>
    <ref name="common.inner.transparent.flow"/>
  </define>
  <define name="object.inner.phrasing">
    <zeroOrMore>
      <ref name="param.elem"/>
    </zeroOrMore>
    <ref name="common.inner.phrasing"/>
  </define>
  <define name="common.elem.flow" combine="choice">
    <ref name="object.elem.flow"/>
  </define>
  <define name="common.elem.phrasing" combine="choice">
    <ref name="object.elem.phrasing"/>
  </define>
  <define name="param.elem">
    <a:documentation>Initialization Parameters: &lt;param&gt;</a:documentation>
    <element name="param">
      <interleave>
        <ref name="param.inner"/>
        <ref name="param.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="param.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <ref name="param.attrs.name"/>
      <ref name="param.attrs.value"/>
    </interleave>
  </define>
  <define name="param.attrs.name">
    <attribute name="name">
      <data type="string"/>
    </attribute>
  </define>
  <define name="param.attrs.value">
    <attribute name="value">
      <data type="string"/>
    </attribute>
  </define>
  <define name="param.inner">
    <empty/>
  </define>
  <define name="iframe.elem">
    <a:documentation>Inline Frame: &lt;iframe&gt;</a:documentation>
    <element name="iframe">
      <interleave>
        <ref name="iframe.inner"/>
        <ref name="iframe.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="iframe.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <ref name="iframe.attrs.src"/>
      </optional>
      <optional>
        <ref name="iframe.attrs.srcdoc"/>
      </optional>
      <optional>
        <ref name="iframe.attrs.name"/>
      </optional>
      <optional>
        <ref name="iframe.attrs.width"/>
      </optional>
      <optional>
        <ref name="iframe.attrs.height"/>
      </optional>
      <optional>
        <ref name="iframe.attrs.loading"/>
      </optional>
      <optional>
        <ref name="iframe.attrs.sandbox"/>
      </optional>
      <optional>
        <ref name="iframe.attrs.allowfullscreen"/>
      </optional>
      <optional>
        <ref name="iframe.attrs.allow"/>
      </optional>
      <optional>
        <ref name="referrerpolicy"/>
      </optional>
      <optional>
        <choice>
          <ref name="common.attrs.aria.role.application"/>
          <ref name="common.attrs.aria.landmark.document"/>
          <ref name="common.attrs.aria.role.img"/>
          <ref name="common.attrs.aria.role.presentation"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="iframe.attrs.src">
    <attribute name="src">
      <ref name="common.data.uri.non-empty"/>
    </attribute>
  </define>
  <define name="iframe.attrs.srcdoc">
    <attribute name="srcdoc">
      <data type="string"/>
      <!-- FIXME -->
    </attribute>
  </define>
  <define name="iframe.attrs.name">
    <attribute name="name">
      <ref name="common.data.browsing-context"/>
    </attribute>
  </define>
  <define name="iframe.attrs.height">
    <attribute name="height">
      <ref name="common.data.integer.non-negative"/>
    </attribute>
  </define>
  <define name="iframe.attrs.loading">
    <attribute name="loading">
      <choice>
        <value>lazy</value>
        <value>eager</value>
      </choice>
    </attribute>
  </define>
  <define name="iframe.attrs.width">
    <attribute name="width">
      <ref name="common.data.integer.non-negative"/>
    </attribute>
  </define>
  <define name="iframe.attrs.sandbox">
    <interleave>
      <attribute name="sandbox">
        <ref name="common.data.sandbox-allow-list"/>
      </attribute>
      <ref name="v5only"/>
    </interleave>
  </define>
  <define name="iframe.attrs.allowfullscreen">
    <interleave>
      <attribute name="allowfullscreen">
        <choice>
          <value>allowfullscreen</value>
          <value/>
        </choice>
      </attribute>
      <ref name="v5only"/>
    </interleave>
  </define>
  <define name="iframe.attrs.allow">
    <attribute name="allow">
      <ref name="common.data.feature-policy"/>
    </attribute>
  </define>
  <define name="iframe.inner">
    <empty/>
  </define>
  <define name="common.elem.phrasing" combine="choice">
    <ref name="iframe.elem"/>
  </define>
  <define name="map.elem.flow">
    <a:documentation>
Image Maps</a:documentation>
    <a:documentation>Map Definition: &lt;map&gt;</a:documentation>
    <element name="map">
      <interleave>
        <ref name="map.inner.flow"/>
        <ref name="map.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="map.elem.phrasing">
    <element name="map">
      <interleave>
        <ref name="map.inner.phrasing"/>
        <ref name="map.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="map.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <ref name="map.attrs.name"/>
    </interleave>
  </define>
  <!-- REVISIT make id required in Schematron -->
  <define name="map.attrs.name">
    <attribute name="name">
      <ref name="common.data.name"/>
    </attribute>
  </define>
  <define name="map.inner.flow">
    <ref name="common.inner.transparent.flow"/>
  </define>
  <define name="map.inner.phrasing">
    <ref name="common.inner.phrasing"/>
  </define>
  <define name="common.elem.flow" combine="choice">
    <ref name="map.elem.flow"/>
  </define>
  <define name="common.elem.phrasing" combine="choice">
    <ref name="map.elem.phrasing"/>
  </define>
  <define name="area.elem">
    <a:documentation>Map Area Definition: &lt;area&gt;</a:documentation>
    <element name="area">
      <interleave>
        <ref name="area.inner"/>
        <ref name="area.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="area.attrs">
    <interleave>
      <ref name="common.attrs.basic"/>
      <ref name="common.attrs.i18n"/>
      <ref name="common.attrs.present"/>
      <ref name="common.attrs.other"/>
      <optional>
        <ref name="shared-hyperlink.attrs.download"/>
      </optional>
      <optional>
        <interleave>
          <ref name="area.attrs.alt"/>
          <ref name="shared-hyperlink.attrs.href"/>
        </interleave>
      </optional>
      <optional>
        <ref name="shared-hyperlink.attrs.target"/>
      </optional>
      <optional>
        <ref name="shared-hyperlink.attrs.ping"/>
      </optional>
      <optional>
        <ref name="shared-hyperlink.attrs.rel"/>
      </optional>
      <optional>
        <ref name="shared-hyperlink.attrs.hreflang"/>
      </optional>
      <optional>
        <ref name="shared-hyperlink.attrs.type"/>
      </optional>
      <optional>
        <ref name="area.attrs.shape"/>
      </optional>
      <optional>
        <choice>
          <ref name="common.attrs.aria.role.link"/>
          <ref name="common.attrs.aria.role.button"/>
          <ref name="common.attrs.aria.implicit.link"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="area.attrs.alt">
    <attribute name="alt"/>
  </define>
  <define name="area.attrs.shape">
    <choice>
      <interleave>
        <optional>
          <ref name="area.attrs.shape.rect"/>
        </optional>
        <ref name="area.attrs.coords.rect"/>
      </interleave>
      <interleave>
        <ref name="area.attrs.shape.circle"/>
        <ref name="area.attrs.coords.circle"/>
      </interleave>
      <interleave>
        <ref name="area.attrs.shape.poly"/>
        <ref name="area.attrs.coords.poly"/>
      </interleave>
      <ref name="area.attrs.shape.default"/>
    </choice>
  </define>
  <define name="area.attrs.shape.rect">
    <attribute name="shape">
      <value>rect</value>
    </attribute>
  </define>
  <define name="area.attrs.coords.rect">
    <attribute name="coords">
      <ref name="datatype.html5.coords.rectangle"/>
      <!--
        				xsd:token {
        					pattern = "-?[0-9]+,-?[0-9]+,-?[0-9]+,-?[0-9]+"
        				}
      -->
    </attribute>
  </define>
  <define name="area.attrs.shape.circle">
    <attribute name="shape">
      <value>circle</value>
    </attribute>
  </define>
  <define name="area.attrs.coords.circle">
    <attribute name="coords">
      <ref name="datatype.html5.coords.circle"/>
      <!--
        				xsd:token {
        					pattern = "-?[0-9]+,-?[0-9]+,[0-9]+"
        				}
      -->
    </attribute>
  </define>
  <define name="area.attrs.shape.poly">
    <attribute name="shape">
      <value>poly</value>
    </attribute>
  </define>
  <define name="area.attrs.coords.poly">
    <attribute name="coords">
      <ref name="datatype.html5.coords.poly"/>
      <!--
        				xsd:token {
        					pattern = "-?[0-9]+,-?[0-9]+,-?[0-9]+,-?[0-9]+,-?[0-9]+,-?[0-9]+(,-?[0-9]+,-?[0-9]+)*"
        				}
      -->
    </attribute>
  </define>
  <define name="area.attrs.shape.default">
    <attribute name="shape">
      <value>default</value>
    </attribute>
  </define>
  <define name="area.inner">
    <empty/>
  </define>
  <define name="common.elem.phrasing" combine="choice">
    <ref name="area.elem"/>
  </define>
  <define name="embedded.content.attrs.crossorigin">
    <a:documentation>Attributes Common to Embedded Content</a:documentation>
    <interleave>
      <attribute name="crossorigin">
        <choice>
          <value>anonymous</value>
          <value>use-credentials</value>
          <value/>
        </choice>
      </attribute>
      <ref name="v5only"/>
    </interleave>
  </define>
  <!-- Inlined from ruby.rng -->
<!-- ##################################################################### -->
  <define name="ruby.elem">
    <a:documentation> RELAX NG Schema for HTML 5: Ruby                                  #</a:documentation>
    <!-- ##################################################################### -->
    <a:documentation/>
    <a:documentation>Ruby Annotation: &lt;ruby&gt;</a:documentation>
    <element name="ruby">
      <interleave>
        <ref name="ruby.inner"/>
        <ref name="ruby.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="ruby.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <ref name="common.attrs.aria"/>
      </optional>
    </interleave>
  </define>
  <define name="ruby.inner">
    <oneOrMore>
      <oneOrMore>
        <choice>
          <ref name="common.inner.phrasing"/>
          <ref name="rb.elem"/>
        </choice>
      </oneOrMore>
      <choice>
        <oneOrMore>
          <choice>
            <ref name="rt.elem"/>
            <ref name="rtc.elem"/>
          </choice>
        </oneOrMore>
        <group>
          <ref name="rp.elem"/>
          <oneOrMore>
            <choice>
              <ref name="rt.elem"/>
              <ref name="rtc.elem"/>
            </choice>
            <ref name="rp.elem"/>
          </oneOrMore>
        </group>
      </choice>
    </oneOrMore>
  </define>
  <define name="common.elem.phrasing" combine="choice">
    <ref name="ruby.elem"/>
  </define>
  <define name="rt.elem">
    <a:documentation>Ruby Text: &lt;rt&gt;</a:documentation>
    <element name="rt">
      <interleave>
        <ref name="rt.inner"/>
        <ref name="rt.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="rt.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <ref name="common.attrs.aria"/>
      </optional>
    </interleave>
  </define>
  <define name="rt.inner">
    <ref name="common.inner.phrasing"/>
  </define>
  <define name="rtc.elem">
    <a:documentation>Ruby Text Container: &lt;rtc&gt;</a:documentation>
    <element name="rtc">
      <interleave>
        <ref name="rtc.inner"/>
        <ref name="rtc.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="rtc.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <ref name="common.attrs.aria"/>
      </optional>
    </interleave>
  </define>
  <define name="rtc.inner">
    <zeroOrMore>
      <choice>
        <ref name="common.inner.phrasing"/>
        <ref name="rt.elem"/>
        <ref name="rp.elem"/>
      </choice>
    </zeroOrMore>
  </define>
  <define name="rb.elem">
    <a:documentation>Ruby Base: &lt;rb&gt;</a:documentation>
    <element name="rb">
      <interleave>
        <ref name="rb.inner"/>
        <ref name="rb.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="rb.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <ref name="common.attrs.aria"/>
      </optional>
    </interleave>
  </define>
  <define name="rb.inner">
    <ref name="common.inner.phrasing"/>
  </define>
  <define name="rp.elem">
    <a:documentation>Ruby Parenthesis: &lt;rp&gt;</a:documentation>
    <element name="rp">
      <interleave>
        <ref name="rp.inner"/>
        <ref name="rp.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="rp.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <ref name="common.attrs.aria"/>
      </optional>
    </interleave>
  </define>
  <define name="rp.inner">
    <text/>
  </define>
  <!-- Inlined from media.rng -->
<!-- ##################################################################### -->
  <!-- src not included -->
  <define name="media.attrs">
    <a:documentation> RELAX NG Schema for HTML 5: Advanced Embedded Content             #</a:documentation>
    <!-- ##################################################################### -->
    <a:documentation>Attributes Common to Media Elements</a:documentation>
    <interleave>
      <optional>
        <ref name="media.attrs.autoplay"/>
      </optional>
      <optional>
        <ref name="media.attrs.preload"/>
      </optional>
      <optional>
        <ref name="media.attrs.controls"/>
      </optional>
      <optional>
        <ref name="media.attrs.loop"/>
      </optional>
      <optional>
        <ref name="media.attrs.muted"/>
      </optional>
      <optional>
        <ref name="embedded.content.attrs.crossorigin"/>
      </optional>
    </interleave>
  </define>
  <define name="media.attrs.autoplay">
    <attribute name="autoplay">
      <choice>
        <value>autoplay</value>
        <value/>
      </choice>
    </attribute>
  </define>
  <define name="media.attrs.preload">
    <attribute name="preload">
      <choice>
        <value>none</value>
        <value>metadata</value>
        <value>auto</value>
        <value/>
      </choice>
    </attribute>
  </define>
  <define name="media.attrs.controls">
    <attribute name="controls">
      <choice>
        <value>controls</value>
        <value/>
      </choice>
    </attribute>
  </define>
  <define name="media.attrs.loop">
    <attribute name="loop">
      <choice>
        <value>loop</value>
        <value/>
      </choice>
    </attribute>
  </define>
  <define name="media.attrs.muted">
    <attribute name="muted">
      <choice>
        <value>muted</value>
        <value/>
      </choice>
    </attribute>
  </define>
  <define name="source.elem">
    <a:documentation>Source: &lt;source&gt;</a:documentation>
    <element name="source">
      <interleave>
        <ref name="source.inner"/>
        <ref name="source.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="source.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <ref name="source.attrs.src"/>
      <optional>
        <ref name="source.attrs.type"/>
      </optional>
    </interleave>
  </define>
  <define name="source.attrs.src">
    <attribute name="src">
      <ref name="common.data.uri.non-empty"/>
    </attribute>
  </define>
  <define name="source.attrs.type">
    <attribute name="type">
      <ref name="common.data.mimetype"/>
    </attribute>
  </define>
  <define name="source.inner">
    <empty/>
  </define>
  <define name="media.source">
    <a:documentation>Media Source</a:documentation>
    <choice>
      <ref name="media.attrs.src"/>
      <zeroOrMore>
        <ref name="source.elem"/>
      </zeroOrMore>
    </choice>
  </define>
  <define name="media.attrs.src">
    <attribute name="src">
      <ref name="common.data.uri.non-empty"/>
    </attribute>
  </define>
  <define name="video.elem.flow">
    <a:documentation>Video: &lt;video&gt;</a:documentation>
    <element name="video">
      <interleave>
        <ref name="video.inner.flow"/>
        <ref name="video.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="video.elem.phrasing">
    <element name="video">
      <interleave>
        <ref name="video.inner.phrasing"/>
        <ref name="video.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="video.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <ref name="media.attrs"/>
      <optional>
        <ref name="video.attrs.poster"/>
      </optional>
      <optional>
        <ref name="video.attrs.height"/>
      </optional>
      <optional>
        <ref name="video.attrs.width"/>
      </optional>
      <optional>
        <ref name="video.attrs.playsinline"/>
      </optional>
      <optional>
        <ref name="common.attrs.aria.role.application"/>
      </optional>
    </interleave>
  </define>
  <define name="video.attrs.poster">
    <attribute name="poster">
      <ref name="common.data.uri.non-empty"/>
    </attribute>
  </define>
  <define name="video.attrs.height">
    <attribute name="height">
      <ref name="common.data.integer.non-negative"/>
    </attribute>
  </define>
  <define name="video.attrs.width">
    <attribute name="width">
      <ref name="common.data.integer.non-negative"/>
    </attribute>
  </define>
  <define name="video.attrs.playsinline">
    <attribute name="playsinline">
      <choice>
        <value>playsinline</value>
        <value/>
      </choice>
    </attribute>
  </define>
  <define name="video.inner.flow">
    <ref name="media.source"/>
    <zeroOrMore>
      <ref name="track.elem"/>
    </zeroOrMore>
    <ref name="common.inner.transparent.flow"/>
  </define>
  <define name="video.inner.phrasing">
    <ref name="media.source"/>
    <zeroOrMore>
      <ref name="track.elem"/>
    </zeroOrMore>
    <ref name="common.inner.phrasing"/>
  </define>
  <define name="common.elem.flow" combine="choice">
    <ref name="video.elem.flow"/>
  </define>
  <define name="common.elem.phrasing" combine="choice">
    <ref name="video.elem.phrasing"/>
  </define>
  <define name="audio.elem.flow">
    <a:documentation>Audio: &lt;audio&gt;</a:documentation>
    <element name="audio">
      <interleave>
        <ref name="audio.inner.flow"/>
        <ref name="audio.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="audio.elem.phrasing">
    <element name="audio">
      <interleave>
        <ref name="audio.inner.phrasing"/>
        <ref name="audio.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="audio.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <ref name="media.attrs"/>
      <optional>
        <ref name="common.attrs.aria.role.application"/>
      </optional>
    </interleave>
  </define>
  <define name="audio.inner.flow">
    <ref name="media.source"/>
    <zeroOrMore>
      <ref name="track.elem"/>
    </zeroOrMore>
    <ref name="common.inner.transparent.flow"/>
  </define>
  <define name="audio.inner.phrasing">
    <ref name="media.source"/>
    <zeroOrMore>
      <ref name="track.elem"/>
    </zeroOrMore>
    <ref name="common.inner.phrasing"/>
  </define>
  <define name="common.elem.flow" combine="choice">
    <ref name="audio.elem.flow"/>
  </define>
  <define name="common.elem.phrasing" combine="choice">
    <ref name="audio.elem.phrasing"/>
  </define>
  <!---->
  <define name="track.elem">
    <a:documentation>supplementary media track: &lt;track&gt;</a:documentation>
    <element name="track">
      <interleave>
        <ref name="track.inner"/>
        <ref name="track.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="track.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <ref name="track.attrs.kind"/>
      </optional>
      <ref name="track.attrs.src"/>
      <optional>
        <ref name="track.attrs.srclang"/>
      </optional>
      <optional>
        <ref name="track.attrs.label"/>
      </optional>
      <optional>
        <ref name="track.attrs.default"/>
      </optional>
    </interleave>
  </define>
  <define name="track.attrs.kind">
    <attribute name="kind">
      <choice>
        <value>subtitles</value>
        <value>captions</value>
        <value>descriptions</value>
        <value>chapters</value>
        <value>metadata</value>
      </choice>
    </attribute>
  </define>
  <define name="track.attrs.src">
    <attribute name="src">
      <ref name="common.data.uri.non-empty"/>
    </attribute>
  </define>
  <define name="track.attrs.srclang">
    <attribute name="srclang">
      <ref name="common.data.langcode"/>
    </attribute>
  </define>
  <define name="track.attrs.label">
    <attribute name="label">
      <data type="string"/>
      <!-- must be non-empty value; check is in assertions code -->
    </attribute>
  </define>
  <define name="track.attrs.default">
    <attribute name="default">
      <choice>
        <value>default</value>
        <value/>
      </choice>
    </attribute>
  </define>
  <define name="track.inner">
    <empty/>
  </define>
  <define name="figure.elem">
    <a:documentation>Captioned Content: &lt;figure&gt;</a:documentation>
    <element name="figure">
      <interleave>
        <ref name="figure.inner"/>
        <ref name="figure.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="figure.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <choice>
          <ref name="common.attrs.aria.implicit.figure"/>
          <optional>
            <ref name="common.attrs.aria"/>
          </optional>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="figure.inner">
    <choice>
      <group>
        <optional>
          <ref name="figcaption.elem"/>
        </optional>
        <ref name="common.inner.flow"/>
      </group>
      <group>
        <ref name="common.inner.flow"/>
        <optional>
          <ref name="figcaption.elem"/>
        </optional>
      </group>
    </choice>
  </define>
  <define name="common.elem.flow" combine="choice">
    <ref name="figure.elem"/>
  </define>
  <define name="figcaption.elem">
    <a:documentation>Figure caption: &lt;figcaption&gt;</a:documentation>
    <element name="figcaption">
      <interleave>
        <ref name="figcaption.inner"/>
        <ref name="figcaption.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="figcaption.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <choice>
          <ref name="common.attrs.aria.role.presentation"/>
          <ref name="common.attrs.aria.role.group"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="figcaption.inner">
    <ref name="common.inner.flow"/>
  </define>
  <!-- Inlined from core-scripting.rng -->
<!-- ##################################################################### -->
  <define name="script.elem.embedded">
    <a:documentation> RELAX NG Schema for HTML 5: Core Scripting                        #</a:documentation>
    <!-- ##################################################################### -->
    <!-- ##################################################################### -->
    <a:documentation>Scripting Elements</a:documentation>
    <a:documentation>Inline Scripts: &lt;script&gt;</a:documentation>
    <element name="script">
      <interleave>
        <ref name="script.inner.embedded"/>
        <ref name="script.attrs.embedded"/>
      </interleave>
    </element>
  </define>
  <define name="script.attrs.embedded">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <ref name="script.attrs.type"/>
      </optional>
      <optional>
        <ref name="script.attrs.nomodule"/>
      </optional>
      <optional>
        <ref name="script.attrs.language"/>
      </optional>
      <optional>
        <!-- restricted in Schematron -->
        <ref name="script.attrs.integrity"/>
      </optional>
      <optional>
        <ref name="embedded.content.attrs.crossorigin"/>
      </optional>
      <optional>
        <ref name="referrerpolicy"/>
      </optional>
    </interleave>
  </define>
  <define name="script.elem.imported">
    <element name="script">
      <interleave>
        <ref name="script.inner.imported"/>
        <ref name="script.attrs.imported"/>
      </interleave>
    </element>
  </define>
  <define name="script.attrs.imported">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <ref name="script.attrs.src"/>
      </optional>
      <optional>
        <ref name="script.attrs.defer"/>
      </optional>
      <optional>
        <ref name="script.attrs.async"/>
      </optional>
      <optional>
        <ref name="script.attrs.type"/>
      </optional>
      <optional>
        <ref name="script.attrs.nomodule"/>
      </optional>
      <optional>
        <ref name="script.attrs.charset"/>
      </optional>
      <optional>
        <ref name="script.attrs.language"/>
      </optional>
      <optional>
        <!-- restricted in Schematron -->
        <ref name="script.attrs.integrity"/>
      </optional>
      <optional>
        <ref name="embedded.content.attrs.crossorigin"/>
      </optional>
      <optional>
        <ref name="common.attrs.blocking"/>
      </optional>
      <optional>
        <ref name="common.attrs.fetchpriority"/>
      </optional>
      <optional>
        <ref name="referrerpolicy"/>
      </optional>
    </interleave>
  </define>
  <define name="script.attrs.src">
    <attribute name="src">
      <ref name="common.data.uri.non-empty"/>
    </attribute>
  </define>
  <define name="script.attrs.defer">
    <attribute name="defer">
      <choice>
        <value>defer</value>
        <value/>
      </choice>
    </attribute>
  </define>
  <define name="script.attrs.async">
    <interleave>
      <attribute name="async">
        <choice>
          <value>async</value>
          <value/>
        </choice>
      </attribute>
      <ref name="v5only"/>
    </interleave>
  </define>
  <define name="script.attrs.type">
    <attribute name="type">
      <choice>
        <value>module</value>
        <value>importmap</value>
        <value/>
        <ref name="common.data.scripttype"/>
      </choice>
      <!-- XXX without charset parameter! -->
    </attribute>
  </define>
  <define name="script.attrs.nomodule">
    <attribute name="nomodule">
      <choice>
        <value>nomodule</value>
        <value/>
      </choice>
    </attribute>
  </define>
  <define name="script.attrs.charset">
    <attribute name="charset">
      <data type="string"/>
    </attribute>
  </define>
  <define name="script.attrs.language">
    <attribute name="language">
      <data type="string"/>
    </attribute>
  </define>
  <define name="script.attrs.integrity">
    <attribute name="integrity">
      <ref name="common.data.integrity"/>
    </attribute>
  </define>
  <define name="script.inner.embedded">
    <ref name="common.inner.anything"/>
  </define>
  <define name="script.inner.imported">
    <ref name="common.inner.anything"/>
  </define>
  <define name="script.elem">
    <choice>
      <ref name="script.elem.embedded"/>
      <ref name="script.elem.imported"/>
    </choice>
  </define>
  <define name="common.elem.metadata" combine="choice">
    <ref name="script.elem"/>
  </define>
  <define name="common.elem.phrasing" combine="choice">
    <ref name="script.elem"/>
  </define>
  <define name="noscript.elem.head">
    <a:documentation>Fallback Unscripted Content: &lt;noscript&gt;</a:documentation>
    <interleave>
      <element name="noscript">
        <interleave>
          <ref name="noscript.inner.head"/>
          <ref name="noscript.attrs"/>
        </interleave>
      </element>
      <ref name="HTMLonly"/>
    </interleave>
  </define>
  <define name="noscript.inner.head">
    <zeroOrMore>
      <choice>
        <ref name="link.elem"/>
        <ref name="meta.http-equiv.default-style.elem"/>
        <ref name="meta.http-equiv.refresh.elem"/>
        <ref name="style.elem"/>
      </choice>
    </zeroOrMore>
  </define>
  <define name="noscript.elem.phrasing">
    <interleave>
      <element name="noscript">
        <interleave>
          <ref name="noscript.inner.phrasing"/>
          <ref name="noscript.attrs"/>
        </interleave>
      </element>
      <ref name="HTMLonly"/>
    </interleave>
  </define>
  <define name="noscript.inner.phrasing">
    <ref name="common.inner.phrasing"/>
  </define>
  <define name="noscript.elem.flow">
    <interleave>
      <element name="noscript">
        <interleave>
          <ref name="noscript.inner.flow"/>
          <ref name="noscript.attrs"/>
        </interleave>
      </element>
      <ref name="HTMLonly"/>
    </interleave>
  </define>
  <define name="noscript.inner.flow">
    <ref name="common.inner.flow"/>
  </define>
  <define name="noscript.attrs">
    <ref name="common.attrs"/>
  </define>
  <define name="common.elem.metadata" combine="choice">
    <ref name="noscript.elem.head"/>
  </define>
  <define name="common.elem.phrasing" combine="choice">
    <ref name="noscript.elem.phrasing"/>
  </define>
  <define name="common.elem.flow" combine="choice">
    <ref name="noscript.elem.flow"/>
  </define>
  <!-- ##################################################################### -->
  <define name="common.attrs.scripting" combine="interleave">
    <a:documentation>Event Handler Attribute Definitions</a:documentation>
    <interleave>
      <optional>
        <ref name="scripting.attr.onauxclick"/>
      </optional>
      <optional>
        <ref name="scripting.attr.onbeforeinput"/>
      </optional>
      <optional>
        <ref name="scripting.attr.onbeforematch"/>
      </optional>
      <optional>
        <ref name="scripting.attr.onblur"/>
      </optional>
      <optional>
        <ref name="scripting.attr.oncancel"/>
      </optional>
      <optional>
        <ref name="scripting.attr.oncanplay"/>
      </optional>
      <optional>
        <ref name="scripting.attr.oncanplaythrough"/>
      </optional>
      <optional>
        <ref name="scripting.attr.onchange"/>
      </optional>
      <optional>
        <ref name="scripting.attr.onclick"/>
      </optional>
      <optional>
        <ref name="scripting.attr.onclose"/>
      </optional>
      <optional>
        <ref name="scripting.attr.oncontextlost"/>
      </optional>
      <optional>
        <ref name="scripting.attr.oncontextmenu"/>
      </optional>
      <optional>
        <ref name="scripting.attr.oncontextrestored"/>
      </optional>
      <optional>
        <ref name="scripting.attr.oncopy"/>
      </optional>
      <optional>
        <ref name="scripting.attr.oncuechange"/>
      </optional>
      <optional>
        <ref name="scripting.attr.oncut"/>
      </optional>
      <optional>
        <ref name="scripting.attr.ondblclick"/>
      </optional>
      <optional>
        <ref name="scripting.attr.ondrag"/>
      </optional>
      <optional>
        <ref name="scripting.attr.ondragend"/>
      </optional>
      <optional>
        <ref name="scripting.attr.ondragenter"/>
      </optional>
      <optional>
        <ref name="scripting.attr.ondragleave"/>
      </optional>
      <optional>
        <ref name="scripting.attr.ondragover"/>
      </optional>
      <optional>
        <ref name="scripting.attr.ondragstart"/>
      </optional>
      <optional>
        <ref name="scripting.attr.ondrop"/>
      </optional>
      <optional>
        <ref name="scripting.attr.ondurationchange"/>
      </optional>
      <optional>
        <ref name="scripting.attr.onemptied"/>
      </optional>
      <optional>
        <ref name="scripting.attr.onended"/>
      </optional>
      <optional>
        <ref name="scripting.attr.onerror"/>
      </optional>
      <optional>
        <ref name="scripting.attr.onfocus"/>
      </optional>
      <optional>
        <ref name="scripting.attr.onformdata"/>
      </optional>
      <optional>
        <ref name="scripting.attr.oninput"/>
      </optional>
      <optional>
        <ref name="scripting.attr.oninvalid"/>
      </optional>
      <optional>
        <ref name="scripting.attr.onkeydown"/>
      </optional>
      <optional>
        <ref name="scripting.attr.onkeypress"/>
      </optional>
      <optional>
        <ref name="scripting.attr.onkeyup"/>
      </optional>
      <optional>
        <ref name="scripting.attr.onload"/>
      </optional>
      <optional>
        <ref name="scripting.attr.onloadeddata"/>
      </optional>
      <optional>
        <ref name="scripting.attr.onloadedmetadata"/>
      </optional>
      <optional>
        <ref name="scripting.attr.onloadstart"/>
      </optional>
      <optional>
        <ref name="scripting.attr.onmousedown"/>
      </optional>
      <optional>
        <ref name="scripting.attr.onmouseenter"/>
      </optional>
      <optional>
        <ref name="scripting.attr.onmouseleave"/>
      </optional>
      <optional>
        <ref name="scripting.attr.onmousemove"/>
      </optional>
      <optional>
        <ref name="scripting.attr.onmouseout"/>
      </optional>
      <optional>
        <ref name="scripting.attr.onmouseover"/>
      </optional>
      <optional>
        <ref name="scripting.attr.onmouseup"/>
      </optional>
      <optional>
        <ref name="scripting.attr.onpaste"/>
      </optional>
      <optional>
        <ref name="scripting.attr.onpause"/>
      </optional>
      <optional>
        <ref name="scripting.attr.onplay"/>
      </optional>
      <optional>
        <ref name="scripting.attr.onplaying"/>
      </optional>
      <optional>
        <ref name="scripting.attr.onprogress"/>
      </optional>
      <optional>
        <ref name="scripting.attr.onratechange"/>
      </optional>
      <optional>
        <ref name="scripting.attr.onreset"/>
      </optional>
      <optional>
        <ref name="scripting.attr.onresize"/>
      </optional>
      <optional>
        <ref name="scripting.attr.onscroll"/>
      </optional>
      <optional>
        <ref name="scripting.attr.onscrollend"/>
      </optional>
      <optional>
        <ref name="scripting.attr.onsecuritypolicyviolation"/>
      </optional>
      <optional>
        <ref name="scripting.attr.onseeked"/>
      </optional>
      <optional>
        <ref name="scripting.attr.onseeking"/>
      </optional>
      <optional>
        <ref name="scripting.attr.onselect"/>
      </optional>
      <optional>
        <ref name="scripting.attr.onslotchange"/>
      </optional>
      <optional>
        <ref name="scripting.attr.onstalled"/>
      </optional>
      <optional>
        <ref name="scripting.attr.onsubmit"/>
      </optional>
      <optional>
        <ref name="scripting.attr.onsuspend"/>
      </optional>
      <optional>
        <ref name="scripting.attr.ontimeupdate"/>
      </optional>
      <optional>
        <ref name="scripting.attr.ontoggle"/>
      </optional>
      <optional>
        <ref name="scripting.attr.onvolumechange"/>
      </optional>
      <optional>
        <ref name="scripting.attr.onwaiting"/>
      </optional>
      <optional>
        <ref name="scripting.attr.onwheel"/>
      </optional>
    </interleave>
  </define>
  <define name="common.attrs.other" combine="interleave">
    <ref name="common.attrs.scripting"/>
  </define>
  <define name="scripting.attr.onauxclick">
    <attribute name="onauxclick">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.onbeforeinput">
    <attribute name="onbeforeinput">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.onbeforematch">
    <attribute name="onbeforematch">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.onblur">
    <attribute name="onblur">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.oncancel">
    <attribute name="oncancel">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.oncanplay">
    <attribute name="oncanplay">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.oncanplaythrough">
    <attribute name="oncanplaythrough">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.onchange">
    <attribute name="onchange">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.onclick">
    <attribute name="onclick">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.onclose">
    <attribute name="onclose">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.oncontextlost">
    <attribute name="oncontextlost">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.oncontextmenu">
    <attribute name="oncontextmenu">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.oncontextrestored">
    <attribute name="oncontextrestored">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.oncopy">
    <attribute name="oncopy">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.oncuechange">
    <attribute name="oncuechange">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.oncut">
    <attribute name="oncut">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.ondblclick">
    <attribute name="ondblclick">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.ondrag">
    <attribute name="ondrag">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.ondragend">
    <attribute name="ondragend">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.ondragenter">
    <attribute name="ondragenter">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.ondragleave">
    <attribute name="ondragleave">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.ondragover">
    <attribute name="ondragover">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.ondragstart">
    <attribute name="ondragstart">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.ondrop">
    <attribute name="ondrop">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.ondurationchange">
    <attribute name="ondurationchange">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.onemptied">
    <attribute name="onemptied">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.onended">
    <attribute name="onended">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.onerror">
    <attribute name="onerror">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.onfocus">
    <attribute name="onfocus">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.onformdata">
    <attribute name="onformdata">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.oninput">
    <attribute name="oninput">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.oninvalid">
    <attribute name="oninvalid">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.onkeydown">
    <attribute name="onkeydown">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.onkeypress">
    <attribute name="onkeypress">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.onkeyup">
    <attribute name="onkeyup">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.onload">
    <attribute name="onload">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.onloadeddata">
    <attribute name="onloadeddata">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.onloadedmetadata">
    <attribute name="onloadedmetadata">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.onloadstart">
    <attribute name="onloadstart">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.onmousedown">
    <attribute name="onmousedown">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.onmouseenter">
    <attribute name="onmouseenter">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.onmouseleave">
    <attribute name="onmouseleave">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.onmousemove">
    <attribute name="onmousemove">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.onmouseout">
    <attribute name="onmouseout">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.onmouseover">
    <attribute name="onmouseover">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.onmouseup">
    <attribute name="onmouseup">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.onpaste">
    <attribute name="onpaste">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.onpause">
    <attribute name="onpause">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.onplay">
    <attribute name="onplay">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.onplaying">
    <attribute name="onplaying">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.onprogress">
    <attribute name="onprogress">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.onratechange">
    <attribute name="onratechange">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.onreset">
    <attribute name="onreset">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.onresize">
    <attribute name="onresize">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.onscroll">
    <attribute name="onscroll">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.onscrollend">
    <attribute name="onscrollend">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.onsecuritypolicyviolation">
    <attribute name="onsecuritypolicyviolation">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.onseeked">
    <attribute name="onseeked">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.onseeking">
    <attribute name="onseeking">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.onselect">
    <attribute name="onselect">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.onslotchange">
    <attribute name="onslotchange">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.onstalled">
    <attribute name="onstalled">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.onsubmit">
    <attribute name="onsubmit">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.onsuspend">
    <attribute name="onsuspend">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.ontimeupdate">
    <attribute name="ontimeupdate">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.ontoggle">
    <attribute name="ontoggle">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.onvolumechange">
    <attribute name="onvolumechange">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.onwaiting">
    <attribute name="onwaiting">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.onwheel">
    <attribute name="onwheel">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="common.attrs.scripting" combine="interleave">
    <a:documentation>Pointer Events</a:documentation>
    <interleave>
      <optional>
        <ref name="scripting.attr.onpointerover"/>
      </optional>
      <optional>
        <ref name="scripting.attr.onpointerenter"/>
      </optional>
      <optional>
        <ref name="scripting.attr.onpointerdown"/>
      </optional>
      <optional>
        <ref name="scripting.attr.onpointermove"/>
      </optional>
      <optional>
        <ref name="scripting.attr.onpointerrawupdate"/>
      </optional>
      <optional>
        <ref name="scripting.attr.onpointerup"/>
      </optional>
      <optional>
        <ref name="scripting.attr.onpointercancel"/>
      </optional>
      <optional>
        <ref name="scripting.attr.onpointerout"/>
      </optional>
      <optional>
        <ref name="scripting.attr.onpointerleave"/>
      </optional>
      <optional>
        <ref name="scripting.attr.ongotpointercapture"/>
      </optional>
      <optional>
        <ref name="scripting.attr.onlostpointercapture"/>
      </optional>
    </interleave>
  </define>
  <define name="scripting.attr.onpointerover">
    <attribute name="onpointerover">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.onpointerenter">
    <attribute name="onpointerenter">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.onpointerdown">
    <attribute name="onpointerdown">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.onpointermove">
    <attribute name="onpointermove">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.onpointerrawupdate">
    <attribute name="onpointerrawupdate">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.onpointerup">
    <attribute name="onpointerup">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.onpointercancel">
    <attribute name="onpointercancel">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.onpointerout">
    <attribute name="onpointerout">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.onpointerleave">
    <attribute name="onpointerleave">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.ongotpointercapture">
    <attribute name="ongotpointercapture">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.onlostpointercapture">
    <attribute name="onlostpointercapture">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <!-- Inlined from tables.rng -->
<!-- ##################################################################### -->
  <define name="tables.attrs.alignment">
    <a:documentation> RELAX NG Schema for HTML 5: Tables                                #</a:documentation>
    <!-- ##################################################################### -->
    <!-- ##################################################################### -->
    <a:documentation>Table Envelope</a:documentation>
    <a:documentation>Table Datatypes</a:documentation>
    <!--
      	tables.data.multilen =
      		(	common.data.integer.positive
      		|	common.data.percent
      		|	xsd:token { pattern = "[0-9]+\\*" } #REVISIT should this one be string? 
      		)
    -->
    <a:documentation>Table Alignment Attributes</a:documentation>
    <interleave>
      <optional>
        <ref name="tables.attrs.align"/>
      </optional>
      <optional>
        <ref name="tables.attrs.char"/>
      </optional>
      <optional>
        <ref name="tables.attrs.valign"/>
      </optional>
    </interleave>
  </define>
  <define name="tables.attrs.align">
    <attribute name="align">
      <choice>
        <value>left</value>
        <value>center</value>
        <value>right</value>
        <value>justify</value>
        <value>char</value>
      </choice>
    </attribute>
  </define>
  <define name="tables.attrs.char">
    <attribute name="char">
      <data type="string">
        <param name="pattern">.</param>
      </data>
    </attribute>
  </define>
  <define name="tables.attrs.valign">
    <attribute name="valign">
      <choice>
        <value>top</value>
        <value>middle</value>
        <value>bottom</value>
        <value>baseline</value>
      </choice>
    </attribute>
  </define>
  <define name="table.elem">
    <a:documentation>Data Table: &lt;table&gt;</a:documentation>
    <element name="table">
      <interleave>
        <ref name="table.inner"/>
        <ref name="table.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="table.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <choice>
          <ref name="common.attrs.aria.implicit.table"/>
          <ref name="common.attrs.aria"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="table.inner">
    <optional>
      <ref name="caption.elem"/>
    </optional>
    <zeroOrMore>
      <ref name="common.elem.script-supporting"/>
    </zeroOrMore>
    <zeroOrMore>
      <ref name="colgroup.elem"/>
    </zeroOrMore>
    <zeroOrMore>
      <ref name="common.elem.script-supporting"/>
    </zeroOrMore>
    <optional>
      <ref name="thead.elem"/>
    </optional>
    <zeroOrMore>
      <ref name="common.elem.script-supporting"/>
    </zeroOrMore>
    <group>
      <choice>
        <zeroOrMore>
          <ref name="tbody.elem"/>
        </zeroOrMore>
        <oneOrMore>
          <ref name="tr.elem"/>
        </oneOrMore>
      </choice>
      <zeroOrMore>
        <ref name="common.elem.script-supporting"/>
      </zeroOrMore>
      <optional>
        <ref name="tfoot.elem"/>
      </optional>
    </group>
  </define>
  <define name="common.elem.flow" combine="choice">
    <ref name="table.elem"/>
  </define>
  <define name="caption.elem">
    <a:documentation>Table Caption: &lt;caption&gt;</a:documentation>
    <element name="caption">
      <interleave>
        <ref name="caption.inner"/>
        <ref name="caption.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="caption.attrs">
    <ref name="common.attrs"/>
  </define>
  <define name="caption.inner">
    <ref name="common.inner.flow"/>
  </define>
  <!-- ##################################################################### -->
  <define name="colgroup.elem">
    <a:documentation>Table Super Structure</a:documentation>
    <a:documentation>Table Column Group: &lt;colgroup&gt;</a:documentation>
    <element name="colgroup">
      <interleave>
        <ref name="colgroup.inner"/>
        <ref name="colgroup.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="colgroup.attrs">
    <ref name="common.attrs"/>
  </define>
  <define name="colgroup.attrs.span">
    <attribute name="span">
      <ref name="common.data.integer.positive"/>
    </attribute>
  </define>
  <define name="colgroup.inner">
    <choice>
      <interleave>
        <zeroOrMore>
          <ref name="col.elem"/>
        </zeroOrMore>
        <zeroOrMore>
          <ref name="common.elem.script-supporting"/>
        </zeroOrMore>
      </interleave>
      <optional>
        <ref name="colgroup.attrs.span"/>
      </optional>
    </choice>
  </define>
  <define name="col.elem">
    <a:documentation>Table Column: &lt;col&gt;</a:documentation>
    <element name="col">
      <interleave>
        <ref name="col.inner"/>
        <ref name="col.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="col.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <ref name="col.attrs.span"/>
      </optional>
    </interleave>
  </define>
  <define name="col.attrs.span">
    <attribute name="span">
      <ref name="common.data.integer.positive"/>
    </attribute>
  </define>
  <define name="col.inner">
    <empty/>
  </define>
  <define name="thead.elem">
    <a:documentation>Table Header Row Group</a:documentation>
    <element name="thead">
      <interleave>
        <ref name="thead.inner"/>
        <ref name="thead.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="thead.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <choice>
          <ref name="common.attrs.aria.implicit.rowgroup"/>
          <ref name="common.attrs.aria"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="thead.inner">
    <interleave>
      <zeroOrMore>
        <ref name="tr.elem"/>
      </zeroOrMore>
      <zeroOrMore>
        <ref name="common.elem.script-supporting"/>
      </zeroOrMore>
    </interleave>
  </define>
  <define name="tfoot.elem">
    <a:documentation>Table Footer Row Group</a:documentation>
    <element name="tfoot">
      <interleave>
        <ref name="tfoot.inner"/>
        <ref name="tfoot.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="tfoot.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <choice>
          <ref name="common.attrs.aria.implicit.rowgroup"/>
          <ref name="common.attrs.aria"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="tfoot.inner">
    <interleave>
      <zeroOrMore>
        <ref name="tr.elem"/>
      </zeroOrMore>
      <zeroOrMore>
        <ref name="common.elem.script-supporting"/>
      </zeroOrMore>
    </interleave>
  </define>
  <define name="tbody.elem">
    <a:documentation>Table Row Group</a:documentation>
    <element name="tbody">
      <interleave>
        <ref name="tbody.inner"/>
        <ref name="tbody.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="tbody.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <choice>
          <ref name="common.attrs.aria.implicit.rowgroup"/>
          <ref name="common.attrs.aria"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="tbody.inner">
    <interleave>
      <zeroOrMore>
        <ref name="tr.elem"/>
      </zeroOrMore>
      <zeroOrMore>
        <ref name="common.elem.script-supporting"/>
      </zeroOrMore>
    </interleave>
  </define>
  <!-- ##################################################################### -->
  <define name="tr.elem">
    <a:documentation>Cell Structure</a:documentation>
    <a:documentation>Table Row</a:documentation>
    <element name="tr">
      <interleave>
        <ref name="tr.inner"/>
        <ref name="tr.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="tr.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <choice>
          <ref name="common.attrs.aria.implicit.row"/>
          <ref name="common.attrs.aria"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="tr.inner">
    <zeroOrMore>
      <choice>
        <ref name="td.elem"/>
        <ref name="th.elem"/>
        <ref name="common.elem.script-supporting"/>
      </choice>
    </zeroOrMore>
  </define>
  <define name="tables.attrs.cell-structure">
    <a:documentation>Common Table Cell Attributes</a:documentation>
    <interleave>
      <optional>
        <ref name="tables.attrs.colspan"/>
      </optional>
      <optional>
        <ref name="tables.attrs.rowspan"/>
      </optional>
    </interleave>
  </define>
  <define name="tables.attrs.colspan">
    <attribute name="colspan">
      <ref name="common.data.integer.positive"/>
    </attribute>
  </define>
  <define name="tables.attrs.rowspan">
    <attribute name="rowspan">
      <ref name="common.data.integer.non-negative"/>
    </attribute>
  </define>
  <define name="tables.attrs.access-headers">
    <optional>
      <ref name="tables.attrs.headers"/>
    </optional>
  </define>
  <define name="tables.attrs.headers">
    <attribute name="headers">
      <ref name="common.data.idrefs"/>
    </attribute>
  </define>
  <define name="tables.attrs.define-headers">
    <optional>
      <ref name="tables.attrs.scope"/>
    </optional>
  </define>
  <define name="tables.attrs.scope">
    <attribute name="scope">
      <choice>
        <value>row</value>
        <value>col</value>
        <value>rowgroup</value>
        <value>colgroup</value>
      </choice>
    </attribute>
  </define>
  <define name="tables.attrs.abbr">
    <attribute name="abbr"/>
  </define>
  <define name="td.elem">
    <a:documentation>Table Data Cell: &lt;td&gt;</a:documentation>
    <element name="td">
      <interleave>
        <ref name="td.inner"/>
        <ref name="td.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="td.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <ref name="tables.attrs.cell-structure"/>
      <optional>
        <ref name="tables.attrs.headers"/>
      </optional>
      <optional>
        <!-- 		&	tables.attrs.alignment -->
        <choice>
          <ref name="common.attrs.aria.implicit.cell"/>
          <ref name="common.attrs.aria"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="td.inner">
    <ref name="common.inner.flow"/>
  </define>
  <define name="th.elem">
    <a:documentation>Table Header Cells: &lt;th&gt;</a:documentation>
    <element name="th">
      <interleave>
        <ref name="th.inner"/>
        <ref name="th.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="th.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <ref name="tables.attrs.cell-structure"/>
      <optional>
        <ref name="tables.attrs.scope"/>
      </optional>
      <optional>
        <ref name="tables.attrs.headers"/>
      </optional>
      <!-- 		&	tables.attrs.alignment -->
      <choice>
        <optional>
          <ref name="common.attrs.aria"/>
        </optional>
        <ref name="common.attrs.aria.implicit.column-or-row-header"/>
      </choice>
    </interleave>
  </define>
  <define name="th.inner">
    <ref name="common.inner.flow"/>
  </define>
  <!-- Inlined from form-datatypes.rng -->
<!-- ##################################################################### -->
  <define name="form.data.mimetypelist">
    <a:documentation> RELAX NG Schema for HTML 5: Datatypes related to forms            #</a:documentation>
    <!-- ##################################################################### -->
    <a:documentation>MIME types</a:documentation>
    <ref name="datatype.html5.forms.mimetypelist"/>
  </define>
  <define name="form.data.pattern">
    <a:documentation>ECMAScript Regular Expression</a:documentation>
    <data type="string"/>
  </define>
  <define name="form.data.datetime-local">
    <a:documentation>Temporal</a:documentation>
    <ref name="datatype.html5.datetime.local"/>
  </define>
  <define name="form.data.date">
    <ref name="datatype.html5.date"/>
  </define>
  <define name="form.data.month">
    <ref name="datatype.html5.month"/>
  </define>
  <define name="form.data.week">
    <ref name="datatype.html5.week"/>
  </define>
  <define name="form.data.time">
    <ref name="datatype.html5.time"/>
  </define>
  <define name="form.data.emailaddress">
    <a:documentation>Email</a:documentation>
    <ref name="datatype.html5.emailaddress"/>
  </define>
  <define name="form.data.emailaddresslist">
    <ref name="datatype.html5.emailaddresslist"/>
  </define>
  <define name="form.data.color">
    <a:documentation>Color</a:documentation>
    <ref name="datatype.html5.color"/>
  </define>
  <!--
    		xsd:string {
    			pattern = "#[a-fA-F0-9]{6}"
    		}
  -->
  <define name="form.data.stringwithoutlinebreaks">
    <a:documentation>Text without line breaks</a:documentation>
    <ref name="datatype.html5.forms.string.nolinebreaks"/>
  </define>
  <define name="form.data.nonemptystring">
    <a:documentation>Non-empty string</a:documentation>
    <ref name="datatype.string.nonempty"/>
  </define>
  <!-- Inlined from web-forms.rng -->
<!-- ##################################################################### -->
  <define name="common-form.attrs">
    <a:documentation> RELAX NG Schema for HTML 5: Web Forms 1.0 markup                  #</a:documentation>
    <!-- ##################################################################### -->
    <a:documentation>Shared attributes for form controls</a:documentation>
    <interleave>
      <optional>
        <ref name="common-form.attrs.name"/>
      </optional>
      <optional>
        <ref name="common-form.attrs.disabled"/>
      </optional>
    </interleave>
  </define>
  <define name="common-form.attrs.name">
    <attribute name="name">
      <ref name="form.data.nonemptystring"/>
    </attribute>
  </define>
  <define name="common-form.attrs.disabled">
    <attribute name="disabled">
      <choice>
        <value>disabled</value>
        <value/>
      </choice>
    </attribute>
  </define>
  <define name="shared-form.attrs.readonly">
    <attribute name="readonly">
      <choice>
        <value>readonly</value>
        <value/>
      </choice>
    </attribute>
  </define>
  <define name="shared-form.attrs.maxlength">
    <attribute name="maxlength">
      <ref name="common.data.integer.non-negative"/>
    </attribute>
  </define>
  <define name="shared-form.attrs.size">
    <attribute name="size">
      <ref name="common.data.integer.positive"/>
    </attribute>
  </define>
  <!-- REVISIT tabindex goes in common.attrs -->
  <define name="input.attrs.checked">
    <a:documentation>Shared attributes for &lt;input&gt;</a:documentation>
    <attribute name="checked">
      <choice>
        <value>checked</value>
        <value/>
      </choice>
    </attribute>
  </define>
  <define name="input.text.elem">
    <a:documentation>Text Field: &lt;input type='text'&gt;</a:documentation>
    <element name="input">
      <ref name="input.text.attrs"/>
    </element>
  </define>
  <define name="input.text.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <ref name="common-form.attrs"/>
      <optional>
        <ref name="input.text.attrs.type"/>
      </optional>
      <optional>
        <ref name="shared-form.attrs.maxlength"/>
      </optional>
      <optional>
        <ref name="shared-form.attrs.readonly"/>
      </optional>
      <optional>
        <ref name="shared-form.attrs.size"/>
      </optional>
      <optional>
        <ref name="input.text.attrs.value"/>
      </optional>
      <optional>
        <choice>
          <ref name="common.attrs.aria.implicit.textbox"/>
          <ref name="common.attrs.aria.role.textbox"/>
          <ref name="common.attrs.aria.role.combobox"/>
          <ref name="common.attrs.aria.role.searchbox"/>
          <ref name="common.attrs.aria.role.spinbutton"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="input.text.attrs.type">
    <attribute name="type">
      <value>text</value>
    </attribute>
  </define>
  <define name="input.text.attrs.value">
    <attribute name="value">
      <ref name="form.data.stringwithoutlinebreaks"/>
    </attribute>
  </define>
  <define name="input.elem">
    <ref name="input.text.elem"/>
  </define>
  <define name="input.password.elem">
    <a:documentation>Password Field: &lt;input type='password'&gt;</a:documentation>
    <element name="input">
      <ref name="input.password.attrs"/>
    </element>
  </define>
  <define name="input.password.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <ref name="common-form.attrs"/>
      <ref name="input.password.attrs.type"/>
      <optional>
        <ref name="shared-form.attrs.maxlength"/>
      </optional>
      <optional>
        <ref name="shared-form.attrs.readonly"/>
      </optional>
      <optional>
        <ref name="shared-form.attrs.size"/>
      </optional>
      <optional>
        <ref name="input.password.attrs.value"/>
      </optional>
    </interleave>
  </define>
  <define name="input.password.attrs.type">
    <attribute name="type">
      <value>password</value>
    </attribute>
  </define>
  <define name="input.password.attrs.value">
    <attribute name="value">
      <ref name="form.data.stringwithoutlinebreaks"/>
    </attribute>
  </define>
  <define name="input.elem" combine="choice">
    <ref name="input.password.elem"/>
  </define>
  <define name="input.checkbox.elem">
    <a:documentation>Checkbox: &lt;input type='checkbox'&gt;</a:documentation>
    <element name="input">
      <ref name="input.checkbox.attrs"/>
    </element>
  </define>
  <define name="input.checkbox.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <ref name="common-form.attrs"/>
      <ref name="input.checkbox.attrs.type"/>
      <optional>
        <ref name="input.attrs.checked"/>
      </optional>
      <optional>
        <ref name="input.checkbox.attrs.value"/>
      </optional>
      <optional>
        <choice>
          <ref name="common.attrs.aria.implicit.checkbox"/>
          <ref name="common.attrs.aria.role.checkbox"/>
          <ref name="common.attrs.aria.role.button"/>
          <ref name="common.attrs.aria.role.menuitemcheckbox-checked-not-required"/>
          <ref name="common.attrs.aria.role.option"/>
          <ref name="common.attrs.aria.role.switch-checked-not-required"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="input.checkbox.attrs.type">
    <attribute name="type">
      <value>checkbox</value>
    </attribute>
  </define>
  <define name="input.checkbox.attrs.value">
    <attribute name="value">
      <data type="string"/>
      <!-- REVISIT require non-empty value? -->
    </attribute>
  </define>
  <define name="input.elem" combine="choice">
    <ref name="input.checkbox.elem"/>
  </define>
  <define name="input.radio.elem">
    <a:documentation>Radiobutton: &lt;input type='radio'&gt;</a:documentation>
    <element name="input">
      <ref name="input.radio.attrs"/>
    </element>
  </define>
  <define name="input.radio.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <ref name="common-form.attrs"/>
      <ref name="input.radio.attrs.type"/>
      <optional>
        <ref name="input.attrs.checked"/>
      </optional>
      <optional>
        <ref name="input.radio.attrs.value"/>
      </optional>
      <optional>
        <choice>
          <ref name="common.attrs.aria.implicit.radio"/>
          <ref name="common.attrs.aria.role.radio"/>
          <ref name="common.attrs.aria.role.menuitemradio-checked-not-required"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="input.radio.attrs.type">
    <attribute name="type">
      <value>radio</value>
    </attribute>
  </define>
  <define name="input.radio.attrs.value">
    <attribute name="value">
      <data type="string"/>
      <!-- REVISIT require non-empty value? -->
    </attribute>
  </define>
  <define name="input.elem" combine="choice">
    <ref name="input.radio.elem"/>
  </define>
  <define name="input.button.elem">
    <a:documentation>Scripting Hook Button: &lt;input type='button'&gt;</a:documentation>
    <element name="input">
      <ref name="input.button.attrs"/>
    </element>
  </define>
  <define name="input.button.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <ref name="common-form.attrs"/>
      <ref name="input.button.attrs.type"/>
      <optional>
        <ref name="input.button.attrs.value"/>
      </optional>
      <ref name="button.attrs.popover-controls"/>
      <optional>
        <choice>
          <ref name="common.attrs.aria.implicit.button"/>
          <ref name="common.attrs.aria.role.button"/>
          <ref name="common.attrs.aria.role.checkbox"/>
          <ref name="common.attrs.aria.role.combobox"/>
          <ref name="common.attrs.aria.role.link"/>
          <ref name="common.attrs.aria.role.menuitem"/>
          <ref name="common.attrs.aria.role.menuitemcheckbox"/>
          <ref name="common.attrs.aria.role.menuitemradio"/>
          <ref name="common.attrs.aria.role.option"/>
          <ref name="common.attrs.aria.role.radio"/>
          <ref name="common.attrs.aria.role.switch"/>
          <ref name="common.attrs.aria.role.tab"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="input.button.attrs.type">
    <attribute name="type">
      <value>button</value>
    </attribute>
  </define>
  <define name="input.button.attrs.value">
    <attribute name="value">
      <data type="string"/>
      <!-- REVISIT require non-empty value? -->
    </attribute>
  </define>
  <define name="input.elem" combine="choice">
    <ref name="input.button.elem"/>
  </define>
  <!-- REVISIT should this be enabled by a scripting module only? -->
  <define name="input.submit.elem">
    <a:documentation>Submit Button: &lt;input type='submit'&gt;</a:documentation>
    <element name="input">
      <ref name="input.submit.attrs"/>
    </element>
  </define>
  <define name="input.submit.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <ref name="common-form.attrs"/>
      <ref name="input.submit.attrs.type"/>
      <optional>
        <ref name="input.submit.attrs.value"/>
      </optional>
      <ref name="button.attrs.popover-controls"/>
      <optional>
        <choice>
          <ref name="common.attrs.aria.implicit.button"/>
          <ref name="common.attrs.aria.role.button"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="input.submit.attrs.type">
    <attribute name="type">
      <value>submit</value>
    </attribute>
  </define>
  <define name="input.submit.attrs.value">
    <attribute name="value">
      <data type="string"/>
      <!-- REVISIT require non-empty value? -->
    </attribute>
  </define>
  <define name="input.elem" combine="choice">
    <ref name="input.submit.elem"/>
  </define>
  <define name="input.reset.elem">
    <a:documentation>Reset Button: &lt;input type='reset'&gt;</a:documentation>
    <element name="input">
      <ref name="input.reset.attrs"/>
    </element>
  </define>
  <define name="input.reset.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <ref name="common-form.attrs"/>
      <ref name="input.reset.attrs.type"/>
      <optional>
        <ref name="input.reset.attrs.value"/>
      </optional>
      <ref name="button.attrs.popover-controls"/>
      <optional>
        <choice>
          <ref name="common.attrs.aria.implicit.button"/>
          <ref name="common.attrs.aria.role.button"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="input.reset.attrs.type">
    <attribute name="type">
      <value>reset</value>
    </attribute>
  </define>
  <define name="input.reset.attrs.value">
    <attribute name="value">
      <data type="string"/>
      <!-- REVISIT require non-empty value? -->
    </attribute>
  </define>
  <define name="input.elem" combine="choice">
    <ref name="input.reset.elem"/>
  </define>
  <!-- REVISIT does reset make sense outside a form? -->
  <define name="input.file.elem">
    <a:documentation>File Upload: &lt;input type='file'&gt;</a:documentation>
    <element name="input">
      <ref name="input.file.attrs"/>
    </element>
  </define>
  <define name="input.file.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <ref name="common-form.attrs"/>
      <ref name="input.file.attrs.type"/>
      <optional>
        <ref name="input.file.attrs.accept"/>
      </optional>
    </interleave>
  </define>
  <define name="input.file.attrs.type">
    <attribute name="type">
      <value>file</value>
    </attribute>
  </define>
  <define name="input.file.attrs.accept">
    <attribute name="accept">
      <ref name="form.data.mimetypelist"/>
    </attribute>
  </define>
  <define name="input.elem" combine="choice">
    <ref name="input.file.elem"/>
  </define>
  <define name="input.hidden.elem">
    <a:documentation>Hidden String: &lt;input type='hidden'&gt;</a:documentation>
    <element name="input">
      <ref name="input.hidden.attrs"/>
    </element>
  </define>
  <define name="input.hidden.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <ref name="common-form.attrs"/>
      <ref name="input.hidden.attrs.type"/>
      <optional>
        <ref name="input.hidden.attrs.value"/>
      </optional>
    </interleave>
  </define>
  <define name="input.hidden.attrs.type">
    <attribute name="type">
      <value>hidden</value>
    </attribute>
  </define>
  <define name="input.hidden.attrs.value">
    <attribute name="value">
      <data type="string"/>
    </attribute>
  </define>
  <define name="input.elem" combine="choice">
    <ref name="input.hidden.elem"/>
  </define>
  <define name="input.image.elem">
    <a:documentation>Image Submit Button: &lt;input type='image'&gt;</a:documentation>
    <element name="input">
      <ref name="input.image.attrs"/>
    </element>
  </define>
  <define name="input.image.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <ref name="common-form.attrs"/>
      <ref name="input.image.attrs.type"/>
      <ref name="input.image.attrs.alt"/>
      <optional>
        <ref name="input.image.attrs.src"/>
      </optional>
      <ref name="button.attrs.popover-controls"/>
      <optional>
        <choice>
          <ref name="common.attrs.aria.implicit.button"/>
          <ref name="common.attrs.aria.role.button"/>
          <ref name="common.attrs.aria.role.link"/>
          <ref name="common.attrs.aria.role.menuitem"/>
          <ref name="common.attrs.aria.role.menuitemcheckbox"/>
          <ref name="common.attrs.aria.role.menuitemradio"/>
          <ref name="common.attrs.aria.role.radio"/>
          <ref name="common.attrs.aria.role.switch"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="input.image.attrs.type">
    <attribute name="type">
      <value>image</value>
    </attribute>
  </define>
  <define name="input.image.attrs.alt">
    <attribute name="alt">
      <ref name="form.data.nonemptystring"/>
    </attribute>
  </define>
  <define name="input.image.attrs.src">
    <attribute name="src">
      <ref name="common.data.uri.non-empty"/>
    </attribute>
  </define>
  <define name="input.elem" combine="choice">
    <ref name="input.image.elem"/>
  </define>
  <define name="common.elem.phrasing" combine="choice">
    <ref name="input.elem"/>
  </define>
  <define name="textarea.elem">
    <a:documentation>Text Area: &lt;textarea&gt;</a:documentation>
    <element name="textarea">
      <interleave>
        <ref name="textarea.inner"/>
        <ref name="textarea.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="textarea.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <ref name="common-form.attrs"/>
      <optional>
        <ref name="shared-form.attrs.readonly"/>
      </optional>
      <ref name="textarea.attrs.rows-and-cols-wf1"/>
      <optional>
        <choice>
          <ref name="common.attrs.aria.implicit.textbox"/>
          <ref name="common.attrs.aria.role.textbox"/>
        </choice>
      </optional>
    </interleave>
    <!-- FIXME onfocus, onblur, onselect,onchange -->
  </define>
  <!-- This is ugly. -->
  <define name="textarea.attrs.rows-and-cols-wf1">
    <ref name="textarea.attrs.rows-and-cols-wf1.inner"/>
  </define>
  <define name="textarea.attrs.rows-and-cols-wf1.inner">
    <interleave>
      <ref name="textarea.attrs.cols"/>
      <ref name="textarea.attrs.rows"/>
    </interleave>
  </define>
  <define name="textarea.attrs.cols">
    <attribute name="cols">
      <ref name="common.data.integer.positive"/>
    </attribute>
  </define>
  <define name="textarea.attrs.rows">
    <attribute name="rows">
      <ref name="common.data.integer.positive"/>
    </attribute>
  </define>
  <define name="textarea.inner">
    <text/>
  </define>
  <define name="common.elem.phrasing" combine="choice">
    <ref name="textarea.elem"/>
  </define>
  <!--
    Due to limitations with interleave, handling single/multiple selection
    enforcement in RELAX NG seems to be possible but really awkward.
    Tried it. Leaving it to Schematron.
  -->
  <define name="option.elem">
    <a:documentation>Select menu option: &lt;option selected&gt;</a:documentation>
    <element name="option">
      <interleave>
        <ref name="option.inner"/>
        <ref name="option.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="option.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <ref name="common-form.attrs.disabled"/>
      </optional>
      <optional>
        <ref name="option.attrs.selected"/>
      </optional>
      <optional>
        <ref name="option.attrs.label"/>
      </optional>
      <optional>
        <ref name="option.attrs.value"/>
      </optional>
      <optional>
        <choice>
          <ref name="common.attrs.aria.implicit.option"/>
          <ref name="common.attrs.aria.role.option"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="option.attrs.selected">
    <attribute name="selected">
      <choice>
        <value>selected</value>
        <value/>
      </choice>
    </attribute>
  </define>
  <define name="option.attrs.label">
    <attribute name="label">
      <ref name="form.data.nonemptystring"/>
    </attribute>
  </define>
  <define name="option.attrs.value">
    <attribute name="value">
      <data type="string"/>
    </attribute>
  </define>
  <define name="option.inner">
    <text/>
  </define>
  <define name="optgroup.elem">
    <a:documentation>Option Group: &lt;optgroup&gt;</a:documentation>
    <element name="optgroup">
      <interleave>
        <ref name="optgroup.inner"/>
        <ref name="optgroup.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="optgroup.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <ref name="optgroup.attrs.label"/>
      <optional>
        <ref name="common-form.attrs.disabled"/>
      </optional>
      <optional>
        <choice>
          <ref name="common.attrs.aria.implicit.group"/>
          <ref name="common.attrs.aria.role.group"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="optgroup.attrs.label">
    <attribute name="label">
      <data type="string"/>
    </attribute>
  </define>
  <define name="optgroup.inner">
    <interleave>
      <zeroOrMore>
        <ref name="option.elem"/>
      </zeroOrMore>
      <zeroOrMore>
        <ref name="common.elem.script-supporting"/>
      </zeroOrMore>
    </interleave>
  </define>
  <define name="select.elem">
    <a:documentation>Selection Menu: &lt;select&gt;</a:documentation>
    <element name="select">
      <interleave>
        <ref name="select.inner"/>
        <ref name="select.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="select.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <ref name="common-form.attrs"/>
      <optional>
        <ref name="select.attrs.size"/>
      </optional>
      <optional>
        <ref name="select.attrs.multiple"/>
      </optional>
      <optional>
        <!-- FIXME onfocus, onblur, onchange -->
        <choice>
          <ref name="common.attrs.aria.role.listbox"/>
          <!-- aria-multiselectable depends on "multiple" value; check in assertions -->
          <ref name="common.attrs.aria.role.combobox"/>
          <ref name="common.attrs.aria.role.menu"/>
          <ref name="common.attrs.aria.implicit.combobox"/>
          <ref name="common.attrs.aria.implicit.listbox"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="select.attrs.size">
    <attribute name="size">
      <ref name="common.data.integer.positive"/>
    </attribute>
  </define>
  <define name="select.attrs.multiple">
    <attribute name="multiple">
      <choice>
        <value>multiple</value>
        <value/>
      </choice>
    </attribute>
  </define>
  <define name="select.inner">
    <interleave>
      <zeroOrMore>
        <ref name="optgroup.elem"/>
      </zeroOrMore>
      <zeroOrMore>
        <ref name="option.elem"/>
      </zeroOrMore>
      <zeroOrMore>
        <ref name="common.elem.script-supporting"/>
      </zeroOrMore>
    </interleave>
  </define>
  <define name="common.elem.phrasing" combine="choice">
    <ref name="select.elem"/>
  </define>
  <define name="button.attrs.value">
    <a:documentation>Shared Definitions for Complex Button</a:documentation>
    <attribute name="value">
      <data type="string"/>
    </attribute>
  </define>
  <define name="button.attrs.popover-controls">
    <interleave>
      <optional>
        <ref name="button.attrs.popovertarget"/>
      </optional>
      <optional>
        <ref name="button.attrs.popovertargetaction"/>
      </optional>
    </interleave>
  </define>
  <define name="button.attrs.popovertarget">
    <attribute name="popovertarget">
      <ref name="common.data.idref"/>
    </attribute>
  </define>
  <define name="button.attrs.popovertargetaction">
    <attribute name="popovertargetaction">
      <choice>
        <value>hide</value>
        <value>show</value>
        <value>toggle</value>
      </choice>
    </attribute>
  </define>
  <define name="button.inner">
    <ref name="common.inner.phrasing"/>
  </define>
  <define name="button.submit.elem">
    <a:documentation>Complex Submit Button: &lt;button type='submit'&gt;</a:documentation>
    <element name="button">
      <interleave>
        <ref name="button.inner"/>
        <ref name="button.submit.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="button.submit.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <ref name="common-form.attrs"/>
      <optional>
        <ref name="button.submit.attrs.type"/>
      </optional>
      <optional>
        <ref name="button.attrs.value"/>
      </optional>
      <ref name="button.attrs.popover-controls"/>
      <optional>
        <choice>
          <ref name="common.attrs.aria.implicit.button"/>
          <ref name="common.attrs.aria.role.button"/>
          <ref name="common.attrs.aria.role.checkbox"/>
          <ref name="common.attrs.aria.role.combobox"/>
          <ref name="common.attrs.aria.role.link"/>
          <ref name="common.attrs.aria.role.menuitem"/>
          <ref name="common.attrs.aria.role.menuitemcheckbox"/>
          <ref name="common.attrs.aria.role.menuitemradio"/>
          <ref name="common.attrs.aria.role.option"/>
          <ref name="common.attrs.aria.role.radio"/>
          <ref name="common.attrs.aria.role.tab"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="button.submit.attrs.type">
    <attribute name="type">
      <value>submit</value>
    </attribute>
  </define>
  <define name="button.elem">
    <ref name="button.submit.elem"/>
  </define>
  <define name="button.reset.elem">
    <a:documentation>Complex Reset Button: &lt;button type='reset'&gt;</a:documentation>
    <element name="button">
      <interleave>
        <ref name="button.inner"/>
        <ref name="button.reset.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="button.reset.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <ref name="common-form.attrs"/>
      <ref name="button.reset.attrs.type"/>
      <optional>
        <ref name="button.attrs.value"/>
      </optional>
      <!-- REVISIT I guess this still affects the DOM -->
      <ref name="button.attrs.popover-controls"/>
      <optional>
        <choice>
          <ref name="common.attrs.aria.implicit.button"/>
          <ref name="common.attrs.aria.role.button"/>
          <ref name="common.attrs.aria.role.checkbox"/>
          <ref name="common.attrs.aria.role.link"/>
          <ref name="common.attrs.aria.role.menuitem"/>
          <ref name="common.attrs.aria.role.menuitemcheckbox"/>
          <ref name="common.attrs.aria.role.menuitemradio"/>
          <ref name="common.attrs.aria.role.option"/>
          <ref name="common.attrs.aria.role.radio"/>
          <ref name="common.attrs.aria.role.switch"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="button.reset.attrs.type">
    <attribute name="type">
      <value>reset</value>
    </attribute>
  </define>
  <define name="button.elem" combine="choice">
    <ref name="button.reset.elem"/>
  </define>
  <define name="button.button.elem">
    <a:documentation>Complex Push Button: &lt;button type='button'&gt;</a:documentation>
    <element name="button">
      <interleave>
        <ref name="button.inner"/>
        <ref name="button.button.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="button.button.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <ref name="common-form.attrs"/>
      <ref name="button.button.attrs.type"/>
      <optional>
        <ref name="button.attrs.value"/>
      </optional>
      <!-- REVISIT I guess this still affects the DOM -->
      <ref name="button.attrs.popover-controls"/>
      <optional>
        <choice>
          <ref name="common.attrs.aria.implicit.button"/>
          <ref name="common.attrs.aria.role.button"/>
          <ref name="common.attrs.aria.role.checkbox"/>
          <ref name="common.attrs.aria.role.link"/>
          <ref name="common.attrs.aria.role.menuitem"/>
          <ref name="common.attrs.aria.role.menuitemcheckbox"/>
          <ref name="common.attrs.aria.role.menuitemradio"/>
          <ref name="common.attrs.aria.role.option"/>
          <ref name="common.attrs.aria.role.radio"/>
          <ref name="common.attrs.aria.role.switch"/>
          <ref name="common.attrs.aria.role.tab"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="button.button.attrs.type">
    <attribute name="type">
      <value>button</value>
    </attribute>
  </define>
  <define name="button.elem" combine="choice">
    <ref name="button.button.elem"/>
  </define>
  <define name="common.elem.phrasing" combine="choice">
    <ref name="button.elem"/>
  </define>
  <define name="form.elem">
    <a:documentation>Form: &lt;form&gt;</a:documentation>
    <element name="form">
      <interleave>
        <ref name="form.inner"/>
        <ref name="form.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="form.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <ref name="form.attrs.action"/>
      </optional>
      <optional>
        <!-- REVISIT Should this be required anyway? -->
        <ref name="form.attrs.method"/>
      </optional>
      <optional>
        <ref name="form.attrs.enctype"/>
      </optional>
      <optional>
        <ref name="common-form.attrs.name"/>
      </optional>
      <optional>
        <ref name="form.attrs.accept-charset"/>
      </optional>
      <optional>
        <choice>
          <ref name="common.attrs.aria.implicit.form"/>
          <ref name="common.attrs.aria.landmark.form"/>
          <ref name="common.attrs.aria.landmark.search"/>
          <ref name="common.attrs.aria.role.presentation"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="form.attrs.action">
    <attribute name="action">
      <ref name="common.data.uri.non-empty"/>
    </attribute>
  </define>
  <define name="form.attrs.method">
    <attribute name="method">
      <ref name="form.attrs.method.data"/>
    </attribute>
  </define>
  <define name="form.attrs.method.data">
    <choice>
      <value>get</value>
      <value>post</value>
      <value>dialog</value>
    </choice>
  </define>
  <define name="form.attrs.enctype">
    <attribute name="enctype">
      <ref name="form.attrs.enctype.data"/>
    </attribute>
  </define>
  <define name="form.attrs.enctype.data">
    <choice>
      <value>application/x-www-form-urlencoded</value>
      <value>multipart/form-data</value>
    </choice>
  </define>
  <define name="form.attrs.accept-charset">
    <attribute name="accept-charset">
      <data type="string"/>
    </attribute>
  </define>
  <define name="form.inner">
    <ref name="common.inner.flow"/>
  </define>
  <define name="common.elem.flow" combine="choice">
    <ref name="form.elem"/>
  </define>
  <define name="fieldset.elem">
    <a:documentation>Fieldset: &lt;fieldset&gt;</a:documentation>
    <element name="fieldset">
      <interleave>
        <ref name="fieldset.inner"/>
        <ref name="fieldset.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="fieldset.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <choice>
          <ref name="common.attrs.aria.implicit.group"/>
          <ref name="common.attrs.aria.role.group"/>
          <ref name="common.attrs.aria.role.radiogroup"/>
          <ref name="common.attrs.aria.role.presentation"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="fieldset.inner">
    <optional>
      <ref name="legend.elem"/>
    </optional>
    <ref name="common.inner.flow"/>
  </define>
  <define name="common.elem.flow" combine="choice">
    <ref name="fieldset.elem"/>
  </define>
  <define name="label.elem">
    <a:documentation>Label: &lt;label&gt;</a:documentation>
    <element name="label">
      <interleave>
        <ref name="label.inner"/>
        <ref name="label.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="label.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <ref name="label.attrs.for"/>
      </optional>
    </interleave>
  </define>
  <define name="label.attrs.for">
    <attribute name="for">
      <ref name="common.data.idref"/>
    </attribute>
  </define>
  <define name="label.inner">
    <ref name="common.inner.phrasing"/>
  </define>
  <!-- REVISIT making obvious guess -->
  <define name="common.elem.phrasing" combine="choice">
    <ref name="label.elem"/>
  </define>
  <!-- Inlined from web-forms2.rng -->
<!-- ##################################################################### -->
  <define name="common-form.attrs" combine="interleave">
    <a:documentation> RELAX NG Schema for HTML 5: Web Forms 2.0 markup                  #</a:documentation>
    <!-- ##################################################################### -->
    <a:documentation>Shared attributes for form controls</a:documentation>
    <optional>
      <ref name="common-form.attrs.form"/>
    </optional>
  </define>
  <define name="common-form.attrs.form" combine="choice">
    <attribute name="form">
      <ref name="common.data.idref"/>
    </attribute>
  </define>
  <define name="shared-form.attrs.formaction">
    <attribute name="formaction">
      <ref name="common.data.uri.non-empty"/>
    </attribute>
  </define>
  <define name="shared-form.attrs.formenctype">
    <attribute name="formenctype">
      <ref name="shared-form.attrs.formenctype.data"/>
    </attribute>
  </define>
  <define name="shared-form.attrs.formenctype.data">
    <choice>
      <value>application/x-www-form-urlencoded</value>
      <value>multipart/form-data</value>
      <value>text/plain</value>
    </choice>
  </define>
  <define name="shared-form.attrs.formmethod">
    <attribute name="formmethod">
      <ref name="shared-form.attrs.formmethod.data"/>
    </attribute>
  </define>
  <define name="shared-form.attrs.formmethod.data">
    <choice>
      <value>get</value>
      <value>post</value>
      <value>dialog</value>
    </choice>
  </define>
  <define name="shared-form.attrs.formtarget">
    <attribute name="formtarget">
      <ref name="common.data.browsing-context-or-keyword"/>
    </attribute>
  </define>
  <define name="shared-form.attrs.formnovalidate">
    <attribute name="formnovalidate">
      <choice>
        <value>formnovalidate</value>
        <value/>
      </choice>
    </attribute>
  </define>
  <define name="shared-form.attrs.pattern">
    <attribute name="pattern">
      <ref name="form.data.pattern"/>
    </attribute>
  </define>
  <define name="shared-form.attrs.template">
    <attribute name="template">
      <ref name="common.data.idref"/>
    </attribute>
  </define>
  <define name="shared-form.attrs.required">
    <attribute name="required">
      <choice>
        <value>required</value>
        <value/>
      </choice>
    </attribute>
  </define>
  <define name="shared-form.attrs.placeholder">
    <attribute name="placeholder">
      <ref name="form.data.stringwithoutlinebreaks"/>
    </attribute>
  </define>
  <define name="shared-form.attrs.dirname">
    <attribute name="dirname">
      <ref name="form.data.nonemptystring"/>
    </attribute>
  </define>
  <define name="shared-form.attrs.minlength">
    <attribute name="minlength">
      <ref name="common.data.integer.non-negative"/>
    </attribute>
  </define>
  <define name="shared-input-no-size.attrs">
    <a:documentation>Shared attributes for &lt;input&gt;</a:documentation>
    <interleave>
      <optional>
        <ref name="input.attrs.autocomplete"/>
      </optional>
      <optional>
        <ref name="input.attrs.list"/>
      </optional>
      <optional>
        <ref name="shared-form.attrs.maxlength"/>
      </optional>
      <optional>
        <ref name="shared-form.attrs.minlength"/>
      </optional>
      <optional>
        <ref name="shared-form.attrs.pattern"/>
      </optional>
      <optional>
        <ref name="shared-form.attrs.placeholder"/>
      </optional>
      <optional>
        <ref name="aria.prop.placeholder"/>
      </optional>
      <optional>
        <ref name="shared-form.attrs.readonly"/>
      </optional>
      <optional>
        <ref name="shared-form.attrs.required"/>
      </optional>
    </interleave>
  </define>
  <define name="shared-input-no-list.attrs">
    <interleave>
      <optional>
        <ref name="input.attrs.autocomplete"/>
      </optional>
      <optional>
        <ref name="shared-form.attrs.maxlength"/>
      </optional>
      <optional>
        <ref name="shared-form.attrs.minlength"/>
      </optional>
      <optional>
        <ref name="shared-form.attrs.pattern"/>
      </optional>
      <optional>
        <ref name="shared-form.attrs.placeholder"/>
      </optional>
      <optional>
        <ref name="aria.prop.placeholder"/>
      </optional>
      <optional>
        <ref name="shared-form.attrs.readonly"/>
      </optional>
      <optional>
        <ref name="shared-form.attrs.required"/>
      </optional>
      <optional>
        <ref name="shared-form.attrs.size"/>
      </optional>
    </interleave>
  </define>
  <define name="shared-input.attrs">
    <interleave>
      <ref name="shared-input-no-size.attrs"/>
      <optional>
        <ref name="shared-form.attrs.size"/>
      </optional>
    </interleave>
  </define>
  <define name="input.attrs.list">
    <attribute name="list">
      <ref name="common.data.idref"/>
    </attribute>
  </define>
  <define name="input.attrs.step.float">
    <attribute name="step">
      <choice>
        <value>any</value>
        <ref name="common.data.float.positive"/>
      </choice>
    </attribute>
  </define>
  <define name="input.attrs.step.integer">
    <attribute name="step">
      <choice>
        <value>any</value>
        <ref name="common.data.integer.positive"/>
      </choice>
    </attribute>
  </define>
  <define name="input.attrs.multiple">
    <attribute name="multiple">
      <choice>
        <value>multiple</value>
        <value/>
      </choice>
    </attribute>
  </define>
  <define name="input.attrs.autocomplete.any">
    <a:documentation>autocomplete</a:documentation>
    <attribute name="autocomplete">
      <choice>
        <value>on</value>
        <value>off</value>
        <ref name="common.data.autocomplete.any"/>
      </choice>
    </attribute>
  </define>
  <define name="input.attrs.autocomplete">
    <attribute name="autocomplete">
      <data type="string"/>
    </attribute>
  </define>
  <define name="input.hidden.attrs" combine="interleave">
    <a:documentation>Hidden String: &lt;input type='hidden'&gt;, Extensions</a:documentation>
    <optional>
      <ref name="input.attrs.autocomplete"/>
    </optional>
  </define>
  <define name="input.text.attrs" combine="interleave">
    <a:documentation>Text Field: &lt;input type='text'&gt;, Extensions</a:documentation>
    <interleave>
      <optional>
        <ref name="input.attrs.autocomplete"/>
      </optional>
      <optional>
        <ref name="shared-form.attrs.dirname"/>
      </optional>
      <optional>
        <ref name="input.attrs.list"/>
      </optional>
      <optional>
        <ref name="shared-form.attrs.pattern"/>
      </optional>
      <optional>
        <ref name="shared-form.attrs.required"/>
      </optional>
      <optional>
        <ref name="shared-form.attrs.placeholder"/>
      </optional>
      <optional>
        <ref name="aria.prop.placeholder"/>
      </optional>
      <optional>
        <ref name="shared-form.attrs.minlength"/>
      </optional>
    </interleave>
  </define>
  <define name="input.password.attrs" combine="interleave">
    <a:documentation>Password Field: &lt;input type='password'&gt;, Extensions</a:documentation>
    <interleave>
      <optional>
        <ref name="input.attrs.autocomplete"/>
      </optional>
      <optional>
        <ref name="input.attrs.list"/>
      </optional>
      <optional>
        <ref name="shared-form.attrs.pattern"/>
      </optional>
      <optional>
        <ref name="shared-form.attrs.placeholder"/>
      </optional>
      <optional>
        <ref name="aria.prop.placeholder"/>
      </optional>
      <optional>
        <ref name="shared-form.attrs.required"/>
      </optional>
      <optional>
        <ref name="aria.prop.required"/>
      </optional>
      <optional>
        <ref name="shared-form.attrs.minlength"/>
      </optional>
    </interleave>
  </define>
  <define name="input.checkbox.attrs" combine="interleave">
    <a:documentation>Checkbox &lt;input type='checkbox'&gt;, Extensions</a:documentation>
    <interleave>
      <ref name="shared-input.attrs"/>
      <optional>
        <ref name="aria.prop.required"/>
      </optional>
    </interleave>
  </define>
  <define name="input.radio.attrs" combine="interleave">
    <a:documentation>Radiobutton: &lt;input type='radio'&gt;, Extensions</a:documentation>
    <interleave>
      <ref name="shared-input.attrs"/>
      <optional>
        <ref name="aria.prop.required"/>
      </optional>
    </interleave>
  </define>
  <define name="input.button.attrs" combine="interleave">
    <a:documentation>Scripting Hook Button: &lt;input type='button'&gt;, Extensions</a:documentation>
    <ref name="shared-input.attrs"/>
  </define>
  <define name="input.submit.attrs" combine="interleave">
    <a:documentation>Submit Button: &lt;input type='submit'&gt;, Extensions</a:documentation>
    <interleave>
      <ref name="shared-input.attrs"/>
      <optional>
        <ref name="shared-form.attrs.formaction"/>
      </optional>
      <optional>
        <ref name="shared-form.attrs.formenctype"/>
      </optional>
      <optional>
        <ref name="shared-form.attrs.formmethod"/>
      </optional>
      <optional>
        <ref name="shared-form.attrs.formtarget"/>
      </optional>
      <optional>
        <ref name="shared-form.attrs.formnovalidate"/>
      </optional>
    </interleave>
  </define>
  <define name="input.reset.attrs" combine="interleave">
    <a:documentation>Reset Button: &lt;input type='reset'&gt;, Extensions</a:documentation>
    <ref name="shared-input.attrs"/>
  </define>
  <define name="input.file.attrs" combine="interleave">
    <a:documentation>File Upload: &lt;input type='file'&gt;, Extensions</a:documentation>
    <interleave>
      <ref name="shared-input.attrs"/>
      <optional>
        <ref name="input.attrs.multiple"/>
      </optional>
      <optional>
        <ref name="aria.prop.required"/>
      </optional>
      <optional>
        <ref name="input.input.attrs.capture"/>
      </optional>
    </interleave>
  </define>
  <define name="input.input.attrs.capture">
    <attribute name="capture">
      <choice>
        <value>user</value>
        <value>environment</value>
      </choice>
    </attribute>
  </define>
  <define name="input.image.attrs" combine="interleave">
    <a:documentation>Image Submit Button: &lt;input type='image'&gt;, Extensions</a:documentation>
    <interleave>
      <ref name="shared-input.attrs"/>
      <optional>
        <ref name="shared-form.attrs.formaction"/>
      </optional>
      <optional>
        <ref name="shared-form.attrs.formenctype"/>
      </optional>
      <optional>
        <ref name="shared-form.attrs.formmethod"/>
      </optional>
      <optional>
        <ref name="shared-form.attrs.formtarget"/>
      </optional>
      <optional>
        <ref name="shared-form.attrs.formnovalidate"/>
      </optional>
      <optional>
        <ref name="input.image.attrs.height"/>
      </optional>
      <optional>
        <ref name="input.image.attrs.width"/>
      </optional>
    </interleave>
  </define>
  <define name="input.image.attrs.height">
    <attribute name="height">
      <ref name="common.data.integer.non-negative"/>
    </attribute>
  </define>
  <define name="input.image.attrs.width">
    <attribute name="width">
      <ref name="common.data.integer.non-negative"/>
    </attribute>
  </define>
  <define name="input.datetime-local.elem">
    <a:documentation>Date and Time with No Time Zone Information: &lt;input type='datetime-local'&gt;</a:documentation>
    <element name="input">
      <ref name="input.datetime-local.attrs"/>
    </element>
  </define>
  <define name="input.datetime-local.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <ref name="common-form.attrs"/>
      <ref name="shared-input.attrs"/>
      <ref name="input.datetime-local.attrs.type"/>
      <optional>
        <ref name="input.datetime-local.attrs.min"/>
      </optional>
      <optional>
        <ref name="aria.prop.valuemin"/>
      </optional>
      <optional>
        <ref name="input.datetime-local.attrs.max"/>
      </optional>
      <optional>
        <ref name="aria.prop.valuemax"/>
      </optional>
      <optional>
        <ref name="input.attrs.step.float"/>
      </optional>
      <optional>
        <ref name="aria.prop.required"/>
      </optional>
      <optional>
        <ref name="input.datetime-local.attrs.value"/>
      </optional>
    </interleave>
  </define>
  <define name="input.datetime-local.attrs.type">
    <attribute name="type">
      <value>datetime-local</value>
    </attribute>
  </define>
  <define name="input.datetime-local.attrs.min">
    <attribute name="min">
      <ref name="form.data.datetime-local"/>
    </attribute>
  </define>
  <define name="input.datetime-local.attrs.max">
    <attribute name="max">
      <ref name="form.data.datetime-local"/>
    </attribute>
  </define>
  <define name="input.datetime-local.attrs.value">
    <attribute name="value">
      <choice>
        <value/>
        <ref name="form.data.datetime-local"/>
      </choice>
    </attribute>
  </define>
  <define name="input.elem" combine="choice">
    <ref name="input.datetime-local.elem"/>
  </define>
  <define name="input.date.elem">
    <a:documentation>Date: &lt;input type='date'&gt;</a:documentation>
    <element name="input">
      <ref name="input.date.attrs"/>
    </element>
  </define>
  <define name="input.date.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <ref name="common-form.attrs"/>
      <ref name="shared-input.attrs"/>
      <ref name="input.date.attrs.type"/>
      <optional>
        <ref name="input.date.attrs.min"/>
      </optional>
      <optional>
        <ref name="aria.prop.valuemin"/>
      </optional>
      <optional>
        <ref name="input.date.attrs.max"/>
      </optional>
      <optional>
        <ref name="aria.prop.valuemax"/>
      </optional>
      <optional>
        <ref name="aria.prop.required"/>
      </optional>
      <optional>
        <ref name="input.attrs.step.integer"/>
      </optional>
      <optional>
        <ref name="input.date.attrs.value"/>
      </optional>
    </interleave>
  </define>
  <define name="input.date.attrs.type">
    <attribute name="type">
      <value>date</value>
    </attribute>
  </define>
  <define name="input.date.attrs.min">
    <attribute name="min">
      <ref name="form.data.date"/>
    </attribute>
  </define>
  <define name="input.date.attrs.max">
    <attribute name="max">
      <ref name="form.data.date"/>
    </attribute>
  </define>
  <define name="input.date.attrs.value">
    <attribute name="value">
      <choice>
        <value/>
        <ref name="form.data.date"/>
      </choice>
    </attribute>
  </define>
  <define name="input.elem" combine="choice">
    <ref name="input.date.elem"/>
  </define>
  <define name="input.month.elem">
    <a:documentation>Year and Month: &lt;input type='month'&gt;</a:documentation>
    <element name="input">
      <ref name="input.month.attrs"/>
    </element>
  </define>
  <define name="input.month.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <ref name="common-form.attrs"/>
      <ref name="shared-input.attrs"/>
      <ref name="input.month.attrs.type"/>
      <optional>
        <ref name="input.month.attrs.min"/>
      </optional>
      <optional>
        <ref name="aria.prop.valuemin"/>
      </optional>
      <optional>
        <ref name="input.month.attrs.max"/>
      </optional>
      <optional>
        <ref name="aria.prop.valuemax"/>
      </optional>
      <optional>
        <ref name="aria.prop.required"/>
      </optional>
      <optional>
        <ref name="input.attrs.step.integer"/>
      </optional>
      <optional>
        <ref name="input.month.attrs.value"/>
      </optional>
    </interleave>
  </define>
  <define name="input.month.attrs.type">
    <attribute name="type">
      <value>month</value>
    </attribute>
  </define>
  <define name="input.month.attrs.min">
    <attribute name="min">
      <ref name="form.data.month"/>
    </attribute>
  </define>
  <define name="input.month.attrs.max">
    <attribute name="max">
      <ref name="form.data.month"/>
    </attribute>
  </define>
  <define name="input.month.attrs.value">
    <attribute name="value">
      <choice>
        <value/>
        <ref name="form.data.month"/>
      </choice>
    </attribute>
  </define>
  <define name="input.elem" combine="choice">
    <ref name="input.month.elem"/>
  </define>
  <define name="input.time.elem">
    <a:documentation>Time without Time Zone Information: &lt;input type='time'&gt;</a:documentation>
    <element name="input">
      <ref name="input.time.attrs"/>
    </element>
  </define>
  <define name="input.time.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <ref name="common-form.attrs"/>
      <ref name="shared-input.attrs"/>
      <ref name="input.time.attrs.type"/>
      <optional>
        <ref name="input.time.attrs.min"/>
      </optional>
      <optional>
        <ref name="aria.prop.valuemin"/>
      </optional>
      <optional>
        <ref name="input.time.attrs.max"/>
      </optional>
      <optional>
        <ref name="aria.prop.valuemax"/>
      </optional>
      <optional>
        <ref name="aria.prop.required"/>
      </optional>
      <optional>
        <ref name="input.attrs.step.float"/>
      </optional>
      <optional>
        <ref name="input.time.attrs.value"/>
      </optional>
    </interleave>
  </define>
  <define name="input.time.attrs.type">
    <attribute name="type">
      <value>time</value>
    </attribute>
  </define>
  <define name="input.time.attrs.min">
    <attribute name="min">
      <ref name="form.data.time"/>
    </attribute>
  </define>
  <define name="input.time.attrs.max">
    <attribute name="max">
      <ref name="form.data.time"/>
    </attribute>
  </define>
  <define name="input.time.attrs.value">
    <attribute name="value">
      <choice>
        <value/>
        <ref name="form.data.time"/>
      </choice>
    </attribute>
  </define>
  <define name="input.elem" combine="choice">
    <ref name="input.time.elem"/>
  </define>
  <define name="input.week.elem">
    <a:documentation>Year and Week: &lt;input type='week'&gt;</a:documentation>
    <element name="input">
      <ref name="input.week.attrs"/>
    </element>
  </define>
  <define name="input.week.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <ref name="common-form.attrs"/>
      <ref name="shared-input.attrs"/>
      <ref name="input.week.attrs.type"/>
      <optional>
        <ref name="input.week.attrs.min"/>
      </optional>
      <optional>
        <ref name="aria.prop.valuemin"/>
      </optional>
      <optional>
        <ref name="input.week.attrs.max"/>
      </optional>
      <optional>
        <ref name="aria.prop.valuemax"/>
      </optional>
      <optional>
        <ref name="aria.prop.required"/>
      </optional>
      <optional>
        <ref name="input.attrs.step.integer"/>
      </optional>
      <optional>
        <ref name="input.week.attrs.value"/>
      </optional>
    </interleave>
  </define>
  <define name="input.week.attrs.type">
    <attribute name="type">
      <value>week</value>
    </attribute>
  </define>
  <define name="input.week.attrs.min">
    <attribute name="min">
      <ref name="form.data.week"/>
    </attribute>
  </define>
  <define name="input.week.attrs.max">
    <attribute name="max">
      <ref name="form.data.week"/>
    </attribute>
  </define>
  <define name="input.week.attrs.value">
    <attribute name="value">
      <choice>
        <value/>
        <ref name="form.data.week"/>
      </choice>
    </attribute>
  </define>
  <define name="input.elem" combine="choice">
    <ref name="input.week.elem"/>
  </define>
  <define name="input.number.elem">
    <a:documentation>Number: &lt;input type='number'&gt;</a:documentation>
    <element name="input">
      <ref name="input.number.attrs"/>
    </element>
  </define>
  <define name="input.number.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <ref name="common-form.attrs"/>
      <ref name="shared-input-no-size.attrs"/>
      <ref name="input.number.attrs.type"/>
      <optional>
        <ref name="input.number.attrs.min"/>
      </optional>
      <optional>
        <ref name="input.number.attrs.max"/>
      </optional>
      <optional>
        <ref name="input.attrs.step.float"/>
      </optional>
      <optional>
        <ref name="input.number.attrs.value"/>
      </optional>
      <optional>
        <choice>
          <ref name="common.attrs.aria.implicit.spinbutton"/>
          <ref name="common.attrs.aria.role.spinbutton"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="input.number.attrs.type">
    <attribute name="type">
      <value>number</value>
    </attribute>
  </define>
  <define name="input.number.attrs.min">
    <attribute name="min">
      <ref name="common.data.float"/>
    </attribute>
  </define>
  <define name="input.number.attrs.max">
    <attribute name="max">
      <ref name="common.data.float"/>
    </attribute>
  </define>
  <define name="input.number.attrs.value">
    <attribute name="value">
      <choice>
        <value/>
        <ref name="common.data.float"/>
      </choice>
    </attribute>
  </define>
  <define name="input.elem" combine="choice">
    <ref name="input.number.elem"/>
  </define>
  <define name="input.range.elem">
    <a:documentation>Imprecise Number: &lt;input type='range'&gt;</a:documentation>
    <element name="input">
      <ref name="input.range.attrs"/>
    </element>
  </define>
  <define name="input.range.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <ref name="common-form.attrs"/>
      <ref name="shared-input-no-size.attrs"/>
      <ref name="input.range.attrs.type"/>
      <optional>
        <ref name="input.range.attrs.min"/>
      </optional>
      <optional>
        <ref name="input.range.attrs.max"/>
      </optional>
      <optional>
        <ref name="input.attrs.step.float"/>
      </optional>
      <optional>
        <ref name="input.range.attrs.value"/>
      </optional>
      <optional>
        <choice>
          <ref name="common.attrs.aria.implicit.slider"/>
          <ref name="common.attrs.aria.role.slider"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="input.range.attrs.type">
    <attribute name="type">
      <value>range</value>
    </attribute>
  </define>
  <define name="input.range.attrs.min">
    <attribute name="min">
      <ref name="common.data.float"/>
    </attribute>
  </define>
  <define name="input.range.attrs.max">
    <attribute name="max">
      <ref name="common.data.float"/>
    </attribute>
  </define>
  <define name="input.range.attrs.value">
    <attribute name="value">
      <ref name="common.data.float"/>
    </attribute>
  </define>
  <define name="input.elem" combine="choice">
    <ref name="input.range.elem"/>
  </define>
  <define name="input.email.elem">
    <a:documentation>Email Address: &lt;input type='email'&gt;</a:documentation>
    <element name="input">
      <ref name="input.email.attrs"/>
    </element>
  </define>
  <define name="input.email.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <ref name="common-form.attrs"/>
      <ref name="shared-input-no-list.attrs"/>
      <ref name="input.email.attrs.type"/>
      <optional>
        <choice>
          <interleave>
            <ref name="input.attrs.multiple"/>
            <optional>
              <ref name="input.email.attrs.value.multiple"/>
            </optional>
          </interleave>
          <optional>
            <ref name="input.email.attrs.value.single"/>
          </optional>
        </choice>
      </optional>
      <choice>
        <optional>
          <choice>
            <ref name="common.attrs.aria.implicit.textbox"/>
            <ref name="common.attrs.aria.role.textbox"/>
          </choice>
        </optional>
        <optional>
          <interleave>
            <ref name="input.attrs.list"/>
            <optional>
              <choice>
                <ref name="common.attrs.aria.implicit.combobox"/>
                <ref name="common.attrs.aria.role.combobox"/>
              </choice>
            </optional>
          </interleave>
        </optional>
      </choice>
    </interleave>
  </define>
  <define name="input.email.attrs.type">
    <attribute name="type">
      <value>email</value>
    </attribute>
  </define>
  <define name="input.email.attrs.value.single">
    <attribute name="value">
      <ref name="form.data.emailaddress"/>
    </attribute>
  </define>
  <define name="input.email.attrs.value.multiple">
    <attribute name="value">
      <ref name="form.data.emailaddresslist"/>
    </attribute>
  </define>
  <define name="input.elem" combine="choice">
    <ref name="input.email.elem"/>
  </define>
  <define name="input.url.elem">
    <a:documentation>IRI: &lt;input type='url'&gt;</a:documentation>
    <element name="input">
      <ref name="input.url.attrs"/>
    </element>
  </define>
  <define name="input.url.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <ref name="common-form.attrs"/>
      <ref name="shared-input-no-list.attrs"/>
      <ref name="input.url.attrs.type"/>
      <optional>
        <ref name="input.url.attrs.value"/>
      </optional>
      <choice>
        <optional>
          <choice>
            <ref name="common.attrs.aria.implicit.textbox"/>
            <ref name="common.attrs.aria.role.textbox"/>
          </choice>
        </optional>
        <optional>
          <interleave>
            <ref name="input.attrs.list"/>
            <optional>
              <choice>
                <ref name="common.attrs.aria.implicit.combobox"/>
                <ref name="common.attrs.aria.role.combobox"/>
              </choice>
            </optional>
          </interleave>
        </optional>
      </choice>
    </interleave>
  </define>
  <define name="input.url.attrs.type">
    <attribute name="type">
      <value>url</value>
    </attribute>
  </define>
  <define name="input.url.attrs.value">
    <attribute name="value">
      <choice>
        <value/>
        <ref name="common.data.uri.absolute"/>
      </choice>
    </attribute>
  </define>
  <define name="input.elem" combine="choice">
    <ref name="input.url.elem"/>
  </define>
  <define name="input.search.elem">
    <a:documentation>Search: &lt;input type='search'&gt;</a:documentation>
    <element name="input">
      <ref name="input.search.attrs"/>
    </element>
  </define>
  <define name="input.search.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <ref name="common-form.attrs"/>
      <ref name="shared-input.attrs"/>
      <ref name="input.search.attrs.type"/>
      <optional>
        <ref name="input.search.attrs.value"/>
      </optional>
      <optional>
        <ref name="shared-form.attrs.dirname"/>
      </optional>
      <optional>
        <choice>
          <ref name="common.attrs.aria.implicit.searchbox"/>
          <ref name="common.attrs.aria.role.searchbox"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="input.search.attrs.type">
    <attribute name="type">
      <value>search</value>
    </attribute>
  </define>
  <define name="input.search.attrs.value">
    <attribute name="value">
      <ref name="form.data.stringwithoutlinebreaks"/>
    </attribute>
  </define>
  <define name="input.elem" combine="choice">
    <ref name="input.search.elem"/>
  </define>
  <define name="input.tel.elem">
    <a:documentation>Telephone Number: &lt;input type='tel'&gt;</a:documentation>
    <element name="input">
      <ref name="input.tel.attrs"/>
    </element>
  </define>
  <define name="input.tel.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <ref name="common-form.attrs"/>
      <ref name="shared-input-no-list.attrs"/>
      <ref name="input.tel.attrs.type"/>
      <optional>
        <ref name="input.tel.attrs.value"/>
      </optional>
      <choice>
        <optional>
          <choice>
            <ref name="common.attrs.aria.implicit.textbox"/>
            <ref name="common.attrs.aria.role.textbox"/>
          </choice>
        </optional>
        <optional>
          <interleave>
            <ref name="input.attrs.list"/>
            <optional>
              <choice>
                <ref name="common.attrs.aria.implicit.combobox"/>
                <ref name="common.attrs.aria.role.combobox"/>
              </choice>
            </optional>
          </interleave>
        </optional>
      </choice>
    </interleave>
  </define>
  <define name="input.tel.attrs.type">
    <attribute name="type">
      <value>tel</value>
    </attribute>
  </define>
  <define name="input.tel.attrs.value">
    <attribute name="value">
      <ref name="form.data.stringwithoutlinebreaks"/>
    </attribute>
  </define>
  <define name="input.elem" combine="choice">
    <ref name="input.tel.elem"/>
  </define>
  <define name="input.color.elem">
    <a:documentation>Color: &lt;input type='color'&gt;</a:documentation>
    <element name="input">
      <ref name="input.color.attrs"/>
    </element>
  </define>
  <define name="input.color.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <ref name="common-form.attrs"/>
      <ref name="input.color.attrs.type"/>
      <optional>
        <ref name="input.color.attrs.value"/>
      </optional>
      <ref name="shared-input.attrs"/>
    </interleave>
  </define>
  <define name="input.color.attrs.type">
    <attribute name="type">
      <value>color</value>
    </attribute>
  </define>
  <define name="input.color.attrs.value">
    <attribute name="value">
      <choice>
        <value/>
        <ref name="form.data.color"/>
      </choice>
    </attribute>
  </define>
  <define name="input.elem" combine="choice">
    <ref name="input.color.elem"/>
  </define>
  <define name="output.elem">
    <a:documentation>Form Output: &lt;output&gt;</a:documentation>
    <element name="output">
      <interleave>
        <ref name="output.inner"/>
        <ref name="output.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="output.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <ref name="common-form.attrs.name"/>
      </optional>
      <optional>
        <ref name="common-form.attrs.form"/>
      </optional>
      <optional>
        <ref name="output.attrs.for"/>
      </optional>
      <optional>
        <choice>
          <ref name="common.attrs.aria.implicit.status"/>
          <ref name="common.attrs.aria"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="output.attrs.for">
    <attribute name="for">
      <ref name="common.data.idrefs"/>
      <!-- REVISIT spec says space- -not whitespace -->
    </attribute>
  </define>
  <define name="output.inner">
    <ref name="common.inner.phrasing"/>
  </define>
  <define name="common.elem.phrasing" combine="choice">
    <ref name="output.elem"/>
  </define>
  <define name="textarea.attrs.rows-and-cols-wf1.inner" combine="interleave">
    <a:documentation>Text Area: &lt;textarea&gt;, extensions</a:documentation>
    <notAllowed/>
  </define>
  <define name="textarea.attrs.rows-and-cols-wf1" combine="choice">
    <empty/>
  </define>
  <define name="textarea.attrs" combine="interleave">
    <interleave>
      <optional>
        <ref name="shared-form.attrs.maxlength"/>
      </optional>
      <optional>
        <ref name="shared-form.attrs.minlength"/>
      </optional>
      <optional>
        <ref name="shared-form.attrs.required"/>
      </optional>
      <optional>
        <ref name="textarea.attrs.placeholder"/>
      </optional>
      <optional>
        <ref name="aria.prop.placeholder"/>
      </optional>
      <optional>
        <ref name="shared-form.attrs.dirname"/>
      </optional>
      <optional>
        <ref name="textarea.attrs.rows"/>
      </optional>
      <choice>
        <interleave>
          <ref name="textarea.attrs.wrap.hard"/>
          <ref name="textarea.attrs.cols"/>
        </interleave>
        <interleave>
          <optional>
            <ref name="textarea.attrs.wrap.soft"/>
          </optional>
          <optional>
            <ref name="textarea.attrs.cols"/>
          </optional>
        </interleave>
      </choice>
      <optional>
        <ref name="input.attrs.autocomplete.any"/>
      </optional>
    </interleave>
  </define>
  <define name="textarea.attrs.wrap.hard">
    <attribute name="wrap">
      <value>hard</value>
    </attribute>
  </define>
  <define name="textarea.attrs.wrap.soft">
    <attribute name="wrap">
      <value>soft</value>
    </attribute>
  </define>
  <define name="textarea.attrs.placeholder">
    <attribute name="placeholder">
      <data type="string"/>
    </attribute>
  </define>
  <!-- REVISIT should the options in datalist be non-selectable? -->
  <define name="datalist.elem">
    <a:documentation>List of Prefill Data: &lt;datalist&gt;</a:documentation>
    <element name="datalist">
      <interleave>
        <ref name="datalist.inner"/>
        <ref name="datalist.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="datalist.inner">
    <interleave>
      <zeroOrMore>
        <ref name="option.elem"/>
      </zeroOrMore>
      <ref name="common.inner.phrasing"/>
    </interleave>
  </define>
  <define name="datalist.attrs">
    <ref name="common.attrs"/>
  </define>
  <define name="common.elem.phrasing" combine="choice">
    <ref name="datalist.elem"/>
  </define>
  <define name="button.submit.attrs" combine="interleave">
    <a:documentation>Complex Submit Button: &lt;button type='submit'&gt;, extensions</a:documentation>
    <interleave>
      <optional>
        <ref name="shared-form.attrs.formaction"/>
      </optional>
      <optional>
        <ref name="shared-form.attrs.formenctype"/>
      </optional>
      <optional>
        <ref name="shared-form.attrs.formmethod"/>
      </optional>
      <optional>
        <ref name="shared-form.attrs.formtarget"/>
      </optional>
      <optional>
        <ref name="shared-form.attrs.formnovalidate"/>
      </optional>
    </interleave>
  </define>
  <define name="form.attrs" combine="interleave">
    <a:documentation>Form: &lt;form&gt;, extensions</a:documentation>
    <interleave>
      <optional>
        <ref name="form.attrs.novalidate"/>
      </optional>
      <optional>
        <ref name="form.attrs.target"/>
      </optional>
      <optional>
        <ref name="form.attrs.autocomplete"/>
      </optional>
    </interleave>
  </define>
  <define name="form.attrs.novalidate">
    <attribute name="novalidate">
      <choice>
        <value>novalidate</value>
        <value/>
      </choice>
    </attribute>
  </define>
  <define name="form.attrs.target">
    <attribute name="target">
      <ref name="common.data.browsing-context-or-keyword"/>
    </attribute>
  </define>
  <define name="form.attrs.autocomplete">
    <attribute name="autocomplete">
      <choice>
        <value>on</value>
        <value>off</value>
      </choice>
    </attribute>
  </define>
  <!-- REVISIT should this be case-insensitive in conforming XHTML documents? -->
  <define name="form.attrs.enctype.data" combine="choice">
    <value>text/plain</value>
  </define>
  <define name="fieldset.attrs" combine="interleave">
    <a:documentation>Fieldset: &lt;fieldset&gt;, extensions</a:documentation>
    <ref name="common-form.attrs"/>
  </define>
  <define name="select.attrs" combine="interleave">
    <a:documentation>Selection Menu: &lt;select&gt;, Extensions</a:documentation>
    <interleave>
      <optional>
        <ref name="shared-form.attrs.required"/>
      </optional>
      <optional>
        <ref name="input.attrs.autocomplete.any"/>
      </optional>
    </interleave>
  </define>
  <!-- Inlined from applications.rng -->
<!-- ##################################################################### -->
  <define name="common.attrs.interact" combine="interleave">
    <a:documentation> RELAX NG Schema for HTML 5: Web Application Features              #</a:documentation>
    <!-- ##################################################################### -->
    <a:documentation>Additions to Common Attributes</a:documentation>
    <interleave>
      <optional>
        <ref name="common.attrs.contenteditable"/>
      </optional>
      <optional>
        <ref name="common.attrs.draggable"/>
      </optional>
      <optional>
        <ref name="common.attrs.hidden"/>
      </optional>
      <optional>
        <ref name="common.attrs.popover"/>
      </optional>
    </interleave>
  </define>
  <define name="common.attrs.other" combine="interleave">
    <ref name="common.attrs.interact"/>
  </define>
  <define name="common.attrs.contenteditable">
    <a:documentation>Editable Content: contenteditable</a:documentation>
    <attribute name="contenteditable">
      <choice>
        <value>true</value>
        <value>plaintext-only</value>
        <value>false</value>
        <value/>
      </choice>
    </attribute>
  </define>
  <define name="common.attrs.draggable">
    <a:documentation>Draggable Element: draggable</a:documentation>
    <attribute name="draggable">
      <choice>
        <value>true</value>
        <value>false</value>
      </choice>
    </attribute>
  </define>
  <define name="common.attrs.hidden">
    <a:documentation>Hidden Element: hidden</a:documentation>
    <attribute name="hidden">
      <choice>
        <value>hidden</value>
        <value>until-found</value>
        <value/>
      </choice>
    </attribute>
  </define>
  <define name="common.attrs.popover">
    <a:documentation>Popover Element: popover</a:documentation>
    <attribute name="popover">
      <choice>
        <value>auto</value>
        <value>manual</value>
        <value>hint</value>
        <value/>
      </choice>
    </attribute>
  </define>
  <define name="common.attrs.editing" combine="interleave">
    <a:documentation>Global attributes applicable on elements with editable content</a:documentation>
    <interleave>
      <optional>
        <ref name="common.attrs.inputmode"/>
      </optional>
      <optional>
        <ref name="common.attrs.spellcheck"/>
      </optional>
      <optional>
        <ref name="common.attrs.autocapitalize"/>
      </optional>
      <optional>
        <ref name="common.attrs.enterkeyhint"/>
      </optional>
    </interleave>
  </define>
  <define name="common.attrs.other" combine="interleave">
    <ref name="common.attrs.editing"/>
  </define>
  <define name="common.attrs.inputmode">
    <a:documentation>Hint expected data type: inputmode</a:documentation>
    <attribute name="inputmode">
      <choice>
        <value>none</value>
        <value>text</value>
        <value>tel</value>
        <value>url</value>
        <value>email</value>
        <value>numeric</value>
        <value>decimal</value>
        <value>search</value>
      </choice>
    </attribute>
  </define>
  <define name="common.attrs.spellcheck">
    <a:documentation>Spellchecking and grammar checking: spellcheck</a:documentation>
    <attribute name="spellcheck">
      <choice>
        <value>true</value>
        <value>false</value>
        <value/>
      </choice>
    </attribute>
  </define>
  <define name="common.attrs.autocapitalize">
    <a:documentation>Autocapitalization</a:documentation>
    <attribute name="autocapitalize">
      <choice>
        <value>off</value>
        <value>none</value>
        <value>on</value>
        <value>sentences</value>
        <value>words</value>
        <value>characters</value>
      </choice>
    </attribute>
  </define>
  <define name="common.attrs.enterkeyhint">
    <a:documentation>Type of Enter button on virtual keyboards: enterkeyhint</a:documentation>
    <attribute name="enterkeyhint">
      <choice>
        <value>enter</value>
        <value>done</value>
        <value>go</value>
        <value>next</value>
        <value>previous</value>
        <value>search</value>
        <value>send</value>
      </choice>
    </attribute>
  </define>
  <define name="progress.elem">
    <a:documentation>Progess Indicator: &lt;progress&gt;</a:documentation>
    <element name="progress">
      <interleave>
        <ref name="progress.inner"/>
        <ref name="progress.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="progress.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <ref name="progress.attrs.value"/>
      </optional>
      <optional>
        <ref name="progress.attrs.max"/>
      </optional>
      <optional>
        <choice>
          <ref name="common.attrs.aria.implicit.progressbar"/>
          <ref name="common.attrs.aria.role.progressbar"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="progress.attrs.value">
    <attribute name="value">
      <ref name="common.data.float.non-negative"/>
    </attribute>
  </define>
  <define name="progress.attrs.max">
    <attribute name="max">
      <ref name="common.data.float.positive"/>
    </attribute>
  </define>
  <define name="progress.inner">
    <ref name="common.inner.phrasing"/>
  </define>
  <!-- Cannot enforce textContent format here -->
  <define name="common.elem.phrasing" combine="choice">
    <ref name="progress.elem"/>
  </define>
  <define name="dialog.elem">
    <a:documentation>Dialog box, inspector, or window: &lt;dialog&gt;</a:documentation>
    <element name="dialog">
      <interleave>
        <ref name="dialog.inner"/>
        <ref name="dialog.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="dialog.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <ref name="dialog.attrs.open"/>
      </optional>
      <optional>
        <choice>
          <ref name="common.attrs.aria.implicit.dialog"/>
          <ref name="common.attrs.aria.role.alertdialog"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="dialog.attrs.open">
    <attribute name="open">
      <choice>
        <value>open</value>
        <value/>
      </choice>
    </attribute>
  </define>
  <define name="dialog.inner">
    <ref name="common.inner.flow"/>
  </define>
  <define name="common.elem.flow" combine="choice">
    <ref name="dialog.elem"/>
  </define>
  <define name="menu.elem">
    <a:documentation>Toolbar: &lt;menu&gt;</a:documentation>
    <element name="menu">
      <interleave>
        <ref name="menu.inner"/>
        <ref name="menu.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="menu.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <choice>
          <ref name="common.attrs.aria.implicit.list"/>
          <ref name="common.attrs.aria.role.directory"/>
          <ref name="common.attrs.aria.role.group"/>
          <ref name="common.attrs.aria.role.list"/>
          <ref name="common.attrs.aria.role.listbox"/>
          <ref name="common.attrs.aria.role.menu"/>
          <ref name="common.attrs.aria.role.menubar"/>
          <ref name="common.attrs.aria.role.radiogroup"/>
          <ref name="common.attrs.aria.role.tablist"/>
          <ref name="common.attrs.aria.role.toolbar"/>
          <ref name="common.attrs.aria.role.tree"/>
          <ref name="common.attrs.aria.role.presentation"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="menu.inner">
    <interleave>
      <zeroOrMore>
        <ref name="mli.elem"/>
      </zeroOrMore>
      <zeroOrMore>
        <ref name="common.elem.script-supporting"/>
      </zeroOrMore>
    </interleave>
  </define>
  <define name="common.elem.flow" combine="choice">
    <ref name="menu.elem"/>
  </define>
  <define name="mli.elem">
    <a:documentation>Toolbar item: &lt;li&gt;</a:documentation>
    <element name="li">
      <interleave>
        <ref name="mli.inner"/>
        <ref name="mli.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="mli.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <choice>
          <ref name="common.attrs.aria.role.listitem"/>
          <ref name="common.attrs.aria.role.menuitem"/>
          <ref name="common.attrs.aria.role.menuitemcheckbox"/>
          <ref name="common.attrs.aria.role.menuitemradio"/>
          <ref name="common.attrs.aria.role.option"/>
          <ref name="common.attrs.aria.role.tab"/>
          <ref name="common.attrs.aria.role.treeitem"/>
          <ref name="common.attrs.aria.role.presentation"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="mli.inner">
    <ref name="common.inner.flow"/>
  </define>
  <define name="canvas.elem.flow">
    <a:documentation>Canvas for Dynamic Graphics: &lt;canvas&gt;</a:documentation>
    <element name="canvas">
      <interleave>
        <ref name="canvas.inner.flow"/>
        <ref name="canvas.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="canvas.elem.phrasing">
    <element name="canvas">
      <interleave>
        <ref name="canvas.inner.phrasing"/>
        <ref name="canvas.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="canvas.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <ref name="canvas.attrs.height"/>
      </optional>
      <optional>
        <ref name="canvas.attrs.width"/>
      </optional>
      <optional>
        <ref name="common.attrs.aria"/>
      </optional>
    </interleave>
  </define>
  <define name="canvas.attrs.height">
    <attribute name="height">
      <ref name="common.data.integer.non-negative"/>
    </attribute>
  </define>
  <define name="canvas.attrs.width">
    <attribute name="width">
      <ref name="common.data.integer.non-negative"/>
    </attribute>
  </define>
  <define name="canvas.inner.flow">
    <ref name="common.inner.transparent.flow"/>
  </define>
  <define name="canvas.inner.phrasing">
    <ref name="common.inner.phrasing"/>
  </define>
  <define name="common.elem.flow" combine="choice">
    <ref name="canvas.elem.flow"/>
  </define>
  <define name="common.elem.phrasing" combine="choice">
    <ref name="canvas.elem.phrasing"/>
  </define>
  <define name="details.elem">
    <a:documentation>Additional On-Demand Information: &lt;details&gt;</a:documentation>
    <element name="details">
      <interleave>
        <ref name="details.inner"/>
        <ref name="details.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="details.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <ref name="details.attrs.open"/>
      </optional>
      <optional>
        <choice>
          <ref name="common.attrs.aria.implicit.group"/>
          <!-- aria-expanded must be true if open attr present; check by assertions -->
          <ref name="common.attrs.aria.role.group"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="details.attrs.open">
    <attribute name="open">
      <choice>
        <value>open</value>
        <value/>
      </choice>
    </attribute>
  </define>
  <define name="details.inner">
    <ref name="summary.elem"/>
    <ref name="common.inner.flow"/>
  </define>
  <define name="common.elem.flow" combine="choice">
    <ref name="details.elem"/>
  </define>
  <define name="summary.elem">
    <a:documentation>Caption/summary for details element: &lt;summary&gt;</a:documentation>
    <element name="summary">
      <interleave>
        <ref name="summary.inner"/>
        <ref name="summary.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="summary.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <choice>
          <ref name="common.attrs.aria.implicit.button"/>
          <ref name="common.attrs.aria.role.button"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="summary.inner">
    <interleave>
      <ref name="common.inner.phrasing"/>
      <optional>
        <ref name="h1.elem"/>
      </optional>
      <optional>
        <ref name="h2.elem"/>
      </optional>
      <optional>
        <ref name="h3.elem"/>
      </optional>
      <optional>
        <ref name="h4.elem"/>
      </optional>
      <optional>
        <ref name="h5.elem"/>
      </optional>
      <optional>
        <ref name="h6.elem"/>
      </optional>
      <optional>
        <ref name="hgroup.elem"/>
      </optional>
    </interleave>
  </define>
  <!-- Inlined from data.rng -->
<!-- ##################################################################### -->
  <define name="time.elem">
    <a:documentation> RELAX NG Schema for HTML 5: Static Data Markup                    #</a:documentation>
    <!-- ##################################################################### -->
    <a:documentation>Time: &lt;time&gt;</a:documentation>
    <element name="time">
      <interleave>
        <ref name="time.inner"/>
        <ref name="time.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="time.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <ref name="common.attrs.aria"/>
      </optional>
    </interleave>
  </define>
  <define name="time.inner">
    <text/>
  </define>
  <!-- Cannot enforce textContent format here -->
  <define name="common.elem.phrasing" combine="choice">
    <ref name="time.elem"/>
  </define>
  <define name="time.datetime.elem">
    <a:documentation>Time with datetime attribute: &lt;time datetime&gt;</a:documentation>
    <element name="time">
      <interleave>
        <ref name="time.datetime.inner"/>
        <ref name="time.datetime.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="time.datetime.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <ref name="time.attrs.datetime"/>
      <optional>
        <ref name="common.attrs.aria"/>
      </optional>
    </interleave>
  </define>
  <define name="time.attrs.datetime">
    <attribute name="datetime">
      <ref name="common.data.time-datetime"/>
    </attribute>
  </define>
  <define name="time.datetime.inner">
    <ref name="common.inner.phrasing"/>
  </define>
  <define name="common.elem.phrasing" combine="choice">
    <ref name="time.datetime.elem"/>
  </define>
  <define name="data.elem">
    <a:documentation>Data: &lt;data&gt;</a:documentation>
    <element name="data">
      <interleave>
        <ref name="data.inner"/>
        <ref name="data.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="data.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <ref name="data.attrs.value"/>
      <optional>
        <ref name="common.attrs.aria"/>
      </optional>
    </interleave>
  </define>
  <define name="data.attrs.value">
    <attribute name="value">
      <data type="string"/>
    </attribute>
  </define>
  <define name="data.inner">
    <ref name="common.inner.phrasing"/>
  </define>
  <define name="common.elem.phrasing" combine="choice">
    <ref name="data.elem"/>
  </define>
  <define name="meter.elem">
    <a:documentation>Scalar Gauge: &lt;meter&gt;</a:documentation>
    <element name="meter">
      <interleave>
        <ref name="meter.inner"/>
        <ref name="meter.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="meter.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <ref name="meter.attrs.value"/>
      <optional>
        <ref name="meter.attrs.min"/>
      </optional>
      <optional>
        <ref name="aria.prop.valuemin"/>
      </optional>
      <optional>
        <ref name="meter.attrs.low"/>
      </optional>
      <optional>
        <ref name="meter.attrs.high"/>
      </optional>
      <optional>
        <ref name="meter.attrs.max"/>
      </optional>
      <optional>
        <ref name="aria.prop.valuemax"/>
      </optional>
      <optional>
        <ref name="meter.attrs.optimum"/>
      </optional>
    </interleave>
  </define>
  <define name="meter.attrs.value">
    <attribute name="value">
      <ref name="common.data.float"/>
    </attribute>
  </define>
  <define name="meter.attrs.min">
    <attribute name="min">
      <ref name="common.data.float"/>
    </attribute>
  </define>
  <define name="meter.attrs.low">
    <attribute name="low">
      <ref name="common.data.float"/>
    </attribute>
  </define>
  <define name="meter.attrs.high">
    <attribute name="high">
      <ref name="common.data.float"/>
    </attribute>
  </define>
  <define name="meter.attrs.max">
    <attribute name="max">
      <ref name="common.data.float"/>
    </attribute>
  </define>
  <define name="meter.attrs.optimum">
    <attribute name="optimum">
      <ref name="common.data.float"/>
    </attribute>
  </define>
  <define name="meter.inner">
    <ref name="common.inner.phrasing"/>
  </define>
  <!-- Cannot enforce textContent format here -->
  <define name="common.elem.phrasing" combine="choice">
    <ref name="meter.elem"/>
  </define>
  <!-- Inlined from aria.rng -->
<!-- ##################################################################### -->
  <define name="aria.global">
    <a:documentation>	RELAX NG Schema for HTML 5: Accessible Rich Internet Applications #</a:documentation>
    <!--
      #####################################################################
      
      history: http://hsivonen.iki.fi/aria-html5-bis/
    -->
    <!-- ##################################################################### -->
    <a:documentation>ARIA</a:documentation>
    <a:documentation>Global states and properties</a:documentation>
    <interleave>
      <optional>
        <ref name="aria.prop.atomic"/>
      </optional>
      <optional>
        <ref name="aria.state.busy"/>
      </optional>
      <optional>
        <ref name="aria.prop.controls"/>
      </optional>
      <optional>
        <ref name="aria.state.current"/>
      </optional>
      <optional>
        <ref name="aria.prop.describedby"/>
      </optional>
      <optional>
        <ref name="aria.prop.details"/>
      </optional>
      <optional>
        <ref name="aria.state.disabled"/>
      </optional>
      <optional>
        <ref name="aria.prop.errormessage"/>
      </optional>
      <optional>
        <ref name="aria.prop.flowto"/>
      </optional>
      <optional>
        <ref name="aria.prop.haspopup"/>
      </optional>
      <optional>
        <ref name="aria.state.hidden"/>
      </optional>
      <optional>
        <ref name="aria.state.invalid"/>
      </optional>
      <optional>
        <ref name="aria.prop.keyshortcuts"/>
      </optional>
      <optional>
        <ref name="aria.prop.label"/>
      </optional>
      <optional>
        <ref name="aria.prop.labelledby"/>
      </optional>
      <optional>
        <ref name="aria.prop.live"/>
      </optional>
      <optional>
        <ref name="aria.prop.owns"/>
      </optional>
      <optional>
        <ref name="aria.prop.relevant"/>
      </optional>
      <optional>
        <ref name="aria.prop.roledescription"/>
      </optional>
      <optional>
        <ref name="aria.prop.description"/>
      </optional>
    </interleave>
  </define>
  <define name="common.attrs.other" combine="interleave">
    <optional>
      <ref name="aria.global"/>
    </optional>
  </define>
  <define name="common.attrs.aria.implicit.button" combine="choice">
    <a:documentation>States and Properties for Native Roles</a:documentation>
    <interleave>
      <optional>
        <ref name="aria.state.expanded"/>
      </optional>
      <optional>
        <ref name="aria.state.pressed"/>
      </optional>
    </interleave>
  </define>
  <define name="common.attrs.aria.implicit.cell" combine="choice">
    <interleave>
      <optional>
        <ref name="aria.prop.colspan"/>
      </optional>
      <optional>
        <ref name="aria.prop.rowspan"/>
      </optional>
      <optional>
        <ref name="aria.prop.rowindex"/>
      </optional>
    </interleave>
  </define>
  <define name="common.attrs.aria.implicit.checkbox" combine="choice">
    <optional>
      <ref name="aria.state.checked"/>
    </optional>
  </define>
  <define name="common.attrs.aria.implicit.combobox" combine="choice">
    <interleave>
      <optional>
        <ref name="aria.state.expanded"/>
      </optional>
      <optional>
        <ref name="aria.prop.autocomplete"/>
      </optional>
      <optional>
        <ref name="aria.prop.required"/>
      </optional>
      <optional>
        <ref name="aria.prop.activedescendant"/>
      </optional>
      <optional>
        <ref name="aria.prop.readonly"/>
      </optional>
    </interleave>
  </define>
  <define name="common.attrs.aria.implicit.definition" combine="choice">
    <optional>
      <ref name="aria.state.expanded"/>
    </optional>
  </define>
  <define name="common.attrs.aria.implicit.dialog" combine="choice">
    <optional>
      <ref name="aria.state.expanded"/>
    </optional>
  </define>
  <define name="common.attrs.aria.implicit.document" combine="choice">
    <optional>
      <ref name="aria.state.expanded"/>
    </optional>
  </define>
  <define name="common.attrs.aria.implicit.figure" combine="choice">
    <optional>
      <ref name="aria.state.expanded"/>
    </optional>
  </define>
  <define name="common.attrs.aria.implicit.form" combine="choice">
    <optional>
      <ref name="aria.state.expanded"/>
    </optional>
  </define>
  <define name="common.attrs.aria.implicit.group" combine="choice">
    <interleave>
      <optional>
        <ref name="aria.state.expanded"/>
      </optional>
      <optional>
        <ref name="aria.prop.activedescendant"/>
      </optional>
    </interleave>
  </define>
  <define name="common.attrs.aria.implicit.heading" combine="choice">
    <interleave>
      <optional>
        <ref name="aria.state.expanded"/>
      </optional>
      <optional>
        <ref name="aria.prop.level"/>
      </optional>
    </interleave>
  </define>
  <define name="common.attrs.aria.implicit.img" combine="choice">
    <optional>
      <ref name="aria.state.expanded"/>
    </optional>
  </define>
  <define name="common.attrs.aria.implicit.link" combine="choice">
    <optional>
      <ref name="aria.state.expanded"/>
    </optional>
  </define>
  <define name="common.attrs.aria.implicit.listbox" combine="choice">
    <interleave>
      <optional>
        <ref name="aria.prop.multiselectable"/>
      </optional>
      <optional>
        <ref name="aria.prop.required"/>
      </optional>
      <optional>
        <ref name="aria.prop.activedescendant"/>
      </optional>
      <optional>
        <ref name="aria.state.expanded"/>
      </optional>
    </interleave>
  </define>
  <define name="common.attrs.aria.implicit.listitem" combine="choice">
    <interleave>
      <optional>
        <ref name="aria.prop.level"/>
      </optional>
      <optional>
        <ref name="aria.prop.posinset"/>
      </optional>
      <optional>
        <ref name="aria.prop.setsize"/>
      </optional>
      <optional>
        <ref name="aria.state.expanded"/>
      </optional>
    </interleave>
  </define>
  <define name="common.attrs.aria.implicit.math" combine="choice">
    <optional>
      <ref name="aria.state.expanded"/>
    </optional>
  </define>
  <define name="common.attrs.aria.implicit.option" combine="choice">
    <interleave>
      <optional>
        <ref name="aria.prop.posinset"/>
      </optional>
      <optional>
        <ref name="aria.prop.setsize"/>
      </optional>
      <optional>
        <ref name="aria.state.checked"/>
      </optional>
      <optional>
        <ref name="aria.state.selected"/>
      </optional>
    </interleave>
  </define>
  <define name="common.attrs.aria.implicit.progressbar" combine="choice">
    <interleave>
      <optional>
        <ref name="aria.prop.valuemax"/>
      </optional>
      <optional>
        <ref name="aria.prop.valuemin"/>
      </optional>
      <optional>
        <ref name="aria.prop.valuenow"/>
      </optional>
      <optional>
        <ref name="aria.prop.valuetext"/>
      </optional>
    </interleave>
  </define>
  <define name="common.attrs.aria.implicit.radio" combine="choice">
    <interleave>
      <optional>
        <ref name="aria.prop.posinset"/>
      </optional>
      <optional>
        <ref name="aria.prop.setsize"/>
      </optional>
      <optional>
        <ref name="aria.state.checked"/>
      </optional>
      <optional>
        <ref name="aria.state.selected"/>
      </optional>
    </interleave>
  </define>
  <define name="common.attrs.aria.implicit.row" combine="choice">
    <interleave>
      <optional>
        <ref name="aria.prop.level"/>
      </optional>
      <optional>
        <!-- not inherited -->
        <ref name="aria.state.selected"/>
      </optional>
      <optional>
        <!-- not inherited -->
        <ref name="aria.prop.activedescendant"/>
      </optional>
      <optional>
        <ref name="aria.state.expanded"/>
      </optional>
    </interleave>
  </define>
  <define name="common.attrs.aria.implicit.rowgroup" combine="choice">
    <interleave>
      <optional>
        <ref name="aria.prop.activedescendant"/>
      </optional>
      <optional>
        <ref name="aria.state.expanded"/>
      </optional>
    </interleave>
  </define>
  <define name="common.attrs.aria.implicit.searchbox" combine="choice">
    <interleave>
      <optional>
        <ref name="aria.prop.activedescendant"/>
      </optional>
      <optional>
        <ref name="aria.prop.autocomplete"/>
      </optional>
      <optional>
        <ref name="aria.prop.multiline"/>
      </optional>
      <optional>
        <ref name="aria.prop.readonly"/>
      </optional>
      <optional>
        <ref name="aria.prop.required"/>
      </optional>
    </interleave>
  </define>
  <define name="common.attrs.aria.implicit.separator" combine="choice">
    <interleave>
      <optional>
        <ref name="aria.prop.valuemax"/>
      </optional>
      <optional>
        <ref name="aria.prop.valuemin"/>
      </optional>
      <optional>
        <ref name="aria.prop.valuenow"/>
      </optional>
      <optional>
        <ref name="aria.prop.valuetext"/>
      </optional>
      <optional>
        <ref name="aria.prop.orientation"/>
      </optional>
    </interleave>
  </define>
  <define name="common.attrs.aria.implicit.slider" combine="choice">
    <interleave>
      <optional>
        <ref name="aria.prop.valuemax"/>
      </optional>
      <optional>
        <ref name="aria.prop.valuemin"/>
      </optional>
      <optional>
        <ref name="aria.prop.valuenow"/>
      </optional>
      <optional>
        <ref name="aria.prop.valuetext"/>
      </optional>
      <optional>
        <ref name="aria.prop.orientation"/>
      </optional>
    </interleave>
  </define>
  <define name="common.attrs.aria.implicit.spinbutton" combine="choice">
    <interleave>
      <optional>
        <ref name="aria.prop.valuemax"/>
      </optional>
      <optional>
        <ref name="aria.prop.valuemin"/>
      </optional>
      <optional>
        <ref name="aria.prop.valuenow"/>
      </optional>
      <optional>
        <ref name="aria.prop.valuetext"/>
      </optional>
      <optional>
        <ref name="aria.prop.required"/>
      </optional>
    </interleave>
  </define>
  <define name="common.attrs.aria.implicit.table" combine="choice">
    <interleave>
      <optional>
        <ref name="aria.prop.colcount"/>
      </optional>
      <optional>
        <ref name="aria.prop.rowcount"/>
      </optional>
    </interleave>
  </define>
  <define name="common.attrs.aria.implicit.term" combine="choice">
    <optional>
      <ref name="aria.state.expanded"/>
    </optional>
  </define>
  <define name="common.attrs.aria.implicit.textbox" combine="choice">
    <interleave>
      <optional>
        <ref name="aria.prop.activedescendant"/>
      </optional>
      <optional>
        <ref name="aria.prop.autocomplete"/>
      </optional>
      <optional>
        <ref name="aria.prop.multiline"/>
      </optional>
      <optional>
        <ref name="aria.prop.readonly"/>
      </optional>
      <optional>
        <ref name="aria.prop.required"/>
      </optional>
    </interleave>
  </define>
  <define name="common.attrs.aria.implicit.toolbar" combine="choice">
    <interleave>
      <optional>
        <ref name="aria.state.expanded"/>
      </optional>
      <optional>
        <ref name="aria.prop.activedescendant"/>
      </optional>
    </interleave>
  </define>
  <define name="common.attrs.aria.implicit.column-or-row-header" combine="choice">
    <interleave>
      <optional>
        <ref name="aria.prop.sort"/>
      </optional>
      <optional>
        <ref name="aria.prop.readonly"/>
      </optional>
      <optional>
        <ref name="aria.prop.required"/>
      </optional>
      <optional>
        <ref name="aria.prop.colspan"/>
      </optional>
      <optional>
        <ref name="aria.prop.colindex"/>
      </optional>
      <optional>
        <ref name="aria.prop.rowspan"/>
      </optional>
      <optional>
        <ref name="aria.prop.rowindex"/>
      </optional>
      <optional>
        <ref name="aria.state.selected"/>
      </optional>
      <optional>
        <ref name="aria.state.expanded"/>
      </optional>
    </interleave>
  </define>
  <!--
    common.attrs.aria.implicit.select |=
    		(	aria.state.invalid?
    	&	aria.prop.required?
    	&	aria.prop.atomic?
    	&	aria.state.busy?
    	&	aria.prop.channel?
    	&	aria.prop.controls?
    	&	aria.prop.live?
    	&	aria.prop.relevant?
    	)
  -->
  <!--
    section
      |
      |_ region
           |
           |_ article
           |
           |_ landmark
           |     |_ banner
           |     |_ complementary
           |     |_ contentinfo
           |     |_ main
           |     |_ navigation
           |
           |_ list
           |
           |_ status
  -->
  <define name="common.attrs.aria.implicit.section" combine="choice">
    <optional>
      <ref name="aria.state.expanded"/>
    </optional>
  </define>
  <define name="common.attrs.aria.implicit.region" combine="choice">
    <ref name="common.attrs.aria.implicit.section"/>
  </define>
  <define name="common.attrs.aria.implicit.article" combine="choice">
    <ref name="common.attrs.aria.implicit.region"/>
  </define>
  <define name="common.attrs.aria.implicit.landmark" combine="choice">
    <ref name="common.attrs.aria.implicit.region"/>
  </define>
  <define name="common.attrs.aria.implicit.list" combine="choice">
    <ref name="common.attrs.aria.implicit.region"/>
  </define>
  <define name="common.attrs.aria.implicit.status" combine="choice">
    <ref name="common.attrs.aria.implicit.region"/>
  </define>
  <define name="common.attrs.aria.implicit.banner" combine="choice">
    <ref name="common.attrs.aria.implicit.landmark"/>
  </define>
  <define name="common.attrs.aria.implicit.complementary" combine="choice">
    <ref name="common.attrs.aria.implicit.landmark"/>
  </define>
  <define name="common.attrs.aria.implicit.contentinfo" combine="choice">
    <ref name="common.attrs.aria.implicit.landmark"/>
  </define>
  <define name="common.attrs.aria.implicit.main" combine="choice">
    <ref name="common.attrs.aria.implicit.landmark"/>
  </define>
  <define name="common.attrs.aria.implicit.navigation" combine="choice">
    <ref name="common.attrs.aria.implicit.landmark"/>
  </define>
  <define name="common.attrs.aria.implicit.search" combine="choice">
    <ref name="common.attrs.aria.implicit.landmark"/>
  </define>
  <!-- ##################################################################### -->
  <define name="aria.state.busy">
    <a:documentation>States</a:documentation>
    <a:documentation>busy</a:documentation>
    <attribute name="aria-busy">
      <choice>
        <value type="string">true</value>
        <value type="string">false</value>
      </choice>
      <!-- default -->
    </attribute>
  </define>
  <define name="aria.state.current">
    <a:documentation>current</a:documentation>
    <attribute name="aria-current">
      <choice>
        <value type="string">page</value>
        <value type="string">step</value>
        <value type="string">location</value>
        <value type="string">date</value>
        <value type="string">time</value>
        <value type="string">true</value>
        <value type="string">false</value>
      </choice>
      <!-- default -->
    </attribute>
  </define>
  <define name="aria.state.checked">
    <a:documentation>checked</a:documentation>
    <attribute name="aria-checked">
      <choice>
        <value type="string">true</value>
        <value type="string">false</value>
        <value type="string">mixed</value>
        <value type="string">undefined</value>
      </choice>
      <!-- default -->
    </attribute>
  </define>
  <define name="aria.state.disabled">
    <a:documentation>disabled</a:documentation>
    <attribute name="aria-disabled">
      <choice>
        <value type="string">true</value>
        <value type="string">false</value>
      </choice>
      <!-- default -->
    </attribute>
  </define>
  <define name="aria.state.expanded">
    <a:documentation>expanded</a:documentation>
    <attribute name="aria-expanded">
      <choice>
        <value type="string">true</value>
        <value type="string">false</value>
        <value type="string">undefined</value>
      </choice>
      <!-- default -->
    </attribute>
  </define>
  <define name="aria.state.hidden">
    <a:documentation>hidden</a:documentation>
    <attribute name="aria-hidden">
      <choice>
        <value type="string">true</value>
        <value type="string">false</value>
      </choice>
      <!-- default -->
    </attribute>
  </define>
  <define name="aria.state.invalid">
    <a:documentation>invalid</a:documentation>
    <attribute name="aria-invalid">
      <choice>
        <value type="string">true</value>
        <value type="string">false</value>
        <!-- default -->
        <value type="string">grammar</value>
        <value type="string">spelling</value>
      </choice>
    </attribute>
  </define>
  <define name="aria.state.pressed">
    <a:documentation>pressed</a:documentation>
    <attribute name="aria-pressed">
      <choice>
        <value type="string">true</value>
        <value type="string">false</value>
        <value type="string">mixed</value>
        <value type="string">undefined</value>
      </choice>
      <!-- default -->
    </attribute>
  </define>
  <define name="aria.state.selected">
    <a:documentation>selected</a:documentation>
    <attribute name="aria-selected">
      <choice>
        <value type="string">true</value>
        <value type="string">false</value>
        <value type="string">undefined</value>
      </choice>
      <!-- default -->
    </attribute>
  </define>
  <!-- ##################################################################### -->
  <define name="aria.prop.activedescendant">
    <a:documentation>Properties</a:documentation>
    <a:documentation>activedescendant</a:documentation>
    <attribute name="aria-activedescendant">
      <ref name="common.data.idref"/>
      <!-- REVISIT add Schematron check -->
    </attribute>
  </define>
  <define name="aria.prop.atomic">
    <a:documentation>atomic</a:documentation>
    <attribute name="aria-atomic">
      <choice>
        <value type="string">true</value>
        <value type="string">false</value>
      </choice>
      <!-- default -->
    </attribute>
  </define>
  <define name="aria.prop.autocomplete">
    <a:documentation>autocomplete</a:documentation>
    <attribute name="aria-autocomplete">
      <choice>
        <value type="string">inline</value>
        <value type="string">list</value>
        <value type="string">both</value>
        <value type="string">none</value>
      </choice>
      <!-- default -->
    </attribute>
  </define>
  <define name="aria.prop.colcount">
    <a:documentation>colcount</a:documentation>
    <attribute name="aria-colcount">
      <choice>
        <ref name="common.data.integer.non-negative"/>
        <value type="string">-1</value>
      </choice>
    </attribute>
  </define>
  <define name="aria.prop.colindex">
    <a:documentation>colindex</a:documentation>
    <attribute name="aria-colindex">
      <ref name="common.data.integer.positive"/>
    </attribute>
  </define>
  <define name="aria.prop.colspan">
    <a:documentation>colspan</a:documentation>
    <attribute name="aria-colspan">
      <ref name="common.data.integer.positive"/>
    </attribute>
  </define>
  <define name="aria.prop.controls">
    <a:documentation>controls</a:documentation>
    <attribute name="aria-controls">
      <ref name="common.data.idrefs"/>
      <!-- REVISIT add Schematron check -->
    </attribute>
  </define>
  <define name="aria.prop.describedby">
    <a:documentation>describedby</a:documentation>
    <attribute name="aria-describedby">
      <ref name="common.data.idrefs"/>
      <!-- REVISIT add Schematron check -->
    </attribute>
  </define>
  <define name="aria.prop.description">
    <a:documentation>description</a:documentation>
    <attribute name="aria-description">
      <data type="string"/>
    </attribute>
  </define>
  <define name="aria.prop.details">
    <a:documentation>details</a:documentation>
    <attribute name="aria-details">
      <ref name="common.data.idref"/>
    </attribute>
  </define>
  <define name="aria.prop.errormessage">
    <a:documentation>errormessage</a:documentation>
    <attribute name="aria-errormessage">
      <ref name="common.data.idref"/>
    </attribute>
  </define>
  <define name="aria.prop.flowto">
    <a:documentation>flowto</a:documentation>
    <attribute name="aria-flowto">
      <ref name="common.data.idrefs"/>
      <!-- REVISIT add Schematron check -->
    </attribute>
  </define>
  <define name="aria.prop.haspopup">
    <a:documentation>haspopup</a:documentation>
    <attribute name="aria-haspopup">
      <choice>
        <value type="string">true</value>
        <!-- REVISIT check owns or descendant -->
        <value type="string">false</value>
        <!-- default -->
        <value type="string">menu</value>
        <value type="string">listbox</value>
        <value type="string">tree</value>
        <value type="string">grid</value>
        <value type="string">dialog</value>
      </choice>
    </attribute>
  </define>
  <define name="aria.prop.keyshortcuts">
    <a:documentation>keyshortcuts</a:documentation>
    <attribute name="aria-keyshortcuts">
      <data type="string"/>
    </attribute>
  </define>
  <define name="aria.prop.label">
    <a:documentation>label</a:documentation>
    <attribute name="aria-label">
      <data type="string"/>
    </attribute>
  </define>
  <define name="aria.prop.labelledby">
    <a:documentation>labelledby</a:documentation>
    <attribute name="aria-labelledby">
      <ref name="common.data.idrefs"/>
      <!-- REVISIT add Schematron check -->
    </attribute>
  </define>
  <define name="aria.prop.level">
    <a:documentation>level</a:documentation>
    <attribute name="aria-level">
      <ref name="common.data.integer.positive"/>
    </attribute>
  </define>
  <define name="aria.prop.live">
    <a:documentation>live</a:documentation>
    <attribute name="aria-live">
      <choice>
        <value type="string">off</value>
        <!-- default -->
        <value type="string">polite</value>
        <value type="string">assertive</value>
      </choice>
    </attribute>
  </define>
  <define name="aria.prop.modal">
    <a:documentation>modal</a:documentation>
    <attribute name="aria-modal">
      <choice>
        <value type="string">true</value>
        <value type="string">false</value>
      </choice>
      <!-- default -->
    </attribute>
  </define>
  <define name="aria.prop.multiline">
    <a:documentation>multiline</a:documentation>
    <attribute name="aria-multiline">
      <choice>
        <value type="string">true</value>
        <value type="string">false</value>
      </choice>
      <!-- default -->
    </attribute>
  </define>
  <define name="aria.prop.multiselectable">
    <a:documentation>multiselectable</a:documentation>
    <attribute name="aria-multiselectable">
      <choice>
        <value type="string">true</value>
        <value type="string">false</value>
      </choice>
      <!-- default -->
    </attribute>
  </define>
  <define name="aria.prop.orientation">
    <a:documentation>orientation</a:documentation>
    <attribute name="aria-orientation">
      <choice>
        <value type="string">vertical</value>
        <value type="string">horizontal</value>
        <!-- default -->
        <value type="string">undefined</value>
      </choice>
    </attribute>
  </define>
  <define name="aria.prop.owns">
    <a:documentation>owns</a:documentation>
    <attribute name="aria-owns">
      <ref name="common.data.idrefs"/>
      <!-- REVISIT add Schematron check -->
    </attribute>
  </define>
  <define name="aria.prop.placeholder">
    <a:documentation>placeholder</a:documentation>
    <attribute name="aria-placeholder">
      <data type="string"/>
    </attribute>
  </define>
  <define name="aria.prop.posinset">
    <a:documentation>posinset</a:documentation>
    <attribute name="aria-posinset">
      <ref name="common.data.integer.positive"/>
    </attribute>
  </define>
  <define name="aria.prop.readonly">
    <a:documentation>readonly</a:documentation>
    <attribute name="aria-readonly">
      <choice>
        <value type="string">true</value>
        <value type="string">false</value>
      </choice>
      <!-- default -->
    </attribute>
  </define>
  <define name="common.attrs.aria.prop.readonly" combine="choice">
    <ref name="aria.prop.readonly"/>
  </define>
  <define name="aria.prop.relevant">
    <a:documentation>relevant</a:documentation>
    <attribute name="aria-relevant">
      <choice>
        <value>all</value>
        <list>
          <value type="string">additions</value>
          <optional>
            <value type="string">removals</value>
          </optional>
          <optional>
            <value type="string">text</value>
          </optional>
        </list>
        <list>
          <value type="string">additions</value>
          <optional>
            <value type="string">text</value>
          </optional>
          <optional>
            <value type="string">removals</value>
          </optional>
        </list>
        <list>
          <value type="string">removals</value>
          <optional>
            <value type="string">additions</value>
          </optional>
          <optional>
            <value type="string">text</value>
          </optional>
        </list>
        <list>
          <value type="string">removals</value>
          <optional>
            <value type="string">text</value>
          </optional>
          <optional>
            <value type="string">additions</value>
          </optional>
        </list>
        <list>
          <value type="string">text</value>
          <optional>
            <value type="string">additions</value>
          </optional>
          <optional>
            <value type="string">removals</value>
          </optional>
        </list>
        <list>
          <value type="string">text</value>
          <optional>
            <value type="string">removals</value>
          </optional>
          <optional>
            <value type="string">additions</value>
          </optional>
        </list>
      </choice>
    </attribute>
  </define>
  <define name="aria.prop.required">
    <a:documentation>required</a:documentation>
    <attribute name="aria-required">
      <choice>
        <value type="string">true</value>
        <value type="string">false</value>
      </choice>
      <!-- default -->
    </attribute>
  </define>
  <define name="aria.prop.roledescription">
    <a:documentation>roledescription</a:documentation>
    <attribute name="aria-roledescription">
      <data type="string"/>
    </attribute>
  </define>
  <define name="aria.prop.rowcount">
    <a:documentation>rowcount</a:documentation>
    <attribute name="aria-rowcount">
      <choice>
        <ref name="common.data.integer.non-negative"/>
        <value type="string">-1</value>
      </choice>
    </attribute>
  </define>
  <define name="aria.prop.rowindex">
    <a:documentation>rowindex</a:documentation>
    <attribute name="aria-rowindex">
      <ref name="common.data.integer.positive"/>
    </attribute>
  </define>
  <define name="aria.prop.rowspan">
    <a:documentation>rowspan</a:documentation>
    <attribute name="aria-rowspan">
      <ref name="common.data.integer.positive"/>
    </attribute>
  </define>
  <define name="aria.prop.setsize">
    <a:documentation>setsize</a:documentation>
    <attribute name="aria-setsize">
      <choice>
        <ref name="common.data.integer.non-negative"/>
        <value type="string">-1</value>
      </choice>
    </attribute>
  </define>
  <define name="aria.prop.sort">
    <a:documentation>sort</a:documentation>
    <attribute name="aria-sort">
      <choice>
        <value type="string">ascending</value>
        <value type="string">descending</value>
        <value type="string">none</value>
        <!-- default -->
        <value type="string">other</value>
      </choice>
    </attribute>
  </define>
  <define name="aria.prop.valuemax">
    <a:documentation>valuemax</a:documentation>
    <attribute name="aria-valuemax">
      <ref name="common.data.float"/>
      <!-- REVISIT -->
    </attribute>
  </define>
  <define name="aria.prop.valuemin">
    <a:documentation>valuemin</a:documentation>
    <attribute name="aria-valuemin">
      <ref name="common.data.float"/>
      <!-- REVISIT -->
    </attribute>
  </define>
  <define name="aria.prop.valuenow">
    <a:documentation>valuenow</a:documentation>
    <attribute name="aria-valuenow">
      <ref name="common.data.float"/>
      <!-- REVISIT -->
    </attribute>
  </define>
  <define name="aria.prop.valuetext">
    <a:documentation>valuetext</a:documentation>
    <attribute name="aria-valuetext">
      <data type="string"/>
    </attribute>
  </define>
  <!-- ##################################################################### -->
  <define name="aria.alert">
    <a:documentation>Roles</a:documentation>
    <a:documentation>alert</a:documentation>
    <interleave>
      <ref name="aria.role.alert"/>
      <optional>
        <ref name="aria.state.expanded"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.alert">
    <attribute name="role">
      <value type="string">alert</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.alert"/>
  </define>
  <define name="common.attrs.aria.role.alert" combine="choice">
    <ref name="aria.alert"/>
  </define>
  <define name="aria.alertdialog">
    <a:documentation>alertdialog</a:documentation>
    <interleave>
      <ref name="aria.role.alertdialog"/>
      <optional>
        <ref name="aria.state.expanded"/>
      </optional>
      <optional>
        <ref name="aria.prop.modal"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.alertdialog">
    <attribute name="role">
      <value type="string">alertdialog</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.alertdialog"/>
  </define>
  <define name="common.attrs.aria.role.alertdialog" combine="choice">
    <ref name="aria.alertdialog"/>
  </define>
  <define name="aria.application">
    <a:documentation>application</a:documentation>
    <interleave>
      <ref name="aria.role.application"/>
      <optional>
        <ref name="aria.state.expanded"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.application">
    <attribute name="role">
      <value type="string">application</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.application"/>
  </define>
  <define name="common.attrs.aria.role.application" combine="choice">
    <ref name="aria.application"/>
  </define>
  <define name="aria.article">
    <a:documentation>article</a:documentation>
    <interleave>
      <ref name="aria.role.article"/>
      <optional>
        <ref name="aria.state.expanded"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.article">
    <attribute name="role">
      <value type="string">article</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.article"/>
  </define>
  <define name="common.attrs.aria.landmark.article" combine="choice">
    <ref name="aria.article"/>
  </define>
  <define name="aria.banner">
    <a:documentation>banner</a:documentation>
    <interleave>
      <ref name="aria.role.banner"/>
      <optional>
        <ref name="aria.state.expanded"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.banner">
    <attribute name="role">
      <value type="string">banner</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.banner"/>
  </define>
  <define name="common.attrs.aria.landmark.banner" combine="choice">
    <ref name="aria.banner"/>
  </define>
  <define name="aria.button">
    <a:documentation>button</a:documentation>
    <interleave>
      <ref name="aria.role.button"/>
      <optional>
        <ref name="aria.state.expanded"/>
      </optional>
      <optional>
        <ref name="aria.state.pressed"/>
      </optional>
    </interleave>
    <!-- not inherited -->
  </define>
  <define name="aria.role.button">
    <attribute name="role">
      <value type="string">button</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.button"/>
  </define>
  <define name="common.attrs.aria.role.button" combine="choice">
    <ref name="aria.button"/>
  </define>
  <define name="aria.cell">
    <a:documentation>cell</a:documentation>
    <interleave>
      <ref name="aria.role.cell"/>
      <optional>
        <ref name="aria.prop.colspan"/>
      </optional>
      <optional>
        <ref name="aria.prop.colindex"/>
      </optional>
      <optional>
        <ref name="aria.prop.rowspan"/>
      </optional>
      <optional>
        <ref name="aria.prop.rowindex"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.cell">
    <attribute name="role">
      <value type="string">cell</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.cell"/>
  </define>
  <define name="common.attrs.aria.role.cell" combine="choice">
    <ref name="aria.cell"/>
  </define>
  <define name="aria.checkbox">
    <a:documentation>checkbox</a:documentation>
    <interleave>
      <ref name="aria.role.checkbox"/>
      <ref name="aria.state.checked"/>
    </interleave>
    <!-- required! -->
  </define>
  <define name="aria.role.checkbox">
    <attribute name="role">
      <value type="string">checkbox</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.checkbox"/>
  </define>
  <define name="common.attrs.aria.role.checkbox" combine="choice">
    <ref name="aria.checkbox"/>
  </define>
  <!-- columnheader -->
  <define name="aria.columnheader">
    <interleave>
      <ref name="aria.role.columnheader"/>
      <optional>
        <ref name="aria.prop.sort"/>
      </optional>
      <optional>
        <!-- not inherited -->
        <ref name="aria.prop.readonly"/>
      </optional>
      <optional>
        <!-- not inherited -->
        <ref name="aria.state.selected"/>
      </optional>
      <optional>
        <!-- not inherited -->
        <ref name="aria.state.expanded"/>
      </optional>
      <optional>
        <ref name="aria.prop.required"/>
      </optional>
      <optional>
        <ref name="aria.prop.colspan"/>
      </optional>
      <optional>
        <ref name="aria.prop.rowspan"/>
      </optional>
      <optional>
        <ref name="aria.prop.rowindex"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.columnheader">
    <attribute name="role">
      <value type="string">columnheader</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.columnheader"/>
  </define>
  <define name="aria.combobox">
    <a:documentation>combobox</a:documentation>
    <!-- 	aria.prop.controls TODO: required! add check to Assertions -->
    <interleave>
      <ref name="aria.role.combobox"/>
      <optional>
        <ref name="aria.prop.activedescendant"/>
      </optional>
      <ref name="aria.state.expanded"/>
      <optional>
        <!-- required! -->
        <ref name="aria.prop.autocomplete"/>
      </optional>
      <optional>
        <ref name="aria.prop.required"/>
      </optional>
      <optional>
        <ref name="aria.prop.readonly"/>
      </optional>
      <optional>
        <ref name="aria.prop.orientation"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.combobox">
    <attribute name="role">
      <value type="string">combobox</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.combobox"/>
  </define>
  <define name="common.attrs.aria.role.combobox" combine="choice">
    <ref name="aria.combobox"/>
  </define>
  <define name="aria.complementary">
    <a:documentation>complementary</a:documentation>
    <interleave>
      <ref name="aria.role.complementary"/>
      <optional>
        <ref name="aria.state.expanded"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.complementary">
    <attribute name="role">
      <value type="string">complementary</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.complementary"/>
  </define>
  <define name="common.attrs.aria.landmark.complementary" combine="choice">
    <ref name="aria.complementary"/>
  </define>
  <define name="aria.contentinfo">
    <a:documentation>contentinfo</a:documentation>
    <interleave>
      <ref name="aria.role.contentinfo"/>
      <optional>
        <ref name="aria.state.expanded"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.contentinfo">
    <attribute name="role">
      <value type="string">contentinfo</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.contentinfo"/>
  </define>
  <define name="common.attrs.aria.landmark.contentinfo" combine="choice">
    <ref name="aria.contentinfo"/>
  </define>
  <define name="aria.definition">
    <a:documentation>definition</a:documentation>
    <interleave>
      <ref name="aria.role.definition"/>
      <optional>
        <ref name="aria.state.expanded"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.definition">
    <attribute name="role">
      <value type="string">definition</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.definition"/>
  </define>
  <define name="common.attrs.aria.role.definition" combine="choice">
    <ref name="aria.definition"/>
  </define>
  <define name="aria.dialog">
    <a:documentation>dialog</a:documentation>
    <interleave>
      <ref name="aria.role.dialog"/>
      <optional>
        <ref name="aria.state.expanded"/>
      </optional>
      <optional>
        <ref name="aria.prop.modal"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.dialog">
    <attribute name="role">
      <value type="string">dialog</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.dialog"/>
  </define>
  <define name="common.attrs.aria.role.dialog" combine="choice">
    <ref name="aria.dialog"/>
  </define>
  <define name="aria.directory">
    <a:documentation>directory</a:documentation>
    <interleave>
      <ref name="aria.role.directory"/>
      <optional>
        <ref name="aria.state.expanded"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.directory">
    <attribute name="role">
      <value type="string">directory</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.directory"/>
  </define>
  <define name="common.attrs.aria.role.directory" combine="choice">
    <ref name="aria.directory"/>
  </define>
  <define name="aria.document">
    <a:documentation>document</a:documentation>
    <interleave>
      <ref name="aria.role.document"/>
      <optional>
        <ref name="aria.state.expanded"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.document">
    <attribute name="role">
      <value type="string">document</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.document"/>
  </define>
  <define name="common.attrs.aria.landmark.document" combine="choice">
    <ref name="aria.document"/>
  </define>
  <define name="aria.feed">
    <a:documentation>feed</a:documentation>
    <interleave>
      <ref name="aria.role.feed"/>
      <optional>
        <ref name="aria.state.expanded"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.feed">
    <attribute name="role">
      <value type="string">feed</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.feed"/>
  </define>
  <define name="common.attrs.aria.role.feed" combine="choice">
    <ref name="aria.feed"/>
  </define>
  <define name="aria.figure">
    <a:documentation>figure</a:documentation>
    <interleave>
      <ref name="aria.role.figure"/>
      <optional>
        <ref name="aria.state.expanded"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.figure">
    <attribute name="role">
      <value type="string">figure</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.figure"/>
  </define>
  <define name="common.attrs.aria.role.figure" combine="choice">
    <ref name="aria.figure"/>
  </define>
  <define name="aria.form">
    <a:documentation>form</a:documentation>
    <interleave>
      <ref name="aria.role.form"/>
      <optional>
        <ref name="aria.state.expanded"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.form">
    <attribute name="role">
      <value type="string">form</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.form"/>
  </define>
  <define name="common.attrs.aria.landmark.form" combine="choice">
    <ref name="aria.form"/>
  </define>
  <define name="aria.grid">
    <a:documentation>grid</a:documentation>
    <interleave>
      <ref name="aria.role.grid"/>
      <optional>
        <ref name="aria.prop.level"/>
      </optional>
      <optional>
        <!-- not inherited -->
        <ref name="aria.prop.multiselectable"/>
      </optional>
      <optional>
        <!-- not inherited -->
        <ref name="aria.prop.readonly"/>
      </optional>
      <optional>
        <!-- not inherited -->
        <ref name="aria.prop.activedescendant"/>
      </optional>
      <optional>
        <ref name="aria.state.expanded"/>
      </optional>
      <optional>
        <ref name="aria.prop.colcount"/>
      </optional>
      <optional>
        <ref name="aria.prop.rowcount"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.grid">
    <attribute name="role">
      <value type="string">grid</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.grid"/>
  </define>
  <define name="aria.gridcell">
    <a:documentation>gridcell</a:documentation>
    <interleave>
      <ref name="aria.role.gridcell"/>
      <optional>
        <ref name="aria.prop.level"/>
      </optional>
      <optional>
        <!-- net inherited -->
        <ref name="aria.prop.readonly"/>
      </optional>
      <optional>
        <!-- not inherited -->
        <ref name="aria.state.selected"/>
      </optional>
      <optional>
        <!-- not inherited -->
        <ref name="aria.state.expanded"/>
      </optional>
      <optional>
        <ref name="aria.prop.required"/>
      </optional>
      <optional>
        <ref name="aria.prop.colspan"/>
      </optional>
      <optional>
        <ref name="aria.prop.colindex"/>
      </optional>
      <optional>
        <ref name="aria.prop.rowspan"/>
      </optional>
      <optional>
        <ref name="aria.prop.rowindex"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.gridcell">
    <attribute name="role">
      <value type="string">gridcell</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.gridcell"/>
  </define>
  <define name="aria.group">
    <a:documentation>group</a:documentation>
    <interleave>
      <ref name="aria.role.group"/>
      <optional>
        <ref name="aria.prop.activedescendant"/>
      </optional>
      <optional>
        <!-- not inherited -->
        <ref name="aria.state.expanded"/>
      </optional>
    </interleave>
    <!-- not inherited -->
  </define>
  <define name="aria.role.group">
    <attribute name="role">
      <value type="string">group</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.group"/>
  </define>
  <define name="common.attrs.aria.role.group" combine="choice">
    <ref name="aria.group"/>
  </define>
  <define name="aria.graphics-document">
    <a:documentation>graphics-document</a:documentation>
    <ref name="aria.role.graphics-document"/>
  </define>
  <define name="aria.role.graphics-document">
    <attribute name="role">
      <value type="string">graphics-document</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.graphics-document"/>
  </define>
  <define name="common.attrs.aria.role.graphics-document" combine="choice">
    <ref name="aria.graphics-document"/>
  </define>
  <define name="aria.graphics-object">
    <a:documentation>graphics-object</a:documentation>
    <ref name="aria.role.graphics-object"/>
  </define>
  <define name="aria.role.graphics-object">
    <attribute name="role">
      <value type="string">graphics-object</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.graphics-object"/>
  </define>
  <define name="common.attrs.aria.role.graphics-object" combine="choice">
    <ref name="aria.graphics-object"/>
  </define>
  <define name="aria.graphics-symbol">
    <a:documentation>graphics-symbol</a:documentation>
    <ref name="aria.role.graphics-symbol"/>
  </define>
  <define name="aria.role.graphics-symbol">
    <attribute name="role">
      <value type="string">graphics-symbol</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.graphics-symbol"/>
  </define>
  <define name="common.attrs.aria.role.graphics-symbol" combine="choice">
    <ref name="aria.graphics-symbol"/>
  </define>
  <define name="aria.heading">
    <a:documentation>heading</a:documentation>
    <interleave>
      <ref name="aria.role.heading"/>
      <optional>
        <ref name="aria.prop.level"/>
      </optional>
      <optional>
        <!-- not inherited -->
        <ref name="aria.state.expanded"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.heading">
    <attribute name="role">
      <value type="string">heading</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.heading"/>
  </define>
  <define name="common.attrs.aria.role.heading" combine="choice">
    <ref name="aria.heading"/>
  </define>
  <define name="aria.img">
    <a:documentation>img</a:documentation>
    <interleave>
      <ref name="aria.role.img"/>
      <optional>
        <ref name="aria.state.expanded"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.img">
    <attribute name="role">
      <value type="string">img</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.img"/>
  </define>
  <define name="common.attrs.aria.role.img" combine="choice">
    <ref name="aria.img"/>
  </define>
  <define name="aria.link">
    <a:documentation>link</a:documentation>
    <interleave>
      <ref name="aria.role.link"/>
      <optional>
        <ref name="aria.state.expanded"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.link">
    <attribute name="role">
      <value type="string">link</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.link"/>
  </define>
  <define name="common.attrs.aria.role.link" combine="choice">
    <ref name="aria.link"/>
  </define>
  <define name="aria.list">
    <a:documentation>list</a:documentation>
    <interleave>
      <ref name="aria.role.list"/>
      <optional>
        <ref name="aria.state.expanded"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.list">
    <attribute name="role">
      <value type="string">list</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.list"/>
  </define>
  <define name="common.attrs.aria.role.list" combine="choice">
    <ref name="aria.list"/>
  </define>
  <define name="aria.listbox">
    <a:documentation>listbox</a:documentation>
    <interleave>
      <ref name="aria.role.listbox"/>
      <optional>
        <ref name="aria.prop.multiselectable"/>
      </optional>
      <optional>
        <!-- not inherited -->
        <ref name="aria.prop.required"/>
      </optional>
      <optional>
        <ref name="aria.prop.activedescendant"/>
      </optional>
      <optional>
        <ref name="aria.state.expanded"/>
      </optional>
      <optional>
        <ref name="aria.prop.orientation"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.listbox">
    <attribute name="role">
      <value type="string">listbox</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.listbox"/>
  </define>
  <define name="common.attrs.aria.role.listbox" combine="choice">
    <ref name="aria.listbox"/>
  </define>
  <define name="aria.listitem">
    <a:documentation>listitem</a:documentation>
    <interleave>
      <ref name="aria.role.listitem"/>
      <optional>
        <ref name="aria.prop.posinset"/>
      </optional>
      <optional>
        <!-- not inherited -->
        <ref name="aria.prop.setsize"/>
      </optional>
      <optional>
        <!-- not inherited -->
        <ref name="aria.prop.level"/>
      </optional>
      <optional>
        <!-- not inherited -->
        <ref name="aria.state.expanded"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.listitem">
    <attribute name="role">
      <value type="string">listitem</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.listitem"/>
  </define>
  <define name="common.attrs.aria.role.listitem" combine="choice">
    <ref name="aria.listitem"/>
  </define>
  <define name="aria.log">
    <a:documentation>log</a:documentation>
    <interleave>
      <ref name="aria.role.log"/>
      <optional>
        <ref name="aria.state.expanded"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.log">
    <attribute name="role">
      <value type="string">log</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.log"/>
  </define>
  <define name="common.attrs.aria.role.log" combine="choice">
    <ref name="aria.log"/>
  </define>
  <define name="aria.main">
    <a:documentation>main</a:documentation>
    <interleave>
      <ref name="aria.role.main"/>
      <optional>
        <ref name="aria.state.expanded"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.main">
    <attribute name="role">
      <value type="string">main</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.main"/>
  </define>
  <define name="common.attrs.aria.landmark.main" combine="choice">
    <ref name="aria.main"/>
  </define>
  <define name="aria.marquee">
    <a:documentation>marquee</a:documentation>
    <interleave>
      <ref name="aria.role.marquee"/>
      <optional>
        <ref name="aria.state.expanded"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.marquee">
    <attribute name="role">
      <value type="string">marquee</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.marquee"/>
  </define>
  <define name="common.attrs.aria.role.marquee" combine="choice">
    <ref name="aria.marquee"/>
  </define>
  <define name="aria.math">
    <a:documentation>math</a:documentation>
    <interleave>
      <ref name="aria.role.math"/>
      <optional>
        <ref name="aria.state.expanded"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.math">
    <attribute name="role">
      <value type="string">math</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.math"/>
  </define>
  <define name="common.attrs.aria.role.math" combine="choice">
    <ref name="aria.math"/>
  </define>
  <define name="aria.menu">
    <a:documentation>menu</a:documentation>
    <interleave>
      <ref name="aria.role.menu"/>
      <optional>
        <ref name="aria.prop.activedescendant"/>
      </optional>
      <optional>
        <ref name="aria.state.expanded"/>
      </optional>
      <optional>
        <ref name="aria.prop.orientation"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.menu">
    <attribute name="role">
      <value type="string">menu</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.menu"/>
  </define>
  <define name="common.attrs.aria.role.menu" combine="choice">
    <ref name="aria.menu"/>
  </define>
  <define name="aria.menubar">
    <a:documentation>menubar</a:documentation>
    <interleave>
      <ref name="aria.role.menubar"/>
      <optional>
        <ref name="aria.prop.activedescendant"/>
      </optional>
      <optional>
        <ref name="aria.state.expanded"/>
      </optional>
      <optional>
        <ref name="aria.prop.orientation"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.menubar">
    <attribute name="role">
      <value type="string">menubar</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.menubar"/>
  </define>
  <define name="common.attrs.aria.role.menubar" combine="choice">
    <ref name="aria.menubar"/>
  </define>
  <define name="aria.menuitem">
    <a:documentation>menuitem</a:documentation>
    <interleave>
      <ref name="aria.role.menuitem"/>
      <optional>
        <ref name="aria.state.expanded"/>
      </optional>
      <optional>
        <ref name="aria.prop.posinset"/>
      </optional>
      <optional>
        <ref name="aria.prop.setsize"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.menuitem">
    <attribute name="role">
      <value type="string">menuitem</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.menuitem"/>
  </define>
  <define name="common.attrs.aria.role.menuitem" combine="choice">
    <ref name="aria.menuitem"/>
  </define>
  <define name="aria.menuitemcheckbox">
    <a:documentation>menuitemcheckbox</a:documentation>
    <interleave>
      <ref name="aria.role.menuitemcheckbox"/>
      <ref name="aria.state.checked"/>
    </interleave>
    <!-- required -->
  </define>
  <define name="aria.role.menuitemcheckbox">
    <attribute name="role">
      <value type="string">menuitemcheckbox</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.menuitemcheckbox"/>
  </define>
  <define name="common.attrs.aria.role.menuitemcheckbox" combine="choice">
    <ref name="aria.menuitemcheckbox"/>
  </define>
  <define name="aria.menuitemcheckbox-checked-not-required">
    <a:documentation>menuitemcheckbox w/o checked required</a:documentation>
    <ref name="aria.role.menuitemcheckbox"/>
  </define>
  <define name="aria.role.menuitemcheckbox-checked-not-required">
    <attribute name="role">
      <value type="string">menuitemcheckbox</value>
    </attribute>
  </define>
  <define name="common.attrs.aria.role.menuitemcheckbox-checked-not-required" combine="choice">
    <ref name="aria.menuitemcheckbox-checked-not-required"/>
  </define>
  <define name="aria.menuitemradio">
    <a:documentation>menuitemradio</a:documentation>
    <interleave>
      <ref name="aria.role.menuitemradio"/>
      <ref name="aria.state.checked"/>
      <optional>
        <!-- required -->
        <ref name="aria.state.selected"/>
      </optional>
      <optional>
        <ref name="aria.prop.posinset"/>
      </optional>
      <optional>
        <ref name="aria.prop.setsize"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.menuitemradio">
    <attribute name="role">
      <value type="string">menuitemradio</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.menuitemradio"/>
  </define>
  <define name="common.attrs.aria.role.menuitemradio" combine="choice">
    <ref name="aria.menuitemradio"/>
  </define>
  <define name="aria.menuitemradio-checked-not-required">
    <a:documentation>menuitemradio w/o checked required</a:documentation>
    <interleave>
      <ref name="aria.role.menuitemradio"/>
      <optional>
        <ref name="aria.state.selected"/>
      </optional>
      <optional>
        <ref name="aria.prop.posinset"/>
      </optional>
      <optional>
        <ref name="aria.prop.setsize"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.menuitemradio-checked-not-required">
    <attribute name="role">
      <value type="string">menuitemradio</value>
    </attribute>
  </define>
  <define name="common.attrs.aria.role.menuitemradio-checked-not-required" combine="choice">
    <ref name="aria.menuitemradio-checked-not-required"/>
  </define>
  <define name="aria.navigation">
    <a:documentation>navigation</a:documentation>
    <interleave>
      <ref name="aria.role.navigation"/>
      <optional>
        <ref name="aria.state.expanded"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.navigation">
    <attribute name="role">
      <value type="string">navigation</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.navigation"/>
  </define>
  <define name="common.attrs.aria.landmark.navigation" combine="choice">
    <ref name="aria.navigation"/>
  </define>
  <define name="aria.none">
    <a:documentation>none</a:documentation>
    <ref name="aria.role.none"/>
  </define>
  <define name="aria.role.none">
    <attribute name="role">
      <value type="string">none</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.none"/>
  </define>
  <define name="common.attrs.aria.role.none" combine="choice">
    <ref name="aria.none"/>
  </define>
  <define name="aria.note">
    <a:documentation>note</a:documentation>
    <interleave>
      <ref name="aria.role.note"/>
      <optional>
        <ref name="aria.state.expanded"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.note">
    <attribute name="role">
      <value type="string">note</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.note"/>
  </define>
  <define name="common.attrs.aria.landmark.note" combine="choice">
    <ref name="aria.note"/>
  </define>
  <define name="aria.option">
    <a:documentation>option</a:documentation>
    <interleave>
      <ref name="aria.role.option"/>
      <optional>
        <ref name="aria.state.checked"/>
      </optional>
      <optional>
        <!-- not inherited -->
        <ref name="aria.state.selected"/>
      </optional>
      <optional>
        <!-- not inherited -->
        <ref name="aria.prop.posinset"/>
      </optional>
      <optional>
        <ref name="aria.prop.setsize"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.option">
    <attribute name="role">
      <value type="string">option</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.option"/>
  </define>
  <define name="common.attrs.aria.role.option" combine="choice">
    <ref name="aria.option"/>
  </define>
  <define name="aria.presentation">
    <a:documentation>presentation</a:documentation>
    <ref name="aria.role.presentation"/>
  </define>
  <define name="aria.role.presentation">
    <attribute name="role">
      <value type="string">presentation</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.presentation"/>
  </define>
  <define name="common.attrs.aria.role.presentation" combine="choice">
    <ref name="aria.presentation"/>
  </define>
  <define name="common.attrs.aria.role.presentation" combine="choice">
    <ref name="aria.none"/>
  </define>
  <define name="aria.progressbar">
    <a:documentation>progressbar</a:documentation>
    <interleave>
      <ref name="aria.role.progressbar"/>
      <optional>
        <ref name="aria.prop.valuemax"/>
      </optional>
      <optional>
        <!-- not inherited -->
        <ref name="aria.prop.valuemin"/>
      </optional>
      <optional>
        <!-- not inherited -->
        <ref name="aria.prop.valuenow"/>
      </optional>
      <optional>
        <!-- not inherited -->
        <ref name="aria.prop.valuetext"/>
      </optional>
    </interleave>
    <!-- not inherited -->
  </define>
  <define name="aria.role.progressbar">
    <attribute name="role">
      <value type="string">progressbar</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.progressbar"/>
  </define>
  <define name="common.attrs.aria.role.progressbar" combine="choice">
    <ref name="aria.progressbar"/>
  </define>
  <define name="aria.radio">
    <a:documentation>radio</a:documentation>
    <interleave>
      <ref name="aria.role.radio"/>
      <ref name="aria.state.checked"/>
      <optional>
        <!-- required! -->
        <ref name="aria.state.selected"/>
      </optional>
      <optional>
        <ref name="aria.prop.posinset"/>
      </optional>
      <optional>
        <ref name="aria.prop.setsize"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.radio">
    <attribute name="role">
      <value type="string">radio</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.radio"/>
  </define>
  <define name="common.attrs.aria.role.radio" combine="choice">
    <ref name="aria.radio"/>
  </define>
  <define name="aria.radiogroup">
    <a:documentation>radiogroup</a:documentation>
    <interleave>
      <ref name="aria.role.radiogroup"/>
      <optional>
        <ref name="aria.prop.activedescendant"/>
      </optional>
      <optional>
        <ref name="aria.state.expanded"/>
      </optional>
      <optional>
        <ref name="aria.prop.required"/>
      </optional>
      <optional>
        <ref name="aria.prop.orientation"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.radiogroup">
    <attribute name="role">
      <value type="string">radiogroup</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.radiogroup"/>
  </define>
  <define name="common.attrs.aria.role.radiogroup" combine="choice">
    <ref name="aria.radiogroup"/>
  </define>
  <define name="aria.region">
    <a:documentation>region</a:documentation>
    <interleave>
      <ref name="aria.role.region"/>
      <optional>
        <ref name="aria.state.expanded"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.region">
    <attribute name="role">
      <value type="string">region</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.region"/>
  </define>
  <define name="common.attrs.aria.role.region" combine="choice">
    <ref name="aria.region"/>
  </define>
  <define name="aria.row">
    <a:documentation>row</a:documentation>
    <interleave>
      <ref name="aria.role.row"/>
      <optional>
        <ref name="aria.prop.level"/>
      </optional>
      <optional>
        <!-- not inherited -->
        <ref name="aria.state.selected"/>
      </optional>
      <optional>
        <!-- not inherited -->
        <ref name="aria.prop.activedescendant"/>
      </optional>
      <optional>
        <ref name="aria.state.expanded"/>
      </optional>
      <optional>
        <ref name="aria.prop.colindex"/>
      </optional>
      <optional>
        <ref name="aria.prop.rowindex"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.row">
    <attribute name="role">
      <value type="string">row</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.row"/>
  </define>
  <define name="aria.rowgroup">
    <a:documentation>rowgroup</a:documentation>
    <interleave>
      <ref name="aria.role.rowgroup"/>
      <optional>
        <ref name="aria.prop.activedescendant"/>
      </optional>
      <optional>
        <ref name="aria.state.expanded"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.rowgroup">
    <attribute name="role">
      <value type="string">rowgroup</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.rowgroup"/>
  </define>
  <define name="common.attrs.aria.role.rowgroup" combine="choice">
    <ref name="aria.rowgroup"/>
  </define>
  <!-- rowheader -->
  <define name="aria.rowheader">
    <interleave>
      <ref name="aria.role.rowheader"/>
      <optional>
        <ref name="aria.prop.sort"/>
      </optional>
      <optional>
        <!-- not inherited -->
        <ref name="aria.prop.readonly"/>
      </optional>
      <optional>
        <!-- not inherited -->
        <ref name="aria.state.selected"/>
      </optional>
      <optional>
        <!-- not inherited -->
        <ref name="aria.state.expanded"/>
      </optional>
      <optional>
        <ref name="aria.prop.required"/>
      </optional>
      <optional>
        <ref name="aria.prop.colspan"/>
      </optional>
      <optional>
        <ref name="aria.prop.rowspan"/>
      </optional>
      <optional>
        <ref name="aria.prop.rowindex"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.rowheader">
    <attribute name="role">
      <value type="string">rowheader</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.rowheader"/>
  </define>
  <define name="aria.searchbox">
    <a:documentation>searchbox</a:documentation>
    <interleave>
      <ref name="aria.role.searchbox"/>
      <optional>
        <ref name="aria.prop.activedescendant"/>
      </optional>
      <optional>
        <ref name="aria.prop.autocomplete"/>
      </optional>
      <optional>
        <ref name="aria.prop.multiline"/>
      </optional>
      <optional>
        <ref name="aria.prop.readonly"/>
      </optional>
      <optional>
        <ref name="aria.prop.required"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.searchbox">
    <attribute name="role">
      <value type="string">searchbox</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.searchbox"/>
  </define>
  <define name="common.attrs.aria.role.searchbox" combine="choice">
    <ref name="aria.searchbox"/>
  </define>
  <define name="aria.scrollbar">
    <a:documentation>scrollbar</a:documentation>
    <interleave>
      <ref name="aria.role.scrollbar"/>
      <ref name="aria.prop.orientation"/>
      <ref name="aria.prop.valuemax"/>
      <ref name="aria.prop.valuemin"/>
      <ref name="aria.prop.valuenow"/>
      <optional>
        <ref name="aria.prop.valuetext"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.scrollbar">
    <attribute name="role">
      <value type="string">scrollbar</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.scrollbar"/>
  </define>
  <define name="common.attrs.aria.role.scrollbar" combine="choice">
    <ref name="aria.scrollbar"/>
  </define>
  <define name="aria.search">
    <a:documentation>search</a:documentation>
    <interleave>
      <ref name="aria.role.search"/>
      <optional>
        <ref name="aria.state.expanded"/>
      </optional>
      <optional>
        <ref name="aria.prop.orientation"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.search">
    <attribute name="role">
      <value type="string">search</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.search"/>
  </define>
  <define name="common.attrs.aria.landmark.search" combine="choice">
    <ref name="aria.search"/>
  </define>
  <define name="aria.separator">
    <a:documentation>separator</a:documentation>
    <interleave>
      <ref name="aria.role.separator"/>
      <optional>
        <ref name="aria.state.expanded"/>
      </optional>
      <optional>
        <ref name="aria.prop.orientation"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.separator">
    <attribute name="role">
      <value type="string">separator</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.separator"/>
  </define>
  <define name="common.attrs.aria.role.separator" combine="choice">
    <ref name="aria.separator"/>
  </define>
  <define name="aria.slider">
    <a:documentation>slider</a:documentation>
    <interleave>
      <ref name="aria.role.slider"/>
      <ref name="aria.prop.valuemax"/>
      <ref name="aria.prop.valuemin"/>
      <ref name="aria.prop.valuenow"/>
      <optional>
        <ref name="aria.prop.valuetext"/>
      </optional>
      <optional>
        <ref name="aria.prop.orientation"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.slider">
    <attribute name="role">
      <value type="string">slider</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.slider"/>
  </define>
  <define name="common.attrs.aria.role.slider" combine="choice">
    <ref name="aria.slider"/>
  </define>
  <define name="aria.spinbutton">
    <a:documentation>spinbutton</a:documentation>
    <interleave>
      <ref name="aria.role.spinbutton"/>
      <ref name="aria.prop.valuemax"/>
      <ref name="aria.prop.valuemin"/>
      <ref name="aria.prop.valuenow"/>
      <optional>
        <ref name="aria.prop.valuetext"/>
      </optional>
      <optional>
        <ref name="aria.prop.required"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.spinbutton">
    <attribute name="role">
      <value type="string">spinbutton</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.spinbutton"/>
  </define>
  <define name="common.attrs.aria.role.spinbutton" combine="choice">
    <ref name="aria.spinbutton"/>
  </define>
  <define name="aria.status">
    <a:documentation>status</a:documentation>
    <interleave>
      <ref name="aria.role.status"/>
      <optional>
        <ref name="aria.state.expanded"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.status">
    <attribute name="role">
      <value type="string">status</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.status"/>
  </define>
  <define name="common.attrs.aria.role.status" combine="choice">
    <ref name="aria.status"/>
  </define>
  <define name="aria.switch">
    <a:documentation>switch</a:documentation>
    <interleave>
      <ref name="aria.role.switch"/>
      <ref name="aria.state.checked"/>
    </interleave>
    <!-- required! -->
  </define>
  <define name="aria.role.switch">
    <attribute name="role">
      <value type="string">switch</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.switch"/>
  </define>
  <define name="common.attrs.aria.role.switch" combine="choice">
    <ref name="aria.switch"/>
  </define>
  <define name="aria.switch-checked-not-required">
    <a:documentation>switch w/o checked required</a:documentation>
    <ref name="aria.role.switch"/>
  </define>
  <define name="aria.role.switch-checked-not-required">
    <attribute name="role">
      <value type="string">switch</value>
    </attribute>
  </define>
  <define name="common.attrs.aria.role.switch-checked-not-required" combine="choice">
    <ref name="aria.switch-checked-not-required"/>
  </define>
  <define name="aria.tab">
    <a:documentation>tab</a:documentation>
    <interleave>
      <ref name="aria.role.tab"/>
      <optional>
        <ref name="aria.state.selected"/>
      </optional>
      <optional>
        <ref name="aria.state.expanded"/>
      </optional>
      <optional>
        <ref name="aria.prop.posinset"/>
      </optional>
      <optional>
        <ref name="aria.prop.setsize"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.tab">
    <attribute name="role">
      <value type="string">tab</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.tab"/>
  </define>
  <define name="common.attrs.aria.role.tab" combine="choice">
    <ref name="aria.tab"/>
  </define>
  <define name="aria.table">
    <a:documentation>table</a:documentation>
    <interleave>
      <ref name="aria.role.table"/>
      <optional>
        <ref name="aria.prop.colcount"/>
      </optional>
      <optional>
        <ref name="aria.prop.rowcount"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.table">
    <attribute name="role">
      <value type="string">table</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.table"/>
  </define>
  <define name="common.attrs.aria.role.table" combine="choice">
    <ref name="aria.table"/>
  </define>
  <define name="aria.tablist">
    <a:documentation>tablist</a:documentation>
    <interleave>
      <ref name="aria.role.tablist"/>
      <optional>
        <ref name="aria.prop.activedescendant"/>
      </optional>
      <optional>
        <ref name="aria.state.expanded"/>
      </optional>
      <optional>
        <ref name="aria.prop.level"/>
      </optional>
      <optional>
        <ref name="aria.prop.multiselectable"/>
      </optional>
      <optional>
        <ref name="aria.prop.orientation"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.tablist">
    <attribute name="role">
      <value type="string">tablist</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.tablist"/>
  </define>
  <define name="common.attrs.aria.role.tablist" combine="choice">
    <ref name="aria.tablist"/>
  </define>
  <define name="aria.tabpanel">
    <a:documentation>tabpanel</a:documentation>
    <interleave>
      <ref name="aria.role.tabpanel"/>
      <optional>
        <ref name="aria.state.expanded"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.tabpanel">
    <attribute name="role">
      <value type="string">tabpanel</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.tabpanel"/>
  </define>
  <define name="common.attrs.aria.role.tabpanel" combine="choice">
    <ref name="aria.tabpanel"/>
  </define>
  <define name="aria.term">
    <a:documentation>term</a:documentation>
    <interleave>
      <ref name="aria.role.term"/>
      <optional>
        <ref name="aria.state.expanded"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.term">
    <attribute name="role">
      <value type="string">term</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.term"/>
  </define>
  <define name="common.attrs.aria.role.term" combine="choice">
    <ref name="aria.term"/>
  </define>
  <define name="aria.textbox">
    <a:documentation>textbox</a:documentation>
    <interleave>
      <ref name="aria.role.textbox"/>
      <optional>
        <ref name="aria.prop.activedescendant"/>
      </optional>
      <optional>
        <ref name="aria.prop.autocomplete"/>
      </optional>
      <optional>
        <!-- not inherited -->
        <ref name="aria.prop.multiline"/>
      </optional>
      <optional>
        <!-- not inherited -->
        <ref name="aria.prop.readonly"/>
      </optional>
      <optional>
        <!-- not inherited -->
        <ref name="aria.prop.required"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.textbox">
    <attribute name="role">
      <value type="string">textbox</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.textbox"/>
  </define>
  <define name="common.attrs.aria.role.textbox" combine="choice">
    <ref name="aria.textbox"/>
  </define>
  <define name="aria.timer">
    <a:documentation>timer</a:documentation>
    <interleave>
      <ref name="aria.role.timer"/>
      <optional>
        <ref name="aria.state.expanded"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.timer">
    <attribute name="role">
      <value type="string">timer</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.timer"/>
  </define>
  <define name="aria.toolbar">
    <a:documentation>toolbar</a:documentation>
    <interleave>
      <ref name="aria.role.toolbar"/>
      <optional>
        <ref name="aria.prop.activedescendant"/>
      </optional>
      <optional>
        <ref name="aria.state.expanded"/>
      </optional>
      <optional>
        <ref name="aria.prop.orientation"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.toolbar">
    <attribute name="role">
      <value type="string">toolbar</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.toolbar"/>
  </define>
  <define name="common.attrs.aria.role.toolbar" combine="choice">
    <ref name="aria.toolbar"/>
  </define>
  <define name="aria.tooltip">
    <a:documentation>tooltip</a:documentation>
    <interleave>
      <ref name="aria.role.tooltip"/>
      <optional>
        <ref name="aria.state.expanded"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.tooltip">
    <attribute name="role">
      <value type="string">tooltip</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.tooltip"/>
  </define>
  <define name="aria.tree">
    <a:documentation>tree</a:documentation>
    <interleave>
      <ref name="aria.role.tree"/>
      <optional>
        <ref name="aria.prop.multiselectable"/>
      </optional>
      <optional>
        <!-- not inherited -->
        <ref name="aria.prop.activedescendant"/>
      </optional>
      <optional>
        <ref name="aria.state.expanded"/>
      </optional>
      <optional>
        <ref name="aria.prop.required"/>
      </optional>
      <optional>
        <ref name="aria.prop.orientation"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.tree">
    <attribute name="role">
      <value type="string">tree</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.tree"/>
  </define>
  <define name="common.attrs.aria.role.tree" combine="choice">
    <ref name="aria.tree"/>
  </define>
  <define name="aria.treegrid">
    <a:documentation>treegrid</a:documentation>
    <interleave>
      <ref name="aria.role.treegrid"/>
      <optional>
        <ref name="aria.prop.activedescendant"/>
      </optional>
      <optional>
        <ref name="aria.state.expanded"/>
      </optional>
      <optional>
        <ref name="aria.prop.level"/>
      </optional>
      <optional>
        <ref name="aria.prop.multiselectable"/>
      </optional>
      <optional>
        <ref name="aria.prop.readonly"/>
      </optional>
      <optional>
        <ref name="aria.prop.required"/>
      </optional>
      <optional>
        <ref name="aria.prop.orientation"/>
      </optional>
      <optional>
        <ref name="aria.prop.colcount"/>
      </optional>
      <optional>
        <ref name="aria.prop.rowcount"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.treegrid">
    <attribute name="role">
      <value type="string">treegrid</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.treegrid"/>
  </define>
  <define name="aria.treeitem">
    <a:documentation>treeitem</a:documentation>
    <interleave>
      <ref name="aria.role.treeitem"/>
      <optional>
        <ref name="aria.state.checked"/>
      </optional>
      <optional>
        <ref name="aria.state.expanded"/>
      </optional>
      <optional>
        <ref name="aria.prop.level"/>
      </optional>
      <optional>
        <ref name="aria.prop.posinset"/>
      </optional>
      <optional>
        <ref name="aria.state.selected"/>
      </optional>
      <optional>
        <ref name="aria.prop.setsize"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.treeitem">
    <attribute name="role">
      <value type="string">treeitem</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.treeitem"/>
  </define>
  <define name="common.attrs.aria.role.treeitem" combine="choice">
    <ref name="aria.treeitem"/>
  </define>
  <!-- ##################################################################### -->
  <define name="aria.doc-abstract">
    <a:documentation>https://w3c.github.io/aria/aria/dpub.html</a:documentation>
    <ref name="aria.role.doc-abstract"/>
  </define>
  <define name="aria.role.doc-abstract">
    <attribute name="role">
      <value type="string">doc-abstract</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.doc-abstract"/>
  </define>
  <define name="common.attrs.aria.role.doc-abstract" combine="choice">
    <ref name="aria.doc-abstract"/>
  </define>
  <define name="aria.doc-acknowledgments">
    <ref name="aria.role.doc-acknowledgments"/>
  </define>
  <define name="aria.role.doc-acknowledgments">
    <attribute name="role">
      <value type="string">doc-acknowledgments</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.doc-acknowledgments"/>
  </define>
  <define name="common.attrs.aria.role.doc-acknowledgments" combine="choice">
    <ref name="aria.doc-acknowledgments"/>
  </define>
  <define name="aria.doc-afterword">
    <ref name="aria.role.doc-afterword"/>
  </define>
  <define name="aria.role.doc-afterword">
    <attribute name="role">
      <value type="string">doc-afterword</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.doc-afterword"/>
  </define>
  <define name="common.attrs.aria.role.doc-afterword" combine="choice">
    <ref name="aria.doc-afterword"/>
  </define>
  <define name="aria.doc-appendix">
    <ref name="aria.role.doc-appendix"/>
  </define>
  <define name="aria.role.doc-appendix">
    <attribute name="role">
      <value type="string">doc-appendix</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.doc-appendix"/>
  </define>
  <define name="common.attrs.aria.role.doc-appendix" combine="choice">
    <ref name="aria.doc-appendix"/>
  </define>
  <define name="aria.doc-backlink">
    <ref name="aria.role.doc-backlink"/>
  </define>
  <define name="aria.role.doc-backlink">
    <attribute name="role">
      <value type="string">doc-backlink</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.doc-backlink"/>
  </define>
  <define name="common.attrs.aria.role.doc-backlink" combine="choice">
    <ref name="aria.doc-backlink"/>
  </define>
  <define name="aria.doc-biblioentry">
    <ref name="aria.role.doc-biblioentry"/>
  </define>
  <define name="aria.role.doc-biblioentry">
    <attribute name="role">
      <value type="string">doc-biblioentry</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.doc-biblioentry"/>
  </define>
  <define name="common.attrs.aria.role.doc-biblioentry" combine="choice">
    <ref name="aria.doc-biblioentry"/>
  </define>
  <define name="aria.doc-bibliography">
    <ref name="aria.role.doc-bibliography"/>
  </define>
  <define name="aria.role.doc-bibliography">
    <attribute name="role">
      <value type="string">doc-bibliography</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.doc-bibliography"/>
  </define>
  <define name="common.attrs.aria.role.doc-bibliography" combine="choice">
    <ref name="aria.doc-bibliography"/>
  </define>
  <define name="aria.doc-biblioref">
    <ref name="aria.role.doc-biblioref"/>
  </define>
  <define name="aria.role.doc-biblioref">
    <attribute name="role">
      <value type="string">doc-biblioref</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.doc-biblioref"/>
  </define>
  <define name="common.attrs.aria.role.doc-biblioref" combine="choice">
    <ref name="aria.doc-biblioref"/>
  </define>
  <define name="aria.doc-chapter">
    <ref name="aria.role.doc-chapter"/>
  </define>
  <define name="aria.role.doc-chapter">
    <attribute name="role">
      <value type="string">doc-chapter</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.doc-chapter"/>
  </define>
  <define name="common.attrs.aria.role.doc-chapter" combine="choice">
    <ref name="aria.doc-chapter"/>
  </define>
  <define name="aria.doc-colophon">
    <ref name="aria.role.doc-colophon"/>
  </define>
  <define name="aria.role.doc-colophon">
    <attribute name="role">
      <value type="string">doc-colophon</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.doc-colophon"/>
  </define>
  <define name="common.attrs.aria.role.doc-colophon" combine="choice">
    <ref name="aria.doc-colophon"/>
  </define>
  <define name="aria.doc-conclusion">
    <ref name="aria.role.doc-conclusion"/>
  </define>
  <define name="aria.role.doc-conclusion">
    <attribute name="role">
      <value type="string">doc-conclusion</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.doc-conclusion"/>
  </define>
  <define name="common.attrs.aria.role.doc-conclusion" combine="choice">
    <ref name="aria.doc-conclusion"/>
  </define>
  <define name="aria.doc-cover">
    <ref name="aria.role.doc-cover"/>
  </define>
  <define name="aria.role.doc-cover">
    <attribute name="role">
      <value type="string">doc-cover</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.doc-cover"/>
  </define>
  <define name="common.attrs.aria.role.doc-cover" combine="choice">
    <ref name="aria.doc-cover"/>
  </define>
  <define name="aria.doc-credit">
    <ref name="aria.role.doc-credit"/>
  </define>
  <define name="aria.role.doc-credit">
    <attribute name="role">
      <value type="string">doc-credit</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.doc-credit"/>
  </define>
  <define name="common.attrs.aria.role.doc-credit" combine="choice">
    <ref name="aria.doc-credit"/>
  </define>
  <define name="aria.doc-credits">
    <ref name="aria.role.doc-credits"/>
  </define>
  <define name="aria.role.doc-credits">
    <attribute name="role">
      <value type="string">doc-credits</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.doc-credits"/>
  </define>
  <define name="common.attrs.aria.role.doc-credits" combine="choice">
    <ref name="aria.doc-credits"/>
  </define>
  <define name="aria.doc-dedication">
    <ref name="aria.role.doc-dedication"/>
  </define>
  <define name="aria.role.doc-dedication">
    <attribute name="role">
      <value type="string">doc-dedication</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.doc-dedication"/>
  </define>
  <define name="common.attrs.aria.role.doc-dedication" combine="choice">
    <ref name="aria.doc-dedication"/>
  </define>
  <define name="aria.doc-endnote">
    <ref name="aria.role.doc-endnote"/>
  </define>
  <define name="aria.role.doc-endnote">
    <attribute name="role">
      <value type="string">doc-endnote</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.doc-endnote"/>
  </define>
  <define name="common.attrs.aria.role.doc-endnote" combine="choice">
    <ref name="aria.doc-endnote"/>
  </define>
  <define name="aria.doc-endnotes">
    <ref name="aria.role.doc-endnotes"/>
  </define>
  <define name="aria.role.doc-endnotes">
    <attribute name="role">
      <value type="string">doc-endnotes</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.doc-endnotes"/>
  </define>
  <define name="common.attrs.aria.role.doc-endnotes" combine="choice">
    <ref name="aria.doc-endnotes"/>
  </define>
  <define name="aria.doc-epigraph">
    <ref name="aria.role.doc-epigraph"/>
  </define>
  <define name="aria.role.doc-epigraph">
    <attribute name="role">
      <value type="string">doc-epigraph</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.doc-epigraph"/>
  </define>
  <define name="common.attrs.aria.role.doc-epigraph" combine="choice">
    <ref name="aria.doc-epigraph"/>
  </define>
  <define name="aria.doc-epilogue">
    <ref name="aria.role.doc-epilogue"/>
  </define>
  <define name="aria.role.doc-epilogue">
    <attribute name="role">
      <value type="string">doc-epilogue</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.doc-epilogue"/>
  </define>
  <define name="common.attrs.aria.role.doc-epilogue" combine="choice">
    <ref name="aria.doc-epilogue"/>
  </define>
  <define name="aria.doc-errata">
    <ref name="aria.role.doc-errata"/>
  </define>
  <define name="aria.role.doc-errata">
    <attribute name="role">
      <value type="string">doc-errata</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.doc-errata"/>
  </define>
  <define name="common.attrs.aria.role.doc-errata" combine="choice">
    <ref name="aria.doc-errata"/>
  </define>
  <define name="aria.doc-example">
    <ref name="aria.role.doc-example"/>
  </define>
  <define name="aria.role.doc-example">
    <attribute name="role">
      <value type="string">doc-example</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.doc-example"/>
  </define>
  <define name="common.attrs.aria.role.doc-example" combine="choice">
    <ref name="aria.doc-example"/>
  </define>
  <define name="aria.doc-footnote">
    <ref name="aria.role.doc-footnote"/>
  </define>
  <define name="aria.role.doc-footnote">
    <attribute name="role">
      <value type="string">doc-footnote</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.doc-footnote"/>
  </define>
  <define name="common.attrs.aria.role.doc-footnote" combine="choice">
    <ref name="aria.doc-footnote"/>
  </define>
  <define name="aria.doc-foreword">
    <ref name="aria.role.doc-foreword"/>
  </define>
  <define name="aria.role.doc-foreword">
    <attribute name="role">
      <value type="string">doc-foreword</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.doc-foreword"/>
  </define>
  <define name="common.attrs.aria.role.doc-foreword" combine="choice">
    <ref name="aria.doc-foreword"/>
  </define>
  <define name="aria.doc-glossary">
    <ref name="aria.role.doc-glossary"/>
  </define>
  <define name="aria.role.doc-glossary">
    <attribute name="role">
      <value type="string">doc-glossary</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.doc-glossary"/>
  </define>
  <define name="common.attrs.aria.role.doc-glossary" combine="choice">
    <ref name="aria.doc-glossary"/>
  </define>
  <define name="aria.doc-glossref">
    <ref name="aria.role.doc-glossref"/>
  </define>
  <define name="aria.role.doc-glossref">
    <attribute name="role">
      <value type="string">doc-glossref</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.doc-glossref"/>
  </define>
  <define name="common.attrs.aria.role.doc-glossref" combine="choice">
    <ref name="aria.doc-glossref"/>
  </define>
  <define name="aria.doc-index">
    <ref name="aria.role.doc-index"/>
  </define>
  <define name="aria.role.doc-index">
    <attribute name="role">
      <value type="string">doc-index</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.doc-index"/>
  </define>
  <define name="common.attrs.aria.role.doc-index" combine="choice">
    <ref name="aria.doc-index"/>
  </define>
  <define name="aria.doc-introduction">
    <ref name="aria.role.doc-introduction"/>
  </define>
  <define name="aria.role.doc-introduction">
    <attribute name="role">
      <value type="string">doc-introduction</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.doc-introduction"/>
  </define>
  <define name="common.attrs.aria.role.doc-introduction" combine="choice">
    <ref name="aria.doc-introduction"/>
  </define>
  <define name="aria.doc-noteref">
    <ref name="aria.role.doc-noteref"/>
  </define>
  <define name="aria.role.doc-noteref">
    <attribute name="role">
      <value type="string">doc-noteref</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.doc-noteref"/>
  </define>
  <define name="common.attrs.aria.role.doc-noteref" combine="choice">
    <ref name="aria.doc-noteref"/>
  </define>
  <define name="aria.doc-notice">
    <ref name="aria.role.doc-notice"/>
  </define>
  <define name="aria.role.doc-notice">
    <attribute name="role">
      <value type="string">doc-notice</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.doc-notice"/>
  </define>
  <define name="common.attrs.aria.role.doc-notice" combine="choice">
    <ref name="aria.doc-notice"/>
  </define>
  <define name="aria.doc-pagebreak">
    <ref name="aria.role.doc-pagebreak"/>
  </define>
  <define name="aria.role.doc-pagebreak">
    <attribute name="role">
      <value type="string">doc-pagebreak</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.doc-pagebreak"/>
  </define>
  <define name="common.attrs.aria.role.doc-pagebreak" combine="choice">
    <ref name="aria.doc-pagebreak"/>
  </define>
  <define name="aria.doc-pagelist">
    <ref name="aria.role.doc-pagelist"/>
  </define>
  <define name="aria.role.doc-pagelist">
    <attribute name="role">
      <value type="string">doc-pagelist</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.doc-pagelist"/>
  </define>
  <define name="common.attrs.aria.role.doc-pagelist" combine="choice">
    <ref name="aria.doc-pagelist"/>
  </define>
  <define name="aria.doc-part">
    <ref name="aria.role.doc-part"/>
  </define>
  <define name="aria.role.doc-part">
    <attribute name="role">
      <value type="string">doc-part</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.doc-part"/>
  </define>
  <define name="common.attrs.aria.role.doc-part" combine="choice">
    <ref name="aria.doc-part"/>
  </define>
  <define name="aria.doc-preface">
    <ref name="aria.role.doc-preface"/>
  </define>
  <define name="aria.role.doc-preface">
    <attribute name="role">
      <value type="string">doc-preface</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.doc-preface"/>
  </define>
  <define name="common.attrs.aria.role.doc-preface" combine="choice">
    <ref name="aria.doc-preface"/>
  </define>
  <define name="aria.doc-prologue">
    <ref name="aria.role.doc-prologue"/>
  </define>
  <define name="aria.role.doc-prologue">
    <attribute name="role">
      <value type="string">doc-prologue</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.doc-prologue"/>
  </define>
  <define name="common.attrs.aria.role.doc-prologue" combine="choice">
    <ref name="aria.doc-prologue"/>
  </define>
  <define name="aria.doc-pullquote">
    <ref name="aria.role.doc-pullquote"/>
  </define>
  <define name="aria.role.doc-pullquote">
    <attribute name="role">
      <value type="string">doc-pullquote</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.doc-pullquote"/>
  </define>
  <define name="common.attrs.aria.role.doc-pullquote" combine="choice">
    <ref name="aria.doc-pullquote"/>
  </define>
  <define name="aria.doc-qna">
    <ref name="aria.role.doc-qna"/>
  </define>
  <define name="aria.role.doc-qna">
    <attribute name="role">
      <value type="string">doc-qna</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.doc-qna"/>
  </define>
  <define name="common.attrs.aria.role.doc-qna" combine="choice">
    <ref name="aria.doc-qna"/>
  </define>
  <define name="aria.doc-subtitle">
    <ref name="aria.role.doc-subtitle"/>
  </define>
  <define name="aria.role.doc-subtitle">
    <attribute name="role">
      <value type="string">doc-subtitle</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.doc-subtitle"/>
  </define>
  <define name="common.attrs.aria.role.doc-subtitle" combine="choice">
    <ref name="aria.doc-subtitle"/>
  </define>
  <define name="aria.doc-tip">
    <ref name="aria.role.doc-tip"/>
  </define>
  <define name="aria.role.doc-tip">
    <attribute name="role">
      <value type="string">doc-tip</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.doc-tip"/>
  </define>
  <define name="common.attrs.aria.role.doc-tip" combine="choice">
    <ref name="aria.doc-tip"/>
  </define>
  <define name="aria.doc-toc">
    <ref name="aria.role.doc-toc"/>
  </define>
  <define name="aria.role.doc-toc">
    <attribute name="role">
      <value type="string">doc-toc</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.doc-toc"/>
  </define>
  <define name="common.attrs.aria.role.doc-toc" combine="choice">
    <ref name="aria.doc-toc"/>
  </define>
  <!-- Inlined from microdata.rng -->
<!-- ##################################################################### -->
  <!-- ##################################################################### -->
  <define name="common.attrs.microdata">
    <a:documentation> RELAX NG Schema for HTML 5: Microdata                             #</a:documentation>
    <interleave>
      <optional>
        <ref name="common.attrs.microdata.itemref"/>
      </optional>
      <optional>
        <ref name="common.attrs.microdata.itemprop"/>
      </optional>
      <optional>
        <ref name="common.attrs.microdata.itemscope"/>
      </optional>
      <optional>
        <ref name="common.attrs.microdata.itemtype"/>
      </optional>
      <optional>
        <ref name="common.attrs.microdata.itemid"/>
      </optional>
    </interleave>
  </define>
  <define name="common.attrs.microdata.itemref">
    <attribute name="itemref">
      <ref name="common.data.idrefs"/>
    </attribute>
  </define>
  <define name="common.attrs.microdata.itemprop">
    <attribute name="itemprop">
      <ref name="common.data.microdata-properties"/>
    </attribute>
  </define>
  <define name="common.attrs.microdata.itemscope">
    <attribute name="itemscope">
      <choice>
        <value>itemscope</value>
        <value/>
      </choice>
    </attribute>
  </define>
  <define name="common.attrs.microdata.itemtype">
    <attribute name="itemtype">
      <list>
        <oneOrMore>
          <ref name="common.data.uri.absolute"/>
        </oneOrMore>
      </list>
    </attribute>
  </define>
  <define name="common.attrs.microdata.itemid">
    <attribute name="itemid">
      <ref name="common.data.uri"/>
    </attribute>
  </define>
  <define name="common.attrs" combine="interleave">
    <ref name="common.attrs.microdata"/>
  </define>
  <define name="a.attrs" combine="interleave">
    <ref name="common.attrs.microdata"/>
  </define>
  <define name="area.attrs" combine="interleave">
    <ref name="common.attrs.microdata"/>
  </define>
  <define name="base.attrs" combine="interleave">
    <ref name="common.attrs.microdata"/>
  </define>
  <define name="link.elem.phrasing">
    <a:documentation>URL-valued Property Metadata: &lt;link itemprop&gt;</a:documentation>
    <element name="link">
      <interleave>
        <ref name="link.inner"/>
        <ref name="link.phrasing.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="link.phrasing.attrs">
    <interleave>
      <ref name="common.attrs.basic"/>
      <ref name="common.attrs.i18n"/>
      <ref name="common.attrs.present"/>
      <ref name="common.attrs.other"/>
      <ref name="common.attrs.microdata.itemprop"/>
      <optional>
        <ref name="common.attrs.microdata.itemref"/>
      </optional>
      <optional>
        <ref name="common.attrs.microdata.itemscope"/>
      </optional>
      <optional>
        <ref name="common.attrs.microdata.itemtype"/>
      </optional>
      <optional>
        <ref name="common.attrs.microdata.itemid"/>
      </optional>
      <ref name="shared-hyperlink.attrs.href"/>
      <optional>
        <ref name="shared-hyperlink.attrs.hreflang"/>
      </optional>
      <optional>
        <ref name="shared-hyperlink.attrs.media"/>
      </optional>
      <optional>
        <ref name="shared-hyperlink.attrs.type"/>
      </optional>
      <optional>
        <ref name="link.attrs.sizes"/>
      </optional>
      <optional>
        <!-- 	link.attrs.title included in common.attrs -->
        <ref name="embedded.content.attrs.crossorigin"/>
      </optional>
      <optional>
        <choice>
          <ref name="common.attrs.aria.role.link"/>
          <ref name="common.attrs.aria.role.presentation"/>
          <ref name="common.attrs.aria.role.menuitem"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="common.elem.phrasing" combine="choice">
    <ref name="link.elem.phrasing"/>
  </define>
  <define name="link.attrs.rel" combine="choice">
    <a:documentation>&lt;link&gt; element in head, extensions</a:documentation>
    <ref name="common.attrs.microdata.itemprop"/>
  </define>
  <define name="link.attrs" combine="interleave">
    <optional>
      <ref name="common.attrs.microdata.itemref"/>
    </optional>
  </define>
  <define name="link.attrs" combine="interleave">
    <optional>
      <ref name="common.attrs.microdata.itemscope"/>
    </optional>
  </define>
  <define name="link.attrs" combine="interleave">
    <optional>
      <ref name="common.attrs.microdata.itemtype"/>
    </optional>
  </define>
  <define name="link.attrs" combine="interleave">
    <optional>
      <ref name="common.attrs.microdata.itemid"/>
    </optional>
  </define>
  <define name="meta.itemprop.elem">
    <a:documentation>Property Metadata: &lt;meta itemprop&gt;</a:documentation>
    <element name="meta">
      <interleave>
        <ref name="meta.inner"/>
        <ref name="meta.itemprop.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="meta.itemprop.attrs">
    <interleave>
      <ref name="common.attrs.basic"/>
      <ref name="common.attrs.i18n"/>
      <ref name="common.attrs.present"/>
      <ref name="common.attrs.other"/>
      <ref name="common.attrs.microdata.itemprop"/>
      <optional>
        <ref name="common.attrs.microdata.itemref"/>
      </optional>
      <optional>
        <ref name="common.attrs.microdata.itemscope"/>
      </optional>
      <optional>
        <ref name="common.attrs.microdata.itemtype"/>
      </optional>
      <optional>
        <ref name="common.attrs.microdata.itemid"/>
      </optional>
      <ref name="meta.itemprop.attrs.content"/>
    </interleave>
  </define>
  <define name="meta.itemprop.attrs.content">
    <attribute name="content">
      <data type="string"/>
    </attribute>
  </define>
  <define name="common.elem.metadata" combine="choice">
    <ref name="meta.itemprop.elem"/>
  </define>
  <define name="common.elem.phrasing" combine="choice">
    <ref name="meta.itemprop.elem"/>
  </define>
  <!-- Inlined from web-components.rng -->
<!-- ##################################################################### -->
  <define name="template.elem">
    <a:documentation> RELAX NG Schema for HTML 5: Web Components</a:documentation>
    <!-- ##################################################################### -->
    <a:documentation>Templates: &lt;template&gt;</a:documentation>
    <element name="template">
      <interleave>
        <ref name="template.inner"/>
        <ref name="template.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="template.attrs">
    <ref name="common.attrs"/>
  </define>
  <define name="template.attrs.shadowrootmode">
    <attribute name="shadowrootmode">
      <choice>
        <value>open</value>
        <value>closed</value>
      </choice>
    </attribute>
  </define>
  <define name="template.attrs.shadowrootdelegatesfocus">
    <attribute name="shadowrootdelegatesfocus">
      <choice>
        <value>true</value>
        <value>false</value>
      </choice>
    </attribute>
  </define>
  <define name="template.attrs.shadowrootclonable">
    <attribute name="shadowrootclonable">
      <choice>
        <value>true</value>
        <value>false</value>
      </choice>
    </attribute>
  </define>
  <define name="template.attrs.shadowrootserializable">
    <attribute name="shadowrootserializable">
      <choice>
        <value>true</value>
        <value>false</value>
      </choice>
    </attribute>
  </define>
  <define name="template.attrs.shadowrootcustomelementregistry">
    <attribute name="shadowrootcustomelementregistry">
      <choice>
        <value>true</value>
        <value>false</value>
      </choice>
    </attribute>
  </define>
  <define name="template.inner">
    <choice>
      <ref name="common.inner.metadata"/>
      <ref name="common.inner.flow"/>
      <ref name="ol.inner"/>
      <ref name="ul.inner"/>
      <ref name="dl.inner"/>
      <ref name="figure.inner"/>
      <ref name="ruby.inner"/>
      <ref name="object.inner.flow"/>
      <ref name="object.inner.phrasing"/>
      <ref name="video.inner.flow"/>
      <ref name="video.inner.phrasing"/>
      <ref name="audio.inner.flow"/>
      <ref name="audio.inner.phrasing"/>
      <ref name="table.inner"/>
      <ref name="colgroup.inner"/>
      <ref name="thead.inner"/>
      <ref name="tbody.inner"/>
      <ref name="tfoot.inner"/>
      <ref name="tr.inner"/>
      <ref name="fieldset.inner"/>
      <ref name="select.inner"/>
      <ref name="details.inner"/>
    </choice>
  </define>
  <define name="common.elem.metadata" combine="choice">
    <ref name="template.elem"/>
  </define>
  <define name="common.elem.phrasing" combine="choice">
    <ref name="template.elem"/>
  </define>
  <define name="common.elem.script-supporting" combine="choice">
    <ref name="template.elem"/>
  </define>
  <!-- also allow <script> wherever <template> is allowed -->
  <define name="common.elem.script-supporting" combine="choice">
    <ref name="script.elem"/>
  </define>
  <define name="common.elem.flow" combine="choice">
    <a:documentation>Custom elements: &lt;foo-bar&gt;</a:documentation>
    <element>
      <nsName ns="http://n.validator.nu/custom-elements/"/>
      <interleave>
        <ref name="common.inner.transparent.flow"/>
        <zeroOrMore>
          <ref name="attr.any"/>
        </zeroOrMore>
      </interleave>
    </element>
  </define>
  <define name="common.elem.phrasing" combine="choice">
    <element>
      <nsName ns="http://n.validator.nu/custom-elements/"/>
      <interleave>
        <ref name="common.inner.phrasing"/>
        <zeroOrMore>
          <ref name="attr.any"/>
        </zeroOrMore>
      </interleave>
    </element>
  </define>
  <define name="attr.any">
    <attribute>
      <anyName/>
    </attribute>
  </define>
  <define name="common.attrs.other" combine="interleave">
    <a:documentation>The "is" attribute</a:documentation>
    <optional>
      <attribute name="is">
        <ref name="common.data.custom.element.name"/>
      </attribute>
    </optional>
  </define>
  <define name="slot.elem.flow">
    <a:documentation>Slot: &lt;slot&gt;</a:documentation>
    <element name="slot">
      <interleave>
        <ref name="slot.inner.flow"/>
        <ref name="slot.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="slot.elem.phrasing">
    <element name="slot">
      <interleave>
        <ref name="slot.inner.phrasing"/>
        <ref name="slot.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="slot.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <ref name="slot.attrs.name"/>
      </optional>
      <optional>
        <ref name="common.attrs.aria"/>
      </optional>
    </interleave>
  </define>
  <define name="slot.attrs.name">
    <attribute name="name">
      <data type="string"/>
    </attribute>
  </define>
  <define name="slot.inner.flow">
    <ref name="common.inner.transparent.flow"/>
  </define>
  <define name="slot.inner.phrasing">
    <ref name="common.inner.phrasing"/>
  </define>
  <define name="common.elem.flow" combine="choice">
    <ref name="slot.elem.flow"/>
  </define>
  <define name="common.elem.phrasing" combine="choice">
    <ref name="slot.elem.phrasing"/>
  </define>
  <define name="common.attrs.other" combine="interleave">
    <a:documentation>The "slot" attribute</a:documentation>
    <optional>
      <attribute name="slot"/>
    </optional>
  </define>
  <!-- Inlined from rdfa.rng -->
<define name="nonRDFaLite">
    <empty/>
  </define>
  <!-- ##################################################################### -->
  <!-- ##################################################################### -->
  <define name="common.data.rdfa.safecurie">
    <a:documentation> RELAX NG Schema for HTML 5: RDFa 1.1 and RDFa Lite 1.1            #</a:documentation>
    <!-- ##################################################################### -->
    <!-- ##################################################################### -->
    <a:documentation> RDFa Datatypes                                                    #</a:documentation>
    <data type="string">
      <param name="pattern">\\[(([\\i-[:]][\\c-[:]]*)?:?)[^\\s]*\\]</param>
      <param name="minLength">2</param>
    </data>
  </define>
  <define name="common.data.rdfa.curie">
    <data type="string">
      <param name="pattern">(([\\i-[:]][\\c-[:]]*)?:)[^\\s]*</param>
      <param name="minLength">1</param>
    </data>
  </define>
  <define name="common.data.rdfa.term">
    <data type="string">
      <param name="pattern">[\\i-[:]][/\\c-[:]]*</param>
    </data>
  </define>
  <!-- ##################################################################### -->
  <!-- ##################################################################### -->
  <define name="common.attrs.rdfa" combine="interleave">
    <a:documentation> RDFa Attributes                                                   #</a:documentation>
    <interleave>
      <optional>
        <ref name="common.attrs.rdfa.about"/>
      </optional>
      <optional>
        <ref name="common.attrs.rdfa.prefix"/>
      </optional>
      <optional>
        <ref name="common.attrs.rdfa.property"/>
      </optional>
      <optional>
        <ref name="common.attrs.rdfa.typeof"/>
      </optional>
      <optional>
        <ref name="common.attrs.rdfa.vocab"/>
      </optional>
      <optional>
        <ref name="common.attrs.rdfa.content"/>
      </optional>
      <optional>
        <ref name="common.attrs.rdfa.datatype"/>
      </optional>
      <optional>
        <ref name="common.attrs.rdfa.rel"/>
      </optional>
      <optional>
        <ref name="common.attrs.rdfa.resource"/>
      </optional>
      <optional>
        <ref name="common.attrs.rdfa.rev"/>
      </optional>
      <optional>
        <ref name="common.attrs.rdfa.inlist"/>
      </optional>
    </interleave>
  </define>
  <define name="common.attrs.rdfa.prefix">
    <attribute name="prefix">
      <choice>
        <data type="string">
          <param name="pattern">\\s*([\\i-[:]][\\c-[:]]*: [^ ]+)(\\s+[\\i-[:]][\\c-[:]]*: [^ ]+)*\\s*</param>
        </data>
        <value type="string" datatypeLibrary=""/>
      </choice>
    </attribute>
  </define>
  <define name="common.attrs.rdfa.property">
    <attribute name="property">
      <choice>
        <list>
          <oneOrMore>
            <choice>
              <ref name="common.data.rdfa.term"/>
              <ref name="common.data.rdfa.curie"/>
              <ref name="common.data.uri.absolute"/>
            </choice>
          </oneOrMore>
        </list>
        <value type="string" datatypeLibrary=""/>
      </choice>
    </attribute>
  </define>
  <define name="common.attrs.rdfa.resource">
    <attribute name="resource">
      <choice>
        <ref name="common.data.rdfa.safecurie"/>
        <ref name="common.data.rdfa.curie"/>
        <ref name="common.data.uri"/>
      </choice>
    </attribute>
  </define>
  <define name="common.attrs.rdfa.typeof">
    <attribute name="typeof">
      <choice>
        <list>
          <oneOrMore>
            <choice>
              <ref name="common.data.rdfa.term"/>
              <ref name="common.data.rdfa.curie"/>
              <ref name="common.data.uri.absolute"/>
            </choice>
          </oneOrMore>
        </list>
        <value type="string" datatypeLibrary=""/>
      </choice>
    </attribute>
  </define>
  <define name="common.attrs.rdfa.vocab">
    <attribute name="vocab">
      <choice>
        <ref name="common.data.uri.absolute"/>
        <value type="string" datatypeLibrary=""/>
      </choice>
    </attribute>
  </define>
  <define name="common.attrs.rdfa.about">
    <interleave>
      <attribute name="about">
        <choice>
          <ref name="common.data.rdfa.safecurie"/>
          <ref name="common.data.rdfa.curie"/>
          <ref name="common.data.uri"/>
        </choice>
      </attribute>
      <ref name="nonRDFaLite"/>
    </interleave>
  </define>
  <define name="common.attrs.rdfa.content">
    <interleave>
      <attribute name="content">
        <data type="string" datatypeLibrary=""/>
      </attribute>
      <ref name="nonRDFaLite"/>
    </interleave>
  </define>
  <define name="common.attrs.rdfa.datatype">
    <interleave>
      <attribute name="datatype">
        <choice>
          <ref name="common.data.rdfa.term"/>
          <ref name="common.data.rdfa.curie"/>
          <ref name="common.data.uri.absolute"/>
          <value type="string" datatypeLibrary=""/>
        </choice>
      </attribute>
      <ref name="nonRDFaLite"/>
    </interleave>
  </define>
  <define name="common.attrs.rdfa.rel">
    <interleave>
      <attribute name="rel">
        <choice>
          <list>
            <oneOrMore>
              <choice>
                <ref name="common.data.rdfa.term"/>
                <ref name="common.data.rdfa.curie"/>
                <ref name="common.data.uri.absolute"/>
              </choice>
            </oneOrMore>
          </list>
          <value type="string" datatypeLibrary=""/>
        </choice>
      </attribute>
      <ref name="nonRDFaLite"/>
    </interleave>
  </define>
  <define name="common.attrs.rdfa.rev">
    <interleave>
      <attribute name="rev">
        <choice>
          <list>
            <oneOrMore>
              <choice>
                <ref name="common.data.rdfa.term"/>
                <ref name="common.data.rdfa.curie"/>
                <ref name="common.data.uri.absolute"/>
              </choice>
            </oneOrMore>
          </list>
          <value type="string" datatypeLibrary=""/>
        </choice>
      </attribute>
      <ref name="nonRDFaLite"/>
    </interleave>
  </define>
  <define name="common.attrs.rdfa.inlist">
    <interleave>
      <attribute name="inlist">
        <data type="string" datatypeLibrary=""/>
      </attribute>
      <ref name="nonRDFaLite"/>
    </interleave>
  </define>
  <define name="common.attrs.rdfa.no-rel" combine="interleave">
    <interleave>
      <optional>
        <ref name="common.attrs.rdfa.about"/>
      </optional>
      <optional>
        <ref name="common.attrs.rdfa.prefix"/>
      </optional>
      <optional>
        <ref name="common.attrs.rdfa.property"/>
      </optional>
      <optional>
        <ref name="common.attrs.rdfa.typeof"/>
      </optional>
      <optional>
        <ref name="common.attrs.rdfa.vocab"/>
      </optional>
      <optional>
        <ref name="common.attrs.rdfa.content"/>
      </optional>
      <optional>
        <ref name="common.attrs.rdfa.datatype"/>
      </optional>
      <optional>
        <ref name="common.attrs.rdfa.resource"/>
      </optional>
      <optional>
        <ref name="common.attrs.rdfa.rev"/>
      </optional>
      <optional>
        <ref name="common.attrs.rdfa.inlist"/>
      </optional>
    </interleave>
  </define>
  <define name="common.attrs.rdfa.no-rel-rev" combine="interleave">
    <interleave>
      <optional>
        <ref name="common.attrs.rdfa.about"/>
      </optional>
      <optional>
        <ref name="common.attrs.rdfa.prefix"/>
      </optional>
      <optional>
        <ref name="common.attrs.rdfa.property"/>
      </optional>
      <optional>
        <ref name="common.attrs.rdfa.typeof"/>
      </optional>
      <optional>
        <ref name="common.attrs.rdfa.vocab"/>
      </optional>
      <optional>
        <ref name="common.attrs.rdfa.content"/>
      </optional>
      <optional>
        <ref name="common.attrs.rdfa.datatype"/>
      </optional>
      <optional>
        <ref name="common.attrs.rdfa.resource"/>
      </optional>
      <optional>
        <ref name="common.attrs.rdfa.inlist"/>
      </optional>
    </interleave>
  </define>
  <define name="common.attrs.rdfa.no-content-noproperty" combine="interleave">
    <interleave>
      <optional>
        <ref name="common.attrs.rdfa.about"/>
      </optional>
      <optional>
        <ref name="common.attrs.rdfa.prefix"/>
      </optional>
      <optional>
        <ref name="common.attrs.rdfa.typeof"/>
      </optional>
      <optional>
        <ref name="common.attrs.rdfa.vocab"/>
      </optional>
      <optional>
        <ref name="common.attrs.rdfa.datatype"/>
      </optional>
      <optional>
        <ref name="common.attrs.rdfa.resource"/>
      </optional>
      <optional>
        <ref name="common.attrs.rdfa.inlist"/>
      </optional>
    </interleave>
  </define>
  <define name="common.attrs" combine="interleave">
    <ref name="common.attrs.rdfa"/>
  </define>
  <define name="a.attrs" combine="interleave">
    <ref name="common.attrs.rdfa.no-rel-rev"/>
  </define>
  <define name="area.attrs" combine="interleave">
    <ref name="common.attrs.rdfa.no-rel"/>
  </define>
  <define name="base.attrs" combine="interleave">
    <ref name="common.attrs.rdfa.no-rel"/>
  </define>
  <define name="link.rdfa.elem.metadata">
    <element name="link">
      <interleave>
        <ref name="link.inner"/>
        <ref name="link.rdfa.attrs.metadata"/>
      </interleave>
    </element>
  </define>
  <define name="link.rdfa.elem.phrasing">
    <element name="link">
      <interleave>
        <ref name="link.inner"/>
        <ref name="link.rdfa.attrs.phrasing"/>
      </interleave>
    </element>
  </define>
  <define name="link.rdfa.attrs.metadata">
    <interleave>
      <ref name="common.attrs.basic"/>
      <ref name="common.attrs.i18n"/>
      <ref name="common.attrs.present"/>
      <ref name="common.attrs.other"/>
      <choice>
        <interleave>
          <ref name="common.attrs.rdfa.property"/>
          <optional>
            <ref name="link.attrs.rel"/>
          </optional>
        </interleave>
        <interleave>
          <optional>
            <ref name="common.attrs.rdfa.property"/>
          </optional>
          <ref name="link.attrs.rel"/>
        </interleave>
      </choice>
      <optional>
        <ref name="common.attrs.rdfa.about"/>
      </optional>
      <optional>
        <ref name="common.attrs.rdfa.prefix"/>
      </optional>
      <optional>
        <ref name="common.attrs.rdfa.typeof"/>
      </optional>
      <optional>
        <ref name="common.attrs.rdfa.vocab"/>
      </optional>
      <optional>
        <ref name="common.attrs.rdfa.content"/>
      </optional>
      <optional>
        <ref name="common.attrs.rdfa.datatype"/>
      </optional>
      <choice>
        <interleave>
          <ref name="common.attrs.rdfa.resource"/>
          <optional>
            <ref name="link.attrs.href"/>
          </optional>
        </interleave>
        <interleave>
          <optional>
            <ref name="common.attrs.rdfa.resource"/>
          </optional>
          <ref name="link.attrs.href"/>
        </interleave>
      </choice>
      <optional>
        <ref name="common.attrs.rdfa.rev"/>
      </optional>
      <optional>
        <ref name="common.attrs.rdfa.inlist"/>
      </optional>
      <optional>
        <ref name="shared-hyperlink.attrs.hreflang"/>
      </optional>
      <optional>
        <ref name="shared-hyperlink.attrs.media"/>
      </optional>
      <optional>
        <ref name="shared-hyperlink.attrs.type"/>
      </optional>
      <optional>
        <ref name="link.attrs.sizes"/>
      </optional>
      <optional>
        <ref name="link.attrs.as"/>
      </optional>
      <optional>
        <!-- 	link.attrs.title included in common.attrs -->
        <ref name="embedded.content.attrs.crossorigin"/>
      </optional>
      <optional>
        <choice>
          <ref name="common.attrs.aria.role.link"/>
          <ref name="common.attrs.aria.role.presentation"/>
          <ref name="common.attrs.aria.role.menuitem"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="link.rdfa.attrs.phrasing">
    <interleave>
      <ref name="common.attrs.basic"/>
      <ref name="common.attrs.i18n"/>
      <ref name="common.attrs.present"/>
      <ref name="common.attrs.other"/>
      <ref name="common.attrs.rdfa.property"/>
      <optional>
        <ref name="link.attrs.rel"/>
      </optional>
      <choice>
        <interleave>
          <ref name="common.attrs.rdfa.resource"/>
          <optional>
            <ref name="link.attrs.href"/>
          </optional>
        </interleave>
        <interleave>
          <optional>
            <ref name="common.attrs.rdfa.resource"/>
          </optional>
          <ref name="link.attrs.href"/>
        </interleave>
      </choice>
      <optional>
        <ref name="common.attrs.rdfa.about"/>
      </optional>
      <optional>
        <ref name="common.attrs.rdfa.prefix"/>
      </optional>
      <optional>
        <ref name="common.attrs.rdfa.typeof"/>
      </optional>
      <optional>
        <ref name="common.attrs.rdfa.vocab"/>
      </optional>
      <optional>
        <ref name="common.attrs.rdfa.content"/>
      </optional>
      <optional>
        <ref name="common.attrs.rdfa.datatype"/>
      </optional>
      <optional>
        <ref name="common.attrs.rdfa.rev"/>
      </optional>
      <optional>
        <ref name="common.attrs.rdfa.inlist"/>
      </optional>
      <optional>
        <ref name="shared-hyperlink.attrs.hreflang"/>
      </optional>
      <optional>
        <ref name="shared-hyperlink.attrs.media"/>
      </optional>
      <optional>
        <ref name="shared-hyperlink.attrs.type"/>
      </optional>
      <optional>
        <ref name="link.attrs.sizes"/>
      </optional>
      <optional>
        <!-- 	link.attrs.title included in common.attrs -->
        <ref name="embedded.content.attrs.crossorigin"/>
      </optional>
      <optional>
        <choice>
          <ref name="common.attrs.aria.role.link"/>
          <ref name="common.attrs.aria.role.presentation"/>
          <ref name="common.attrs.aria.role.menuitem"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="common.elem.metadata" combine="choice">
    <ref name="link.rdfa.elem.metadata"/>
  </define>
  <define name="common.elem.phrasing" combine="choice">
    <ref name="link.rdfa.elem.phrasing"/>
  </define>
  <define name="meta.property.elem">
    <a:documentation>&lt;meta property=foo content=bar&gt; in head ("name" attribute optional)</a:documentation>
    <element name="meta">
      <interleave>
        <ref name="meta.inner"/>
        <ref name="meta.property.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="meta.property.attrs">
    <interleave>
      <ref name="common.attrs.basic"/>
      <ref name="common.attrs.i18n"/>
      <ref name="common.attrs.present"/>
      <ref name="common.attrs.other"/>
      <optional>
        <ref name="meta.name.attrs.name"/>
      </optional>
      <ref name="common.attrs.rdfa.property"/>
      <ref name="meta.name.attrs.content"/>
    </interleave>
  </define>
  <define name="common.elem.metadata" combine="choice">
    <ref name="meta.property.elem"/>
  </define>
  <define name="meta.property-no-name.elem">
    <a:documentation>&lt;meta property=foo content=bar&gt; in body ("name" attribute disallowed)</a:documentation>
    <element name="meta">
      <interleave>
        <ref name="meta.inner"/>
        <ref name="meta.property-no-name.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="meta.property-no-name.attrs">
    <interleave>
      <ref name="common.attrs.basic"/>
      <ref name="common.attrs.i18n"/>
      <ref name="common.attrs.present"/>
      <ref name="common.attrs.other"/>
      <ref name="common.attrs.rdfa.property"/>
      <ref name="meta.name.attrs.content"/>
      <optional>
        <choice>
          <ref name="common.attrs.aria.role.presentation"/>
          <ref name="common.attrs.aria.role.menuitem"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="common.elem.phrasing" combine="choice">
    <ref name="meta.property-no-name.elem"/>
  </define>
  <define name="meta.property.attrs" combine="interleave">
    <ref name="common.attrs.rdfa.no-content-noproperty"/>
  </define>
  <define name="meta.property-no-name.attrs" combine="interleave">
    <ref name="common.attrs.rdfa.no-content-noproperty"/>
  </define>
  <define name="meta.name.attrs" combine="interleave">
    <ref name="common.attrs.rdfa.no-content-noproperty"/>
  </define>
  <!-- More tweaks for W3C-allowed features -->
  <define name="table.attrs" combine="interleave">
    <optional>
      <attribute name="border">
        <choice>
          <value/>
          <value>1</value>
        </choice>
      </attribute>
    </optional>
  </define>

    <a:documentation> RELAX NG Schema for EPUB: EPUB XHTML (+ SVG, + MathML)            #</a:documentation>
  
  <!-- Inlined from epub-svg-forgiving-inc.rng -->
<!-- ##################################################################### -->
  <define name="svg">
    <a:documentation> RELAX NG Schema for EPUB: EPUB SVG forgiving grammar check        #</a:documentation>
    <!-- ##################################################################### -->
    <!--
      The schema:
      - checks the \`id\` attribute datatype
      - restricts the content model of the \`title\` and \`foreignObject\`,
        following the EPUB SVG restrictions
      - checks that \`epub:type\` is only used on allowed elements
        (i.e. structural, shape, and text elements)
      Ohterwise, it does not report SVG validation errors.
    -->
    <a:documentation>Root Element: &lt;svg&gt;</a:documentation>
    <element name="svg">
      <interleave>
        <ref name="svg.inner"/>
        <ref name="svg.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="svg.attrs">
    <ref name="svg.epubtype.allowed.attrs"/>
  </define>
  <define name="svg.inner">
    <ref name="svg.any.inner"/>
  </define>
  <!-- ID attribute is defined specifically, for type checking -->
  <define name="svg.attr.id">
    <a:documentation>Attributes</a:documentation>
    <attribute name="id">
      <ref name="datatype.html5.token"/>
    </attribute>
  </define>
  <!-- Any other attribute -->
  <define name="svg.generic.attr">
    <attribute>
      <anyName>
        <except>
          <name ns="">id</name>
          <nsName ns="http://www.idpf.org/2007/ops"/>
        </except>
      </anyName>
    </attribute>
  </define>
  <!-- Attribute list of elements where \`epub:type\` is allowed -->
  <define name="svg.epubtype.allowed.attrs">
    <interleave>
      <optional>
        <ref name="epub.type.attr"/>
      </optional>
      <optional>
        <ref name="svg.attr.id"/>
      </optional>
      <zeroOrMore>
        <ref name="svg.generic.attr"/>
      </zeroOrMore>
    </interleave>
  </define>
  <!-- Attribute list of elements where \`epub:type\` is forbidden -->
  <define name="svg.epubtype.forbidden.attrs">
    <interleave>
      <optional>
        <ref name="svg.attr.id"/>
      </optional>
      <zeroOrMore>
        <ref name="svg.generic.attr"/>
      </zeroOrMore>
    </interleave>
  </define>
  <define name="svg.restricted.elem">
    <a:documentation>Restricted Elements</a:documentation>
    <choice>
      <ref name="svg.foreignObject.elem"/>
      <ref name="svg.title.elem"/>
    </choice>
  </define>
  <define name="svg.foreignObject.elem">
    <a:documentation>Restricted Element: \`foreignObject\`</a:documentation>
    <element name="foreignObject">
      <interleave>
        <ref name="svg.foreignObject.inner"/>
        <ref name="svg.foreignObject.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="svg.foreignObject.attrs">
    <ref name="svg.epubtype.forbidden.attrs"/>
  </define>
  <define name="svg.foreignObject.inner">
    <ref name="common.inner.flow"/>
  </define>
  <define name="svg.title.elem">
    <a:documentation>Restricted Element: \`title\`</a:documentation>
    <element name="title">
      <interleave>
        <ref name="svg.title.inner"/>
        <ref name="svg.title.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="svg.title.attrs">
    <ref name="svg.epubtype.forbidden.attrs"/>
  </define>
  <define name="svg.title.inner">
    <ref name="common.inner.anyhtml"/>
  </define>
  <!--
    the elements where \`epub:type\` is allowed and that have no
    specific content model defined anove.
    
    Note: an element in this list also needs to be added to the
    exception clause in the \`svg.anyother.elem\` class
  -->
  <define name="svg.renderable.elem">
    <a:documentation>Other elements where \`epub:type\` is allowed</a:documentation>
    <choice>
      <element name="a">
        <interleave>
          <ref name="svg.any.inner"/>
          <ref name="svg.epubtype.allowed.attrs"/>
        </interleave>
      </element>
      <element name="audio">
        <interleave>
          <ref name="svg.any.inner"/>
          <ref name="svg.epubtype.allowed.attrs"/>
        </interleave>
      </element>
      <element name="canvas">
        <interleave>
          <ref name="svg.any.inner"/>
          <ref name="svg.epubtype.allowed.attrs"/>
        </interleave>
      </element>
      <element name="circle">
        <interleave>
          <ref name="svg.any.inner"/>
          <ref name="svg.epubtype.allowed.attrs"/>
        </interleave>
      </element>
      <element name="ellipse">
        <interleave>
          <ref name="svg.any.inner"/>
          <ref name="svg.epubtype.allowed.attrs"/>
        </interleave>
      </element>
      <element name="g">
        <interleave>
          <ref name="svg.any.inner"/>
          <ref name="svg.epubtype.allowed.attrs"/>
        </interleave>
      </element>
      <element name="iframe">
        <interleave>
          <ref name="svg.any.inner"/>
          <ref name="svg.epubtype.allowed.attrs"/>
        </interleave>
      </element>
      <element name="image">
        <interleave>
          <ref name="svg.any.inner"/>
          <ref name="svg.epubtype.allowed.attrs"/>
        </interleave>
      </element>
      <element name="line">
        <interleave>
          <ref name="svg.any.inner"/>
          <ref name="svg.epubtype.allowed.attrs"/>
        </interleave>
      </element>
      <element name="path">
        <interleave>
          <ref name="svg.any.inner"/>
          <ref name="svg.epubtype.allowed.attrs"/>
        </interleave>
      </element>
      <element name="polygon">
        <interleave>
          <ref name="svg.any.inner"/>
          <ref name="svg.epubtype.allowed.attrs"/>
        </interleave>
      </element>
      <element name="polyline">
        <interleave>
          <ref name="svg.any.inner"/>
          <ref name="svg.epubtype.allowed.attrs"/>
        </interleave>
      </element>
      <element name="rect">
        <interleave>
          <ref name="svg.any.inner"/>
          <ref name="svg.epubtype.allowed.attrs"/>
        </interleave>
      </element>
      <element name="svg">
        <interleave>
          <ref name="svg.any.inner"/>
          <ref name="svg.epubtype.allowed.attrs"/>
        </interleave>
      </element>
      <element name="switch">
        <interleave>
          <ref name="svg.any.inner"/>
          <ref name="svg.epubtype.allowed.attrs"/>
        </interleave>
      </element>
      <element name="symbol">
        <interleave>
          <ref name="svg.any.inner"/>
          <ref name="svg.epubtype.allowed.attrs"/>
        </interleave>
      </element>
      <element name="text">
        <interleave>
          <ref name="svg.any.inner"/>
          <ref name="svg.epubtype.allowed.attrs"/>
        </interleave>
      </element>
      <element name="textPath">
        <interleave>
          <ref name="svg.any.inner"/>
          <ref name="svg.epubtype.allowed.attrs"/>
        </interleave>
      </element>
      <element name="tspan">
        <interleave>
          <ref name="svg.any.inner"/>
          <ref name="svg.epubtype.allowed.attrs"/>
        </interleave>
      </element>
      <element name="unknown">
        <interleave>
          <ref name="svg.any.inner"/>
          <ref name="svg.epubtype.allowed.attrs"/>
        </interleave>
      </element>
      <element name="use">
        <interleave>
          <ref name="svg.any.inner"/>
          <ref name="svg.epubtype.allowed.attrs"/>
        </interleave>
      </element>
      <element name="video">
        <interleave>
          <ref name="svg.any.inner"/>
          <ref name="svg.epubtype.allowed.attrs"/>
        </interleave>
      </element>
    </choice>
  </define>
  <define name="svg.epubtype.allowed.elem">
    <ref name="svg.renderable.elem"/>
  </define>
  <!--
    any element except:
    - the elements with a restricted content model
    - the elements allowing \`epub:type\`
  -->
  <define name="svg.anyother.elem">
    <a:documentation>Any other elements</a:documentation>
    <element>
      <anyName>
        <except>
          <name>foreignObject</name>
          <name>title</name>
          <name>a</name>
          <name>audio</name>
          <name>canvas</name>
          <name>circle</name>
          <name>ellipse</name>
          <name>g</name>
          <name>iframe</name>
          <name>image</name>
          <name>line</name>
          <name>path</name>
          <name>polygon</name>
          <name>polyline</name>
          <name>rect</name>
          <name>svg</name>
          <name>switch</name>
          <name>symbol</name>
          <name>text</name>
          <name>textPath</name>
          <name>tspan</name>
          <name>unknown</name>
          <name>use</name>
          <name>video</name>
        </except>
      </anyName>
      <interleave>
        <ref name="svg.any.inner"/>
        <ref name="svg.epubtype.forbidden.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="svg.any.elem">
    <a:documentation>Anything</a:documentation>
    <choice>
      <ref name="svg.epubtype.allowed.elem"/>
      <ref name="svg.restricted.elem"/>
      <ref name="svg.anyother.elem"/>
    </choice>
  </define>
  <define name="svg.any.inner">
    <interleave>
      <text/>
      <zeroOrMore>
        <ref name="svg.any.elem"/>
      </zeroOrMore>
    </interleave>
  </define>
  <!-- Inlined from epub-mathml3-inc.rng -->
<!--
    #####################################################################
    
     MathML validation based on the schemas from the Nu Html Checker,
     with the following changes:
       - Content MathML is only allowed in annotation-xml
       - annotation-xml follows the restrictions defined in
         EPUB Content Documents
       - EPUB SSML attributes are allowed
    
    #####################################################################
  -->
  <!-- Inlined from mathml3-inc.rng with overrides -->
<!-- Inlined from mathml3-content.rng with overrides -->
<!--
        This is the Mathematical Markup Language (MathML) 3.0, an XML
        application for describing mathematical notation and capturing
        both its structure and content.
    
        With additional changes for integration into the validator.nu
        service.
    
        Copyright 1998-2010 W3C (MIT, ERCIM, Keio)
        Copyright 2012 Mozilla Foundation
        Copyright 2014-2019 W3C (MIT, ERCIM, Keio, Beihang)
    
        Use and distribution of this code are permitted under the terms
        W3C Software Notice and License
        http://www.w3.org/Consortium/Legal/2002/copyright-software-20021231
  -->
  <!-- Inlined from mathml3-strict-content.rng with overrides -->
<define name="ContExp">
    <choice>
      <ref name="semantics-contexp"/>
      <ref name="cn"/>
      <ref name="ci"/>
      <ref name="csymbol"/>
      <ref name="apply"/>
      <ref name="bind"/>
      <ref name="share"/>
      <ref name="cerror"/>
      <ref name="cbytes"/>
      <ref name="cs"/>
    </choice>
  </define>
  <define name="cn">
    <element name="cn">
      <ref name="cn.attributes"/>
      <ref name="cn.content"/>
    </element>
  </define>
  <define name="cn.content">
    <text/>
  </define>
  <define name="cn.attributes">
    <ref name="CommonAtt"/>
    <attribute name="type">
      <choice>
        <value>integer</value>
        <value>real</value>
        <value>double</value>
        <value>hexdouble</value>
      </choice>
    </attribute>
  </define>
  <define name="semantics-ci">
    <element name="semantics">
      <ref name="semantics.attributes"/>
      <choice>
        <ref name="ci"/>
        <ref name="semantics-ci"/>
      </choice>
      <zeroOrMore>
        <choice>
          <ref name="annotation"/>
          <ref name="annotation-xml"/>
        </choice>
      </zeroOrMore>
    </element>
  </define>
  <define name="semantics-contexp">
    <element name="semantics">
      <ref name="semantics.attributes"/>
      <ref name="ContExp"/>
      <zeroOrMore>
        <choice>
          <ref name="annotation"/>
          <ref name="annotation-xml"/>
        </choice>
      </zeroOrMore>
    </element>
  </define>
  <define name="ci">
    <element name="ci">
      <ref name="ci.attributes"/>
      <ref name="ci.content"/>
    </element>
  </define>
  <define name="ci.attributes">
    <ref name="CommonAtt"/>
    <optional>
      <ref name="ci.type"/>
    </optional>
  </define>
  <define name="ci.type">
    <attribute name="type">
      <choice>
        <value>integer</value>
        <value>rational</value>
        <value>real</value>
        <value>complex</value>
        <value>complex-polar</value>
        <value>complex-cartesian</value>
        <value>constant</value>
        <value>function</value>
        <value>vector</value>
        <value>list</value>
        <value>set</value>
        <value>matrix</value>
      </choice>
    </attribute>
  </define>
  <define name="ci.content">
    <text/>
  </define>
  <define name="csymbol">
    <element name="csymbol">
      <ref name="csymbol.attributes"/>
      <ref name="csymbol.content"/>
    </element>
  </define>
  <define name="SymbolName">
    <data type="NCName"/>
  </define>
  <define name="csymbol.attributes">
    <ref name="CommonAtt"/>
    <ref name="cd"/>
  </define>
  <define name="csymbol.content">
    <ref name="SymbolName"/>
  </define>
  <define name="BvarQ">
    <zeroOrMore>
      <ref name="bvar"/>
    </zeroOrMore>
  </define>
  <define name="bvar">
    <element name="bvar">
      <ref name="CommonAtt"/>
      <choice>
        <ref name="ci"/>
        <ref name="semantics-ci"/>
      </choice>
    </element>
  </define>
  <define name="apply">
    <element name="apply">
      <ref name="CommonAtt"/>
      <ref name="apply.content"/>
    </element>
  </define>
  <define name="apply.content">
    <oneOrMore>
      <ref name="ContExp"/>
    </oneOrMore>
  </define>
  <define name="bind">
    <element name="bind">
      <ref name="CommonAtt"/>
      <ref name="bind.content"/>
    </element>
  </define>
  <define name="bind.content">
    <ref name="ContExp"/>
    <zeroOrMore>
      <ref name="bvar"/>
    </zeroOrMore>
    <ref name="ContExp"/>
  </define>
  <define name="share">
    <element name="share">
      <ref name="CommonAtt"/>
      <ref name="src"/>
      <empty/>
    </element>
  </define>
  <define name="cerror">
    <element name="cerror">
      <ref name="cerror.attributes"/>
      <ref name="csymbol"/>
      <zeroOrMore>
        <ref name="ContExp"/>
      </zeroOrMore>
    </element>
  </define>
  <define name="cerror.attributes">
    <ref name="CommonAtt"/>
  </define>
  <define name="cbytes">
    <element name="cbytes">
      <ref name="cbytes.attributes"/>
      <ref name="base64"/>
    </element>
  </define>
  <define name="cbytes.attributes">
    <ref name="CommonAtt"/>
  </define>
  <define name="base64">
    <data type="base64Binary"/>
  </define>
  <define name="cs">
    <element name="cs">
      <ref name="cs.attributes"/>
      <text/>
    </element>
  </define>
  <define name="cs.attributes">
    <ref name="CommonAtt"/>
  </define>
  <define name="MathExpression" combine="choice">
    <ref name="ContExp"/>
  </define>

    <define name="cn.content">
      <zeroOrMore>
        <choice>
          <text/>
          <ref name="mglyph"/>
          <ref name="sep"/>
          <ref name="PresentationExpression"/>
        </choice>
      </zeroOrMore>
    </define>
    <define name="cn.attributes">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <optional>
        <attribute name="type"/>
      </optional>
      <optional>
        <ref name="math-base"/>
      </optional>
    </define>
    <define name="ci.attributes">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <optional>
        <ref name="ci.type"/>
      </optional>
    </define>
    <define name="ci.type">
      <attribute name="type"/>
    </define>
    <define name="ci.content">
      <zeroOrMore>
        <choice>
          <text/>
          <ref name="mglyph"/>
          <ref name="PresentationExpression"/>
        </choice>
      </zeroOrMore>
    </define>
    <define name="csymbol.attributes">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <optional>
        <attribute name="type"/>
      </optional>
      <optional>
        <ref name="cd"/>
      </optional>
    </define>
    <define name="csymbol.content">
      <zeroOrMore>
        <choice>
          <text/>
          <ref name="mglyph"/>
          <ref name="PresentationExpression"/>
        </choice>
      </zeroOrMore>
    </define>
    <define name="bvar">
      <element name="bvar">
        <ref name="CommonAtt"/>
        <interleave>
          <choice>
            <ref name="ci"/>
            <ref name="semantics-ci"/>
          </choice>
          <optional>
            <ref name="degree"/>
          </optional>
        </interleave>
      </element>
    </define>
    <define name="cbytes.attributes">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
    </define>
    <define name="cs.attributes">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
    </define>
    <define name="apply.content">
      <choice>
        <oneOrMore>
          <ref name="ContExp"/>
        </oneOrMore>
        <group>
          <ref name="ContExp"/>
          <ref name="BvarQ"/>
          <zeroOrMore>
            <ref name="Qualifier"/>
          </zeroOrMore>
          <zeroOrMore>
            <ref name="ContExp"/>
          </zeroOrMore>
        </group>
      </choice>
    </define>
    <define name="bind.content">
      <ref name="apply.content"/>
    </define>
  
  <!-- changed pattern name to math-base to avoid name conflict - mike -->
  <define name="math-base">
    <attribute name="base"/>
  </define>
  <define name="sep">
    <element name="sep">
      <empty/>
    </element>
  </define>
  <define name="PresentationExpression" combine="choice">
    <notAllowed/>
  </define>
  <define name="DomainQ">
    <zeroOrMore>
      <choice>
        <ref name="domainofapplication"/>
        <ref name="condition"/>
        <ref name="interval"/>
        <group>
          <ref name="lowlimit"/>
          <optional>
            <ref name="uplimit"/>
          </optional>
        </group>
      </choice>
    </zeroOrMore>
  </define>
  <define name="domainofapplication">
    <element name="domainofapplication">
      <ref name="ContExp"/>
    </element>
  </define>
  <define name="condition">
    <element name="condition">
      <ref name="ContExp"/>
    </element>
  </define>
  <define name="uplimit">
    <element name="uplimit">
      <ref name="ContExp"/>
    </element>
  </define>
  <define name="lowlimit">
    <element name="lowlimit">
      <ref name="ContExp"/>
    </element>
  </define>
  <define name="Qualifier">
    <choice>
      <ref name="DomainQ"/>
      <ref name="degree"/>
      <ref name="momentabout"/>
      <ref name="logbase"/>
    </choice>
  </define>
  <define name="degree">
    <element name="degree">
      <ref name="ContExp"/>
    </element>
  </define>
  <define name="momentabout">
    <element name="momentabout">
      <ref name="ContExp"/>
    </element>
  </define>
  <define name="logbase">
    <element name="logbase">
      <ref name="ContExp"/>
    </element>
  </define>
  <define name="type">
    <attribute name="type"/>
  </define>
  <define name="order">
    <attribute name="order">
      <choice>
        <value>numeric</value>
        <value>lexicographic</value>
      </choice>
    </attribute>
  </define>
  <define name="closure">
    <attribute name="closure"/>
  </define>
  <define name="ContExp" combine="choice">
    <ref name="piecewise"/>
  </define>
  <define name="piecewise">
    <element name="piecewise">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <interleave>
        <zeroOrMore>
          <ref name="piece"/>
        </zeroOrMore>
        <optional>
          <ref name="otherwise"/>
        </optional>
      </interleave>
    </element>
  </define>
  <define name="piece">
    <element name="piece">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <ref name="ContExp"/>
      <ref name="ContExp"/>
    </element>
  </define>
  <define name="otherwise">
    <element name="otherwise">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <ref name="ContExp"/>
    </element>
  </define>
  <define name="DeprecatedContExp">
    <choice>
      <ref name="reln"/>
      <ref name="fn"/>
      <ref name="declare"/>
    </choice>
  </define>
  <define name="ContExp" combine="choice">
    <ref name="DeprecatedContExp"/>
  </define>
  <define name="reln">
    <element name="reln">
      <zeroOrMore>
        <ref name="ContExp"/>
      </zeroOrMore>
    </element>
  </define>
  <define name="fn">
    <element name="fn">
      <ref name="ContExp"/>
    </element>
  </define>
  <define name="declare">
    <element name="declare">
      <optional>
        <attribute name="type">
          <data type="string"/>
        </attribute>
      </optional>
      <optional>
        <attribute name="scope">
          <data type="string"/>
        </attribute>
      </optional>
      <optional>
        <attribute name="nargs">
          <data type="nonNegativeInteger"/>
        </attribute>
      </optional>
      <optional>
        <attribute name="occurrence">
          <choice>
            <value>prefix</value>
            <value>infix</value>
            <value>function-model</value>
          </choice>
        </attribute>
      </optional>
      <ref name="DefEncAtt"/>
      <oneOrMore>
        <ref name="ContExp"/>
      </oneOrMore>
    </element>
  </define>
  <define name="interval.class">
    <ref name="interval"/>
  </define>
  <define name="ContExp" combine="choice">
    <ref name="interval.class"/>
  </define>
  <define name="interval">
    <element name="interval">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <optional>
        <ref name="closure"/>
      </optional>
      <ref name="ContExp"/>
      <ref name="ContExp"/>
    </element>
  </define>
  <define name="unary-functional.class">
    <choice>
      <ref name="inverse"/>
      <ref name="ident"/>
      <ref name="domain"/>
      <ref name="codomain"/>
      <ref name="math-image"/>
      <ref name="ln"/>
      <ref name="log"/>
      <ref name="moment"/>
    </choice>
  </define>
  <define name="ContExp" combine="choice">
    <ref name="unary-functional.class"/>
  </define>
  <define name="inverse">
    <element name="inverse">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="ident">
    <element name="ident">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="domain">
    <element name="domain">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="codomain">
    <element name="codomain">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <!-- changed pattern name to math-image to avoid name conflict - mike -->
  <define name="math-image">
    <element name="image">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="ln">
    <element name="ln">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="log">
    <element name="log">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="moment">
    <element name="moment">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="lambda.class">
    <ref name="lambda"/>
  </define>
  <define name="ContExp" combine="choice">
    <ref name="lambda.class"/>
  </define>
  <define name="lambda">
    <element name="lambda">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <ref name="BvarQ"/>
      <ref name="DomainQ"/>
      <ref name="ContExp"/>
    </element>
  </define>
  <define name="nary-functional.class">
    <ref name="compose"/>
  </define>
  <define name="ContExp" combine="choice">
    <ref name="nary-functional.class"/>
  </define>
  <define name="compose">
    <element name="compose">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="binary-arith.class">
    <choice>
      <ref name="quotient"/>
      <ref name="divide"/>
      <ref name="minus"/>
      <ref name="power"/>
      <ref name="rem"/>
      <ref name="root"/>
    </choice>
  </define>
  <define name="ContExp" combine="choice">
    <ref name="binary-arith.class"/>
  </define>
  <define name="quotient">
    <element name="quotient">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="divide">
    <element name="divide">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="minus">
    <element name="minus">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="power">
    <element name="power">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="rem">
    <element name="rem">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="root">
    <element name="root">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="unary-arith.class">
    <choice>
      <ref name="factorial"/>
      <ref name="minus"/>
      <ref name="root"/>
      <ref name="abs"/>
      <ref name="conjugate"/>
      <ref name="arg"/>
      <ref name="real"/>
      <ref name="imaginary"/>
      <ref name="floor"/>
      <ref name="ceiling"/>
      <ref name="exp"/>
    </choice>
  </define>
  <define name="ContExp" combine="choice">
    <ref name="unary-arith.class"/>
  </define>
  <define name="factorial">
    <element name="factorial">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="abs">
    <element name="abs">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="conjugate">
    <element name="conjugate">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="arg">
    <element name="arg">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="real">
    <element name="real">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="imaginary">
    <element name="imaginary">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="floor">
    <element name="floor">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="ceiling">
    <element name="ceiling">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="exp">
    <element name="exp">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="nary-minmax.class">
    <choice>
      <ref name="max"/>
      <ref name="min"/>
    </choice>
  </define>
  <define name="ContExp" combine="choice">
    <ref name="nary-minmax.class"/>
  </define>
  <define name="max">
    <element name="max">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="min">
    <element name="min">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="nary-arith.class">
    <choice>
      <ref name="plus"/>
      <ref name="times"/>
      <ref name="gcd"/>
      <ref name="lcm"/>
    </choice>
  </define>
  <define name="ContExp" combine="choice">
    <ref name="nary-arith.class"/>
  </define>
  <define name="plus">
    <element name="plus">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="times">
    <element name="times">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="gcd">
    <element name="gcd">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="lcm">
    <element name="lcm">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="nary-logical.class">
    <choice>
      <ref name="and"/>
      <ref name="or"/>
      <ref name="xor"/>
    </choice>
  </define>
  <define name="ContExp" combine="choice">
    <ref name="nary-logical.class"/>
  </define>
  <define name="and">
    <element name="and">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="or">
    <element name="or">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="xor">
    <element name="xor">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="unary-logical.class">
    <ref name="not"/>
  </define>
  <define name="ContExp" combine="choice">
    <ref name="unary-logical.class"/>
  </define>
  <define name="not">
    <element name="not">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="binary-logical.class">
    <choice>
      <ref name="implies"/>
      <ref name="equivalent"/>
    </choice>
  </define>
  <define name="ContExp" combine="choice">
    <ref name="binary-logical.class"/>
  </define>
  <define name="implies">
    <element name="implies">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="equivalent">
    <element name="equivalent">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="quantifier.class">
    <choice>
      <ref name="forall"/>
      <ref name="exists"/>
    </choice>
  </define>
  <define name="ContExp" combine="choice">
    <ref name="quantifier.class"/>
  </define>
  <define name="forall">
    <element name="forall">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="exists">
    <element name="exists">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="nary-reln.class">
    <choice>
      <ref name="eq"/>
      <ref name="gt"/>
      <ref name="lt"/>
      <ref name="geq"/>
      <ref name="leq"/>
    </choice>
  </define>
  <define name="ContExp" combine="choice">
    <ref name="nary-reln.class"/>
  </define>
  <define name="eq">
    <element name="eq">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="gt">
    <element name="gt">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="lt">
    <element name="lt">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="geq">
    <element name="geq">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="leq">
    <element name="leq">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="binary-reln.class">
    <choice>
      <ref name="neq"/>
      <ref name="approx"/>
      <ref name="factorof"/>
      <ref name="tendsto"/>
    </choice>
  </define>
  <define name="ContExp" combine="choice">
    <ref name="binary-reln.class"/>
  </define>
  <define name="neq">
    <element name="neq">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="approx">
    <element name="approx">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="factorof">
    <element name="factorof">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="tendsto">
    <element name="tendsto">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <optional>
        <ref name="type"/>
      </optional>
      <empty/>
    </element>
  </define>
  <define name="int.class">
    <ref name="int"/>
  </define>
  <define name="ContExp" combine="choice">
    <ref name="int.class"/>
  </define>
  <define name="int">
    <element name="int">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="Differential-Operator.class">
    <ref name="diff"/>
  </define>
  <define name="ContExp" combine="choice">
    <ref name="Differential-Operator.class"/>
  </define>
  <define name="diff">
    <element name="diff">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="partialdiff.class">
    <ref name="partialdiff"/>
  </define>
  <define name="ContExp" combine="choice">
    <ref name="partialdiff.class"/>
  </define>
  <define name="partialdiff">
    <element name="partialdiff">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="unary-veccalc.class">
    <choice>
      <ref name="divergence"/>
      <ref name="grad"/>
      <ref name="curl"/>
      <ref name="laplacian"/>
    </choice>
  </define>
  <define name="ContExp" combine="choice">
    <ref name="unary-veccalc.class"/>
  </define>
  <define name="divergence">
    <element name="divergence">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="grad">
    <element name="grad">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="curl">
    <element name="curl">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="laplacian">
    <element name="laplacian">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="nary-setlist-constructor.class">
    <choice>
      <ref name="math-set"/>
      <ref name="list"/>
    </choice>
  </define>
  <define name="ContExp" combine="choice">
    <ref name="nary-setlist-constructor.class"/>
  </define>
  <!-- changed pattern name to math-set to avoid name conflict - mike -->
  <define name="math-set">
    <element name="set">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <optional>
        <ref name="type"/>
      </optional>
      <zeroOrMore>
        <ref name="BvarQ"/>
      </zeroOrMore>
      <zeroOrMore>
        <ref name="DomainQ"/>
      </zeroOrMore>
      <zeroOrMore>
        <ref name="ContExp"/>
      </zeroOrMore>
    </element>
  </define>
  <define name="list">
    <element name="list">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <optional>
        <ref name="order"/>
      </optional>
      <zeroOrMore>
        <ref name="BvarQ"/>
      </zeroOrMore>
      <zeroOrMore>
        <ref name="DomainQ"/>
      </zeroOrMore>
      <zeroOrMore>
        <ref name="ContExp"/>
      </zeroOrMore>
    </element>
  </define>
  <define name="nary-set.class">
    <choice>
      <ref name="union"/>
      <ref name="intersect"/>
      <ref name="cartesianproduct"/>
    </choice>
  </define>
  <define name="ContExp" combine="choice">
    <ref name="nary-set.class"/>
  </define>
  <define name="union">
    <element name="union">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="intersect">
    <element name="intersect">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="cartesianproduct">
    <element name="cartesianproduct">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="binary-set.class">
    <choice>
      <ref name="in"/>
      <ref name="notin"/>
      <ref name="notsubset"/>
      <ref name="notprsubset"/>
      <ref name="setdiff"/>
    </choice>
  </define>
  <define name="ContExp" combine="choice">
    <ref name="binary-set.class"/>
  </define>
  <define name="in">
    <element name="in">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="notin">
    <element name="notin">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="notsubset">
    <element name="notsubset">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="notprsubset">
    <element name="notprsubset">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="setdiff">
    <element name="setdiff">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="nary-set-reln.class">
    <choice>
      <ref name="subset"/>
      <ref name="prsubset"/>
    </choice>
  </define>
  <define name="ContExp" combine="choice">
    <ref name="nary-set-reln.class"/>
  </define>
  <define name="subset">
    <element name="subset">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="prsubset">
    <element name="prsubset">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="unary-set.class">
    <ref name="card"/>
  </define>
  <define name="ContExp" combine="choice">
    <ref name="unary-set.class"/>
  </define>
  <define name="card">
    <element name="card">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="sum.class">
    <ref name="sum"/>
  </define>
  <define name="ContExp" combine="choice">
    <ref name="sum.class"/>
  </define>
  <define name="sum">
    <element name="sum">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="product.class">
    <ref name="product"/>
  </define>
  <define name="ContExp" combine="choice">
    <ref name="product.class"/>
  </define>
  <define name="product">
    <element name="product">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="limit.class">
    <ref name="limit"/>
  </define>
  <define name="ContExp" combine="choice">
    <ref name="limit.class"/>
  </define>
  <define name="limit">
    <element name="limit">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="unary-elementary.class">
    <choice>
      <ref name="sin"/>
      <ref name="cos"/>
      <ref name="tan"/>
      <ref name="sec"/>
      <ref name="csc"/>
      <ref name="cot"/>
      <ref name="sinh"/>
      <ref name="cosh"/>
      <ref name="tanh"/>
      <ref name="sech"/>
      <ref name="csch"/>
      <ref name="coth"/>
      <ref name="arcsin"/>
      <ref name="arccos"/>
      <ref name="arctan"/>
      <ref name="arccosh"/>
      <ref name="arccot"/>
      <ref name="arccoth"/>
      <ref name="arccsc"/>
      <ref name="arccsch"/>
      <ref name="arcsec"/>
      <ref name="arcsech"/>
      <ref name="arcsinh"/>
      <ref name="arctanh"/>
    </choice>
  </define>
  <define name="ContExp" combine="choice">
    <ref name="unary-elementary.class"/>
  </define>
  <define name="sin">
    <element name="sin">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="cos">
    <element name="cos">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="tan">
    <element name="tan">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="sec">
    <element name="sec">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="csc">
    <element name="csc">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="cot">
    <element name="cot">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="sinh">
    <element name="sinh">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="cosh">
    <element name="cosh">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="tanh">
    <element name="tanh">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="sech">
    <element name="sech">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="csch">
    <element name="csch">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="coth">
    <element name="coth">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="arcsin">
    <element name="arcsin">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="arccos">
    <element name="arccos">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="arctan">
    <element name="arctan">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="arccosh">
    <element name="arccosh">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="arccot">
    <element name="arccot">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="arccoth">
    <element name="arccoth">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="arccsc">
    <element name="arccsc">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="arccsch">
    <element name="arccsch">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="arcsec">
    <element name="arcsec">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="arcsech">
    <element name="arcsech">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="arcsinh">
    <element name="arcsinh">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="arctanh">
    <element name="arctanh">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="nary-stats.class">
    <choice>
      <ref name="mean"/>
      <ref name="sdev"/>
      <ref name="variance"/>
      <ref name="median"/>
      <ref name="mode"/>
    </choice>
  </define>
  <define name="ContExp" combine="choice">
    <ref name="nary-stats.class"/>
  </define>
  <define name="mean">
    <element name="mean">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="sdev">
    <element name="sdev">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="variance">
    <element name="variance">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="median">
    <element name="median">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="mode">
    <element name="mode">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="nary-constructor.class">
    <choice>
      <ref name="vector"/>
      <ref name="matrix"/>
      <ref name="matrixrow"/>
    </choice>
  </define>
  <define name="ContExp" combine="choice">
    <ref name="nary-constructor.class"/>
  </define>
  <define name="vector">
    <element name="vector">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <ref name="BvarQ"/>
      <ref name="DomainQ"/>
      <zeroOrMore>
        <ref name="ContExp"/>
      </zeroOrMore>
    </element>
  </define>
  <define name="matrix">
    <element name="matrix">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <ref name="BvarQ"/>
      <ref name="DomainQ"/>
      <zeroOrMore>
        <ref name="ContExp"/>
      </zeroOrMore>
    </element>
  </define>
  <define name="matrixrow">
    <element name="matrixrow">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <ref name="BvarQ"/>
      <ref name="DomainQ"/>
      <zeroOrMore>
        <ref name="ContExp"/>
      </zeroOrMore>
    </element>
  </define>
  <define name="unary-linalg.class">
    <choice>
      <ref name="determinant"/>
      <ref name="transpose"/>
    </choice>
  </define>
  <define name="ContExp" combine="choice">
    <ref name="unary-linalg.class"/>
  </define>
  <define name="determinant">
    <element name="determinant">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="transpose">
    <element name="transpose">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="nary-linalg.class">
    <ref name="selector"/>
  </define>
  <define name="ContExp" combine="choice">
    <ref name="nary-linalg.class"/>
  </define>
  <define name="selector">
    <element name="selector">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="binary-linalg.class">
    <choice>
      <ref name="vectorproduct"/>
      <ref name="scalarproduct"/>
      <ref name="outerproduct"/>
    </choice>
  </define>
  <define name="ContExp" combine="choice">
    <ref name="binary-linalg.class"/>
  </define>
  <define name="vectorproduct">
    <element name="vectorproduct">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="scalarproduct">
    <element name="scalarproduct">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="outerproduct">
    <element name="outerproduct">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="constant-set.class">
    <choice>
      <ref name="integers"/>
      <ref name="reals"/>
      <ref name="rationals"/>
      <ref name="naturalnumbers"/>
      <ref name="complexes"/>
      <ref name="primes"/>
      <ref name="emptyset"/>
    </choice>
  </define>
  <define name="ContExp" combine="choice">
    <ref name="constant-set.class"/>
  </define>
  <define name="integers">
    <element name="integers">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="reals">
    <element name="reals">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="rationals">
    <element name="rationals">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="naturalnumbers">
    <element name="naturalnumbers">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="complexes">
    <element name="complexes">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="primes">
    <element name="primes">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="emptyset">
    <element name="emptyset">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="constant-arith.class">
    <choice>
      <ref name="exponentiale"/>
      <ref name="imaginaryi"/>
      <ref name="notanumber"/>
      <ref name="true"/>
      <ref name="false"/>
      <ref name="pi"/>
      <ref name="eulergamma"/>
      <ref name="infinity"/>
    </choice>
  </define>
  <define name="ContExp" combine="choice">
    <ref name="constant-arith.class"/>
  </define>
  <define name="exponentiale">
    <element name="exponentiale">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="imaginaryi">
    <element name="imaginaryi">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="notanumber">
    <element name="notanumber">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="true">
    <element name="true">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="false">
    <element name="false">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="pi">
    <element name="pi">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="eulergamma">
    <element name="eulergamma">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="infinity">
    <element name="infinity">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>

    <a:documentation>Content  MathML</a:documentation>
  
  <!-- Inlined from mathml3-presentation.rng with overrides -->
<define name="MathExpression" combine="choice">
    <ref name="PresentationExpression"/>
  </define>
  <define name="ImpliedMrow">
    <zeroOrMore>
      <ref name="MathExpression"/>
    </zeroOrMore>
  </define>
  <define name="TableRowExpression">
    <choice>
      <ref name="mtr"/>
      <ref name="mlabeledtr"/>
    </choice>
  </define>
  <define name="TableCellExpression">
    <ref name="mtd"/>
  </define>
  <define name="MstackExpression">
    <choice>
      <ref name="MathExpression"/>
      <ref name="mscarries"/>
      <ref name="msline"/>
      <ref name="msrow"/>
      <ref name="msgroup"/>
    </choice>
  </define>
  <define name="MsrowExpression">
    <choice>
      <ref name="MathExpression"/>
      <ref name="none"/>
    </choice>
  </define>
  <define name="MultiScriptExpression">
    <choice>
      <ref name="MathExpression"/>
      <ref name="none"/>
    </choice>
    <choice>
      <ref name="MathExpression"/>
      <ref name="none"/>
    </choice>
  </define>
  <define name="mpadded-length">
    <data type="string">
      <param name="pattern">\\s*([\\+\\-]?[0-9]*([0-9]\\.?|\\.[0-9])[0-9]*\\s*((%?\\s*(height|depth|width)?)|e[mx]|in|cm|mm|p[xtc]|((negative)?((very){0,2}thi(n|ck)|medium)mathspace))?)\\s*</param>
    </data>
  </define>
  <define name="linestyle">
    <choice>
      <value>none</value>
      <value>solid</value>
      <value>dashed</value>
    </choice>
  </define>
  <define name="verticalalign">
    <choice>
      <value>top</value>
      <value>bottom</value>
      <value>center</value>
      <value>baseline</value>
      <value>axis</value>
    </choice>
  </define>
  <define name="columnalignstyle">
    <choice>
      <value>left</value>
      <value>center</value>
      <value>right</value>
    </choice>
  </define>
  <define name="notationstyle">
    <choice>
      <value>longdiv</value>
      <value>actuarial</value>
      <value>radical</value>
      <value>box</value>
      <value>roundedbox</value>
      <value>circle</value>
      <value>left</value>
      <value>right</value>
      <value>top</value>
      <value>bottom</value>
      <value>updiagonalstrike</value>
      <value>downdiagonalstrike</value>
      <value>verticalstrike</value>
      <value>horizontalstrike</value>
      <value>madruwb</value>
    </choice>
  </define>
  <define name="idref">
    <text/>
  </define>
  <define name="unsigned-integer">
    <data type="unsignedLong"/>
  </define>
  <define name="integer">
    <data type="integer"/>
  </define>
  <define name="number">
    <data type="decimal"/>
  </define>
  <define name="character">
    <data type="string">
      <param name="pattern">\\s*\\S\\s*</param>
    </data>
  </define>
  <define name="color">
    <data type="string">
      <param name="pattern">\\s*((#[0-9a-fA-F]{3}([0-9a-fA-F]{3})?)|[aA][qQ][uU][aA]|[bB][lL][aA][cC][kK]|[bB][lL][uU][eE]|[fF][uU][cC][hH][sS][iI][aA]|[gG][rR][aA][yY]|[gG][rR][eE][eE][nN]|[lL][iI][mM][eE]|[mM][aA][rR][oO][oO][nN]|[nN][aA][vV][yY]|[oO][lL][iI][vV][eE]|[pP][uU][rR][pP][lL][eE]|[rR][eE][dD]|[sS][iI][lL][vV][eE][rR]|[tT][eE][aA][lL]|[wW][hH][iI][tT][eE]|[yY][eE][lL][lL][oO][wW])\\s*</param>
    </data>
  </define>
  <define name="group-alignment">
    <choice>
      <value>left</value>
      <value>center</value>
      <value>right</value>
      <value>decimalpoint</value>
    </choice>
  </define>
  <define name="group-alignment-list">
    <list>
      <oneOrMore>
        <ref name="group-alignment"/>
      </oneOrMore>
    </list>
  </define>
  <define name="group-alignment-list-list">
    <data type="string">
      <param name="pattern">(\\s*\\{\\s*(left|center|right|decimalpoint)(\\s+(left|center|right|decimalpoint))*\\})*\\s*</param>
    </data>
  </define>
  <define name="positive-integer">
    <data type="positiveInteger"/>
  </define>
  <define name="TokenExpression">
    <choice>
      <ref name="mi"/>
      <ref name="mn"/>
      <ref name="mo"/>
      <ref name="mtext"/>
      <ref name="mspace"/>
      <ref name="ms"/>
    </choice>
  </define>
  <define name="token.content">
    <choice>
      <ref name="mglyph"/>
      <ref name="malignmark"/>
      <text/>
    </choice>
  </define>
  <define name="mi">
    <element name="mi">
      <ref name="mi.attributes"/>
      <zeroOrMore>
        <ref name="token.content"/>
      </zeroOrMore>
    </element>
  </define>
  <define name="mi.attributes">
    <ref name="CommonAtt"/>
    <ref name="CommonPresAtt"/>
    <ref name="TokenAtt"/>
  </define>
  <define name="mn">
    <element name="mn">
      <ref name="mn.attributes"/>
      <zeroOrMore>
        <ref name="token.content"/>
      </zeroOrMore>
    </element>
  </define>
  <define name="mn.attributes">
    <ref name="CommonAtt"/>
    <ref name="CommonPresAtt"/>
    <ref name="TokenAtt"/>
  </define>
  <define name="mo">
    <element name="mo">
      <ref name="mo.attributes"/>
      <zeroOrMore>
        <ref name="token.content"/>
      </zeroOrMore>
    </element>
  </define>
  <define name="mo.attributes">
    <ref name="CommonAtt"/>
    <ref name="CommonPresAtt"/>
    <ref name="TokenAtt"/>
    <optional>
      <attribute name="form">
        <choice>
          <value>prefix</value>
          <value>infix</value>
          <value>postfix</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="fence">
        <choice>
          <value>true</value>
          <value>false</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="separator">
        <choice>
          <value>true</value>
          <value>false</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="lspace">
        <ref name="length"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="rspace">
        <ref name="length"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="stretchy">
        <choice>
          <value>true</value>
          <value>false</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="symmetric">
        <choice>
          <value>true</value>
          <value>false</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="maxsize">
        <choice>
          <ref name="length"/>
          <value>infinity</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="minsize">
        <ref name="length"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="largeop">
        <choice>
          <value>true</value>
          <value>false</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="movablelimits">
        <choice>
          <value>true</value>
          <value>false</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="accent">
        <choice>
          <value>true</value>
          <value>false</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="linebreak">
        <choice>
          <value>auto</value>
          <value>newline</value>
          <value>nobreak</value>
          <value>goodbreak</value>
          <value>badbreak</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="lineleading">
        <ref name="length"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="linebreakstyle">
        <choice>
          <value>before</value>
          <value>after</value>
          <value>duplicate</value>
          <value>infixlinebreakstyle</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="linebreakmultchar"/>
    </optional>
    <optional>
      <attribute name="indentalign">
        <choice>
          <value>left</value>
          <value>center</value>
          <value>right</value>
          <value>auto</value>
          <value>id</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="indentshift">
        <ref name="length"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="indenttarget">
        <ref name="idref"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="indentalignfirst">
        <choice>
          <value>left</value>
          <value>center</value>
          <value>right</value>
          <value>auto</value>
          <value>id</value>
          <value>indentalign</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="indentshiftfirst">
        <choice>
          <ref name="length"/>
          <value>indentshift</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="indentalignlast">
        <choice>
          <value>left</value>
          <value>center</value>
          <value>right</value>
          <value>auto</value>
          <value>id</value>
          <value>indentalign</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="indentshiftlast">
        <choice>
          <ref name="length"/>
          <value>indentshift</value>
        </choice>
      </attribute>
    </optional>
  </define>
  <!--
    changed mtext content model to use mtext.content instead of generic
    token.content, because we want to handle mtext differently than other
    MathML "token elements" - - mike
  -->
  <define name="mtext">
    <element name="mtext">
      <ref name="mtext.attributes"/>
      <zeroOrMore>
        <ref name="mtext.content"/>
      </zeroOrMore>
    </element>
  </define>
  <define name="mtext.attributes">
    <ref name="CommonAtt"/>
    <ref name="CommonPresAtt"/>
    <ref name="TokenAtt"/>
  </define>
  <define name="mtext.content">
    <choice>
      <ref name="mglyph"/>
      <ref name="malignmark"/>
      <text/>
    </choice>
  </define>
  <define name="mspace">
    <element name="mspace">
      <ref name="mspace.attributes"/>
      <empty/>
    </element>
  </define>
  <define name="mspace.attributes">
    <ref name="CommonAtt"/>
    <ref name="CommonPresAtt"/>
    <ref name="TokenAtt"/>
    <optional>
      <attribute name="width">
        <ref name="length"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="height">
        <ref name="length"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="depth">
        <ref name="length"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="linebreak">
        <choice>
          <value>auto</value>
          <value>newline</value>
          <value>nobreak</value>
          <value>goodbreak</value>
          <value>badbreak</value>
          <value>indentingnewline</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="indentalign">
        <choice>
          <value>left</value>
          <value>center</value>
          <value>right</value>
          <value>auto</value>
          <value>id</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="indentshift">
        <ref name="length"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="indenttarget">
        <ref name="idref"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="indentalignfirst">
        <choice>
          <value>left</value>
          <value>center</value>
          <value>right</value>
          <value>auto</value>
          <value>id</value>
          <value>indentalign</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="indentshiftfirst">
        <choice>
          <ref name="length"/>
          <value>indentshift</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="indentalignlast">
        <choice>
          <value>left</value>
          <value>center</value>
          <value>right</value>
          <value>auto</value>
          <value>id</value>
          <value>indentalign</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="indentshiftlast">
        <choice>
          <ref name="length"/>
          <value>indentshift</value>
        </choice>
      </attribute>
    </optional>
  </define>
  <define name="ms">
    <element name="ms">
      <ref name="ms.attributes"/>
      <zeroOrMore>
        <ref name="token.content"/>
      </zeroOrMore>
    </element>
  </define>
  <define name="ms.attributes">
    <ref name="CommonAtt"/>
    <ref name="CommonPresAtt"/>
    <ref name="TokenAtt"/>
    <optional>
      <attribute name="lquote"/>
    </optional>
    <optional>
      <attribute name="rquote"/>
    </optional>
  </define>
  <define name="mglyph">
    <element name="mglyph">
      <ref name="mglyph.attributes"/>
      <ref name="mglyph.deprecatedattributes"/>
      <empty/>
    </element>
  </define>
  <define name="mglyph.attributes">
    <ref name="CommonAtt"/>
    <ref name="CommonPresAtt"/>
    <optional>
      <attribute name="src">
        <data type="anyURI"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="width">
        <ref name="length"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="height">
        <ref name="length"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="valign">
        <ref name="length"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="alt"/>
    </optional>
  </define>
  <define name="mglyph.deprecatedattributes">
    <optional>
      <attribute name="index">
        <ref name="integer"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="mathvariant">
        <choice>
          <value>normal</value>
          <value>bold</value>
          <value>italic</value>
          <value>bold-italic</value>
          <value>double-struck</value>
          <value>bold-fraktur</value>
          <value>script</value>
          <value>bold-script</value>
          <value>fraktur</value>
          <value>sans-serif</value>
          <value>bold-sans-serif</value>
          <value>sans-serif-italic</value>
          <value>sans-serif-bold-italic</value>
          <value>monospace</value>
          <value>initial</value>
          <value>tailed</value>
          <value>looped</value>
          <value>stretched</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="mathsize">
        <choice>
          <value>small</value>
          <value>normal</value>
          <value>big</value>
          <ref name="length"/>
        </choice>
      </attribute>
    </optional>
    <ref name="DeprecatedTokenAtt"/>
  </define>
  <define name="msline">
    <element name="msline">
      <ref name="msline.attributes"/>
      <empty/>
    </element>
  </define>
  <define name="msline.attributes">
    <ref name="CommonAtt"/>
    <ref name="CommonPresAtt"/>
    <optional>
      <attribute name="position">
        <ref name="integer"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="length">
        <ref name="unsigned-integer"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="leftoverhang">
        <ref name="length"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="rightoverhang">
        <ref name="length"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="mslinethickness">
        <choice>
          <ref name="length"/>
          <value>thin</value>
          <value>medium</value>
          <value>thick</value>
        </choice>
      </attribute>
    </optional>
  </define>
  <define name="none">
    <element name="none">
      <ref name="none.attributes"/>
      <empty/>
    </element>
  </define>
  <define name="none.attributes">
    <ref name="CommonAtt"/>
    <ref name="CommonPresAtt"/>
  </define>
  <define name="mprescripts">
    <element name="mprescripts">
      <ref name="mprescripts.attributes"/>
      <empty/>
    </element>
  </define>
  <define name="mprescripts.attributes">
    <ref name="CommonAtt"/>
    <ref name="CommonPresAtt"/>
  </define>
  <define name="CommonPresAtt">
    <optional>
      <attribute name="mathcolor">
        <ref name="color"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="mathbackground">
        <choice>
          <ref name="color"/>
          <value>transparent</value>
        </choice>
      </attribute>
    </optional>
  </define>
  <define name="TokenAtt">
    <optional>
      <attribute name="mathvariant">
        <choice>
          <value>normal</value>
          <value>bold</value>
          <value>italic</value>
          <value>bold-italic</value>
          <value>double-struck</value>
          <value>bold-fraktur</value>
          <value>script</value>
          <value>bold-script</value>
          <value>fraktur</value>
          <value>sans-serif</value>
          <value>bold-sans-serif</value>
          <value>sans-serif-italic</value>
          <value>sans-serif-bold-italic</value>
          <value>monospace</value>
          <value>initial</value>
          <value>tailed</value>
          <value>looped</value>
          <value>stretched</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="mathsize">
        <choice>
          <value>small</value>
          <value>normal</value>
          <value>big</value>
          <ref name="length"/>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="dir">
        <choice>
          <value>ltr</value>
          <value>rtl</value>
        </choice>
      </attribute>
    </optional>
    <ref name="DeprecatedTokenAtt"/>
  </define>
  <define name="DeprecatedTokenAtt">
    <optional>
      <attribute name="fontfamily"/>
    </optional>
    <optional>
      <attribute name="fontweight">
        <choice>
          <value>normal</value>
          <value>bold</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="fontstyle">
        <choice>
          <value>normal</value>
          <value>italic</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="fontsize">
        <ref name="length"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="color">
        <ref name="color"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="background">
        <choice>
          <ref name="color"/>
          <value>transparent</value>
        </choice>
      </attribute>
    </optional>
  </define>
  <define name="MalignExpression">
    <choice>
      <ref name="maligngroup"/>
      <ref name="malignmark"/>
    </choice>
  </define>
  <define name="malignmark">
    <element name="malignmark">
      <ref name="malignmark.attributes"/>
      <empty/>
    </element>
  </define>
  <define name="malignmark.attributes">
    <ref name="CommonAtt"/>
    <ref name="CommonPresAtt"/>
    <optional>
      <attribute name="edge">
        <choice>
          <value>left</value>
          <value>right</value>
        </choice>
      </attribute>
    </optional>
  </define>
  <define name="maligngroup">
    <element name="maligngroup">
      <ref name="maligngroup.attributes"/>
      <empty/>
    </element>
  </define>
  <define name="maligngroup.attributes">
    <ref name="CommonAtt"/>
    <ref name="CommonPresAtt"/>
    <optional>
      <attribute name="groupalign">
        <choice>
          <value>left</value>
          <value>center</value>
          <value>right</value>
          <value>decimalpoint</value>
        </choice>
      </attribute>
    </optional>
  </define>
  <define name="PresentationExpression">
    <choice>
      <ref name="TokenExpression"/>
      <ref name="MalignExpression"/>
      <ref name="mrow"/>
      <ref name="mfrac"/>
      <ref name="msqrt"/>
      <ref name="mroot"/>
      <ref name="mstyle"/>
      <ref name="merror"/>
      <ref name="mpadded"/>
      <ref name="mphantom"/>
      <ref name="mfenced"/>
      <ref name="menclose"/>
      <ref name="msub"/>
      <ref name="msup"/>
      <ref name="msubsup"/>
      <ref name="munder"/>
      <ref name="mover"/>
      <ref name="munderover"/>
      <ref name="mmultiscripts"/>
      <ref name="mtable"/>
      <ref name="mstack"/>
      <ref name="mlongdiv"/>
      <ref name="maction"/>
    </choice>
  </define>
  <define name="mrow">
    <element name="mrow">
      <ref name="mrow.attributes"/>
      <zeroOrMore>
        <ref name="MathExpression"/>
      </zeroOrMore>
    </element>
  </define>
  <define name="mrow.attributes">
    <ref name="CommonAtt"/>
    <ref name="CommonPresAtt"/>
    <optional>
      <attribute name="dir">
        <choice>
          <value>ltr</value>
          <value>rtl</value>
        </choice>
      </attribute>
    </optional>
  </define>
  <define name="mfrac">
    <element name="mfrac">
      <ref name="mfrac.attributes"/>
      <ref name="MathExpression"/>
      <ref name="MathExpression"/>
    </element>
  </define>
  <define name="mfrac.attributes">
    <ref name="CommonAtt"/>
    <ref name="CommonPresAtt"/>
    <optional>
      <attribute name="linethickness">
        <choice>
          <ref name="length"/>
          <value>thin</value>
          <value>medium</value>
          <value>thick</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="numalign">
        <choice>
          <value>left</value>
          <value>center</value>
          <value>right</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="denomalign">
        <choice>
          <value>left</value>
          <value>center</value>
          <value>right</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="bevelled">
        <choice>
          <value>true</value>
          <value>false</value>
        </choice>
      </attribute>
    </optional>
  </define>
  <define name="msqrt">
    <element name="msqrt">
      <ref name="msqrt.attributes"/>
      <ref name="ImpliedMrow"/>
    </element>
  </define>
  <define name="msqrt.attributes">
    <ref name="CommonAtt"/>
    <ref name="CommonPresAtt"/>
  </define>
  <define name="mroot">
    <element name="mroot">
      <ref name="mroot.attributes"/>
      <ref name="MathExpression"/>
      <ref name="MathExpression"/>
    </element>
  </define>
  <define name="mroot.attributes">
    <ref name="CommonAtt"/>
    <ref name="CommonPresAtt"/>
  </define>
  <define name="mstyle">
    <element name="mstyle">
      <ref name="mstyle.attributes"/>
      <ref name="ImpliedMrow"/>
    </element>
  </define>
  <define name="mstyle.attributes">
    <ref name="CommonAtt"/>
    <ref name="CommonPresAtt"/>
    <ref name="mstyle.specificattributes"/>
    <ref name="mstyle.generalattributes"/>
    <ref name="mstyle.deprecatedattributes"/>
  </define>
  <define name="mstyle.specificattributes">
    <optional>
      <attribute name="scriptlevel">
        <ref name="integer"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="displaystyle">
        <choice>
          <value>true</value>
          <value>false</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="scriptsizemultiplier">
        <ref name="number"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="scriptminsize">
        <ref name="length"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="infixlinebreakstyle">
        <choice>
          <value>before</value>
          <value>after</value>
          <value>duplicate</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="decimalpoint">
        <ref name="character"/>
      </attribute>
    </optional>
  </define>
  <define name="mstyle.generalattributes">
    <optional>
      <attribute name="accent">
        <choice>
          <value>true</value>
          <value>false</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="accentunder">
        <choice>
          <value>true</value>
          <value>false</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="align">
        <choice>
          <value>left</value>
          <value>right</value>
          <value>center</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="alignmentscope">
        <list>
          <oneOrMore>
            <choice>
              <value>true</value>
              <value>false</value>
            </choice>
          </oneOrMore>
        </list>
      </attribute>
    </optional>
    <optional>
      <attribute name="bevelled">
        <choice>
          <value>true</value>
          <value>false</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="charalign">
        <choice>
          <value>left</value>
          <value>center</value>
          <value>right</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="charspacing">
        <choice>
          <ref name="length"/>
          <value>loose</value>
          <value>medium</value>
          <value>tight</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="close"/>
    </optional>
    <optional>
      <attribute name="columnalign">
        <list>
          <oneOrMore>
            <ref name="columnalignstyle"/>
          </oneOrMore>
        </list>
      </attribute>
    </optional>
    <optional>
      <attribute name="columnlines">
        <list>
          <oneOrMore>
            <ref name="linestyle"/>
          </oneOrMore>
        </list>
      </attribute>
    </optional>
    <optional>
      <attribute name="columnspacing">
        <list>
          <oneOrMore>
            <ref name="length"/>
          </oneOrMore>
        </list>
      </attribute>
    </optional>
    <optional>
      <attribute name="columnspan">
        <ref name="positive-integer"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="columnwidth">
        <list>
          <oneOrMore>
            <choice>
              <value>auto</value>
              <ref name="length"/>
              <value>fit</value>
            </choice>
          </oneOrMore>
        </list>
      </attribute>
    </optional>
    <optional>
      <attribute name="crossout">
        <list>
          <zeroOrMore>
            <choice>
              <value>none</value>
              <value>updiagonalstrike</value>
              <value>downdiagonalstrike</value>
              <value>verticalstrike</value>
              <value>horizontalstrike</value>
            </choice>
          </zeroOrMore>
        </list>
      </attribute>
    </optional>
    <optional>
      <attribute name="denomalign">
        <choice>
          <value>left</value>
          <value>center</value>
          <value>right</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="depth">
        <ref name="length"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="dir">
        <choice>
          <value>ltr</value>
          <value>rtl</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="edge">
        <choice>
          <value>left</value>
          <value>right</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="equalcolumns">
        <choice>
          <value>true</value>
          <value>false</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="equalrows">
        <choice>
          <value>true</value>
          <value>false</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="fence">
        <choice>
          <value>true</value>
          <value>false</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="form">
        <choice>
          <value>prefix</value>
          <value>infix</value>
          <value>postfix</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="frame">
        <ref name="linestyle"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="framespacing">
        <list>
          <ref name="length"/>
          <ref name="length"/>
        </list>
      </attribute>
    </optional>
    <optional>
      <attribute name="groupalign">
        <ref name="group-alignment-list-list"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="height">
        <ref name="length"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="indentalign">
        <choice>
          <value>left</value>
          <value>center</value>
          <value>right</value>
          <value>auto</value>
          <value>id</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="indentalignfirst">
        <choice>
          <value>left</value>
          <value>center</value>
          <value>right</value>
          <value>auto</value>
          <value>id</value>
          <value>indentalign</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="indentalignlast">
        <choice>
          <value>left</value>
          <value>center</value>
          <value>right</value>
          <value>auto</value>
          <value>id</value>
          <value>indentalign</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="indentshift">
        <ref name="length"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="indentshiftfirst">
        <choice>
          <ref name="length"/>
          <value>indentshift</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="indentshiftlast">
        <choice>
          <ref name="length"/>
          <value>indentshift</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="indenttarget">
        <ref name="idref"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="largeop">
        <choice>
          <value>true</value>
          <value>false</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="leftoverhang">
        <ref name="length"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="length">
        <ref name="unsigned-integer"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="linebreak">
        <choice>
          <value>auto</value>
          <value>newline</value>
          <value>nobreak</value>
          <value>goodbreak</value>
          <value>badbreak</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="linebreakmultchar"/>
    </optional>
    <optional>
      <attribute name="linebreakstyle">
        <choice>
          <value>before</value>
          <value>after</value>
          <value>duplicate</value>
          <value>infixlinebreakstyle</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="lineleading">
        <ref name="length"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="linethickness">
        <choice>
          <ref name="length"/>
          <value>thin</value>
          <value>medium</value>
          <value>thick</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="location">
        <choice>
          <value>w</value>
          <value>nw</value>
          <value>n</value>
          <value>ne</value>
          <value>e</value>
          <value>se</value>
          <value>s</value>
          <value>sw</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="longdivstyle">
        <choice>
          <value>lefttop</value>
          <value>stackedrightright</value>
          <value>mediumstackedrightright</value>
          <value>shortstackedrightright</value>
          <value>righttop</value>
          <value>left/\\right</value>
          <value>left)(right</value>
          <value>:right=right</value>
          <value>stackedleftleft</value>
          <value>stackedleftlinetop</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="lquote"/>
    </optional>
    <optional>
      <attribute name="lspace">
        <ref name="length"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="mathsize">
        <choice>
          <value>small</value>
          <value>normal</value>
          <value>big</value>
          <ref name="length"/>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="mathvariant">
        <choice>
          <value>normal</value>
          <value>bold</value>
          <value>italic</value>
          <value>bold-italic</value>
          <value>double-struck</value>
          <value>bold-fraktur</value>
          <value>script</value>
          <value>bold-script</value>
          <value>fraktur</value>
          <value>sans-serif</value>
          <value>bold-sans-serif</value>
          <value>sans-serif-italic</value>
          <value>sans-serif-bold-italic</value>
          <value>monospace</value>
          <value>initial</value>
          <value>tailed</value>
          <value>looped</value>
          <value>stretched</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="maxsize">
        <choice>
          <ref name="length"/>
          <value>infinity</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="minlabelspacing">
        <ref name="length"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="minsize">
        <ref name="length"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="movablelimits">
        <choice>
          <value>true</value>
          <value>false</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="mslinethickness">
        <choice>
          <ref name="length"/>
          <value>thin</value>
          <value>medium</value>
          <value>thick</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="notation"/>
    </optional>
    <optional>
      <attribute name="numalign">
        <choice>
          <value>left</value>
          <value>center</value>
          <value>right</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="open"/>
    </optional>
    <optional>
      <attribute name="position">
        <ref name="integer"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="rightoverhang">
        <ref name="length"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="rowalign">
        <list>
          <oneOrMore>
            <ref name="verticalalign"/>
          </oneOrMore>
        </list>
      </attribute>
    </optional>
    <optional>
      <attribute name="rowlines">
        <list>
          <oneOrMore>
            <ref name="linestyle"/>
          </oneOrMore>
        </list>
      </attribute>
    </optional>
    <optional>
      <attribute name="rowspacing">
        <list>
          <oneOrMore>
            <ref name="length"/>
          </oneOrMore>
        </list>
      </attribute>
    </optional>
    <optional>
      <attribute name="rowspan">
        <ref name="positive-integer"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="rquote"/>
    </optional>
    <optional>
      <attribute name="rspace">
        <ref name="length"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="selection">
        <ref name="positive-integer"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="separator">
        <choice>
          <value>true</value>
          <value>false</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="separators"/>
    </optional>
    <optional>
      <attribute name="shift">
        <ref name="integer"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="side">
        <choice>
          <value>left</value>
          <value>right</value>
          <value>leftoverlap</value>
          <value>rightoverlap</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="stackalign">
        <choice>
          <value>left</value>
          <value>center</value>
          <value>right</value>
          <value>decimalpoint</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="stretchy">
        <choice>
          <value>true</value>
          <value>false</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="subscriptshift">
        <ref name="length"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="superscriptshift">
        <ref name="length"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="symmetric">
        <choice>
          <value>true</value>
          <value>false</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="valign">
        <ref name="length"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="width">
        <ref name="length"/>
      </attribute>
    </optional>
  </define>
  <define name="mstyle.deprecatedattributes">
    <ref name="DeprecatedTokenAtt"/>
    <optional>
      <attribute name="veryverythinmathspace">
        <ref name="length"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="verythinmathspace">
        <ref name="length"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="thinmathspace">
        <ref name="length"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="mediummathspace">
        <ref name="length"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="thickmathspace">
        <ref name="length"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="verythickmathspace">
        <ref name="length"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="veryverythickmathspace">
        <ref name="length"/>
      </attribute>
    </optional>
  </define>
  <define name="math.attributes" combine="interleave">
    <ref name="CommonPresAtt"/>
  </define>
  <define name="math.attributes" combine="interleave">
    <ref name="mstyle.specificattributes"/>
  </define>
  <define name="math.attributes" combine="interleave">
    <ref name="mstyle.generalattributes"/>
  </define>
  <define name="merror">
    <element name="merror">
      <ref name="merror.attributes"/>
      <ref name="ImpliedMrow"/>
    </element>
  </define>
  <define name="merror.attributes">
    <ref name="CommonAtt"/>
    <ref name="CommonPresAtt"/>
  </define>
  <define name="mpadded">
    <element name="mpadded">
      <ref name="mpadded.attributes"/>
      <ref name="ImpliedMrow"/>
    </element>
  </define>
  <define name="mpadded.attributes">
    <ref name="CommonAtt"/>
    <ref name="CommonPresAtt"/>
    <optional>
      <attribute name="height">
        <ref name="mpadded-length"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="depth">
        <ref name="mpadded-length"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="width">
        <ref name="mpadded-length"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="lspace">
        <ref name="mpadded-length"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="voffset">
        <ref name="mpadded-length"/>
      </attribute>
    </optional>
  </define>
  <define name="mphantom">
    <element name="mphantom">
      <ref name="mphantom.attributes"/>
      <ref name="ImpliedMrow"/>
    </element>
  </define>
  <define name="mphantom.attributes">
    <ref name="CommonAtt"/>
    <ref name="CommonPresAtt"/>
  </define>
  <define name="mfenced">
    <element name="mfenced">
      <ref name="mfenced.attributes"/>
      <zeroOrMore>
        <ref name="MathExpression"/>
      </zeroOrMore>
    </element>
  </define>
  <define name="mfenced.attributes">
    <ref name="CommonAtt"/>
    <ref name="CommonPresAtt"/>
    <optional>
      <attribute name="open"/>
    </optional>
    <optional>
      <attribute name="close"/>
    </optional>
    <optional>
      <attribute name="separators"/>
    </optional>
  </define>
  <define name="menclose">
    <element name="menclose">
      <ref name="menclose.attributes"/>
      <ref name="ImpliedMrow"/>
    </element>
  </define>
  <define name="menclose.attributes">
    <ref name="CommonAtt"/>
    <ref name="CommonPresAtt"/>
    <optional>
      <attribute name="notation"/>
    </optional>
  </define>
  <define name="msub">
    <element name="msub">
      <ref name="msub.attributes"/>
      <ref name="MathExpression"/>
      <ref name="MathExpression"/>
    </element>
  </define>
  <define name="msub.attributes">
    <ref name="CommonAtt"/>
    <ref name="CommonPresAtt"/>
    <optional>
      <attribute name="subscriptshift">
        <ref name="length"/>
      </attribute>
    </optional>
  </define>
  <define name="msup">
    <element name="msup">
      <ref name="msup.attributes"/>
      <ref name="MathExpression"/>
      <ref name="MathExpression"/>
    </element>
  </define>
  <define name="msup.attributes">
    <ref name="CommonAtt"/>
    <ref name="CommonPresAtt"/>
    <optional>
      <attribute name="superscriptshift">
        <ref name="length"/>
      </attribute>
    </optional>
  </define>
  <define name="msubsup">
    <element name="msubsup">
      <ref name="msubsup.attributes"/>
      <ref name="MathExpression"/>
      <ref name="MathExpression"/>
      <ref name="MathExpression"/>
    </element>
  </define>
  <define name="msubsup.attributes">
    <ref name="CommonAtt"/>
    <ref name="CommonPresAtt"/>
    <optional>
      <attribute name="subscriptshift">
        <ref name="length"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="superscriptshift">
        <ref name="length"/>
      </attribute>
    </optional>
  </define>
  <define name="munder">
    <element name="munder">
      <ref name="munder.attributes"/>
      <ref name="MathExpression"/>
      <ref name="MathExpression"/>
    </element>
  </define>
  <define name="munder.attributes">
    <ref name="CommonAtt"/>
    <ref name="CommonPresAtt"/>
    <optional>
      <attribute name="accentunder">
        <choice>
          <value>true</value>
          <value>false</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="align">
        <choice>
          <value>left</value>
          <value>right</value>
          <value>center</value>
        </choice>
      </attribute>
    </optional>
  </define>
  <define name="mover">
    <element name="mover">
      <ref name="mover.attributes"/>
      <ref name="MathExpression"/>
      <ref name="MathExpression"/>
    </element>
  </define>
  <define name="mover.attributes">
    <ref name="CommonAtt"/>
    <ref name="CommonPresAtt"/>
    <optional>
      <attribute name="accent">
        <choice>
          <value>true</value>
          <value>false</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="align">
        <choice>
          <value>left</value>
          <value>right</value>
          <value>center</value>
        </choice>
      </attribute>
    </optional>
  </define>
  <define name="munderover">
    <element name="munderover">
      <ref name="munderover.attributes"/>
      <ref name="MathExpression"/>
      <ref name="MathExpression"/>
      <ref name="MathExpression"/>
    </element>
  </define>
  <define name="munderover.attributes">
    <ref name="CommonAtt"/>
    <ref name="CommonPresAtt"/>
    <optional>
      <attribute name="accent">
        <choice>
          <value>true</value>
          <value>false</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="accentunder">
        <choice>
          <value>true</value>
          <value>false</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="align">
        <choice>
          <value>left</value>
          <value>right</value>
          <value>center</value>
        </choice>
      </attribute>
    </optional>
  </define>
  <define name="mmultiscripts">
    <element name="mmultiscripts">
      <ref name="mmultiscripts.attributes"/>
      <ref name="MathExpression"/>
      <zeroOrMore>
        <ref name="MultiScriptExpression"/>
      </zeroOrMore>
      <optional>
        <ref name="mprescripts"/>
        <zeroOrMore>
          <ref name="MultiScriptExpression"/>
        </zeroOrMore>
      </optional>
    </element>
  </define>
  <define name="mmultiscripts.attributes">
    <ref name="msubsup.attributes"/>
  </define>
  <define name="mtable">
    <element name="mtable">
      <ref name="mtable.attributes"/>
      <zeroOrMore>
        <ref name="TableRowExpression"/>
      </zeroOrMore>
    </element>
  </define>
  <define name="mtable.attributes">
    <ref name="CommonAtt"/>
    <ref name="CommonPresAtt"/>
    <optional>
      <attribute name="align">
        <data type="string">
          <param name="pattern">\\s*(top|bottom|center|baseline|axis)(\\s+-?[0-9]+)?\\s*</param>
        </data>
      </attribute>
    </optional>
    <optional>
      <attribute name="rowalign">
        <list>
          <oneOrMore>
            <ref name="verticalalign"/>
          </oneOrMore>
        </list>
      </attribute>
    </optional>
    <optional>
      <attribute name="columnalign">
        <list>
          <oneOrMore>
            <ref name="columnalignstyle"/>
          </oneOrMore>
        </list>
      </attribute>
    </optional>
    <optional>
      <attribute name="groupalign">
        <ref name="group-alignment-list-list"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="alignmentscope">
        <list>
          <oneOrMore>
            <choice>
              <value>true</value>
              <value>false</value>
            </choice>
          </oneOrMore>
        </list>
      </attribute>
    </optional>
    <optional>
      <attribute name="columnwidth">
        <list>
          <oneOrMore>
            <choice>
              <value>auto</value>
              <ref name="length"/>
              <value>fit</value>
            </choice>
          </oneOrMore>
        </list>
      </attribute>
    </optional>
    <optional>
      <attribute name="width">
        <choice>
          <value>auto</value>
          <ref name="length"/>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="rowspacing">
        <list>
          <oneOrMore>
            <ref name="length"/>
          </oneOrMore>
        </list>
      </attribute>
    </optional>
    <optional>
      <attribute name="columnspacing">
        <list>
          <oneOrMore>
            <ref name="length"/>
          </oneOrMore>
        </list>
      </attribute>
    </optional>
    <optional>
      <attribute name="rowlines">
        <list>
          <oneOrMore>
            <ref name="linestyle"/>
          </oneOrMore>
        </list>
      </attribute>
    </optional>
    <optional>
      <attribute name="columnlines">
        <list>
          <oneOrMore>
            <ref name="linestyle"/>
          </oneOrMore>
        </list>
      </attribute>
    </optional>
    <optional>
      <attribute name="frame">
        <ref name="linestyle"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="framespacing">
        <list>
          <ref name="length"/>
          <ref name="length"/>
        </list>
      </attribute>
    </optional>
    <optional>
      <attribute name="equalrows">
        <choice>
          <value>true</value>
          <value>false</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="equalcolumns">
        <choice>
          <value>true</value>
          <value>false</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="displaystyle">
        <choice>
          <value>true</value>
          <value>false</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="side">
        <choice>
          <value>left</value>
          <value>right</value>
          <value>leftoverlap</value>
          <value>rightoverlap</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="minlabelspacing">
        <ref name="length"/>
      </attribute>
    </optional>
  </define>
  <define name="mlabeledtr">
    <element name="mlabeledtr">
      <ref name="mlabeledtr.attributes"/>
      <oneOrMore>
        <ref name="TableCellExpression"/>
      </oneOrMore>
    </element>
  </define>
  <define name="mlabeledtr.attributes">
    <ref name="mtr.attributes"/>
  </define>
  <define name="mtr">
    <element name="mtr">
      <ref name="mtr.attributes"/>
      <zeroOrMore>
        <ref name="TableCellExpression"/>
      </zeroOrMore>
    </element>
  </define>
  <define name="mtr.attributes">
    <ref name="CommonAtt"/>
    <ref name="CommonPresAtt"/>
    <optional>
      <attribute name="rowalign">
        <choice>
          <value>top</value>
          <value>bottom</value>
          <value>center</value>
          <value>baseline</value>
          <value>axis</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="columnalign">
        <list>
          <oneOrMore>
            <ref name="columnalignstyle"/>
          </oneOrMore>
        </list>
      </attribute>
    </optional>
    <optional>
      <attribute name="groupalign">
        <ref name="group-alignment-list-list"/>
      </attribute>
    </optional>
  </define>
  <define name="mtd">
    <element name="mtd">
      <ref name="mtd.attributes"/>
      <ref name="ImpliedMrow"/>
    </element>
  </define>
  <define name="mtd.attributes">
    <ref name="CommonAtt"/>
    <ref name="CommonPresAtt"/>
    <optional>
      <attribute name="rowspan">
        <ref name="positive-integer"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="columnspan">
        <ref name="positive-integer"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="rowalign">
        <choice>
          <value>top</value>
          <value>bottom</value>
          <value>center</value>
          <value>baseline</value>
          <value>axis</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="columnalign">
        <ref name="columnalignstyle"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="groupalign">
        <ref name="group-alignment-list"/>
      </attribute>
    </optional>
  </define>
  <define name="mstack">
    <element name="mstack">
      <ref name="mstack.attributes"/>
      <zeroOrMore>
        <ref name="MstackExpression"/>
      </zeroOrMore>
    </element>
  </define>
  <define name="mstack.attributes">
    <ref name="CommonAtt"/>
    <ref name="CommonPresAtt"/>
    <optional>
      <attribute name="align">
        <data type="string">
          <param name="pattern">\\s*(top|bottom|center|baseline|axis)(\\s+-?[0-9]+)?\\s*</param>
        </data>
      </attribute>
    </optional>
    <optional>
      <attribute name="stackalign">
        <choice>
          <value>left</value>
          <value>center</value>
          <value>right</value>
          <value>decimalpoint</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="charalign">
        <choice>
          <value>left</value>
          <value>center</value>
          <value>right</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="charspacing">
        <choice>
          <ref name="length"/>
          <value>loose</value>
          <value>medium</value>
          <value>tight</value>
        </choice>
      </attribute>
    </optional>
  </define>
  <define name="mlongdiv">
    <element name="mlongdiv">
      <ref name="mlongdiv.attributes"/>
      <ref name="MstackExpression"/>
      <ref name="MstackExpression"/>
      <oneOrMore>
        <ref name="MstackExpression"/>
      </oneOrMore>
    </element>
  </define>
  <define name="mlongdiv.attributes">
    <ref name="msgroup.attributes"/>
    <optional>
      <attribute name="longdivstyle">
        <choice>
          <value>lefttop</value>
          <value>stackedrightright</value>
          <value>mediumstackedrightright</value>
          <value>shortstackedrightright</value>
          <value>righttop</value>
          <value>left/\\right</value>
          <value>left)(right</value>
          <value>:right=right</value>
          <value>stackedleftleft</value>
          <value>stackedleftlinetop</value>
        </choice>
      </attribute>
    </optional>
  </define>
  <define name="msgroup">
    <element name="msgroup">
      <ref name="msgroup.attributes"/>
      <zeroOrMore>
        <ref name="MstackExpression"/>
      </zeroOrMore>
    </element>
  </define>
  <define name="msgroup.attributes">
    <ref name="CommonAtt"/>
    <ref name="CommonPresAtt"/>
    <optional>
      <attribute name="position">
        <ref name="integer"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="shift">
        <ref name="integer"/>
      </attribute>
    </optional>
  </define>
  <define name="msrow">
    <element name="msrow">
      <ref name="msrow.attributes"/>
      <zeroOrMore>
        <ref name="MsrowExpression"/>
      </zeroOrMore>
    </element>
  </define>
  <define name="msrow.attributes">
    <ref name="CommonAtt"/>
    <ref name="CommonPresAtt"/>
    <optional>
      <attribute name="position">
        <ref name="integer"/>
      </attribute>
    </optional>
  </define>
  <define name="mscarries">
    <element name="mscarries">
      <ref name="mscarries.attributes"/>
      <zeroOrMore>
        <choice>
          <ref name="MsrowExpression"/>
          <ref name="mscarry"/>
        </choice>
      </zeroOrMore>
    </element>
  </define>
  <define name="mscarries.attributes">
    <ref name="CommonAtt"/>
    <ref name="CommonPresAtt"/>
    <optional>
      <attribute name="position">
        <ref name="integer"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="location">
        <choice>
          <value>w</value>
          <value>nw</value>
          <value>n</value>
          <value>ne</value>
          <value>e</value>
          <value>se</value>
          <value>s</value>
          <value>sw</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="crossout">
        <list>
          <zeroOrMore>
            <choice>
              <value>none</value>
              <value>updiagonalstrike</value>
              <value>downdiagonalstrike</value>
              <value>verticalstrike</value>
              <value>horizontalstrike</value>
            </choice>
          </zeroOrMore>
        </list>
      </attribute>
    </optional>
    <optional>
      <attribute name="scriptsizemultiplier">
        <ref name="number"/>
      </attribute>
    </optional>
  </define>
  <define name="mscarry">
    <element name="mscarry">
      <ref name="mscarry.attributes"/>
      <zeroOrMore>
        <ref name="MsrowExpression"/>
      </zeroOrMore>
    </element>
  </define>
  <define name="mscarry.attributes">
    <ref name="CommonAtt"/>
    <ref name="CommonPresAtt"/>
    <optional>
      <attribute name="location">
        <choice>
          <value>w</value>
          <value>nw</value>
          <value>n</value>
          <value>ne</value>
          <value>e</value>
          <value>se</value>
          <value>s</value>
          <value>sw</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="crossout">
        <list>
          <zeroOrMore>
            <choice>
              <value>none</value>
              <value>updiagonalstrike</value>
              <value>downdiagonalstrike</value>
              <value>verticalstrike</value>
              <value>horizontalstrike</value>
            </choice>
          </zeroOrMore>
        </list>
      </attribute>
    </optional>
  </define>
  <define name="maction">
    <element name="maction">
      <ref name="maction.attributes"/>
      <oneOrMore>
        <ref name="MathExpression"/>
      </oneOrMore>
    </element>
  </define>
  <define name="maction.attributes">
    <ref name="CommonAtt"/>
    <ref name="CommonPresAtt"/>
    <attribute name="actiontype"/>
    <optional>
      <attribute name="selection">
        <ref name="positive-integer"/>
      </attribute>
    </optional>
  </define>

    <a:documentation>Presentation MathML</a:documentation>
  
  <!-- Inlined from mathml3-common.rng with overrides -->
<define name="math">
    <element name="math">
      <ref name="math.attributes"/>
      <zeroOrMore>
        <ref name="MathExpression"/>
      </zeroOrMore>
    </element>
  </define>
  <define name="MathExpression">
    <ref name="semantics"/>
  </define>
  <define name="NonMathMLAtt">
    <attribute>
      <anyName>
        <except>
          <nsName ns=""/>
          <nsName/>
        </except>
      </anyName>
      <data type="string"/>
    </attribute>
  </define>
  <define name="CommonDeprecatedAtt">
    <optional>
      <attribute name="other"/>
    </optional>
  </define>
  <!-- changed datatype of id attr from ID to non-empty string -->
  <define name="CommonAtt">
    <optional>
      <attribute name="id">
        <data type="string">
          <param name="pattern">[^\\s]+</param>
        </data>
      </attribute>
    </optional>
    <optional>
      <attribute name="xref"/>
    </optional>
    <optional>
      <attribute name="class">
        <data type="NMTOKENS"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="style">
        <data type="string"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="href">
        <data type="anyURI"/>
      </attribute>
    </optional>
    <ref name="CommonDeprecatedAtt"/>
    <zeroOrMore>
      <ref name="NonMathMLAtt"/>
    </zeroOrMore>
  </define>
  <define name="math.attributes">
    <ref name="CommonAtt"/>
    <optional>
      <attribute name="display">
        <choice>
          <value>block</value>
          <value>inline</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="maxwidth">
        <ref name="length"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="overflow">
        <choice>
          <value>linebreak</value>
          <value>scroll</value>
          <value>elide</value>
          <value>truncate</value>
          <value>scale</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="altimg">
        <data type="anyURI"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="altimg-width">
        <ref name="length"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="altimg-height">
        <ref name="length"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="altimg-valign">
        <choice>
          <ref name="length"/>
          <value>top</value>
          <value>middle</value>
          <value>bottom</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="alttext"/>
    </optional>
    <optional>
      <attribute name="cdgroup">
        <data type="anyURI"/>
      </attribute>
    </optional>
    <ref name="math.deprecatedattributes"/>
  </define>
  <!--
    the mathml3-presentation schema  adds additional attributes
    to the math element, all those valid on mstyle
  -->
  <define name="math.deprecatedattributes">
    <optional>
      <attribute name="mode">
        <data type="string"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="macros">
        <data type="string"/>
      </attribute>
    </optional>
  </define>
  <define name="name">
    <attribute name="name">
      <data type="NCName"/>
    </attribute>
  </define>
  <define name="cd">
    <attribute name="cd">
      <data type="NCName"/>
    </attribute>
  </define>
  <define name="src">
    <optional>
      <attribute name="src">
        <data type="anyURI"/>
      </attribute>
    </optional>
  </define>
  <define name="annotation">
    <element name="annotation">
      <ref name="annotation.attributes"/>
      <text/>
    </element>
  </define>
  <!-- changed content model of annotation-xml - - mike -->
  <define name="annotation-xml">
    <choice>
      <ref name="annotation-xml.xhtml"/>
      <ref name="annotation-xml.svg"/>
      <ref name="annotation-xml.mathml"/>
    </choice>
  </define>
  <define name="annotation-xml.model">
    <zeroOrMore>
      <choice>
        <ref name="MathExpression"/>
        <ref name="anyElement"/>
      </choice>
    </zeroOrMore>
  </define>
  <define name="anyElement">
    <element>
      <anyName>
        <except>
          <nsName/>
        </except>
      </anyName>
      <zeroOrMore>
        <choice>
          <attribute>
            <anyName/>
          </attribute>
          <text/>
          <ref name="anyElement"/>
        </choice>
      </zeroOrMore>
    </element>
  </define>
  <define name="annotation-xml.xhtml">
    <element name="annotation-xml">
      <ref name="annotation-xml.model.xhtml"/>
      <ref name="annotation-xml.attributes"/>
      <optional>
        <ref name="att-encoding.xhtml"/>
      </optional>
    </element>
  </define>
  <define name="annotation-xml.model.xhtml">
    <notAllowed/>
  </define>
  <define name="att-encoding.xhtml">
    <attribute name="encoding">
      <choice>
        <value type="string" datatypeLibrary="">application/xhtml+xml</value>
        <value type="string" datatypeLibrary="">text/html</value>
      </choice>
    </attribute>
  </define>
  <define name="annotation-xml.svg">
    <element name="annotation-xml">
      <ref name="annotation-xml.model.svg"/>
      <ref name="annotation-xml.attributes"/>
      <optional>
        <ref name="att-encoding.svg"/>
      </optional>
    </element>
  </define>
  <define name="annotation-xml.model.svg">
    <notAllowed/>
  </define>
  <define name="att-encoding.svg">
    <attribute name="encoding">
      <value type="string" datatypeLibrary="">SVG1.1</value>
    </attribute>
  </define>
  <define name="annotation-xml.mathml">
    <element name="annotation-xml">
      <ref name="annotation-xml.model.mathml"/>
      <ref name="annotation-xml.attributes"/>
      <optional>
        <ref name="att-encoding.mathml"/>
      </optional>
    </element>
  </define>
  <define name="annotation-xml.model.mathml">
    <ref name="math"/>
  </define>
  <define name="att-encoding.mathml">
    <attribute name="encoding">
      <choice>
        <value type="string" datatypeLibrary="">MathML</value>
        <value type="string" datatypeLibrary="">MathML-Content</value>
        <value type="string" datatypeLibrary="">MathML-Presentation</value>
      </choice>
    </attribute>
  </define>
  <define name="annotation.attributes">
    <ref name="CommonAtt"/>
    <optional>
      <ref name="cd"/>
    </optional>
    <optional>
      <ref name="name"/>
    </optional>
    <ref name="DefEncAtt"/>
    <optional>
      <ref name="src"/>
    </optional>
  </define>
  <define name="annotation-xml.attributes">
    <ref name="CommonAtt"/>
    <optional>
      <ref name="cd"/>
    </optional>
    <optional>
      <ref name="name"/>
    </optional>
    <optional>
      <ref name="src"/>
    </optional>
  </define>
  <define name="DefEncAtt">
    <optional>
      <attribute name="encoding">
        <data type="string"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="definitionURL">
        <data type="anyURI"/>
      </attribute>
    </optional>
  </define>
  <define name="semantics">
    <element name="semantics">
      <ref name="semantics.attributes"/>
      <ref name="MathExpression"/>
      <zeroOrMore>
        <choice>
          <ref name="annotation"/>
          <ref name="annotation-xml"/>
        </choice>
      </zeroOrMore>
    </element>
  </define>
  <define name="semantics.attributes">
    <ref name="CommonAtt"/>
    <ref name="DefEncAtt"/>
    <optional>
      <ref name="cd"/>
    </optional>
    <optional>
      <ref name="name"/>
    </optional>
  </define>
  <define name="length">
    <data type="string">
      <param name="pattern">\\s*((-?[0-9]*([0-9]\\.?|\\.[0-9])[0-9]*(e[mx]|in|cm|mm|p[xtc]|%)?)|(negative)?((very){0,2}thi(n|ck)|medium)mathspace)\\s*</param>
    </data>
  </define>

    <a:documentation>math and semantics common to both Content and Presentation</a:documentation>

    <!-- extend to circumvent datatype collisions -->
    <define name="NonMathMLAtt">
      <attribute>
        <anyName>
          <except>
            <nsName ns=""/>
            <nsName/>
            <nsName ns="http://www.w3.org/XML/1998/namespace"/>
            <nsName ns="http://www.w3.org/1999/xhtml"/>
            <nsName ns="http://www.w3.org/2001/xml-events"/>
            <nsName ns="http://www.w3.org/2001/10/synthesis"/>
            <nsName ns="http://www.idpf.org/2007/ops"/>
          </except>
        </anyName>
        <ref name="datatype.string"/>
      </attribute>
    </define>
    <!-- as ops allows presentation mathml only at top level, kill the contribution to MathExpression -->
    <define name="MathExpression">
      <choice>
        <ref name="semantics"/>
        <ref name="PresentationExpression"/>
      </choice>
    </define>
    <!-- override annotation-xml with EPUB restrictions -->
    <define name="annotation-xml">
      <ref name="epub.annotation-xml"/>
    </define>
  
  <!--
    Common attribute extensions
    - epub:type
  -->
  <define name="CommonAtt" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <!-- - SSML attributes -->
  <define name="CommonAtt" combine="interleave">
    <optional>
      <ref name="epub.ssml.ph.attr"/>
    </optional>
  </define>
  <!-- - xml:base -->
  <define name="CommonAtt" combine="interleave">
    <optional>
      <ref name="common.attrs.xmlbase"/>
    </optional>
  </define>
  <!-- - ARIA -->
  <define name="CommonAtt" combine="interleave">
    <optional>
      <ref name="aria.global"/>
    </optional>
  </define>
  <define name="annotation-xml.model.xhtml" combine="choice">
    <ref name="common.inner.flow"/>
  </define>
  <define name="annotation-xml.model.svg" combine="choice">
    <ref name="svg"/>
  </define>
  <!--
    The following comes from validator.nus xhtml5-svg-mathml.rnc driver:
    in our integration, <mtext> is the only MathML "token element" that can
    contain HTML element content; the <mi>, <mn>, <mo> and <ms> elements
    cannot; see http://www.w3.org/Bugs/Public/show_bug.cgi?id=9859#c8 for a
    rationale
  -->
  <define name="mtext.content" combine="choice">
    <ref name="common.elem.phrasing"/>
  </define>
  <!-- EPUB very specific annotation-xml restrictions: -->
  <define name="epub.annotation-xml">
    <choice>
      <ref name="annotation-xml.xhtml"/>
      <ref name="annotation-xml.svg"/>
      <ref name="epub.annotation-xml.mathml.content"/>
      <ref name="epub.annotation-xml.mathml.presentation"/>
    </choice>
  </define>
  <define name="epub.annotation-xml.attributes">
    <ref name="CommonAtt"/>
    <optional>
      <ref name="cd"/>
    </optional>
    <optional>
      <ref name="src"/>
    </optional>
  </define>
  <define name="epub.annotation-xml.mathml.content">
    <element name="annotation-xml">
      <ref name="epub.annotation-xml.model.mathml.content"/>
      <ref name="epub.annotation-xml.attributes"/>
      <ref name="epub.att-encoding.mathml.content"/>
      <ref name="epub.att-name.mathml.content"/>
    </element>
  </define>
  <define name="epub.annotation-xml.model.mathml.content">
    <zeroOrMore>
      <ref name="ContExp"/>
    </zeroOrMore>
  </define>
  <define name="epub.att-encoding.mathml.content">
    <attribute name="encoding">
      <choice>
        <value type="string" datatypeLibrary="">MathML-Content</value>
        <value type="string" datatypeLibrary="">application/mathml-content+xml</value>
      </choice>
    </attribute>
  </define>
  <define name="epub.att-name.mathml.content">
    <attribute name="name">
      <value type="string" datatypeLibrary="">contentequiv</value>
    </attribute>
  </define>
  <define name="epub.annotation-xml.mathml.presentation">
    <element name="annotation-xml">
      <ref name="epub.annotation-xml.model.mathml.presentation"/>
      <ref name="epub.annotation-xml.attributes"/>
      <ref name="epub.att-encoding.mathml.presentation"/>
      <optional>
        <ref name="epub.att-name.mathml.presentation"/>
      </optional>
    </element>
  </define>
  <define name="epub.annotation-xml.model.mathml.presentation">
    <zeroOrMore>
      <ref name="MathExpression"/>
    </zeroOrMore>
  </define>
  <define name="epub.att-encoding.mathml.presentation">
    <attribute name="encoding">
      <choice>
        <value type="string" datatypeLibrary="">MathML</value>
        <value>MathML-Presentation</value>
        <value type="string" datatypeLibrary="">application/mathml-presentation+xml</value>
      </choice>
    </attribute>
  </define>
  <define name="epub.att-name.mathml.presentation">
    <attribute name="name">
      <data type="NCName"/>
    </attribute>
  </define>
  <!-- Inlined from epub-shared-inc.rng -->
<!-- ##################################################################### -->
  <!-- EPUB elements -->
  <!-- Inlined from epub-trigger.rng with overrides -->
<!-- ##################################################################### -->
  <define name="epub.trigger">
    <a:documentation> RELAX NG Schema for EPUB: EPUB trigger element                    #</a:documentation>
    <!-- ##################################################################### -->
    <a:documentation>\`epub:trigger\` element</a:documentation>
    <element name="epub:trigger">
      <interleave>
        <ref name="epub.trigger.attrs"/>
        <ref name="epub.trigger.inner"/>
      </interleave>
    </element>
  </define>
  <define name="epub.trigger.attrs">
    <interleave>
      <optional>
        <ref name="common.attrs.id"/>
      </optional>
      <ref name="epub.trigger.attrs.action"/>
      <ref name="epub.trigger.attrs.ref"/>
      <ref name="xml.events.attrs.event"/>
      <ref name="xml.events.attrs.observer"/>
      <optional>
        <ref name="xml.events.attrs.defaultAction"/>
      </optional>
      <optional>
        <ref name="xml.events.attrs.phase"/>
      </optional>
      <optional>
        <ref name="xml.events.attrs.propagate"/>
      </optional>
    </interleave>
  </define>
  <define name="epub.trigger.attrs.action">
    <attribute name="action">
      <choice>
        <value>show</value>
        <value>hide</value>
        <value>play</value>
        <value>pause</value>
        <value>resume</value>
        <value>mute</value>
        <value>unmute</value>
      </choice>
    </attribute>
  </define>
  <define name="epub.trigger.attrs.ref">
    <attribute name="ref">
      <ref name="datatype.IDREF"/>
    </attribute>
  </define>
  <define name="xml.events.attrs.event">
    <attribute name="ev:event">
      <ref name="datatype.NMTOKEN"/>
    </attribute>
  </define>
  <define name="xml.events.attrs.observer">
    <attribute name="ev:observer">
      <ref name="datatype.IDREF"/>
    </attribute>
  </define>
  <define name="xml.events.attrs.defaultAction">
    <attribute name="ev:defaultAction">
      <choice>
        <value>cancel</value>
        <value>perform</value>
      </choice>
    </attribute>
  </define>
  <define name="xml.events.attrs.phase">
    <attribute name="ev:phase">
      <choice>
        <value>capture</value>
        <value>default</value>
      </choice>
    </attribute>
  </define>
  <define name="xml.events.attrs.propagate">
    <attribute name="ev:propagate">
      <choice>
        <value>stop</value>
        <value>continue</value>
      </choice>
    </attribute>
  </define>
  <define name="epub.trigger.inner">
    <empty/>
  </define>

    <a:documentation> RELAX NG Schema for EPUB: shared definitions for inclusion        #</a:documentation>
    <!-- ##################################################################### -->
    <a:documentation>Includes</a:documentation>
  
  <!-- Inlined from epub-switch.rng -->
<!-- ##################################################################### -->
  <define name="epub.switch.flow">
    <a:documentation> RELAX NG Schema for EPUB: EPUB switch element                     #</a:documentation>
    <!-- ##################################################################### -->
    <a:documentation>\`epub:switch\` element</a:documentation>
    <element name="epub:switch">
      <ref name="epub.switch.attrs"/>
      <oneOrMore>
        <ref name="epub.switch.case.flow"/>
      </oneOrMore>
      <ref name="epub.switch.default.flow"/>
    </element>
  </define>
  <define name="epub.switch.phrasing">
    <element name="epub:switch">
      <ref name="epub.switch.attrs"/>
      <oneOrMore>
        <ref name="epub.switch.case.phrasing"/>
      </oneOrMore>
      <ref name="epub.switch.default.phrasing"/>
    </element>
  </define>
  <define name="epub.switch.case.flow">
    <element name="epub:case">
      <interleave>
        <ref name="epub.case.attrs"/>
        <ref name="epub.case.flow.inner"/>
      </interleave>
    </element>
  </define>
  <define name="epub.switch.case.phrasing">
    <element name="epub:case">
      <interleave>
        <ref name="epub.case.attrs"/>
        <ref name="epub.case.phrasing.inner"/>
      </interleave>
    </element>
  </define>
  <define name="epub.switch.default.flow">
    <element name="epub:default">
      <interleave>
        <ref name="epub.default.attrs"/>
        <ref name="epub.default.flow.inner"/>
      </interleave>
    </element>
  </define>
  <define name="epub.switch.default.phrasing">
    <element name="epub:default">
      <interleave>
        <ref name="epub.default.attrs"/>
        <ref name="epub.default.phrasing.inner"/>
      </interleave>
    </element>
  </define>
  <define name="epub.case.flow.inner">
    <ref name="epub.switch.any"/>
  </define>
  <define name="epub.case.phrasing.inner">
    <ref name="epub.switch.any"/>
  </define>
  <define name="epub.switch.any">
    <zeroOrMore>
      <choice>
        <ref name="common.elem.flow"/>
        <ref name="epub.switch.anyElement"/>
        <text/>
      </choice>
    </zeroOrMore>
  </define>
  <define name="epub.default.flow.inner">
    <ref name="common.inner.flow"/>
  </define>
  <define name="epub.default.phrasing.inner">
    <ref name="common.inner.phrasing"/>
  </define>
  <define name="epub.switch.attrs" combine="interleave">
    <optional>
      <ref name="common.attrs.id"/>
    </optional>
  </define>
  <define name="epub.case.attrs" combine="interleave">
    <interleave>
      <optional>
        <ref name="common.attrs.id"/>
      </optional>
      <ref name="epub.case.attrs.rn"/>
    </interleave>
  </define>
  <define name="epub.default.attrs" combine="interleave">
    <optional>
      <ref name="common.attrs.id"/>
    </optional>
  </define>
  <define name="epub.case.attrs.rn">
    <attribute name="required-namespace">
      <ref name="datatype.URI"/>
    </attribute>
  </define>
  <define name="epub.switch.anyElement">
    <element>
      <anyName>
        <except>
          <nsName ns="http://www.w3.org/1998/Math/MathML"/>
          <nsName/>
        </except>
      </anyName>
      <zeroOrMore>
        <choice>
          <attribute>
            <anyName/>
          </attribute>
          <text/>
          <ref name="epub.switch.anyElement"/>
          <ref name="common.elem.flow"/>
        </choice>
      </zeroOrMore>
    </element>
  </define>
  <!-- EPUB attributes -->
  <!-- Inlined from epub-prefix-attr.rng -->
<!-- ##################################################################### -->
  <define name="epub.prefix.attr">
    <a:documentation> RELAX NG Schema for EPUB: EPUB prefix attributes                  #</a:documentation>
    <!-- ##################################################################### -->
    <a:documentation>prefix attributes</a:documentation>
    <attribute name="prefix">
      <ref name="datatype.prefixdecl"/>
    </attribute>
  </define>
  <define name="epub.prefix.attr.ns">
    <attribute name="epub:prefix">
      <ref name="datatype.prefixdecl"/>
    </attribute>
  </define>
  <!-- Inlined from epub-ssml-attrs.rng -->
<!-- ##################################################################### -->
  <define name="epub.ssml.ph.attr">
    <a:documentation> RELAX NG Schema for EPUB: EPUB SSML attributes                    #</a:documentation>
    <!-- ##################################################################### -->
    <a:documentation>SSML attributes</a:documentation>
    <attribute name="ssml:ph">
      <ref name="datatype.ssml.PhoneticExpression"/>
    </attribute>
  </define>
  <define name="epub.ssml.alphabet.attr">
    <attribute name="ssml:alphabet">
      <ref name="datatype.ssml.PhoneticAlphabet"/>
    </attribute>
  </define>
  <!-- Inlined from epub-type-attr.rng -->
<!-- ##################################################################### -->
  <define name="epub.type.attr">
    <a:documentation> RELAX NG Schema for EPUB: \`epub:type\` attribute                   #</a:documentation>
    <!-- ##################################################################### -->
    <a:documentation>\`epub:type\` attribute</a:documentation>
    <attribute name="epub:type">
      <ref name="datatype.properties"/>
    </attribute>
  </define>
  <!-- EPUB integration logic -->
  <!-- Inlined from epub-xhtml-integration.rng -->
<!-- ##################################################################### -->
  <!--
    Allow \`epub:type\` on all elements except:
     - the \`head\` element
     - metadata content (base, link, meta, noscript, script, style, template, title)
    
    Note:
    We can't use a common category since none is defined
    for non-metadata content. So we add it for each element.
  -->
  <!-- from applications.rnc -->
  <define name="progress.attrs" combine="interleave">
    <a:documentation> RELAX NG Schema for EPUB: integration of EPUB specifics in HTML   #</a:documentation>
    <!-- #####################################################################     -->
    <a:documentation>combine \`epub:type\`</a:documentation>
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="dialog.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="menu.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="mli.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="canvas.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="details.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="summary.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <!-- from block.rnc -->
  <define name="p.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="hr.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="pre.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="ul.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="li.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="ol.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="oli.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="dl.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="dt.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="dd.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="div.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="legend.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <!-- from data.rnc -->
  <define name="time.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="time.datetime.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="data.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="meter.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <!-- from embed.rnc -->
  <define name="img.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="picture.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="embed.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="object.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="param.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="iframe.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="map.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="area.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <!-- from media.rnc -->
  <define name="source.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="video.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="audio.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="track.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="figure.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="figcaption.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <!-- from meta.rnc -->
  <define name="html.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="body.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <!-- from phrase.rnc -->
  <define name="a.href.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="a.nohref.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="em.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="strong.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="small.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="mark.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="abbr.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="dfn.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="i.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="b.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="s.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="u.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="code.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="var.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="samp.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="kbd.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="sup.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="sub.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="q.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="cite.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="span.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="bdo.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="bdi.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="br.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="wbr.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <!-- from revision.rnc -->
  <define name="ins.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="del.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <!-- from ruby.rnc -->
  <define name="ruby.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="rt.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="rp.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <!-- from sectional.rnc -->
  <define name="h1.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="h2.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="h3.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="h4.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="h5.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="h6.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="hgroup.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="address.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="blockquote.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <!-- from structural.rnc -->
  <define name="section.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="nav.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="article.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="aside.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="header.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="footer.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="main.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <!-- from tables.rnc -->
  <define name="table.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="caption.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="colgroup.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="thead.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="tfoot.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="tbody.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="tr.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="td.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="th.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <!-- from web-forms.rnc and web-forms2.rnc -->
  <define name="common-form.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="option.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="optgroup.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="form.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="label.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="output.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="datalist.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="html.attrs" combine="interleave">
    <a:documentation>combine prefix attributes</a:documentation>
    <optional>
      <ref name="epub.prefix.attr.ns"/>
    </optional>
  </define>
  <define name="common.attrs.other" combine="interleave">
    <a:documentation>combine SSML attributes</a:documentation>
    <interleave>
      <optional>
        <ref name="epub.ssml.ph.attr"/>
      </optional>
      <optional>
        <ref name="epub.ssml.alphabet.attr"/>
      </optional>
    </interleave>
  </define>
  <define name="common.elem.flow" combine="choice">
    <a:documentation>combine \`epub:switch\` element</a:documentation>
    <ref name="epub.switch.flow"/>
  </define>
  <define name="common.elem.phrasing" combine="choice">
    <ref name="epub.switch.phrasing"/>
  </define>
  <define name="common.elem.metadata" combine="choice">
    <a:documentation>combine \`epub:trigger\` element</a:documentation>
    <ref name="epub.trigger"/>
  </define>
  <define name="common.elem.flow" combine="choice">
    <ref name="epub.trigger"/>
  </define>
  <!--
    Note: the default HMTL schema does not define such a category, so we
    do our best to include what makes sense here
  -->
  <define name="common.inner.anyhtml">
    <a:documentation>Content model: HTML fragments</a:documentation>
    <choice>
      <ref name="html.elem"/>
      <ref name="body.elem"/>
      <ref name="common.inner.flow"/>
    </choice>
  </define>
  <define name="common.elem.phrasing" combine="choice">
    <ref name="svg"/>
  </define>
  <define name="common.elem.phrasing" combine="choice">
    <ref name="math"/>
  </define>

    <a:documentation> RELAX NG Schema for EPUB: EPUB SVG (+ XHTML, + MathML)            #</a:documentation>
    <start>
      <ref name="svg"/>
    </start>
    <!-- Override the \`id\` attribute to require a valid XML ID -->
    <define name="svg.attr.id">
      <optional>
        <attribute name="id">
          <data type="ID"/>
        </attribute>
      </optional>
    </define>
  
  <!-- Allow \`body\` element as a child of \`foreignObject\` -->
  <define name="svg.foreignObject.inner" combine="choice">
    <ref name="body.elem"/>
  </define>
  <!-- Allow \`epub:prefix\` attribute on \`svg\` root -->
  <define name="svg.attrs" combine="interleave">
    <optional>
      <ref name="epub.prefix.attr.ns"/>
    </optional>
  </define>
</grammar>
`;

export const EPUB_SVG_30_SCH = `<?xml version="1.0" encoding="UTF-8"?>
<schema xmlns="http://purl.oclc.org/dsdl/schematron">    
    
    <include href="./mod/id-unique.sch"/>
        
</schema>

`;

export const EPUB_SVG_FORGIVING_INC_RNG = `<?xml version="1.0" encoding="UTF-8"?>
<grammar ns="http://www.w3.org/2000/svg" xmlns:a="http://relaxng.org/ns/compatibility/annotations/1.0" xmlns:epub="http://www.idpf.org/2007/ops" xmlns="http://relaxng.org/ns/structure/1.0">
  <!-- ##################################################################### -->
  <define name="svg">
    <a:documentation> RELAX NG Schema for EPUB: EPUB SVG forgiving grammar check        #</a:documentation>
    <!-- ##################################################################### -->
    <!--
      The schema:
      - checks the \`id\` attribute datatype
      - restricts the content model of the \`title\` and \`foreignObject\`,
        following the EPUB SVG restrictions
      - checks that \`epub:type\` is only used on allowed elements
        (i.e. structural, shape, and text elements)
      Ohterwise, it does not report SVG validation errors.
    -->
    <a:documentation>Root Element: &lt;svg&gt;</a:documentation>
    <element name="svg">
      <interleave>
        <ref name="svg.inner"/>
        <ref name="svg.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="svg.attrs">
    <ref name="svg.epubtype.allowed.attrs"/>
  </define>
  <define name="svg.inner">
    <ref name="svg.any.inner"/>
  </define>
  <!-- ID attribute is defined specifically, for type checking -->
  <define name="svg.attr.id">
    <a:documentation>Attributes</a:documentation>
    <attribute name="id">
      <ref name="datatype.html5.token"/>
    </attribute>
  </define>
  <!-- Any other attribute -->
  <define name="svg.generic.attr">
    <attribute>
      <anyName>
        <except>
          <name ns="">id</name>
          <nsName ns="http://www.idpf.org/2007/ops"/>
        </except>
      </anyName>
    </attribute>
  </define>
  <!-- Attribute list of elements where \`epub:type\` is allowed -->
  <define name="svg.epubtype.allowed.attrs">
    <interleave>
      <optional>
        <ref name="epub.type.attr"/>
      </optional>
      <optional>
        <ref name="svg.attr.id"/>
      </optional>
      <zeroOrMore>
        <ref name="svg.generic.attr"/>
      </zeroOrMore>
    </interleave>
  </define>
  <!-- Attribute list of elements where \`epub:type\` is forbidden -->
  <define name="svg.epubtype.forbidden.attrs">
    <interleave>
      <optional>
        <ref name="svg.attr.id"/>
      </optional>
      <zeroOrMore>
        <ref name="svg.generic.attr"/>
      </zeroOrMore>
    </interleave>
  </define>
  <define name="svg.restricted.elem">
    <a:documentation>Restricted Elements</a:documentation>
    <choice>
      <ref name="svg.foreignObject.elem"/>
      <ref name="svg.title.elem"/>
    </choice>
  </define>
  <define name="svg.foreignObject.elem">
    <a:documentation>Restricted Element: \`foreignObject\`</a:documentation>
    <element name="foreignObject">
      <interleave>
        <ref name="svg.foreignObject.inner"/>
        <ref name="svg.foreignObject.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="svg.foreignObject.attrs">
    <ref name="svg.epubtype.forbidden.attrs"/>
  </define>
  <define name="svg.foreignObject.inner">
    <ref name="common.inner.flow"/>
  </define>
  <define name="svg.title.elem">
    <a:documentation>Restricted Element: \`title\`</a:documentation>
    <element name="title">
      <interleave>
        <ref name="svg.title.inner"/>
        <ref name="svg.title.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="svg.title.attrs">
    <ref name="svg.epubtype.forbidden.attrs"/>
  </define>
  <define name="svg.title.inner">
    <ref name="common.inner.anyhtml"/>
  </define>
  <!--
    the elements where \`epub:type\` is allowed and that have no
    specific content model defined anove.
    
    Note: an element in this list also needs to be added to the
    exception clause in the \`svg.anyother.elem\` class
  -->
  <define name="svg.renderable.elem">
    <a:documentation>Other elements where \`epub:type\` is allowed</a:documentation>
    <choice>
      <element name="a">
        <interleave>
          <ref name="svg.any.inner"/>
          <ref name="svg.epubtype.allowed.attrs"/>
        </interleave>
      </element>
      <element name="audio">
        <interleave>
          <ref name="svg.any.inner"/>
          <ref name="svg.epubtype.allowed.attrs"/>
        </interleave>
      </element>
      <element name="canvas">
        <interleave>
          <ref name="svg.any.inner"/>
          <ref name="svg.epubtype.allowed.attrs"/>
        </interleave>
      </element>
      <element name="circle">
        <interleave>
          <ref name="svg.any.inner"/>
          <ref name="svg.epubtype.allowed.attrs"/>
        </interleave>
      </element>
      <element name="ellipse">
        <interleave>
          <ref name="svg.any.inner"/>
          <ref name="svg.epubtype.allowed.attrs"/>
        </interleave>
      </element>
      <element name="g">
        <interleave>
          <ref name="svg.any.inner"/>
          <ref name="svg.epubtype.allowed.attrs"/>
        </interleave>
      </element>
      <element name="iframe">
        <interleave>
          <ref name="svg.any.inner"/>
          <ref name="svg.epubtype.allowed.attrs"/>
        </interleave>
      </element>
      <element name="image">
        <interleave>
          <ref name="svg.any.inner"/>
          <ref name="svg.epubtype.allowed.attrs"/>
        </interleave>
      </element>
      <element name="line">
        <interleave>
          <ref name="svg.any.inner"/>
          <ref name="svg.epubtype.allowed.attrs"/>
        </interleave>
      </element>
      <element name="path">
        <interleave>
          <ref name="svg.any.inner"/>
          <ref name="svg.epubtype.allowed.attrs"/>
        </interleave>
      </element>
      <element name="polygon">
        <interleave>
          <ref name="svg.any.inner"/>
          <ref name="svg.epubtype.allowed.attrs"/>
        </interleave>
      </element>
      <element name="polyline">
        <interleave>
          <ref name="svg.any.inner"/>
          <ref name="svg.epubtype.allowed.attrs"/>
        </interleave>
      </element>
      <element name="rect">
        <interleave>
          <ref name="svg.any.inner"/>
          <ref name="svg.epubtype.allowed.attrs"/>
        </interleave>
      </element>
      <element name="svg">
        <interleave>
          <ref name="svg.any.inner"/>
          <ref name="svg.epubtype.allowed.attrs"/>
        </interleave>
      </element>
      <element name="switch">
        <interleave>
          <ref name="svg.any.inner"/>
          <ref name="svg.epubtype.allowed.attrs"/>
        </interleave>
      </element>
      <element name="symbol">
        <interleave>
          <ref name="svg.any.inner"/>
          <ref name="svg.epubtype.allowed.attrs"/>
        </interleave>
      </element>
      <element name="text">
        <interleave>
          <ref name="svg.any.inner"/>
          <ref name="svg.epubtype.allowed.attrs"/>
        </interleave>
      </element>
      <element name="textPath">
        <interleave>
          <ref name="svg.any.inner"/>
          <ref name="svg.epubtype.allowed.attrs"/>
        </interleave>
      </element>
      <element name="tspan">
        <interleave>
          <ref name="svg.any.inner"/>
          <ref name="svg.epubtype.allowed.attrs"/>
        </interleave>
      </element>
      <element name="unknown">
        <interleave>
          <ref name="svg.any.inner"/>
          <ref name="svg.epubtype.allowed.attrs"/>
        </interleave>
      </element>
      <element name="use">
        <interleave>
          <ref name="svg.any.inner"/>
          <ref name="svg.epubtype.allowed.attrs"/>
        </interleave>
      </element>
      <element name="video">
        <interleave>
          <ref name="svg.any.inner"/>
          <ref name="svg.epubtype.allowed.attrs"/>
        </interleave>
      </element>
    </choice>
  </define>
  <define name="svg.epubtype.allowed.elem">
    <ref name="svg.renderable.elem"/>
  </define>
  <!--
    any element except:
    - the elements with a restricted content model
    - the elements allowing \`epub:type\`
  -->
  <define name="svg.anyother.elem">
    <a:documentation>Any other elements</a:documentation>
    <element>
      <anyName>
        <except>
          <name>foreignObject</name>
          <name>title</name>
          <name>a</name>
          <name>audio</name>
          <name>canvas</name>
          <name>circle</name>
          <name>ellipse</name>
          <name>g</name>
          <name>iframe</name>
          <name>image</name>
          <name>line</name>
          <name>path</name>
          <name>polygon</name>
          <name>polyline</name>
          <name>rect</name>
          <name>svg</name>
          <name>switch</name>
          <name>symbol</name>
          <name>text</name>
          <name>textPath</name>
          <name>tspan</name>
          <name>unknown</name>
          <name>use</name>
          <name>video</name>
        </except>
      </anyName>
      <interleave>
        <ref name="svg.any.inner"/>
        <ref name="svg.epubtype.forbidden.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="svg.any.elem">
    <a:documentation>Anything</a:documentation>
    <choice>
      <ref name="svg.epubtype.allowed.elem"/>
      <ref name="svg.restricted.elem"/>
      <ref name="svg.anyother.elem"/>
    </choice>
  </define>
  <define name="svg.any.inner">
    <interleave>
      <text/>
      <zeroOrMore>
        <ref name="svg.any.elem"/>
      </zeroOrMore>
    </interleave>
  </define>
</grammar>
`;

export const EPUB_SWITCH_RNG = `<?xml version="1.0" encoding="UTF-8"?>
<grammar ns="http://www.w3.org/1999/xhtml" xmlns:a="http://relaxng.org/ns/compatibility/annotations/1.0" xmlns:epub="http://www.idpf.org/2007/ops" xmlns:h="http://www.w3.org/1999/xhtml" xmlns:m="http://www.w3.org/1998/Math/MathML" xmlns="http://relaxng.org/ns/structure/1.0">
  <!-- ##################################################################### -->
  <define name="epub.switch.flow">
    <a:documentation> RELAX NG Schema for EPUB: EPUB switch element                     #</a:documentation>
    <!-- ##################################################################### -->
    <a:documentation>\`epub:switch\` element</a:documentation>
    <element name="epub:switch">
      <ref name="epub.switch.attrs"/>
      <oneOrMore>
        <ref name="epub.switch.case.flow"/>
      </oneOrMore>
      <ref name="epub.switch.default.flow"/>
    </element>
  </define>
  <define name="epub.switch.phrasing">
    <element name="epub:switch">
      <ref name="epub.switch.attrs"/>
      <oneOrMore>
        <ref name="epub.switch.case.phrasing"/>
      </oneOrMore>
      <ref name="epub.switch.default.phrasing"/>
    </element>
  </define>
  <define name="epub.switch.case.flow">
    <element name="epub:case">
      <interleave>
        <ref name="epub.case.attrs"/>
        <ref name="epub.case.flow.inner"/>
      </interleave>
    </element>
  </define>
  <define name="epub.switch.case.phrasing">
    <element name="epub:case">
      <interleave>
        <ref name="epub.case.attrs"/>
        <ref name="epub.case.phrasing.inner"/>
      </interleave>
    </element>
  </define>
  <define name="epub.switch.default.flow">
    <element name="epub:default">
      <interleave>
        <ref name="epub.default.attrs"/>
        <ref name="epub.default.flow.inner"/>
      </interleave>
    </element>
  </define>
  <define name="epub.switch.default.phrasing">
    <element name="epub:default">
      <interleave>
        <ref name="epub.default.attrs"/>
        <ref name="epub.default.phrasing.inner"/>
      </interleave>
    </element>
  </define>
  <define name="epub.case.flow.inner">
    <ref name="epub.switch.any"/>
  </define>
  <define name="epub.case.phrasing.inner">
    <ref name="epub.switch.any"/>
  </define>
  <define name="epub.switch.any">
    <zeroOrMore>
      <choice>
        <ref name="common.elem.flow"/>
        <ref name="epub.switch.anyElement"/>
        <text/>
      </choice>
    </zeroOrMore>
  </define>
  <define name="epub.default.flow.inner">
    <ref name="common.inner.flow"/>
  </define>
  <define name="epub.default.phrasing.inner">
    <ref name="common.inner.phrasing"/>
  </define>
  <define name="epub.switch.attrs" combine="interleave">
    <optional>
      <ref name="common.attrs.id"/>
    </optional>
  </define>
  <define name="epub.case.attrs" combine="interleave">
    <interleave>
      <optional>
        <ref name="common.attrs.id"/>
      </optional>
      <ref name="epub.case.attrs.rn"/>
    </interleave>
  </define>
  <define name="epub.default.attrs" combine="interleave">
    <optional>
      <ref name="common.attrs.id"/>
    </optional>
  </define>
  <define name="epub.case.attrs.rn">
    <attribute name="required-namespace">
      <ref name="datatype.URI"/>
    </attribute>
  </define>
  <define name="epub.switch.anyElement">
    <element>
      <anyName>
        <except>
          <nsName ns="http://www.w3.org/1998/Math/MathML"/>
          <nsName/>
        </except>
      </anyName>
      <zeroOrMore>
        <choice>
          <attribute>
            <anyName/>
          </attribute>
          <text/>
          <ref name="epub.switch.anyElement"/>
          <ref name="common.elem.flow"/>
        </choice>
      </zeroOrMore>
    </element>
  </define>
</grammar>
`;

export const EPUB_TRIGGER_RNG = `<?xml version="1.0" encoding="UTF-8"?>
<grammar xmlns:ev="http://www.w3.org/2001/xml-events" xmlns:a="http://relaxng.org/ns/compatibility/annotations/1.0" xmlns:epub="http://www.idpf.org/2007/ops" xmlns="http://relaxng.org/ns/structure/1.0">
  <!-- ##################################################################### -->
  <define name="epub.trigger">
    <a:documentation> RELAX NG Schema for EPUB: EPUB trigger element                    #</a:documentation>
    <!-- ##################################################################### -->
    <a:documentation>\`epub:trigger\` element</a:documentation>
    <element name="epub:trigger">
      <interleave>
        <ref name="epub.trigger.attrs"/>
        <ref name="epub.trigger.inner"/>
      </interleave>
    </element>
  </define>
  <define name="epub.trigger.attrs">
    <interleave>
      <optional>
        <ref name="common.attrs.id"/>
      </optional>
      <ref name="epub.trigger.attrs.action"/>
      <ref name="epub.trigger.attrs.ref"/>
      <ref name="xml.events.attrs.event"/>
      <ref name="xml.events.attrs.observer"/>
      <optional>
        <ref name="xml.events.attrs.defaultAction"/>
      </optional>
      <optional>
        <ref name="xml.events.attrs.phase"/>
      </optional>
      <optional>
        <ref name="xml.events.attrs.propagate"/>
      </optional>
    </interleave>
  </define>
  <define name="epub.trigger.attrs.action">
    <attribute name="action">
      <choice>
        <value>show</value>
        <value>hide</value>
        <value>play</value>
        <value>pause</value>
        <value>resume</value>
        <value>mute</value>
        <value>unmute</value>
      </choice>
    </attribute>
  </define>
  <define name="epub.trigger.attrs.ref">
    <attribute name="ref">
      <ref name="datatype.IDREF"/>
    </attribute>
  </define>
  <define name="xml.events.attrs.event">
    <attribute name="ev:event">
      <ref name="datatype.NMTOKEN"/>
    </attribute>
  </define>
  <define name="xml.events.attrs.observer">
    <attribute name="ev:observer">
      <ref name="datatype.IDREF"/>
    </attribute>
  </define>
  <define name="xml.events.attrs.defaultAction">
    <attribute name="ev:defaultAction">
      <choice>
        <value>cancel</value>
        <value>perform</value>
      </choice>
    </attribute>
  </define>
  <define name="xml.events.attrs.phase">
    <attribute name="ev:phase">
      <choice>
        <value>capture</value>
        <value>default</value>
      </choice>
    </attribute>
  </define>
  <define name="xml.events.attrs.propagate">
    <attribute name="ev:propagate">
      <choice>
        <value>stop</value>
        <value>continue</value>
      </choice>
    </attribute>
  </define>
  <define name="epub.trigger.inner">
    <empty/>
  </define>
</grammar>
`;

export const EPUB_TYPE_ATTR_RNG = `<?xml version="1.0" encoding="UTF-8"?>
<grammar xmlns:a="http://relaxng.org/ns/compatibility/annotations/1.0" xmlns:epub="http://www.idpf.org/2007/ops" xmlns="http://relaxng.org/ns/structure/1.0">
  <!-- ##################################################################### -->
  <define name="epub.type.attr">
    <a:documentation> RELAX NG Schema for EPUB: \`epub:type\` attribute                   #</a:documentation>
    <!-- ##################################################################### -->
    <a:documentation>\`epub:type\` attribute</a:documentation>
    <attribute name="epub:type">
      <ref name="datatype.properties"/>
    </attribute>
  </define>
</grammar>
`;

export const EPUB_XHTML_30_RNC = `
# #####################################################################
##  RELAX NG Schema for EPUB: EPUB XHTML (+ SVG, + MathML)            #
# #####################################################################

include "./mod/epub-xhtml-svg-mathml.rnc"`;

export const EPUB_XHTML_30_RNG = `<?xml version="1.0" encoding="UTF-8"?>
<grammar xmlns:a="http://relaxng.org/ns/compatibility/annotations/1.0" xmlns="http://relaxng.org/ns/structure/1.0" datatypeLibrary="http://www.w3.org/2001/XMLSchema-datatypes">
  <!-- ##################################################################### -->
  <!-- ##################################################################### -->
  <!-- Inlined from epub-xhtml-svg-mathml.rng with overrides -->
<!-- ##################################################################### -->
  <!-- ##################################################################### -->
  <!-- Inlined from epub-xhtml-inc.rng with overrides -->
<!-- ##################################################################### -->
  <!-- Inlined from common.rng with overrides -->
<!-- ##################################################################### -->
  <define name="XMLonly">
    <a:documentation> RELAX NG Schema for HTML 5: Common Definitions                    #</a:documentation>
    <!-- ##################################################################### -->
    <!-- ##################################################################### -->
    <a:documentation> Language Parameters - redefine in inclusion block as necessary    #</a:documentation>
    <!-- ##################################################################### -->
    <a:documentation>HTML vs. XHTML restrictions</a:documentation>
    <empty/>
  </define>
  <define name="HTMLonly">
    <notAllowed/>
  </define>
  <!--
                            (This only affects mixed-version modules; wholly HTML5
                             modules should simply be left out of the inclusion list.)
  -->
  <define name="v5only">
    <a:documentation>HTML 4 Compatibility - set to notAllowed to disallow markup introduced in HTML 5</a:documentation>
    <empty/>
  </define>
  <!--  (xml:base on elements other than <html>) -->
  <define name="nonRoundtrippable">
    <a:documentation>HTML Compatibility Switches - set to notAllowed to disallow</a:documentation>
    <a:documentation>XML features that can't be roundtripped HTML &lt;-&gt; XHTML</a:documentation>
    <empty/>
  </define>
  <define name="nonHTMLizable">
    <a:documentation>XML features that can't be serialized as HTML</a:documentation>
    <empty/>
  </define>
  <!-- ##################################################################### -->
  <define name="common.attr.anything">
    <a:documentation> Wildcards                                                         #</a:documentation>
    <!-- ##################################################################### -->
    <a:documentation>Any attribute from any namespace</a:documentation>
    <zeroOrMore>
      <attribute>
        <anyName/>
      </attribute>
    </zeroOrMore>
  </define>
  <define name="common.elem.anything">
    <a:documentation>Any element from any namespace</a:documentation>
    <element>
      <anyName/>
      <interleave>
        <ref name="common.inner.anything"/>
        <ref name="common.attr.anything"/>
      </interleave>
    </element>
  </define>
  <define name="common.inner.anything">
    <a:documentation>Any content from any namespace</a:documentation>
    <interleave>
      <text/>
      <zeroOrMore>
        <ref name="common.elem.anything"/>
      </zeroOrMore>
    </interleave>
  </define>
  <!-- ##################################################################### -->
  <define name="common.elem.metadata">
    <a:documentation> Common Element Classes                                            #</a:documentation>
    <!-- ##################################################################### -->
    <a:documentation>Metadata Elements</a:documentation>
    <notAllowed/>
  </define>
  <define name="common.elem.phrasing">
    <a:documentation>Phrase Elements</a:documentation>
    <notAllowed/>
  </define>
  <define name="common.elem.flow">
    <a:documentation>Prose Elements</a:documentation>
    <ref name="common.elem.phrasing"/>
  </define>
  <!-- ##################################################################### -->
  <define name="common.inner.metadata">
    <a:documentation> Common Content Models                                             #</a:documentation>
    <!-- ##################################################################### -->
    <a:documentation>Metadata Content</a:documentation>
    <zeroOrMore>
      <ref name="common.elem.metadata"/>
    </zeroOrMore>
  </define>
  <define name="common.inner.phrasing">
    <a:documentation>Phrase Content</a:documentation>
    <interleave>
      <text/>
      <zeroOrMore>
        <ref name="common.elem.phrasing"/>
      </zeroOrMore>
    </interleave>
  </define>
  <define name="common.inner.transparent.flow">
    <a:documentation>Prose Content</a:documentation>
    <interleave>
      <text/>
      <zeroOrMore>
        <ref name="common.elem.flow"/>
      </zeroOrMore>
    </interleave>
  </define>
  <define name="common.inner.flow">
    <interleave>
      <text/>
      <zeroOrMore>
        <ref name="common.elem.flow"/>
      </zeroOrMore>
    </interleave>
  </define>
  <!-- ##################################################################### -->
  <!-- ##################################################################### -->
  <!-- When updating, check <bdo> definition too -->
  <define name="common.attrs">
    <a:documentation> Common Attributes                                                 #</a:documentation>
    <interleave>
      <ref name="common.attrs.basic"/>
      <ref name="common.attrs.i18n"/>
      <ref name="common.attrs.present"/>
      <ref name="common.attrs.other"/>
    </interleave>
  </define>
  <define name="common.attrs.basic">
    <interleave>
      <optional>
        <ref name="common.attrs.id"/>
      </optional>
      <optional>
        <ref name="common.attrs.class"/>
      </optional>
      <optional>
        <ref name="common.attrs.title"/>
      </optional>
      <optional>
        <ref name="common.attrs.base"/>
      </optional>
      <optional>
        <ref name="common.attrs.space"/>
      </optional>
    </interleave>
  </define>
  <define name="common.attrs.id">
    <attribute name="id">
      <ref name="common.data.id"/>
    </attribute>
  </define>
  <define name="common.attrs.class">
    <attribute name="class">
      <ref name="common.data.tokens"/>
    </attribute>
  </define>
  <define name="common.attrs.title">
    <attribute name="title"/>
  </define>
  <define name="common.attrs.base">
    <interleave>
      <ref name="common.attrs.xmlbase"/>
      <ref name="nonRoundtrippable"/>
    </interleave>
  </define>
  <define name="common.attrs.xmlbase">
    <interleave>
      <attribute name="xml:base">
        <ref name="common.data.uri"/>
      </attribute>
      <ref name="XMLonly"/>
    </interleave>
  </define>
  <define name="common.attrs.space">
    <ref name="common.attrs.xmlspace"/>
  </define>
  <define name="common.attrs.xmlspace">
    <interleave>
      <attribute name="xml:space">
        <choice>
          <value type="string" datatypeLibrary="">preserve</value>
          <value type="string" datatypeLibrary="">default</value>
        </choice>
      </attribute>
      <ref name="XMLonly"/>
    </interleave>
  </define>
  <define name="common.attrs.i18n">
    <interleave>
      <optional>
        <ref name="common.attrs.dir"/>
      </optional>
      <optional>
        <ref name="common.attrs.language"/>
      </optional>
      <optional>
        <ref name="common.attrs.translate"/>
      </optional>
    </interleave>
  </define>
  <define name="common.attrs.dir">
    <attribute name="dir">
      <choice>
        <value>ltr</value>
        <value>rtl</value>
        <value>auto</value>
      </choice>
    </attribute>
  </define>
  <!--
    This lang definition is a hack for environments where
    the HTML5 parser maps lang to xml:lang.
    Sameness check left to Schematron
  -->
  <define name="common.attrs.language">
    <interleave>
      <optional>
        <ref name="common.attrs.xmllang"/>
      </optional>
      <optional>
        <ref name="common.attrs.lang"/>
      </optional>
    </interleave>
  </define>
  <define name="common.attrs.lang">
    <interleave>
      <attribute name="lang">
        <ref name="common.data.langcode"/>
      </attribute>
      <ref name="XMLonly"/>
    </interleave>
  </define>
  <define name="common.attrs.xmllang">
    <attribute name="xml:lang">
      <ref name="common.data.langcode"/>
    </attribute>
  </define>
  <!--
    	common.attrs.language =
    		(	common.attrs.lang
    		|	common.attrs.xmllang
    		)
    	common.attrs.lang =
    		attribute lang {
    			common.data.langcode
    		} & HTMLonly
    	common.attrs.xmllang =
    		attribute xml:lang {
    			common.data.langcode
    		} & XMLonly
  -->
  <define name="common.attrs.translate">
    <attribute name="translate">
      <choice>
        <value/>
        <value>yes</value>
        <value>no</value>
      </choice>
    </attribute>
  </define>
  <define name="common.attrs.present">
    <interleave>
      <optional>
        <ref name="common.attrs.style"/>
      </optional>
      <optional>
        <ref name="common.attrs.tabindex"/>
      </optional>
      <optional>
        <ref name="common.attrs.accesskey"/>
      </optional>
    </interleave>
  </define>
  <define name="common.attrs.style">
    <attribute name="style">
      <data type="string" datatypeLibrary=""/>
    </attribute>
  </define>
  <define name="common.attrs.tabindex">
    <attribute name="tabindex">
      <ref name="common.data.integer"/>
    </attribute>
  </define>
  <!-- REVISIT move style to a module and bundle tabindex with ARIA -->
  <define name="common.attrs.accesskey">
    <attribute name="accesskey">
      <ref name="common.data.keylabellist"/>
    </attribute>
  </define>
  <define name="common.attrs.other">
    <interleave>
      <optional>
        <ref name="common.attrs.autofocus"/>
      </optional>
      <optional>
        <ref name="common.attrs.nonce"/>
      </optional>
      <optional>
        <ref name="common.attrs.inert"/>
      </optional>
    </interleave>
  </define>
  <define name="common.attrs.autofocus">
    <attribute name="autofocus">
      <choice>
        <value>autofocus</value>
        <value/>
      </choice>
    </attribute>
  </define>
  <define name="common.attrs.blocking">
    <attribute name="blocking">
      <list>
        <value>render</value>
      </list>
    </attribute>
  </define>
  <define name="common.attrs.fetchpriority">
    <attribute name="fetchpriority">
      <choice>
        <value>high</value>
        <value>low</value>
        <value>auto</value>
      </choice>
    </attribute>
  </define>
  <define name="common.attrs.nonce">
    <attribute name="nonce">
      <data type="string" datatypeLibrary=""/>
    </attribute>
  </define>
  <define name="common.attrs.inert">
    <attribute name="inert">
      <choice>
        <value type="string" datatypeLibrary="">inert</value>
        <value type="string" datatypeLibrary=""/>
      </choice>
    </attribute>
  </define>
  <!-- ##################################################################### -->
  <define name="common.data.tokens">
    <a:documentation> Common Datatypes                                                  #</a:documentation>
    <!-- ##################################################################### -->
    <a:documentation>Names and Tokens</a:documentation>
    <list>
      <zeroOrMore>
        <data type="token" datatypeLibrary=""/>
      </zeroOrMore>
    </list>
  </define>
  <define name="common.data.browsing-context">
    <ref name="datatype.html5.browsing.context.name"/>
  </define>
  <define name="common.data.browsing-context-or-keyword">
    <ref name="datatype.html5.browsing.context.name.or.keyword"/>
  </define>
  <!--
    		xsd:string {
    			pattern = "()|([^_].*)|(_[bB][lL][aA][nN][kK])|(_[sS][eE][lL][fF])|(_[pP][aA][rR][eE][nN][tT])|(_[tT][oO][pP])"
    		}
  -->
  <define name="common.data.id">
    <a:documentation>IDs and IDREFs</a:documentation>
    <ref name="datatype.html5.token"/>
  </define>
  <!--
    		xsd:string {
    			pattern = "\\S+"
    		}
  -->
  <define name="common.data.idref">
    <ref name="datatype.html5.token"/>
  </define>
  <define name="common.data.idrefs">
    <ref name="datatype.html5.space.separated.tokens"/>
  </define>
  <define name="common.data.name">
    <ref name="datatype.html5.token"/>
  </define>
  <define name="common.data.hash-name">
    <ref name="datatype.html5.name.reference"/>
  </define>
  <!--
    		xsd:string {
    			pattern = "#.+"
    		}
  -->
  <define name="common.data.integer">
    <a:documentation>Numerical</a:documentation>
    <ref name="datatype.integer"/>
  </define>
  <!--
    		xsd:string {
    			pattern = "-?[0-9]+"
    		}
  -->
  <define name="common.data.integer.positive">
    <ref name="datatype.positive.integer"/>
  </define>
  <!--
    		xsd:string {
    			pattern = "0*[1-9][0-9]*"
    		}
  -->
  <define name="common.data.integer.non-negative">
    <ref name="datatype.non-negative.integer"/>
  </define>
  <!--
    		xsd:string {
    			pattern = "[0-9]+"
    		}
  -->
  <!--
    	common.data.percent =
    		xsd:string {
    			pattern = "(100)|([1-9]?[0-9](\\.[0-9]+)?)%"
    		}
  -->
  <define name="common.data.float">
    <ref name="datatype.float"/>
  </define>
  <!--
    		xsd:string {
    			pattern = "-?[0-9]+(\\.[0-9]+)?([eE]-?[0-9]+)?"
    		}
  -->
  <define name="common.data.float.positive">
    <ref name="datatype.float.positive"/>
  </define>
  <!--
    		xsd:string {
    			pattern = "(0*[1-9][0-9]*(\\.[0-9]+)?)|([0-9]+(\\.0*[1-9][0-9]*)?)([eE]-?[0-9]+)?"
    		}
  -->
  <define name="common.data.float.non-negative">
    <ref name="datatype.float.non-negative"/>
  </define>
  <!--
    		xsd:string {
    			pattern = "[0-9]+(\\.[0-9]+)?([eE]-?[0-9]+)?"
    		}
  -->
  <define name="common.data.datetime">
    <a:documentation>Temporal</a:documentation>
    <ref name="datatype.html5.datetime"/>
  </define>
  <define name="common.data.date">
    <ref name="datatype.html5.date"/>
  </define>
  <define name="common.data.time-datetime">
    <ref name="datatype.html5.date.or.time"/>
  </define>
  <define name="common.data.uri">
    <a:documentation>IRIs</a:documentation>
    <!--
      allow either a non-empty IRI ref or zero or more HTML
      space characters (which are: space, tab, LF, FF, CR)
    -->
    <choice>
      <ref name="datatype.IRI"/>
      <data type="string">
        <param name="pattern">[ 
-&#xD;]*</param>
      </data>
    </choice>
    <!--
      NOTE The range above incorrectly allows U+000B
      in addition to the HTML space characters; but
      that's not a problem in practice because HTML
      and XML parsers will both catch any U+000B
      and report an error for it before that pattern
      ever gets evaluated.
    -->
  </define>
  <define name="common.data.uri.non-empty">
    <ref name="datatype.string.nonempty"/>
  </define>
  <define name="common.data.uris">
    <list>
      <zeroOrMore>
        <ref name="datatype.IRI"/>
      </zeroOrMore>
    </list>
  </define>
  <define name="common.data.uris.http.or.https">
    <list>
      <zeroOrMore>
        <ref name="datatype.URI.absolute"/>
      </zeroOrMore>
    </list>
  </define>
  <define name="common.data.uri.absolute">
    <ref name="datatype.URI.absolute"/>
  </define>
  <define name="common.data.sizes">
    <a:documentation>&lt;link type='icon'&gt; sizes</a:documentation>
    <!-- 		list { w:sizes } -->
    <list>
      <oneOrMore>
        <data type="string">
          <param name="pattern">[1-9][0-9]*x[1-9][0-9]*</param>
        </data>
      </oneOrMore>
    </list>
  </define>
  <define name="common.data.color">
    <a:documentation>color for &lt;link rel="mask-icon"&gt; and &lt;meta name="theme-color"&gt;</a:documentation>
    <ref name="datatype.html5.color"/>
  </define>
  <define name="common.data.mimetype">
    <a:documentation>MIME types</a:documentation>
    <ref name="datatype.mimetype"/>
  </define>
  <define name="common.data.scripttype">
    <a:documentation>Script type</a:documentation>
    <ref name="datatype.string"/>
  </define>
  <define name="common.data.charset">
    <a:documentation>Encodings</a:documentation>
    <ref name="datatype.character.encoding"/>
  </define>
  <define name="common.data.meta-charset">
    <ref name="datatype.string"/>
  </define>
  <define name="common.data.refresh">
    <a:documentation>Refresh</a:documentation>
    <ref name="datatype.string"/>
  </define>
  <define name="common.data.default-style">
    <a:documentation>Default style</a:documentation>
    <data type="string" datatypeLibrary=""/>
  </define>
  <!-- 		w:default-style -->
  <define name="common.data.x-ua-compatible">
    <a:documentation>X-UA-Compatible</a:documentation>
    <data type="string" datatypeLibrary=""/>
  </define>
  <define name="common.data.mediaquery">
    <a:documentation>Media Queries</a:documentation>
    <ref name="datatype.html5.media.query"/>
  </define>
  <define name="common.data.langcode">
    <a:documentation>Language Codes</a:documentation>
    <choice>
      <value/>
      <ref name="datatype.languagecode"/>
    </choice>
  </define>
  <define name="common.data.keylabellist">
    <a:documentation>List of Key Labels</a:documentation>
    <ref name="datatype.html5.accesskey"/>
  </define>
  <define name="common.data.source.size.list">
    <a:documentation>List of Source Sizes</a:documentation>
    <ref name="datatype.string"/>
  </define>
  <define name="common.data.integrity">
    <a:documentation>Subresource Integrity</a:documentation>
    <ref name="datatype.string"/>
  </define>
  <define name="common.data.content-security-policy">
    <a:documentation>Content Security Policy</a:documentation>
    <ref name="datatype.string"/>
  </define>
  <define name="common.data.feature-policy">
    <a:documentation>Feature Policy</a:documentation>
    <data type="string" datatypeLibrary=""/>
  </define>
  <define name="common.data.sandbox-allow-list">
    <a:documentation>List of sandbox keywords</a:documentation>
    <choice>
      <value/>
      <list>
        <optional>
          <value>allow-top-navigation</value>
        </optional>
        <optional>
          <value>allow-same-origin</value>
        </optional>
        <optional>
          <value>allow-forms</value>
        </optional>
        <optional>
          <value>allow-scripts</value>
        </optional>
      </list>
      <list>
        <optional>
          <value>allow-top-navigation</value>
        </optional>
        <optional>
          <value>allow-same-origin</value>
        </optional>
        <optional>
          <value>allow-scripts</value>
        </optional>
        <optional>
          <value>allow-forms</value>
        </optional>
      </list>
    </choice>
  </define>
  <define name="common.data.custom.element.name">
    <a:documentation>Custom element name</a:documentation>
    <ref name="datatype.string"/>
  </define>
  <define name="common.data.microdata-properties">
    <a:documentation>Microdata Properties</a:documentation>
    <list>
      <oneOrMore>
        <ref name="datatype.string"/>
      </oneOrMore>
    </list>
  </define>
  <define name="common.data.zero">
    <a:documentation>Zero</a:documentation>
    <value>0</value>
  </define>
  <define name="common.data.functionbody">
    <a:documentation>ECMAScript FunctionBody</a:documentation>
    <data type="string" datatypeLibrary=""/>
  </define>
  <define name="common.data.autocomplete.any">
    <a:documentation>autocomplete</a:documentation>
    <ref name="datatype.string"/>
  </define>
  <!-- ##################################################################### -->
  <!-- ##################################################################### -->
  <define name="common-form.attrs.form">
    <a:documentation> WF2 Module Hook                                                   #</a:documentation>
    <notAllowed/>
  </define>
  <!-- ##################################################################### -->
  <!-- ##################################################################### -->
  <define name="common.elem.script-supporting">
    <a:documentation> Script-supporting elements</a:documentation>
    <notAllowed/>
  </define>
  <!-- ##################################################################### -->
  <!-- ##################################################################### -->
  <define name="common.attrs.aria">
    <a:documentation> ARIA Module Hooks                                                 #</a:documentation>
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.alert">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.alertdialog">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.application">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.article">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.banner">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.button">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.cell" combine="choice">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.checkbox">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.combobox">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.complementary">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.dialog">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.directory">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.document">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.feed" combine="choice">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.figure" combine="choice">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.group">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.heading">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.img">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.link">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.list">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.listitem">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.log">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.listbox">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.main">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.marquee">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.menu">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.menubar">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.menuitem">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.menuitemcheckbox">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.menuitemradio">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.option">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.presentation">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.progressbar">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.radio">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.radiogroup" combine="choice">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.region">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.rowgroup" combine="choice">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.search">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.searchbox" combine="choice">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.separator">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.slider">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.spinbutton">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.status">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.switch">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.tab">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.table" combine="choice">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.tablist">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.tabpanel">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.textbox">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.toolbar">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.tree">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.treeitem">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.implicit.article">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.implicit.banner">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.implicit.button">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.implicit.cell" combine="choice">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.implicit.checkbox">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.implicit.column-or-row-header">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.implicit.combobox">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.implicit.complementary">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.implicit.contentinfo">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.implicit.dialog">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.implicit.figure" combine="choice">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.implicit.document">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.implicit.form">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.implicit.group">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.implicit.heading">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.implicit.img">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.implicit.landmark">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.implicit.link">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.implicit.list">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.implicit.listbox">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.implicit.listitem">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.implicit.main">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.implicit.math" combine="choice">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.implicit.navigation">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.implicit.option">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.implicit.progressbar">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.implicit.radio">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.implicit.region">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.implicit.row" combine="choice">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.implicit.rowgroup" combine="choice">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.implicit.search">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.implicit.searchbox" combine="choice">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.implicit.section">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.implicit.select">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.implicit.separator">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.implicit.slider">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.implicit.spinbutton">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.implicit.status">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.implicit.structure">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.implicit.table" combine="choice">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.implicit.textbox">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.implicit.toolbar">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.prop.readonly">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.landmark.banner">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.landmark.complementary">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.landmark.contentinfo">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.landmark.form">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.landmark.main">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.landmark.navigation">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.landmark.search">
    <notAllowed/>
  </define>
  <!-- per ARIA spec: article, document, and note are not actually landmarks -->
  <define name="common.attrs.aria.landmark.article">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.landmark.document">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.landmark.note">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.doc-abstract">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.doc-acknowledgments">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.doc-afterword">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.doc-appendix">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.doc-backlink">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.doc-biblioentry">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.doc-bibliography">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.doc-biblioref">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.doc-chapter">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.doc-colophon">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.doc-conclusion">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.doc-cover">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.doc-credit">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.doc-credits">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.doc-dedication">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.doc-endnote">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.doc-endnotes">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.doc-epigraph">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.doc-epilogue">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.doc-errata">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.doc-example">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.doc-footnote">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.doc-foreword">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.doc-glossary">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.doc-glossref">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.doc-index">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.doc-introduction">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.doc-noteref">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.doc-notice">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.doc-pagebreak">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.doc-pagelist">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.doc-part">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.doc-preface">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.doc-prologue">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.doc-pullquote">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.doc-qna">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.doc-subtitle">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.doc-tip">
    <notAllowed/>
  </define>
  <define name="common.attrs.aria.role.doc-toc">
    <notAllowed/>
  </define>

    <a:documentation> RELAX NG Schema for XHTML 5                                       #</a:documentation>
    <!--
      #####################################################################
      
       XHTML validation based on the schemas from the Nu Html Checker,
       with the following changes:
         - datatypes replaced to use the patterns in datatype.rnc
         - title element not required (a missing title element will be
           reported as a WARNING in Schematron
         - allows meta http-equiv in encoding declaration state
         - allows the border attribute on tables
         - allow EPUB extensions (epub:type, epub:switch, epub:trigger,
           ssml:* attributes, etc)
      
      #####################################################################
    -->
    <a:documentation>Schema Framework &amp; Parameters</a:documentation>
    <!-- XHTML flavor # -->
    <define name="XMLonly">
      <empty/>
    </define>
    <define name="HTMLonly">
      <notAllowed/>
    </define>
    <!-- HTML 4 compat # -->
    <define name="v5only">
      <empty/>
    </define>
  
  <!-- ##################################################################### -->
  <start>
    <a:documentation>Language Definitions</a:documentation>
    <ref name="html.elem"/>
  </start>
  <!--
    Note: these are too simplistic. The Nu HTML Checker performs
    a significant part of the checking in its Java-based datatype
    library.
  -->
  <!-- Inlined from datatypes.rng with overrides -->
<div xml:id="datatypes-common">
    <define name="datatype.ID">
      <ref name="datatype.ID.lexical"/>
    </define>
    <define name="datatype.IDREF">
      <ref name="datatype.IDREF.lexical"/>
    </define>
    <define name="datatype.IDREFS">
      <ref name="datatype.IDREFS.lexical"/>
    </define>
    <define name="datatype.languagecode">
      <ref name="datatype.BCP47"/>
    </define>
    <!-- http://www.w3.org/TR/xmlschema11-2/#language -->
    <define name="datatype.BCP47">
      <data type="language"/>
    </define>
    <!-- http://www.w3.org/TR/xmlschema11-2/#ID  -->
    <define name="datatype.ID.xsd">
      <data type="ID"/>
    </define>
    <!-- http://www.w3.org/TR/xmlschema11-2/#NCName -->
    <define name="datatype.IDREF.lexical">
      <data type="NCName"/>
    </define>
    <define name="datatype.IDREFS.lexical">
      <list>
        <oneOrMore>
          <ref name="datatype.IDREF.lexical"/>
        </oneOrMore>
      </list>
    </define>
    <define name="datatype.ID.lexical">
      <data type="NCName"/>
    </define>
    <!-- http://www.w3.org/TR/xmlschema11-2/#IDREF -->
    <define name="datatype.IDREF.xsd">
      <data type="IDREF"/>
    </define>
    <!-- http://www.w3.org/TR/xmlschema11-2/#IDREFS -->
    <define name="datatype.IDREFS.xsd">
      <data type="IDREFS"/>
    </define>
    <!-- http://www.w3.org/TR/xmlschema11-2/#NMTOKEN -->
    <define name="datatype.NMTOKEN">
      <data type="NMTOKEN"/>
    </define>
    <!-- http://www.w3.org/TR/xmlschema11-2/#NMTOKENS  -->
    <define name="datatype.NMTOKENS">
      <data type="NMTOKENS"/>
    </define>
    <!-- http://www.w3.org/TR/xmlschema11-2/#string -->
    <define name="datatype.string">
      <data type="string"/>
    </define>
    <define name="datatype.string.nonempty">
      <data type="token">
        <param name="minLength">1</param>
      </data>
    </define>
    <define name="datatype.text">
      <text/>
    </define>
    <!-- http://www.w3.org/TR/xmlschema11-2/#nt-dateRep -->
    <define name="datatype.date">
      <data type="date"/>
    </define>
    <!-- http://www.w3.org/TR/xmlschema11-2/#nt-dateTimeRep -->
    <define name="datatype.dateTime">
      <data type="dateTime"/>
    </define>
    <!-- http://www.w3.org/TR/xmlschema11-2/#nt-timeRep -->
    <define name="datatype.date.or.dateTime">
      <choice>
        <ref name="datatype.date"/>
        <ref name="datatype.dateTime"/>
      </choice>
    </define>
    <define name="datatype.LEIRI">
      <data type="anyURI"/>
    </define>
    <!--
      http://www.w3.org/TR/xmlschema11-2/#anyURI
      http://tools.ietf.org/html/rfc3986#appendix-B
      http://www.w3.org/TR/html5/urls.html#valid-url-potentially-surrounded-by-spaces  
    -->
    <define name="datatype.URI">
      <data type="anyURI"/>
    </define>
    <define name="datatype.URI.absolute">
      <data type="anyURI"/>
    </define>
    <define name="datatype.IRI">
      <ref name="datatype.URI"/>
    </define>
    <define name="datatype.character.encoding">
      <ref name="datatype.iana.charset"/>
    </define>
    <define name="datatype.iana.charset">
      <data type="NMTOKEN"/>
    </define>
    <!--
      http://www.w3.org/TR/html5/infrastructure.html#valid-mime-type
      http://tools.ietf.org/html/rfc4288#section-4.2
      http://tools.ietf.org/html/rfc2616#section-3.7
    -->
    <define name="datatype.mimetype">
      <data type="string">
        <param name="pattern">[a-zA-Z0-9!#$&amp;+\\-\\^_]+/[a-zA-Z0-9!#$&amp;+\\-\\^_]+.*</param>
      </data>
    </define>
    <define name="datatype.mimetype.nocharset">
      <ref name="datatype.mimetype"/>
    </define>
    <!--
      http://www.w3.org/TR/xmlschema11-2/#nonNegativeInteger
      http://www.w3.org/TR/html5/common-microsyntaxes.html#non-negative-integers
    -->
    <define name="datatype.non-negative.integer">
      <data type="nonNegativeInteger"/>
    </define>
    <!-- http://www.w3.org/TR/xmlschema11-2/#positiveInteger -->
    <define name="datatype.positive.integer">
      <data type="positiveInteger"/>
    </define>
    <!-- http://www.w3.org/TR/xmlschema11-2/#integer  -->
    <define name="datatype.integer">
      <data type="integer"/>
    </define>
    <!--
      http://www.w3.org/TR/xmlschema11-2/#nt-floatRep
      http://www.w3.org/TR/html5/common-microsyntaxes.html#real-numbers
    -->
    <define name="datatype.float">
      <data type="float"/>
    </define>
    <define name="datatype.float.positive">
      <data type="float">
        <param name="minExclusive">0</param>
      </data>
    </define>
    <define name="datatype.float.non-negative">
      <data type="float">
        <param name="minInclusive">0</param>
      </data>
    </define>
    <define name="datatype.token">
      <data type="string">
        <param name="pattern">[^\\s]+</param>
      </data>
    </define>
    <define name="datatype.space.separated.tokens">
      <list>
        <zeroOrMore>
          <ref name="datatype.token"/>
        </zeroOrMore>
      </list>
    </define>
  </div>
  <div xml:id="datatypes-smil">
    <!--
      http://www.w3.org/TR/smil/smil-timing.html#TimingSyntax-Full-clock-value
      http://www.w3.org/TR/smil/smil-timing.html#TimingSyntax-Partial-clock-value
      http://www.w3.org/TR/smil/smil-timing.html#TimingSyntax-Timecount-value
    -->
    <define name="datatype.smil.npt">
      <choice>
        <data type="string">
          <param name="pattern">(\\s*)[0-9]+:[0-5][0-9]:[0-5][0-9](\\.[0-9]+)?(\\s*)</param>
        </data>
        <data type="string">
          <param name="pattern">(\\s*)[0-5][0-9]:[0-5][0-9](\\.[0-9]+)?(\\s*)</param>
        </data>
        <data type="string">
          <param name="pattern">(\\s*)[0-9]+(\\.[0-9]+)?(h|min|s|ms)?(\\s*)</param>
        </data>
      </choice>
    </define>
  </div>
  <div xml:id="datatypes-vocab">
    <define name="datatype.property">
      <data type="NMTOKEN"/>
    </define>
    <define name="datatype.properties">
      <data type="NMTOKENS"/>
    </define>
    <define name="datatype.prefixdecl">
      <text/>
    </define>
    <!-- \\s*([\\i-[:]][\\c-[:]]*: +[^ ]+)(\\s+[\\i-[:]][\\c-[:]]*: +[^ ]+)*\\s* -->
  </div>
  <div xml:id="datatypes-ssml">
    <!-- http://www.w3.org/TR/speech-synthesis11/#edef_phoneme -->
    <define name="datatype.ssml.PhoneticExpression">
      <data type="string"/>
    </define>
    <define name="datatype.ssml.PhoneticAlphabet">
      <data type="string">
        <param name="pattern">(ipa|x-.+)</param>
      </data>
    </define>
  </div>
  <div xml:id="datatypes-html5">
    <define name="datatype.html5.browsing.context.name.or.keyword">
      <data type="string">
        <param name="pattern">()|([^_].*)|(_[bB][lL][aA][nN][kK])|(_[sS][eE][lL][fF])|(_[pP][aA][rR][eE][nN][tT])|(_[tT][oO][pP])</param>
      </data>
    </define>
    <define name="datatype.html5.browsing.context.name">
      <data type="string">
        <param name="pattern">()|([^_].*)</param>
      </data>
    </define>
    <define name="datatype.html5.token">
      <data type="string">
        <param name="pattern">[^\\s]+</param>
      </data>
    </define>
    <!-- http://www.w3.org/TR/html5/common-microsyntaxes.html#space-separated-tokens -->
    <define name="datatype.html5.space.separated.tokens">
      <list>
        <zeroOrMore>
          <ref name="datatype.html5.token"/>
        </zeroOrMore>
      </list>
    </define>
    <define name="datatype.html5.ordered.set.unique.tokens">
      <ref name="datatype.html5.space.separated.tokens"/>
    </define>
    <define name="datatype.html5.URL.spaces">
      <ref name="datatype.URI"/>
    </define>
    <!--
      http://dev.w3.org/csswg/css3-mediaqueries/#syntax
      http://www.w3.org/TR/html5/common-microsyntaxes.html#mq
    -->
    <define name="datatype.html5.media.query">
      <data type="string"/>
    </define>
    <define name="datatype.html5.name">
      <data type="string"/>
    </define>
    <define name="datatype.html5.name.reference">
      <data type="string">
        <param name="pattern">#.+</param>
      </data>
    </define>
    <define name="datatype.html5.year">
      <data type="token">
        <param name="pattern">[0-9]{4}</param>
      </data>
    </define>
    <define name="datatype.html5.yearless">
      <data type="token">
        <param name="pattern">(--)?(0[0-9]|1[0-2])-(0[0-9]|[1-2][0-9]|3[0-1])</param>
      </data>
    </define>
    <define name="datatype.html5.duration">
      <data type="token">
        <param name="pattern">(((P[0-9]+D)|(P([0-9]+D)?T((([0-9]+H)([0-9]+M)?([0-9]+(\\.[0-9]{1,3})?S)?)|(([0-9]+H)?([0-9]+M)([0-9]+(\\.[0-9]{1,3})?S)?)|(([0-9]+H)?([0-9]+M)?([0-9]+(\\.[0-9]{1,3})?S)))))|( *(([0-9]+ *[WDHM])|([0-9]+(\\.[0-9]{1,3})? *S)) *)+)</param>
      </data>
    </define>
    <!-- http://www.w3.org/TR/html5/common-microsyntaxes.html#months -->
    <define name="datatype.html5.month">
      <data type="token">
        <param name="pattern">([0-9]{4,})-([0-9]{2})</param>
      </data>
    </define>
    <!-- http://www.w3.org/TR/html5/common-microsyntaxes.html#dates -->
    <define name="datatype.html5.date">
      <data type="token">
        <param name="pattern">([0-9]{4,})-([0-9]{2})-([0-9]{2})</param>
      </data>
    </define>
    <!-- http://www.w3.org/TR/html5/common-microsyntaxes.html#times -->
    <define name="datatype.html5.time">
      <data type="token">
        <param name="pattern">([0-9]{2}):([0-9]{2})(:[0-9]{2}(\\.[0-9]{1,3})?)?</param>
      </data>
    </define>
    <!-- http://www.w3.org/TR/html5/common-microsyntaxes.html#local-dates-and-times -->
    <define name="datatype.html5.datetime.local">
      <data type="token">
        <param name="pattern">([0-9]{4,})-([0-9]{2})-([0-9]{2})([T ])([0-9]{2}):([0-9]{2})(:[0-9]{2}(\\.[0-9]{1,3})?)?</param>
      </data>
    </define>
    <!-- http://www.w3.org/TR/html5/common-microsyntaxes.html#global-dates-and-times -->
    <define name="datatype.html5.datetime.global">
      <data type="token">
        <param name="pattern">([0-9]{4,})-([0-9]{2})-([0-9]{2})([T ])([0-9]{2}):([0-9]{2})(:[0-9]{2}(\\.[0-9]{1,3})?)?(Z|((\\+|-)([0-9]{2}):?([0-9]{2})))?</param>
      </data>
    </define>
    <define name="datatype.html5.datetime">
      <ref name="datatype.html5.datetime.global"/>
    </define>
    <!-- http://www.w3.org/TR/html5/common-microsyntaxes.html#vaguer-moments-in-time -->
    <define name="datatype.html5.date.or.time">
      <choice>
        <ref name="datatype.html5.year"/>
        <ref name="datatype.html5.yearless"/>
        <ref name="datatype.html5.week"/>
        <ref name="datatype.html5.date"/>
        <ref name="datatype.html5.month"/>
        <ref name="datatype.html5.time"/>
        <ref name="datatype.html5.datetime.global"/>
        <ref name="datatype.html5.duration"/>
      </choice>
    </define>
    <!-- http://www.w3.org/TR/html5/common-microsyntaxes.html#vaguer-moments-in-time -->
    <define name="datatype.html5.date.optional.time">
      <choice>
        <ref name="datatype.html5.date"/>
        <ref name="datatype.html5.datetime.global"/>
      </choice>
    </define>
    <define name="datatype.html5.week">
      <data type="token">
        <param name="pattern">([0-9]{4,})-W([0-9]{2})</param>
      </data>
    </define>
    <define name="datatype.html5.accesskey">
      <ref name="datatype.html5.ordered.set.unique.tokens"/>
    </define>
    <define name="datatype.html5.coords.rectangle">
      <data type="token">
        <param name="pattern">-?[0-9]+,-?[0-9]+,-?[0-9]+,-?[0-9]+</param>
      </data>
    </define>
    <define name="datatype.html5.coords.circle">
      <data type="token">
        <param name="pattern">-?[0-9]+,-?[0-9]+,[0-9]+</param>
      </data>
    </define>
    <define name="datatype.html5.coords.poly">
      <data type="token">
        <param name="pattern">-?[0-9]+,-?[0-9]+,-?[0-9]+,-?[0-9]+,-?[0-9]+,-?[0-9]+(,-?[0-9]+,-?[0-9]+)*</param>
      </data>
    </define>
    <define name="datatype.html5.js">
      <data type="string"/>
    </define>
    <define name="datatype.html5.script">
      <data type="string"/>
    </define>
    <define name="datatype.html5.script.documentation">
      <data type="string"/>
    </define>
    <define name="datatype.html5.iframe.srcdoc.xml">
      <data type="string"/>
    </define>
    <define name="datatype.style">
      <data type="string"/>
    </define>
    <define name="datatype.html5.sizes">
      <list>
        <oneOrMore>
          <data type="string">
            <param name="pattern">[1-9][0-9]*x[1-9][0-9]*</param>
          </data>
        </oneOrMore>
      </list>
    </define>
    <define name="datatype.html5.emailaddress">
      <data type="string">
        <param name="pattern">[^@]+@[^@]+</param>
      </data>
    </define>
    <define name="datatype.html5.emailaddresslist">
      <data type="string">
        <param name="pattern">([^@]+@[^@]+,)*([^@]+@[^@]+)</param>
      </data>
    </define>
    <!-- http://www.w3.org/TR/html5/common-microsyntaxes.html#colors -->
    <define name="datatype.html5.color">
      <data type="string">
        <param name="pattern">#([A-Fa-f0-9]{6})</param>
      </data>
    </define>
  </div>
  <div xml:id="datatypes-html5forms">
    <define name="datatype.html5.forms.mimetypelist">
      <data type="string"/>
    </define>
    <!-- http://www.w3.org/TR/html5/forms.html#attr-form-accept-charset -->
    <define name="datatype.html5.forms.charsetlist">
      <list>
        <oneOrMore>
          <ref name="datatype.character.encoding"/>
        </oneOrMore>
      </list>
    </define>
    <define name="datatype.html5.forms.pattern">
      <data type="string"/>
    </define>
    <define name="datatype.html5.forms.string.nolinebreaks">
      <data type="string"/>
    </define>
  </div>

    <a:documentation>Static datatypes</a:documentation>
  
  <!-- Inlined from meta.rng with overrides -->
<!-- ##################################################################### -->
  <define name="html.elem">
    <a:documentation> RELAX NG Schema for HTML 5: Global Structure &amp; Metadata          #</a:documentation>
    <!-- ##################################################################### -->
    <a:documentation>Root Element: &lt;html&gt;</a:documentation>
    <element name="html">
      <interleave>
        <ref name="html.inner"/>
        <ref name="html.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="html.attrs">
    <ref name="common.attrs"/>
  </define>
  <define name="html.inner">
    <ref name="head.elem"/>
    <ref name="body.elem"/>
  </define>
  <define name="head.elem">
    <a:documentation>Metadata Container: &lt;head&gt;</a:documentation>
    <element name="head">
      <interleave>
        <ref name="head.inner"/>
        <ref name="head.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="head.attrs">
    <ref name="common.attrs"/>
    <!-- 		&	head.attrs.profile? -->
  </define>
  <!--
    		head.attrs.profile =
    			attribute profile {
    				common.data.uris #REVISIT should these be absolute (zero or more)
    			}
  -->
  <define name="head.inner">
    <interleave>
      <ref name="title.elem"/>
      <optional>
        <ref name="base.elem"/>
      </optional>
      <!-- REVISIT need a non-schema checker or Schematron -->
      <ref name="common.inner.metadata"/>
    </interleave>
    <!-- Limit encoding decl position in Schematron -->
  </define>
  <!--
    	head.inner =
    		(	meta.elem.encoding?
    		,	(	title.elem
    			&	base.elem? # REVISIT need a non-schema checker or Schematron
    			&	common.inner.metadata
    			)
    		)
  -->
  <define name="body.elem">
    <a:documentation>Content Container: &lt;body&gt;</a:documentation>
    <element name="body">
      <interleave>
        <ref name="body.inner"/>
        <ref name="body.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="body.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <choice>
          <ref name="common.attrs.aria.role.application"/>
          <ref name="common.attrs.aria.landmark.document"/>
          <ref name="common.attrs.aria.role.presentation"/>
          <ref name="common.attrs.aria.implicit.document"/>
        </choice>
      </optional>
      <optional>
        <ref name="body.attrs.onafterprint"/>
      </optional>
      <optional>
        <ref name="body.attrs.onbeforeprint"/>
      </optional>
      <optional>
        <ref name="body.attrs.onbeforeunload"/>
      </optional>
      <optional>
        <ref name="body.attrs.onhashchange"/>
      </optional>
      <optional>
        <ref name="body.attrs.onlanguagechange"/>
      </optional>
      <optional>
        <ref name="body.attrs.onmessage"/>
      </optional>
      <optional>
        <ref name="body.attrs.onmessageerror"/>
      </optional>
      <optional>
        <ref name="body.attrs.onoffline"/>
      </optional>
      <optional>
        <ref name="body.attrs.ononline"/>
      </optional>
      <optional>
        <ref name="body.attrs.onpagehide"/>
      </optional>
      <optional>
        <ref name="body.attrs.onpageshow"/>
      </optional>
      <optional>
        <ref name="body.attrs.onpopstate"/>
      </optional>
      <optional>
        <ref name="body.attrs.onrejectionhandled"/>
      </optional>
      <optional>
        <ref name="body.attrs.onstorage"/>
      </optional>
      <optional>
        <ref name="body.attrs.onunhandledrejection"/>
      </optional>
      <optional>
        <ref name="body.attrs.onunload"/>
      </optional>
    </interleave>
  </define>
  <define name="body.inner">
    <ref name="common.inner.flow"/>
  </define>
  <define name="body.attrs.onafterprint">
    <attribute name="onafterprint">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="body.attrs.onbeforeprint">
    <attribute name="onbeforeprint">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="body.attrs.onbeforeunload">
    <attribute name="onbeforeunload">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="body.attrs.onhashchange">
    <attribute name="onhashchange">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="body.attrs.onlanguagechange">
    <attribute name="onlanguagechange">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="body.attrs.onmessage">
    <attribute name="onmessage">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="body.attrs.onmessageerror">
    <attribute name="onmessageerror">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="body.attrs.onoffline">
    <attribute name="onoffline">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="body.attrs.ononline">
    <attribute name="ononline">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="body.attrs.onpagehide">
    <attribute name="onpagehide">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="body.attrs.onpageshow">
    <attribute name="onpageshow">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="body.attrs.onpopstate">
    <attribute name="onpopstate">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="body.attrs.onrejectionhandled">
    <attribute name="onrejectionhandled">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="body.attrs.onstorage">
    <attribute name="onstorage">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="body.attrs.onunhandledrejection">
    <attribute name="onunhandledrejection">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="body.attrs.onunload">
    <attribute name="onunload">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="title.elem">
    <a:documentation>Document Title: &lt;title&gt;</a:documentation>
    <element name="title">
      <interleave>
        <ref name="title.inner"/>
        <ref name="title.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="title.attrs">
    <ref name="common.attrs"/>
  </define>
  <define name="title.inner">
    <text/>
  </define>
  <define name="base.elem">
    <a:documentation>Base URI: &lt;base&gt;</a:documentation>
    <element name="base">
      <interleave>
        <ref name="base.inner"/>
        <ref name="base.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="base.attrs">
    <interleave>
      <ref name="common.attrs.basic"/>
      <ref name="common.attrs.i18n"/>
      <ref name="common.attrs.present"/>
      <ref name="common.attrs.other"/>
      <choice>
        <interleave>
          <ref name="base.attrs.href"/>
          <optional>
            <ref name="base.attrs.target"/>
          </optional>
        </interleave>
        <ref name="base.attrs.target"/>
      </choice>
    </interleave>
  </define>
  <define name="base.attrs.href">
    <attribute name="href">
      <ref name="common.data.uri"/>
    </attribute>
  </define>
  <define name="base.attrs.target">
    <attribute name="target">
      <ref name="common.data.browsing-context-or-keyword"/>
    </attribute>
  </define>
  <define name="base.inner">
    <empty/>
  </define>
  <define name="link.elem">
    <a:documentation>Global Relationships: &lt;link&gt;</a:documentation>
    <element name="link">
      <interleave>
        <ref name="link.inner"/>
        <ref name="link.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="link.attrs">
    <interleave>
      <ref name="common.attrs.basic"/>
      <ref name="common.attrs.i18n"/>
      <ref name="common.attrs.present"/>
      <ref name="common.attrs.other"/>
      <ref name="link.attrs.rel"/>
      <optional>
        <ref name="link.attrs.href"/>
      </optional>
      <optional>
        <ref name="link.attrs.as"/>
      </optional>
      <optional>
        <ref name="link.attrs.integrity"/>
      </optional>
      <optional>
        <ref name="shared-hyperlink.attrs.hreflang"/>
      </optional>
      <optional>
        <ref name="shared-hyperlink.attrs.media"/>
      </optional>
      <optional>
        <ref name="shared-hyperlink.attrs.type"/>
      </optional>
      <optional>
        <ref name="referrerpolicy"/>
      </optional>
      <optional>
        <ref name="link.attrs.sizes"/>
      </optional>
      <optional>
        <ref name="link.attrs.color"/>
      </optional>
      <optional>
        <ref name="link.attrs.disabled"/>
      </optional>
      <optional>
        <ref name="link.attrs.scope"/>
      </optional>
      <optional>
        <ref name="link.attrs.updateviacache"/>
      </optional>
      <optional>
        <ref name="link.attrs.workertype"/>
      </optional>
      <optional>
        <ref name="link.attrs.imagesrcset"/>
      </optional>
      <optional>
        <ref name="link.attrs.imagesizes"/>
      </optional>
      <optional>
        <ref name="common.attrs.fetchpriority"/>
      </optional>
      <optional>
        <!-- 	link.attrs.title included in common.attrs -->
        <ref name="embedded.content.attrs.crossorigin"/>
      </optional>
      <optional>
        <ref name="common.attrs.blocking"/>
      </optional>
      <optional>
        <ref name="common.attrs.aria.role.link"/>
      </optional>
    </interleave>
  </define>
  <define name="link.attrs.href">
    <attribute name="href">
      <ref name="common.data.uri.non-empty"/>
    </attribute>
  </define>
  <define name="link.attrs.rel">
    <attribute name="rel">
      <data type="string" datatypeLibrary=""/>
    </attribute>
  </define>
  <define name="link.attrs.as">
    <attribute name="as">
      <choice>
        <value type="string" datatypeLibrary=""/>
        <value type="string" datatypeLibrary="">audio</value>
        <value type="string" datatypeLibrary="">audioworklet</value>
        <value type="string" datatypeLibrary="">document</value>
        <value type="string" datatypeLibrary="">embed</value>
        <value type="string" datatypeLibrary="">fetch</value>
        <value type="string" datatypeLibrary="">font</value>
        <value type="string" datatypeLibrary="">image</value>
        <value type="string" datatypeLibrary="">manifest</value>
        <value type="string" datatypeLibrary="">object</value>
        <value type="string" datatypeLibrary="">paintworklet</value>
        <value type="string" datatypeLibrary="">report</value>
        <value type="string" datatypeLibrary="">script</value>
        <value type="string" datatypeLibrary="">serviceworker</value>
        <value type="string" datatypeLibrary="">sharedworker</value>
        <value type="string" datatypeLibrary="">style</value>
        <value type="string" datatypeLibrary="">track</value>
        <value type="string" datatypeLibrary="">video</value>
        <value type="string" datatypeLibrary="">worker</value>
        <value type="string" datatypeLibrary="">xslt</value>
      </choice>
    </attribute>
  </define>
  <define name="link.attrs.integrity">
    <attribute name="integrity">
      <ref name="common.data.integrity"/>
    </attribute>
  </define>
  <define name="link.attrs.sizes">
    <attribute name="sizes">
      <choice>
        <value>any</value>
        <ref name="common.data.sizes"/>
      </choice>
    </attribute>
  </define>
  <define name="link.attrs.color">
    <attribute name="color">
      <ref name="common.data.color"/>
    </attribute>
  </define>
  <define name="link.attrs.disabled">
    <attribute name="disabled">
      <choice>
        <value>disabled</value>
        <value/>
      </choice>
    </attribute>
  </define>
  <define name="link.attrs.scope">
    <attribute name="scope">
      <ref name="common.data.uri"/>
    </attribute>
  </define>
  <define name="link.attrs.updateviacache">
    <attribute name="updateviacache">
      <choice>
        <value type="string" datatypeLibrary="">imports</value>
        <value type="string" datatypeLibrary="">all</value>
        <value type="string" datatypeLibrary="">none</value>
      </choice>
    </attribute>
  </define>
  <define name="link.attrs.workertype">
    <attribute name="workertype">
      <choice>
        <value type="string" datatypeLibrary="">classic</value>
        <value type="string" datatypeLibrary="">module</value>
      </choice>
    </attribute>
  </define>
  <define name="link.attrs.imagesrcset">
    <interleave>
      <attribute name="imagesrcset">
        <data type="string" datatypeLibrary=""/>
      </attribute>
      <ref name="v5only"/>
    </interleave>
  </define>
  <define name="link.attrs.imagesizes">
    <interleave>
      <attribute name="imagesizes">
        <ref name="common.data.source.size.list"/>
      </attribute>
      <ref name="v5only"/>
    </interleave>
  </define>
  <define name="link.inner">
    <empty/>
  </define>
  <define name="common.elem.metadata" combine="choice">
    <ref name="link.elem"/>
  </define>
  <define name="common.elem.phrasing" combine="choice">
    <ref name="link.elem"/>
  </define>
  <define name="common.elem.flow" combine="choice">
    <ref name="link.elem"/>
  </define>
  <define name="style.elem">
    <a:documentation>Global Style: &lt;style&gt;</a:documentation>
    <element name="style">
      <interleave>
        <ref name="style.inner"/>
        <ref name="style.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="style.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <ref name="style.attrs.type"/>
      </optional>
      <optional>
        <ref name="style.attrs.media"/>
      </optional>
      <optional>
        <ref name="common.attrs.blocking"/>
      </optional>
    </interleave>
    <!-- 	style.attrs.title included in common.attrs -->
  </define>
  <define name="style.attrs.type">
    <attribute name="type"/>
  </define>
  <define name="style.attrs.media">
    <attribute name="media">
      <ref name="common.data.mediaquery"/>
    </attribute>
  </define>
  <define name="style.inner">
    <ref name="common.inner.anything"/>
  </define>
  <define name="common.elem.metadata" combine="choice">
    <ref name="style.elem"/>
  </define>
  <define name="meta.name.elem">
    <a:documentation>Name-Value Metadata: &lt;meta name&gt;</a:documentation>
    <element name="meta">
      <interleave>
        <ref name="meta.inner"/>
        <ref name="meta.name.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="meta.name.attrs">
    <interleave>
      <ref name="common.attrs.basic"/>
      <ref name="common.attrs.i18n"/>
      <ref name="common.attrs.present"/>
      <ref name="common.attrs.other"/>
      <ref name="meta.name.attrs.name"/>
      <ref name="meta.name.attrs.content"/>
      <optional>
        <ref name="common.attrs.microdata.itemref"/>
      </optional>
      <optional>
        <ref name="common.attrs.microdata.itemscope"/>
      </optional>
      <optional>
        <ref name="common.attrs.microdata.itemtype"/>
      </optional>
      <optional>
        <ref name="common.attrs.microdata.itemid"/>
      </optional>
      <optional>
        <ref name="shared-hyperlink.attrs.media"/>
      </optional>
    </interleave>
  </define>
  <define name="meta.name.attrs.name">
    <attribute name="name">
      <ref name="datatype.string.nonempty"/>
    </attribute>
  </define>
  <define name="meta.name.attrs.content">
    <attribute name="content">
      <data type="string" datatypeLibrary=""/>
    </attribute>
  </define>
  <define name="meta.inner">
    <empty/>
  </define>
  <define name="common.elem.metadata" combine="choice">
    <ref name="meta.name.elem"/>
  </define>
  <define name="meta.http-equiv.refresh.elem">
    <a:documentation>"refresh" pragma directive: &lt;meta http-equiv='refresh'&gt;</a:documentation>
    <element name="meta">
      <interleave>
        <ref name="meta.inner"/>
        <ref name="meta.http-equiv.refresh.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="meta.http-equiv.refresh.attrs">
    <interleave>
      <ref name="common.attrs.basic"/>
      <ref name="common.attrs.i18n"/>
      <ref name="common.attrs.present"/>
      <ref name="common.attrs.other"/>
      <ref name="meta.http-equiv.attrs.http-equiv.refresh"/>
      <ref name="meta.http-equiv.attrs.content.refresh"/>
    </interleave>
  </define>
  <define name="meta.http-equiv.attrs.http-equiv.refresh">
    <attribute name="http-equiv">
      <value>refresh</value>
    </attribute>
  </define>
  <define name="meta.http-equiv.attrs.content.refresh">
    <attribute name="content">
      <ref name="common.data.refresh"/>
    </attribute>
  </define>
  <define name="common.elem.metadata" combine="choice">
    <ref name="meta.http-equiv.refresh.elem"/>
  </define>
  <!--
    not quite right per spec
    if the definition is 
    reused in another language
  -->
  <define name="meta.http-equiv.default-style.elem">
    <a:documentation>"default-style" pragma directive: &lt;meta http-equiv='default-style'&gt;</a:documentation>
    <element name="meta">
      <interleave>
        <ref name="meta.inner"/>
        <ref name="meta.http-equiv.default-style.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="meta.http-equiv.default-style.attrs">
    <interleave>
      <ref name="common.attrs.basic"/>
      <ref name="common.attrs.i18n"/>
      <ref name="common.attrs.present"/>
      <ref name="common.attrs.other"/>
      <ref name="meta.http-equiv.attrs.http-equiv.default-style"/>
      <ref name="meta.http-equiv.attrs.content.default-style"/>
    </interleave>
  </define>
  <define name="meta.http-equiv.attrs.http-equiv.default-style">
    <attribute name="http-equiv">
      <value>default-style</value>
    </attribute>
  </define>
  <define name="meta.http-equiv.attrs.content.default-style">
    <attribute name="content">
      <ref name="common.data.default-style"/>
    </attribute>
  </define>
  <define name="common.elem.metadata" combine="choice">
    <ref name="meta.http-equiv.default-style.elem"/>
  </define>
  <!--
    not quite right per spec
    if the definition is 
    reused in another language
  -->
  <define name="meta.http-equiv.content-security-policy.elem">
    <a:documentation>Content Security Policy pragma directive: &lt;meta http-equiv='content-security-policy'&gt;</a:documentation>
    <element name="meta">
      <interleave>
        <ref name="meta.inner"/>
        <ref name="meta.http-equiv.content-security-policy.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="meta.http-equiv.content-security-policy.attrs">
    <interleave>
      <ref name="common.attrs.basic"/>
      <ref name="common.attrs.i18n"/>
      <ref name="common.attrs.present"/>
      <ref name="common.attrs.other"/>
      <ref name="meta.http-equiv.attrs.http-equiv.content-security-policy"/>
      <ref name="meta.http-equiv.attrs.content.content-security-policy"/>
    </interleave>
  </define>
  <define name="meta.http-equiv.attrs.http-equiv.content-security-policy">
    <attribute name="http-equiv">
      <value>content-security-policy</value>
    </attribute>
  </define>
  <define name="meta.http-equiv.attrs.content.content-security-policy">
    <attribute name="content">
      <ref name="common.data.content-security-policy"/>
    </attribute>
  </define>
  <define name="common.elem.metadata" combine="choice">
    <ref name="meta.http-equiv.content-security-policy.elem"/>
  </define>
  <define name="meta.http-equiv.x-ua-compatible.elem">
    <a:documentation>"x-ua-compatible" pragma directive: &lt;meta http-equiv='x-ua-compatible'&gt;</a:documentation>
    <element name="meta">
      <interleave>
        <ref name="meta.inner"/>
        <ref name="meta.http-equiv.x-ua-compatible.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="meta.http-equiv.x-ua-compatible.attrs">
    <interleave>
      <ref name="common.attrs.basic"/>
      <ref name="common.attrs.i18n"/>
      <ref name="common.attrs.present"/>
      <ref name="common.attrs.other"/>
      <ref name="meta.http-equiv.attrs.http-equiv.x-ua-compatible"/>
      <ref name="meta.http-equiv.attrs.content.x-ua-compatible"/>
    </interleave>
  </define>
  <define name="meta.http-equiv.attrs.http-equiv.x-ua-compatible">
    <attribute name="http-equiv">
      <value>x-ua-compatible</value>
    </attribute>
  </define>
  <define name="meta.http-equiv.attrs.content.x-ua-compatible">
    <attribute name="content">
      <ref name="common.data.x-ua-compatible"/>
    </attribute>
  </define>
  <define name="common.elem.metadata" combine="choice">
    <ref name="meta.http-equiv.x-ua-compatible.elem"/>
  </define>
  <define name="meta.charset.elem">
    <a:documentation>Inline Character Encoding Statement for HTML: &lt;meta charset&gt;</a:documentation>
    <element name="meta">
      <interleave>
        <ref name="meta.inner"/>
        <ref name="meta.charset.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="meta.charset.attrs">
    <interleave>
      <ref name="common.attrs.basic"/>
      <ref name="common.attrs.i18n"/>
      <ref name="common.attrs.present"/>
      <ref name="common.attrs.other"/>
      <ref name="meta.charset.attrs.charset"/>
    </interleave>
  </define>
  <define name="meta.charset.attrs.charset">
    <attribute name="charset">
      <choice>
        <interleave>
          <data type="string" datatypeLibrary=""/>
          <ref name="HTMLonly"/>
        </interleave>
        <interleave>
          <data type="string">
            <param name="pattern">[uU][tT][fF]-8</param>
          </data>
          <ref name="XMLonly"/>
        </interleave>
      </choice>
    </attribute>
  </define>
  <define name="meta.http-equiv.content-type.elem">
    <a:documentation>Inline Character Encoding Statement for HTML: &lt;meta http-equiv='content-type'&gt;</a:documentation>
    <interleave>
      <element name="meta">
        <interleave>
          <ref name="meta.inner"/>
          <ref name="meta.http-equiv.content-type.attrs"/>
        </interleave>
      </element>
      <ref name="HTMLonly"/>
    </interleave>
  </define>
  <define name="meta.http-equiv.content-type.attrs">
    <interleave>
      <ref name="common.attrs.basic"/>
      <ref name="common.attrs.i18n"/>
      <ref name="common.attrs.present"/>
      <ref name="common.attrs.other"/>
      <ref name="meta.http-equiv.attrs.http-equiv.content-type"/>
      <ref name="meta.http-equiv.attrs.content.content-type"/>
    </interleave>
  </define>
  <define name="meta.http-equiv.attrs.http-equiv.content-type">
    <attribute name="http-equiv">
      <value>content-type</value>
    </attribute>
  </define>
  <define name="meta.http-equiv.attrs.content.content-type">
    <attribute name="content">
      <ref name="common.data.meta-charset"/>
    </attribute>
  </define>
  <define name="common.elem.metadata" combine="choice">
    <choice>
      <ref name="meta.charset.elem"/>
      <ref name="meta.http-equiv.content-type.elem"/>
    </choice>
  </define>

    <a:documentation>Modules from the Nu HTML Checker</a:documentation>
    <!--
      make the title element optional, since one could see the publication title
      as defining a proper "higher-level protocol"
      the lack of \`title\` will however raise a WARNING in a Schematron rule 
    -->
    <define name="head.inner">
      <interleave>
        <optional>
          <ref name="title.elem"/>
        </optional>
        <optional>
          <ref name="base.elem"/>
        </optional>
        <!-- REVISIT need a non-schema checker or Schematron -->
        <ref name="common.inner.metadata"/>
      </interleave>
      <!-- Limit encoding decl position in Schematron -->
    </define>
    <!--
      Allow http-equiv in encoding declaration state in XHTML too
      (W3C allows that, but not WHATWG)
    -->
    <define name="meta.http-equiv.content-type.elem">
      <element name="meta">
        <interleave>
          <ref name="meta.inner"/>
          <ref name="meta.http-equiv.content-type.attrs"/>
        </interleave>
      </element>
    </define>
    <!--
      Make http-equiv case-insensitive
      This is an ugly hack. Case-insensitiveness would better be solved
      at parsing time.
    -->
    <define name="meta.http-equiv.attrs.http-equiv.content-type">
      <attribute name="http-equiv">
        <data type="string">
          <param name="pattern">[cC][oO][nN][tT][eE][nN][tT]-[tT][yY][pP][eE]</param>
        </data>
      </attribute>
    </define>
    <define name="meta.http-equiv.attrs.http-equiv.refresh">
      <attribute name="http-equiv">
        <data type="string">
          <param name="pattern">[rR][eE][fF][rR][eE][sS][hH]</param>
        </data>
      </attribute>
    </define>
    <define name="meta.http-equiv.attrs.http-equiv.default-style">
      <attribute name="http-equiv">
        <data type="string">
          <param name="pattern">[dD][eE][fF][aA][uU][lL][tT]-[sS][tT][yY][lL][eE]</param>
        </data>
      </attribute>
    </define>
    <define name="meta.http-equiv.attrs.http-equiv.content-security-policy">
      <attribute name="http-equiv">
        <data type="string">
          <param name="pattern">[cC][oO][nN][tT][eE][nN][tT]-[sS][eE][cC][uU][rR][iI][tT][yY]-[pP][oO][lL][iI][cC][yY]</param>
        </data>
      </attribute>
    </define>
    <define name="meta.http-equiv.attrs.http-equiv.x-ua-compatible">
      <attribute name="http-equiv">
        <data type="string">
          <param name="pattern">[xX]-[uU][aA]-[cC][oO][mM][pP][aA][tT][iI][bB][lL][eE]</param>
        </data>
      </attribute>
    </define>
  
  <!-- Inlined from phrase.rng -->
<!-- ##################################################################### -->
  <define name="a.elem.phrasing">
    <a:documentation> RELAX NG Schema for HTML 5: Phrase Markup                         #</a:documentation>
    <!-- ##################################################################### -->
    <a:documentation>Contextual Hyperlink: &lt;a&gt;</a:documentation>
    <choice>
      <ref name="a.href.elem.phrasing"/>
      <ref name="a.nohref.elem.phrasing"/>
    </choice>
  </define>
  <define name="a.elem.flow">
    <choice>
      <ref name="a.href.elem.flow"/>
      <ref name="a.nohref.elem.flow"/>
    </choice>
  </define>
  <define name="a.href.elem.phrasing">
    <element name="a">
      <interleave>
        <ref name="a.inner.phrasing"/>
        <ref name="a.href.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="a.href.elem.flow">
    <element name="a">
      <interleave>
        <ref name="a.inner.flow"/>
        <ref name="a.href.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="a.nohref.elem.phrasing">
    <element name="a">
      <interleave>
        <ref name="a.inner.phrasing"/>
        <ref name="a.nohref.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="a.nohref.elem.flow">
    <element name="a">
      <interleave>
        <ref name="a.inner.flow"/>
        <ref name="a.nohref.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="a.href.attrs">
    <interleave>
      <ref name="a.attrs"/>
      <ref name="shared-hyperlink.attrs.href"/>
      <optional>
        <choice>
          <ref name="common.attrs.aria.implicit.link"/>
          <ref name="common.attrs.aria.role.button"/>
          <ref name="common.attrs.aria.role.checkbox"/>
          <ref name="common.attrs.aria.role.link"/>
          <ref name="common.attrs.aria.role.menuitem"/>
          <ref name="common.attrs.aria.role.menuitemcheckbox"/>
          <ref name="common.attrs.aria.role.menuitemradio"/>
          <ref name="common.attrs.aria.role.option"/>
          <ref name="common.attrs.aria.role.radio"/>
          <ref name="common.attrs.aria.role.switch"/>
          <ref name="common.attrs.aria.role.tab"/>
          <ref name="common.attrs.aria.role.treeitem"/>
          <ref name="common.attrs.aria.role.doc-backlink"/>
          <ref name="common.attrs.aria.role.doc-biblioref"/>
          <ref name="common.attrs.aria.role.doc-glossref"/>
          <ref name="common.attrs.aria.role.doc-noteref"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="a.nohref.attrs">
    <interleave>
      <ref name="common.attrs.basic"/>
      <ref name="common.attrs.i18n"/>
      <ref name="common.attrs.present"/>
      <ref name="common.attrs.other"/>
      <optional>
        <ref name="a.attrs.name"/>
      </optional>
      <optional>
        <ref name="common.attrs.aria"/>
      </optional>
    </interleave>
  </define>
  <define name="a.attrs">
    <interleave>
      <ref name="common.attrs.basic"/>
      <ref name="common.attrs.i18n"/>
      <ref name="common.attrs.present"/>
      <ref name="common.attrs.other"/>
      <optional>
        <ref name="a.attrs.name"/>
      </optional>
      <optional>
        <ref name="shared-hyperlink.attrs.download"/>
      </optional>
      <optional>
        <ref name="shared-hyperlink.attrs.target"/>
      </optional>
      <optional>
        <ref name="shared-hyperlink.attrs.rel"/>
      </optional>
      <optional>
        <ref name="shared-hyperlink.attrs.hreflang"/>
      </optional>
      <optional>
        <ref name="shared-hyperlink.attrs.type"/>
      </optional>
      <optional>
        <ref name="shared-hyperlink.attrs.ping"/>
      </optional>
      <optional>
        <ref name="referrerpolicy"/>
      </optional>
    </interleave>
  </define>
  <define name="a.attrs.name">
    <attribute name="name">
      <ref name="common.data.id"/>
      <!-- XXX not what the spec says -->
    </attribute>
  </define>
  <define name="a.inner.phrasing">
    <ref name="common.inner.phrasing"/>
  </define>
  <define name="a.inner.flow">
    <ref name="common.inner.transparent.flow"/>
  </define>
  <define name="common.elem.phrasing" combine="choice">
    <ref name="a.elem.phrasing"/>
  </define>
  <define name="common.elem.flow" combine="choice">
    <ref name="a.elem.flow"/>
  </define>
  <define name="shared-hyperlink.attrs.download">
    <a:documentation>Shared hyperlink attributes</a:documentation>
    <attribute name="download">
      <data type="string"/>
    </attribute>
  </define>
  <define name="shared-hyperlink.attrs.href">
    <attribute name="href">
      <ref name="common.data.uri"/>
    </attribute>
  </define>
  <define name="shared-hyperlink.attrs.target">
    <attribute name="target">
      <ref name="common.data.browsing-context-or-keyword"/>
    </attribute>
  </define>
  <define name="shared-hyperlink.attrs.rel">
    <attribute name="rel">
      <data type="string"/>
    </attribute>
  </define>
  <define name="shared-hyperlink.attrs.hreflang">
    <attribute name="hreflang">
      <ref name="common.data.langcode"/>
    </attribute>
  </define>
  <define name="shared-hyperlink.attrs.media">
    <attribute name="media">
      <ref name="common.data.mediaquery"/>
    </attribute>
  </define>
  <define name="shared-hyperlink.attrs.type">
    <attribute name="type">
      <ref name="common.data.mimetype"/>
    </attribute>
  </define>
  <define name="shared-hyperlink.attrs.ping">
    <interleave>
      <attribute name="ping">
        <ref name="common.data.uris.http.or.https"/>
      </attribute>
      <ref name="v5only"/>
    </interleave>
  </define>
  <define name="referrerpolicy">
    <interleave>
      <attribute name="referrerpolicy">
        <choice>
          <value type="string"/>
          <value type="string">no-referrer</value>
          <value type="string">no-referrer-when-downgrade</value>
          <value type="string">same-origin</value>
          <value type="string">origin</value>
          <value type="string">strict-origin</value>
          <value type="string">origin-when-cross-origin</value>
          <value type="string">strict-origin-when-cross-origin</value>
          <value type="string">unsafe-url</value>
        </choice>
      </attribute>
      <ref name="v5only"/>
    </interleave>
  </define>
  <define name="em.elem">
    <a:documentation>Emphatic Stress: &lt;em&gt;</a:documentation>
    <element name="em">
      <interleave>
        <ref name="em.inner"/>
        <ref name="em.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="em.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <ref name="common.attrs.aria"/>
      </optional>
    </interleave>
  </define>
  <define name="em.inner">
    <ref name="common.inner.phrasing"/>
  </define>
  <define name="common.elem.phrasing" combine="choice">
    <ref name="em.elem"/>
  </define>
  <define name="strong.elem">
    <a:documentation>Strong Importance: &lt;strong&gt;</a:documentation>
    <element name="strong">
      <interleave>
        <ref name="strong.inner"/>
        <ref name="strong.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="strong.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <ref name="common.attrs.aria"/>
      </optional>
    </interleave>
  </define>
  <define name="strong.inner">
    <ref name="common.inner.phrasing"/>
  </define>
  <define name="common.elem.phrasing" combine="choice">
    <ref name="strong.elem"/>
  </define>
  <define name="small.elem">
    <a:documentation>Small Print and Side Comments: &lt;small&gt;</a:documentation>
    <element name="small">
      <interleave>
        <ref name="small.inner"/>
        <ref name="small.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="small.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <ref name="common.attrs.aria"/>
      </optional>
    </interleave>
  </define>
  <define name="small.inner">
    <ref name="common.inner.phrasing"/>
  </define>
  <define name="common.elem.phrasing" combine="choice">
    <ref name="small.elem"/>
  </define>
  <define name="mark.elem">
    <a:documentation>Marked (Highlighted) Text: &lt;mark&gt;</a:documentation>
    <interleave>
      <element name="mark">
        <interleave>
          <ref name="mark.inner"/>
          <ref name="mark.attrs"/>
        </interleave>
      </element>
      <ref name="v5only"/>
    </interleave>
  </define>
  <define name="mark.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <ref name="common.attrs.aria"/>
      </optional>
    </interleave>
  </define>
  <define name="mark.inner">
    <ref name="common.inner.phrasing"/>
  </define>
  <define name="common.elem.phrasing" combine="choice">
    <ref name="mark.elem"/>
  </define>
  <define name="abbr.elem">
    <a:documentation>Abbreviation: &lt;abbr&gt;</a:documentation>
    <element name="abbr">
      <interleave>
        <ref name="abbr.inner"/>
        <ref name="abbr.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="abbr.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <!-- 	abbr.attrs.title included in common.attrs -->
        <ref name="common.attrs.aria"/>
      </optional>
    </interleave>
  </define>
  <define name="abbr.inner">
    <ref name="common.inner.phrasing"/>
  </define>
  <define name="common.elem.phrasing" combine="choice">
    <ref name="abbr.elem"/>
  </define>
  <define name="dfn.elem">
    <a:documentation>Defining Instance: &lt;dfn&gt;</a:documentation>
    <element name="dfn">
      <interleave>
        <ref name="dfn.inner"/>
        <ref name="dfn.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="dfn.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <!-- 	dfn.attrs.title included in common.attrs -->
        <ref name="common.attrs.aria"/>
      </optional>
    </interleave>
  </define>
  <define name="dfn.inner">
    <ref name="common.inner.phrasing"/>
  </define>
  <define name="common.elem.phrasing" combine="choice">
    <ref name="dfn.elem"/>
  </define>
  <define name="i.elem">
    <a:documentation>Italic: &lt;i&gt;</a:documentation>
    <element name="i">
      <interleave>
        <ref name="i.inner"/>
        <ref name="i.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="i.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <ref name="common.attrs.aria"/>
      </optional>
    </interleave>
  </define>
  <define name="i.inner">
    <ref name="common.inner.phrasing"/>
  </define>
  <define name="common.elem.phrasing" combine="choice">
    <ref name="i.elem"/>
  </define>
  <define name="b.elem">
    <a:documentation>Bold: &lt;b&gt;</a:documentation>
    <element name="b">
      <interleave>
        <ref name="b.inner"/>
        <ref name="b.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="b.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <ref name="common.attrs.aria"/>
      </optional>
    </interleave>
  </define>
  <define name="b.inner">
    <ref name="common.inner.phrasing"/>
  </define>
  <define name="common.elem.phrasing" combine="choice">
    <ref name="b.elem"/>
  </define>
  <define name="s.elem">
    <a:documentation>Struck Text: &lt;s&gt;</a:documentation>
    <element name="s">
      <interleave>
        <ref name="s.inner"/>
        <ref name="s.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="s.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <ref name="common.attrs.aria"/>
      </optional>
    </interleave>
  </define>
  <define name="s.inner">
    <ref name="common.inner.phrasing"/>
  </define>
  <define name="common.elem.phrasing" combine="choice">
    <ref name="s.elem"/>
  </define>
  <define name="u.elem">
    <a:documentation>Underline: &lt;u&gt;</a:documentation>
    <element name="u">
      <interleave>
        <ref name="u.inner"/>
        <ref name="u.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="u.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <ref name="common.attrs.aria"/>
      </optional>
    </interleave>
  </define>
  <define name="u.inner">
    <ref name="common.inner.phrasing"/>
  </define>
  <define name="common.elem.phrasing" combine="choice">
    <ref name="u.elem"/>
  </define>
  <define name="code.elem">
    <a:documentation>Code Fragment: &lt;code&gt;</a:documentation>
    <element name="code">
      <interleave>
        <ref name="code.inner"/>
        <ref name="code.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="code.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <ref name="common.attrs.aria"/>
      </optional>
    </interleave>
  </define>
  <define name="code.inner">
    <ref name="common.inner.phrasing"/>
  </define>
  <define name="common.elem.phrasing" combine="choice">
    <ref name="code.elem"/>
  </define>
  <define name="var.elem">
    <a:documentation>Variable or Placeholder: &lt;var&gt;</a:documentation>
    <element name="var">
      <interleave>
        <ref name="var.inner"/>
        <ref name="var.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="var.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <ref name="common.attrs.aria"/>
      </optional>
    </interleave>
  </define>
  <define name="var.inner">
    <ref name="common.inner.phrasing"/>
  </define>
  <define name="common.elem.phrasing" combine="choice">
    <ref name="var.elem"/>
  </define>
  <define name="samp.elem">
    <a:documentation>(Sample) Output: &lt;samp&gt;</a:documentation>
    <element name="samp">
      <interleave>
        <ref name="samp.inner"/>
        <ref name="samp.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="samp.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <ref name="common.attrs.aria"/>
      </optional>
    </interleave>
  </define>
  <define name="samp.inner">
    <ref name="common.inner.phrasing"/>
  </define>
  <define name="common.elem.phrasing" combine="choice">
    <ref name="samp.elem"/>
  </define>
  <define name="kbd.elem">
    <a:documentation>User Input: &lt;kbd&gt;</a:documentation>
    <element name="kbd">
      <interleave>
        <ref name="kbd.inner"/>
        <ref name="kbd.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="kbd.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <ref name="common.attrs.aria"/>
      </optional>
    </interleave>
  </define>
  <define name="kbd.inner">
    <ref name="common.inner.phrasing"/>
  </define>
  <define name="common.elem.phrasing" combine="choice">
    <ref name="kbd.elem"/>
  </define>
  <define name="sup.elem">
    <a:documentation>Superscript: &lt;sup&gt;</a:documentation>
    <element name="sup">
      <interleave>
        <ref name="sup.inner"/>
        <ref name="sup.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="sup.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <ref name="common.attrs.aria"/>
      </optional>
    </interleave>
  </define>
  <define name="sup.inner">
    <ref name="common.inner.phrasing"/>
  </define>
  <define name="common.elem.phrasing" combine="choice">
    <ref name="sup.elem"/>
  </define>
  <define name="sub.elem">
    <a:documentation>Subscript: &lt;sub&gt;</a:documentation>
    <element name="sub">
      <interleave>
        <ref name="sub.inner"/>
        <ref name="sub.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="sub.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <ref name="common.attrs.aria"/>
      </optional>
    </interleave>
  </define>
  <define name="sub.inner">
    <ref name="common.inner.phrasing"/>
  </define>
  <define name="common.elem.phrasing" combine="choice">
    <ref name="sub.elem"/>
  </define>
  <define name="q.elem">
    <a:documentation>Quotation: &lt;q&gt;</a:documentation>
    <element name="q">
      <interleave>
        <ref name="q.inner"/>
        <ref name="q.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="q.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <ref name="q.attrs.cite"/>
      </optional>
      <optional>
        <ref name="common.attrs.aria"/>
      </optional>
    </interleave>
  </define>
  <define name="q.attrs.cite">
    <attribute name="cite">
      <ref name="common.data.uri"/>
    </attribute>
  </define>
  <define name="q.inner">
    <ref name="common.inner.phrasing"/>
  </define>
  <define name="common.elem.phrasing" combine="choice">
    <ref name="q.elem"/>
  </define>
  <define name="cite.elem">
    <a:documentation>Title of Work: &lt;cite&gt;</a:documentation>
    <element name="cite">
      <interleave>
        <ref name="cite.inner"/>
        <ref name="cite.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="cite.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <ref name="common.attrs.aria"/>
      </optional>
    </interleave>
  </define>
  <define name="cite.inner">
    <ref name="common.inner.phrasing"/>
  </define>
  <define name="common.elem.phrasing" combine="choice">
    <ref name="cite.elem"/>
  </define>
  <define name="span.elem">
    <a:documentation>Generic Span: &lt;span&gt;</a:documentation>
    <element name="span">
      <interleave>
        <ref name="span.inner"/>
        <ref name="span.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="span.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <ref name="common.attrs.aria"/>
      </optional>
    </interleave>
  </define>
  <define name="span.inner">
    <ref name="common.inner.phrasing"/>
  </define>
  <!-- REVISIT allow ol and ul? -->
  <define name="common.elem.phrasing" combine="choice">
    <ref name="span.elem"/>
  </define>
  <define name="bdo.elem">
    <a:documentation>Bidirectional Override: &lt;bdo&gt;</a:documentation>
    <element name="bdo">
      <interleave>
        <ref name="bdo.inner"/>
        <ref name="bdo.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="bdo.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <ref name="common.attrs.aria"/>
      </optional>
    </interleave>
  </define>
  <define name="bdo.inner">
    <ref name="common.inner.phrasing"/>
  </define>
  <define name="common.elem.phrasing" combine="choice">
    <ref name="bdo.elem"/>
  </define>
  <define name="bdi.elem">
    <a:documentation>Bidirectional Isolate: &lt;bdi&gt;</a:documentation>
    <element name="bdi">
      <interleave>
        <ref name="bdi.inner"/>
        <ref name="bdi.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="bdi.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <ref name="common.attrs.aria"/>
      </optional>
    </interleave>
  </define>
  <define name="bdi.inner">
    <ref name="common.inner.phrasing"/>
  </define>
  <define name="common.elem.phrasing" combine="choice">
    <ref name="bdi.elem"/>
  </define>
  <define name="br.elem">
    <a:documentation>Line Break: &lt;br&gt;</a:documentation>
    <element name="br">
      <interleave>
        <ref name="br.inner"/>
        <ref name="br.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="br.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <ref name="common.attrs.aria.role.presentation"/>
      </optional>
    </interleave>
  </define>
  <define name="br.inner">
    <empty/>
  </define>
  <define name="common.elem.phrasing" combine="choice">
    <ref name="br.elem"/>
  </define>
  <define name="wbr.elem">
    <a:documentation>Line-break opportunity: &lt;wbr&gt;</a:documentation>
    <element name="wbr">
      <interleave>
        <ref name="wbr.inner"/>
        <ref name="wbr.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="wbr.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <ref name="common.attrs.aria.role.presentation"/>
      </optional>
    </interleave>
  </define>
  <define name="wbr.inner">
    <empty/>
  </define>
  <define name="common.elem.phrasing" combine="choice">
    <ref name="wbr.elem"/>
  </define>
  <!-- Inlined from block.rng -->
<!-- ##################################################################### -->
  <define name="p.elem">
    <a:documentation> RELAX NG Schema for HTML 5: Basic Prose Markup                    #</a:documentation>
    <!-- ##################################################################### -->
    <!-- ##################################################################### -->
    <a:documentation>Paragraph-Level</a:documentation>
    <a:documentation>Paragraph: &lt;p&gt;</a:documentation>
    <element name="p">
      <interleave>
        <ref name="p.inner"/>
        <ref name="p.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="p.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <ref name="common.attrs.aria"/>
      </optional>
    </interleave>
  </define>
  <define name="p.inner">
    <ref name="common.inner.phrasing"/>
  </define>
  <!-- REVISIT lists in span? -->
  <define name="common.elem.flow" combine="choice">
    <ref name="p.elem"/>
  </define>
  <define name="hr.elem">
    <a:documentation>Hint Transition: &lt;hr&gt;</a:documentation>
    <element name="hr">
      <interleave>
        <ref name="hr.inner"/>
        <ref name="hr.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="hr.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <choice>
          <ref name="common.attrs.aria.implicit.separator"/>
          <ref name="common.attrs.aria.role.separator"/>
          <ref name="common.attrs.aria.role.presentation"/>
          <ref name="common.attrs.aria.role.doc-pagebreak"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="hr.inner">
    <empty/>
  </define>
  <define name="common.elem.flow" combine="choice">
    <ref name="hr.elem"/>
  </define>
  <!-- ##################################################################### -->
  <define name="pre.elem">
    <a:documentation>Preformatting Blocks</a:documentation>
    <a:documentation>Preformatted Text: &lt;pre&gt;</a:documentation>
    <element name="pre">
      <interleave>
        <ref name="pre.inner"/>
        <ref name="pre.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="pre.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <ref name="common.attrs.aria"/>
      </optional>
    </interleave>
  </define>
  <define name="pre.inner">
    <ref name="common.inner.phrasing"/>
  </define>
  <define name="common.elem.flow" combine="choice">
    <ref name="pre.elem"/>
  </define>
  <!-- ##################################################################### -->
  <define name="ul.elem">
    <a:documentation>Simple Lists</a:documentation>
    <a:documentation>Unordered List: &lt;ul&gt;</a:documentation>
    <element name="ul">
      <interleave>
        <ref name="ul.inner"/>
        <ref name="ul.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="ul.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <choice>
          <choice>
            <ref name="common.attrs.aria.role.directory"/>
            <ref name="common.attrs.aria.role.group"/>
            <ref name="common.attrs.aria.role.list"/>
            <ref name="common.attrs.aria.role.listbox"/>
            <ref name="common.attrs.aria.role.menu"/>
            <ref name="common.attrs.aria.role.menubar"/>
            <ref name="common.attrs.aria.role.radiogroup"/>
            <ref name="common.attrs.aria.role.tablist"/>
            <ref name="common.attrs.aria.role.toolbar"/>
            <ref name="common.attrs.aria.role.tree"/>
            <ref name="common.attrs.aria.role.presentation"/>
          </choice>
          <ref name="common.attrs.aria.implicit.list"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="ul.inner">
    <interleave>
      <zeroOrMore>
        <ref name="li.elem"/>
      </zeroOrMore>
      <zeroOrMore>
        <ref name="common.elem.script-supporting"/>
      </zeroOrMore>
    </interleave>
  </define>
  <define name="common.elem.flow" combine="choice">
    <ref name="ul.elem"/>
  </define>
  <define name="li.elem">
    <a:documentation>Unordered List Item: &lt;li&gt;</a:documentation>
    <element name="li">
      <interleave>
        <ref name="li.inner"/>
        <ref name="li.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="li.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <choice>
          <ref name="common.attrs.aria.implicit.listitem"/>
          <ref name="common.attrs.aria.role.listitem"/>
          <ref name="common.attrs.aria.role.menuitem"/>
          <ref name="common.attrs.aria.role.menuitemcheckbox"/>
          <ref name="common.attrs.aria.role.menuitemradio"/>
          <ref name="common.attrs.aria.role.option"/>
          <ref name="common.attrs.aria.role.radio"/>
          <ref name="common.attrs.aria.role.tab"/>
          <ref name="common.attrs.aria.role.treeitem"/>
          <ref name="common.attrs.aria.role.separator"/>
          <ref name="common.attrs.aria.role.presentation"/>
          <ref name="common.attrs.aria.role.doc-biblioentry"/>
          <ref name="common.attrs.aria.role.doc-endnote"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="li.inner">
    <ref name="common.inner.flow"/>
  </define>
  <define name="ol.elem">
    <a:documentation>Ordered List: &lt;ol&gt;</a:documentation>
    <element name="ol">
      <interleave>
        <ref name="ol.inner"/>
        <ref name="ol.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="ol.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <ref name="ol.attrs.start"/>
      </optional>
      <optional>
        <ref name="ol.attrs.reversed"/>
      </optional>
      <optional>
        <ref name="ol.attrs.type"/>
      </optional>
      <optional>
        <choice>
          <choice>
            <ref name="common.attrs.aria.role.directory"/>
            <ref name="common.attrs.aria.role.group"/>
            <ref name="common.attrs.aria.role.list"/>
            <ref name="common.attrs.aria.role.listbox"/>
            <ref name="common.attrs.aria.role.menu"/>
            <ref name="common.attrs.aria.role.menubar"/>
            <ref name="common.attrs.aria.role.radiogroup"/>
            <ref name="common.attrs.aria.role.tablist"/>
            <ref name="common.attrs.aria.role.toolbar"/>
            <ref name="common.attrs.aria.role.tree"/>
            <ref name="common.attrs.aria.role.presentation"/>
          </choice>
          <ref name="common.attrs.aria.implicit.list"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="ol.attrs.start">
    <attribute name="start">
      <ref name="common.data.integer"/>
    </attribute>
  </define>
  <define name="ol.attrs.reversed">
    <attribute name="reversed">
      <choice>
        <value>reversed</value>
        <value/>
      </choice>
    </attribute>
  </define>
  <define name="ol.attrs.type">
    <attribute name="type">
      <choice>
        <value>1</value>
        <value>a</value>
        <value>A</value>
        <value>i</value>
        <value>I</value>
      </choice>
    </attribute>
  </define>
  <define name="ol.inner">
    <interleave>
      <zeroOrMore>
        <ref name="oli.elem"/>
      </zeroOrMore>
      <zeroOrMore>
        <ref name="common.elem.script-supporting"/>
      </zeroOrMore>
    </interleave>
  </define>
  <define name="common.elem.flow" combine="choice">
    <ref name="ol.elem"/>
  </define>
  <define name="oli.elem">
    <a:documentation>Ordered List Item: &lt;li&gt;</a:documentation>
    <element name="li">
      <interleave>
        <ref name="oli.inner"/>
        <ref name="oli.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="oli.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <ref name="oli.attrs.value"/>
      </optional>
      <optional>
        <choice>
          <ref name="common.attrs.aria.implicit.listitem"/>
          <ref name="common.attrs.aria.role.listitem"/>
          <ref name="common.attrs.aria.role.menuitem"/>
          <ref name="common.attrs.aria.role.menuitemcheckbox"/>
          <ref name="common.attrs.aria.role.menuitemradio"/>
          <ref name="common.attrs.aria.role.option"/>
          <ref name="common.attrs.aria.role.radio"/>
          <ref name="common.attrs.aria.role.tab"/>
          <ref name="common.attrs.aria.role.treeitem"/>
          <ref name="common.attrs.aria.role.separator"/>
          <ref name="common.attrs.aria.role.presentation"/>
          <ref name="common.attrs.aria.role.doc-biblioentry"/>
          <ref name="common.attrs.aria.role.doc-endnote"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="oli.attrs.value">
    <attribute name="value">
      <ref name="common.data.integer"/>
    </attribute>
  </define>
  <define name="oli.inner">
    <ref name="common.inner.flow"/>
  </define>
  <!-- ##################################################################### -->
  <define name="dl.elem">
    <a:documentation>Definition Lists</a:documentation>
    <a:documentation>Definition List: &lt;dl&gt;</a:documentation>
    <element name="dl">
      <interleave>
        <ref name="dl.inner"/>
        <ref name="dl.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="dl.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <choice>
          <ref name="common.attrs.aria.role.list"/>
          <ref name="common.attrs.aria.role.group"/>
          <ref name="common.attrs.aria.role.presentation"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="dl.inner">
    <choice>
      <zeroOrMore>
        <oneOrMore>
          <interleave>
            <ref name="dt.elem"/>
            <zeroOrMore>
              <ref name="common.elem.script-supporting"/>
            </zeroOrMore>
          </interleave>
        </oneOrMore>
        <oneOrMore>
          <interleave>
            <ref name="dd.elem"/>
            <zeroOrMore>
              <ref name="common.elem.script-supporting"/>
            </zeroOrMore>
          </interleave>
        </oneOrMore>
      </zeroOrMore>
      <oneOrMore>
        <interleave>
          <ref name="dldiv.elem"/>
          <zeroOrMore>
            <ref name="common.elem.script-supporting"/>
          </zeroOrMore>
        </interleave>
      </oneOrMore>
      <zeroOrMore>
        <ref name="common.elem.script-supporting"/>
      </zeroOrMore>
    </choice>
  </define>
  <define name="common.elem.flow" combine="choice">
    <ref name="dl.elem"/>
  </define>
  <define name="dt.elem">
    <a:documentation>Definition Term: &lt;dt&gt;</a:documentation>
    <element name="dt">
      <interleave>
        <ref name="dt.inner"/>
        <ref name="dt.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="dt.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <choice>
        <ref name="common.attrs.aria.implicit.term"/>
        <ref name="common.attrs.aria.role.term"/>
        <ref name="common.attrs.aria.role.listitem"/>
      </choice>
    </interleave>
  </define>
  <define name="dt.inner">
    <ref name="common.inner.flow"/>
  </define>
  <define name="dd.elem">
    <a:documentation>Definition Description: &lt;dd&gt;</a:documentation>
    <element name="dd">
      <interleave>
        <ref name="dd.inner"/>
        <ref name="dd.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="dd.elem.phrasing">
    <element name="dd">
      <interleave>
        <ref name="dd.inner.phrasing"/>
        <ref name="dd.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="dd.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <choice>
        <ref name="common.attrs.aria.implicit.definition"/>
        <ref name="common.attrs.aria.role.definition"/>
      </choice>
    </interleave>
  </define>
  <define name="dd.inner">
    <ref name="common.inner.flow"/>
  </define>
  <define name="dd.inner.phrasing">
    <ref name="common.inner.phrasing"/>
  </define>
  <!-- ##################################################################### -->
  <define name="div.elem">
    <a:documentation>Miscellaneous Elements</a:documentation>
    <a:documentation>Generic Container: &lt;div&gt;</a:documentation>
    <element name="div">
      <interleave>
        <ref name="div.inner"/>
        <ref name="div.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="div.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <ref name="common.attrs.aria"/>
      </optional>
    </interleave>
  </define>
  <define name="div.inner">
    <ref name="common.inner.flow"/>
  </define>
  <define name="common.elem.flow" combine="choice">
    <ref name="div.elem"/>
  </define>
  <define name="dldiv.elem">
    <element name="div">
      <interleave>
        <ref name="dldiv.inner"/>
        <ref name="div.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="dldiv.inner">
    <oneOrMore>
      <interleave>
        <ref name="dt.elem"/>
        <zeroOrMore>
          <ref name="common.elem.script-supporting"/>
        </zeroOrMore>
      </interleave>
    </oneOrMore>
    <oneOrMore>
      <interleave>
        <ref name="dd.elem"/>
        <zeroOrMore>
          <ref name="common.elem.script-supporting"/>
        </zeroOrMore>
      </interleave>
    </oneOrMore>
  </define>
  <define name="legend.elem">
    <a:documentation>Title or Explanatory Caption: &lt;legend&gt;</a:documentation>
    <element name="legend">
      <interleave>
        <ref name="legend.inner"/>
        <ref name="legend.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="legend.attrs">
    <ref name="common.attrs"/>
  </define>
  <define name="legend.inner">
    <interleave>
      <ref name="common.inner.phrasing"/>
      <optional>
        <ref name="h1.elem"/>
      </optional>
      <optional>
        <ref name="h2.elem"/>
      </optional>
      <optional>
        <ref name="h3.elem"/>
      </optional>
      <optional>
        <ref name="h4.elem"/>
      </optional>
      <optional>
        <ref name="h5.elem"/>
      </optional>
      <optional>
        <ref name="h6.elem"/>
      </optional>
      <optional>
        <ref name="hgroup.elem"/>
      </optional>
    </interleave>
  </define>
  <!-- Inlined from sectional.rng -->
<!-- ##################################################################### -->
  <define name="h1.elem">
    <a:documentation> RELAX NG Schema for HTML 5: Sectioning Markup                     #</a:documentation>
    <!-- ##################################################################### -->
    <!-- ##################################################################### -->
    <a:documentation>Headings</a:documentation>
    <a:documentation>Heading (Rank 1): &lt;h1&gt;</a:documentation>
    <element name="h1">
      <interleave>
        <ref name="h1.inner"/>
        <ref name="h1.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="h1.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <choice>
          <ref name="common.attrs.aria.implicit.heading"/>
          <ref name="common.attrs.aria.role.heading"/>
          <ref name="common.attrs.aria.role.tab"/>
          <ref name="common.attrs.aria.role.presentation"/>
          <ref name="common.attrs.aria.role.doc-subtitle"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="h1.inner">
    <ref name="common.inner.phrasing"/>
  </define>
  <define name="common.elem.flow" combine="choice">
    <ref name="h1.elem"/>
  </define>
  <define name="h2.elem">
    <a:documentation>Heading (Rank 2): &lt;h2&gt;</a:documentation>
    <element name="h2">
      <interleave>
        <ref name="h2.inner"/>
        <ref name="h2.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="h2.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <choice>
          <ref name="common.attrs.aria.implicit.heading"/>
          <ref name="common.attrs.aria.role.heading"/>
          <ref name="common.attrs.aria.role.tab"/>
          <ref name="common.attrs.aria.role.presentation"/>
          <ref name="common.attrs.aria.role.doc-subtitle"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="h2.inner">
    <ref name="common.inner.phrasing"/>
  </define>
  <define name="common.elem.flow" combine="choice">
    <ref name="h2.elem"/>
  </define>
  <define name="h3.elem">
    <a:documentation>Heading (Rank 3): &lt;h3&gt;</a:documentation>
    <element name="h3">
      <interleave>
        <ref name="h3.inner"/>
        <ref name="h3.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="h3.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <choice>
          <ref name="common.attrs.aria.implicit.heading"/>
          <ref name="common.attrs.aria.role.heading"/>
          <ref name="common.attrs.aria.role.tab"/>
          <ref name="common.attrs.aria.role.presentation"/>
          <ref name="common.attrs.aria.role.doc-subtitle"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="h3.inner">
    <ref name="common.inner.phrasing"/>
  </define>
  <define name="common.elem.flow" combine="choice">
    <ref name="h3.elem"/>
  </define>
  <define name="h4.elem">
    <a:documentation>Heading (Rank 4): &lt;h4&gt;</a:documentation>
    <element name="h4">
      <interleave>
        <ref name="h4.inner"/>
        <ref name="h4.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="h4.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <choice>
          <ref name="common.attrs.aria.implicit.heading"/>
          <ref name="common.attrs.aria.role.heading"/>
          <ref name="common.attrs.aria.role.tab"/>
          <ref name="common.attrs.aria.role.presentation"/>
          <ref name="common.attrs.aria.role.doc-subtitle"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="h4.inner">
    <ref name="common.inner.phrasing"/>
  </define>
  <define name="common.elem.flow" combine="choice">
    <ref name="h4.elem"/>
  </define>
  <define name="h5.elem">
    <a:documentation>Heading (Rank 5): &lt;h5&gt;</a:documentation>
    <element name="h5">
      <interleave>
        <ref name="h5.inner"/>
        <ref name="h5.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="h5.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <choice>
          <ref name="common.attrs.aria.implicit.heading"/>
          <ref name="common.attrs.aria.role.heading"/>
          <ref name="common.attrs.aria.role.tab"/>
          <ref name="common.attrs.aria.role.presentation"/>
          <ref name="common.attrs.aria.role.doc-subtitle"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="h5.inner">
    <ref name="common.inner.phrasing"/>
  </define>
  <define name="common.elem.flow" combine="choice">
    <ref name="h5.elem"/>
  </define>
  <define name="h6.elem">
    <a:documentation>Heading (Rank 6): &lt;h6&gt;</a:documentation>
    <element name="h6">
      <interleave>
        <ref name="h6.inner"/>
        <ref name="h6.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="h6.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <choice>
          <ref name="common.attrs.aria.implicit.heading"/>
          <ref name="common.attrs.aria.role.heading"/>
          <ref name="common.attrs.aria.role.tab"/>
          <ref name="common.attrs.aria.role.presentation"/>
          <ref name="common.attrs.aria.role.doc-subtitle"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="h6.inner">
    <ref name="common.inner.phrasing"/>
  </define>
  <define name="common.elem.flow" combine="choice">
    <ref name="h6.elem"/>
  </define>
  <define name="hgroup.elem">
    <a:documentation>Heading Group: &lt;hgroup&gt;</a:documentation>
    <element name="hgroup">
      <interleave>
        <ref name="hgroup.inner"/>
        <ref name="hgroup.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="hgroup.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <ref name="common.attrs.aria"/>
      </optional>
    </interleave>
  </define>
  <define name="hgroup.inner">
    <interleave>
      <choice>
        <ref name="h1.elem"/>
        <ref name="h2.elem"/>
        <ref name="h3.elem"/>
        <ref name="h4.elem"/>
        <ref name="h5.elem"/>
        <ref name="h6.elem"/>
      </choice>
      <zeroOrMore>
        <ref name="p.elem"/>
      </zeroOrMore>
      <zeroOrMore>
        <ref name="common.elem.script-supporting"/>
      </zeroOrMore>
    </interleave>
  </define>
  <define name="common.elem.flow" combine="choice">
    <ref name="hgroup.elem"/>
  </define>
  <!-- ##################################################################### -->
  <define name="address.elem">
    <a:documentation>Section Meta</a:documentation>
    <a:documentation>Contact Info: &lt;address&gt;</a:documentation>
    <element name="address">
      <interleave>
        <ref name="address.inner"/>
        <ref name="address.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="address.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <ref name="common.attrs.aria"/>
      </optional>
    </interleave>
  </define>
  <define name="address.inner">
    <ref name="common.inner.flow"/>
  </define>
  <define name="common.elem.flow" combine="choice">
    <ref name="address.elem"/>
  </define>
  <!-- ##################################################################### -->
  <define name="blockquote.elem">
    <a:documentation>Quotations	</a:documentation>
    <a:documentation>Block Quotes: &lt;blockquote&gt;</a:documentation>
    <element name="blockquote">
      <interleave>
        <ref name="blockquote.inner"/>
        <ref name="blockquote.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="blockquote.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <ref name="blockquote.attrs.cite"/>
      </optional>
      <optional>
        <ref name="common.attrs.aria"/>
      </optional>
    </interleave>
  </define>
  <define name="blockquote.attrs.cite">
    <attribute name="cite">
      <ref name="common.data.uri"/>
    </attribute>
  </define>
  <define name="blockquote.inner">
    <ref name="common.inner.flow"/>
  </define>
  <define name="common.elem.flow" combine="choice">
    <ref name="blockquote.elem"/>
  </define>
  <!-- Inlined from structural.rng -->
<!-- ##################################################################### -->
  <define name="section.elem">
    <a:documentation> RELAX NG Schema for HTML 5: Block Markup Added in HTML5           #</a:documentation>
    <!-- ##################################################################### -->
    <a:documentation>Section: &lt;section&gt;</a:documentation>
    <element name="section">
      <interleave>
        <ref name="section.inner"/>
        <ref name="section.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="section.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <choice>
          <ref name="common.attrs.aria.implicit.region"/>
          <ref name="common.attrs.aria.role.alert"/>
          <ref name="common.attrs.aria.role.alertdialog"/>
          <ref name="common.attrs.aria.role.application"/>
          <ref name="common.attrs.aria.role.dialog"/>
          <ref name="common.attrs.aria.role.feed"/>
          <ref name="common.attrs.aria.role.group"/>
          <ref name="common.attrs.aria.role.log"/>
          <ref name="common.attrs.aria.role.marquee"/>
          <ref name="common.attrs.aria.role.presentation"/>
          <ref name="common.attrs.aria.role.region"/>
          <ref name="common.attrs.aria.role.status"/>
          <ref name="common.attrs.aria.role.tabpanel"/>
          <ref name="common.attrs.aria.landmark.banner"/>
          <ref name="common.attrs.aria.landmark.complementary"/>
          <ref name="common.attrs.aria.landmark.contentinfo"/>
          <ref name="common.attrs.aria.landmark.document"/>
          <ref name="common.attrs.aria.landmark.main"/>
          <ref name="common.attrs.aria.landmark.navigation"/>
          <ref name="common.attrs.aria.landmark.note"/>
          <ref name="common.attrs.aria.landmark.search"/>
          <ref name="common.attrs.aria.role.doc-abstract"/>
          <ref name="common.attrs.aria.role.doc-acknowledgments"/>
          <ref name="common.attrs.aria.role.doc-afterword"/>
          <ref name="common.attrs.aria.role.doc-appendix"/>
          <ref name="common.attrs.aria.role.doc-bibliography"/>
          <ref name="common.attrs.aria.role.doc-chapter"/>
          <ref name="common.attrs.aria.role.doc-colophon"/>
          <ref name="common.attrs.aria.role.doc-conclusion"/>
          <ref name="common.attrs.aria.role.doc-credit"/>
          <ref name="common.attrs.aria.role.doc-credits"/>
          <ref name="common.attrs.aria.role.doc-dedication"/>
          <ref name="common.attrs.aria.role.doc-endnotes"/>
          <ref name="common.attrs.aria.role.doc-epigraph"/>
          <ref name="common.attrs.aria.role.doc-epilogue"/>
          <ref name="common.attrs.aria.role.doc-errata"/>
          <ref name="common.attrs.aria.role.doc-example"/>
          <ref name="common.attrs.aria.role.doc-foreword"/>
          <ref name="common.attrs.aria.role.doc-glossary"/>
          <ref name="common.attrs.aria.role.doc-index"/>
          <ref name="common.attrs.aria.role.doc-introduction"/>
          <ref name="common.attrs.aria.role.doc-notice"/>
          <ref name="common.attrs.aria.role.doc-pagelist"/>
          <ref name="common.attrs.aria.role.doc-part"/>
          <ref name="common.attrs.aria.role.doc-preface"/>
          <ref name="common.attrs.aria.role.doc-prologue"/>
          <ref name="common.attrs.aria.role.doc-pullquote"/>
          <ref name="common.attrs.aria.role.doc-qna"/>
          <ref name="common.attrs.aria.role.doc-toc"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="section.inner">
    <ref name="common.inner.flow"/>
  </define>
  <define name="common.elem.flow" combine="choice">
    <ref name="section.elem"/>
  </define>
  <define name="nav.elem">
    <a:documentation>Navigational Links: &lt;nav&gt;</a:documentation>
    <element name="nav">
      <interleave>
        <ref name="nav.inner"/>
        <ref name="nav.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="nav.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <choice>
          <ref name="common.attrs.aria.implicit.navigation"/>
          <ref name="common.attrs.aria.landmark.navigation"/>
          <ref name="common.attrs.aria.role.doc-index"/>
          <ref name="common.attrs.aria.role.doc-pagelist"/>
          <ref name="common.attrs.aria.role.doc-toc"/>
          <ref name="common.attrs.aria.role.menu"/>
          <ref name="common.attrs.aria.role.menubar"/>
          <ref name="common.attrs.aria.role.none"/>
          <ref name="common.attrs.aria.role.presentation"/>
          <ref name="common.attrs.aria.role.tablist"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="nav.inner">
    <ref name="common.inner.flow"/>
  </define>
  <define name="common.elem.flow" combine="choice">
    <ref name="nav.elem"/>
  </define>
  <define name="article.elem">
    <a:documentation>Article: &lt;article&gt;</a:documentation>
    <element name="article">
      <interleave>
        <ref name="article.inner"/>
        <ref name="article.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="article.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <choice>
          <ref name="common.attrs.aria.implicit.article"/>
          <ref name="common.attrs.aria.landmark.article"/>
          <ref name="common.attrs.aria.landmark.document"/>
          <ref name="common.attrs.aria.role.application"/>
          <ref name="common.attrs.aria.landmark.main"/>
          <ref name="common.attrs.aria.role.feed"/>
          <ref name="common.attrs.aria.role.region"/>
          <ref name="common.attrs.aria.role.presentation"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="article.inner">
    <ref name="common.inner.flow"/>
  </define>
  <define name="common.elem.flow" combine="choice">
    <ref name="article.elem"/>
  </define>
  <define name="aside.elem">
    <a:documentation>Tangential Aside: &lt;aside&gt;</a:documentation>
    <element name="aside">
      <interleave>
        <ref name="aside.inner"/>
        <ref name="aside.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="aside.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <choice>
          <ref name="common.attrs.aria.implicit.complementary"/>
          <ref name="common.attrs.aria.landmark.note"/>
          <ref name="common.attrs.aria.landmark.complementary"/>
          <ref name="common.attrs.aria.landmark.search"/>
          <ref name="common.attrs.aria.role.feed"/>
          <ref name="common.attrs.aria.role.region"/>
          <ref name="common.attrs.aria.role.presentation"/>
          <ref name="common.attrs.aria.role.doc-dedication"/>
          <ref name="common.attrs.aria.role.doc-example"/>
          <ref name="common.attrs.aria.role.doc-footnote"/>
          <ref name="common.attrs.aria.role.doc-glossary"/>
          <ref name="common.attrs.aria.role.doc-pullquote"/>
          <ref name="common.attrs.aria.role.doc-tip"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="aside.inner">
    <ref name="common.inner.flow"/>
  </define>
  <define name="common.elem.flow" combine="choice">
    <ref name="aside.elem"/>
  </define>
  <define name="header.elem">
    <a:documentation>Header: &lt;header&gt;</a:documentation>
    <element name="header">
      <interleave>
        <ref name="header.inner"/>
        <ref name="header.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="header.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <choice>
          <ref name="common.attrs.aria.implicit.banner"/>
          <ref name="common.attrs.aria.landmark.banner"/>
          <ref name="common.attrs.aria.role.group"/>
          <ref name="common.attrs.aria.role.presentation"/>
          <ref name="common.attrs.aria.role.doc-footnote"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="header.inner">
    <ref name="common.inner.flow"/>
  </define>
  <define name="common.elem.flow" combine="choice">
    <ref name="header.elem"/>
  </define>
  <define name="footer.elem">
    <a:documentation>Footer: &lt;footer&gt;</a:documentation>
    <element name="footer">
      <interleave>
        <ref name="footer.inner"/>
        <ref name="footer.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="footer.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <choice>
          <ref name="common.attrs.aria.implicit.contentinfo"/>
          <ref name="common.attrs.aria.landmark.contentinfo"/>
          <ref name="common.attrs.aria.role.group"/>
          <ref name="common.attrs.aria.role.presentation"/>
          <ref name="common.attrs.aria.role.doc-footnote"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="footer.inner">
    <ref name="common.inner.flow"/>
  </define>
  <define name="common.elem.flow" combine="choice">
    <ref name="footer.elem"/>
  </define>
  <define name="main.elem">
    <a:documentation>main content: &lt;main&gt;</a:documentation>
    <element name="main">
      <interleave>
        <ref name="main.inner"/>
        <ref name="main.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="main.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <choice>
          <ref name="common.attrs.aria.implicit.main"/>
          <ref name="common.attrs.aria.landmark.main"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="main.inner">
    <ref name="common.inner.flow"/>
  </define>
  <define name="common.elem.flow" combine="choice">
    <ref name="main.elem"/>
  </define>
  <define name="search.elem">
    <a:documentation>Search: &lt;search&gt;</a:documentation>
    <element name="search">
      <interleave>
        <ref name="search.inner"/>
        <ref name="search.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="search.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <choice>
          <ref name="common.attrs.aria.implicit.search"/>
          <ref name="common.attrs.aria.landmark.search"/>
          <ref name="common.attrs.aria.landmark.form"/>
          <ref name="common.attrs.aria.role.group"/>
          <ref name="common.attrs.aria.role.none"/>
          <ref name="common.attrs.aria.role.presentation"/>
          <ref name="common.attrs.aria.role.region"/>
          <ref name="common.attrs.aria.role.search"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="search.inner">
    <ref name="common.inner.flow"/>
  </define>
  <define name="common.elem.flow" combine="choice">
    <ref name="search.elem"/>
  </define>
  <!-- Inlined from revision.rng -->
<!-- ##################################################################### -->
  <define name="edit.attrs.cite">
    <a:documentation> RELAX NG Schema for HTML 5: Revision Annotations                  #</a:documentation>
    <!-- ##################################################################### -->
    <a:documentation>Common Attributes</a:documentation>
    <attribute name="cite">
      <ref name="common.data.uri"/>
    </attribute>
  </define>
  <define name="edit.attrs.datetime">
    <attribute name="datetime">
      <choice>
        <ref name="common.data.datetime"/>
        <ref name="common.data.date"/>
      </choice>
    </attribute>
  </define>
  <define name="ins.elem.flow">
    <a:documentation>Inserts: &lt;ins&gt;</a:documentation>
    <element name="ins">
      <interleave>
        <ref name="ins.inner.flow"/>
        <ref name="ins.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="ins.elem.phrasing">
    <element name="ins">
      <interleave>
        <ref name="ins.inner.phrasing"/>
        <ref name="ins.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="ins.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <ref name="edit.attrs.cite"/>
      </optional>
      <optional>
        <ref name="edit.attrs.datetime"/>
      </optional>
      <optional>
        <ref name="common.attrs.aria"/>
      </optional>
    </interleave>
  </define>
  <define name="ins.inner.flow">
    <ref name="common.inner.transparent.flow"/>
  </define>
  <define name="ins.inner.phrasing">
    <ref name="common.inner.phrasing"/>
  </define>
  <define name="common.elem.flow" combine="choice">
    <ref name="ins.elem.flow"/>
  </define>
  <define name="common.elem.phrasing" combine="choice">
    <ref name="ins.elem.phrasing"/>
  </define>
  <define name="del.elem.flow">
    <a:documentation>Deletions: &lt;del&gt;</a:documentation>
    <element name="del">
      <interleave>
        <ref name="del.inner.flow"/>
        <ref name="del.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="del.elem.phrasing">
    <element name="del">
      <interleave>
        <ref name="del.inner.phrasing"/>
        <ref name="del.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="del.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <ref name="edit.attrs.cite"/>
      </optional>
      <optional>
        <ref name="edit.attrs.datetime"/>
      </optional>
      <optional>
        <ref name="common.attrs.aria"/>
      </optional>
    </interleave>
  </define>
  <define name="del.inner.flow">
    <ref name="common.inner.transparent.flow"/>
  </define>
  <define name="del.inner.phrasing">
    <ref name="common.inner.phrasing"/>
  </define>
  <define name="common.elem.flow" combine="choice">
    <ref name="del.elem.flow"/>
  </define>
  <define name="common.elem.phrasing" combine="choice">
    <ref name="del.elem.phrasing"/>
  </define>
  <!-- Inlined from embed.rng -->
<!-- ##################################################################### -->
  <define name="shared-img.attrs">
    <a:documentation> RELAX NG Schema for HTML 5: Embedded Content                      #</a:documentation>
    <!-- ##################################################################### -->
    <a:documentation>
Replaced Content</a:documentation>
    <a:documentation>Images: &lt;img&gt;</a:documentation>
    <interleave>
      <ref name="common.attrs"/>
      <ref name="img.attrs.src"/>
      <optional>
        <ref name="img.attrs.srcset"/>
      </optional>
      <optional>
        <ref name="img.attrs.sizes"/>
      </optional>
      <optional>
        <ref name="img.attrs.generator-unable-to-provide-required-alt"/>
      </optional>
      <optional>
        <ref name="img.attrs.height"/>
      </optional>
      <optional>
        <ref name="img.attrs.width"/>
      </optional>
      <optional>
        <ref name="img.attrs.usemap"/>
      </optional>
      <optional>
        <ref name="img.attrs.ismap"/>
      </optional>
      <optional>
        <ref name="img.attrs.decoding"/>
      </optional>
      <optional>
        <ref name="img.attrs.loading"/>
      </optional>
      <optional>
        <ref name="common.attrs.fetchpriority"/>
      </optional>
      <optional>
        <ref name="img.attrs.border"/>
      </optional>
      <optional>
        <!-- obsolete -->
        <ref name="referrerpolicy"/>
      </optional>
      <optional>
        <ref name="embedded.content.attrs.crossorigin"/>
      </optional>
    </interleave>
  </define>
  <define name="img.elem">
    <element name="img">
      <interleave>
        <ref name="img.inner"/>
        <ref name="img.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="img.attrs">
    <interleave>
      <ref name="shared-img.attrs"/>
      <optional>
        <ref name="img.attrs.alt"/>
      </optional>
      <optional>
        <choice>
          <ref name="common.attrs.aria.implicit.img"/>
          <ref name="common.attrs.aria.role.button"/>
          <ref name="common.attrs.aria.role.checkbox"/>
          <ref name="common.attrs.aria.role.img"/>
          <ref name="common.attrs.aria.role.link"/>
          <ref name="common.attrs.aria.role.math"/>
          <ref name="common.attrs.aria.role.menuitem"/>
          <ref name="common.attrs.aria.role.menuitemcheckbox"/>
          <ref name="common.attrs.aria.role.menuitemradio"/>
          <ref name="common.attrs.aria.role.none"/>
          <ref name="common.attrs.aria.role.option"/>
          <ref name="common.attrs.aria.role.presentation"/>
          <ref name="common.attrs.aria.role.progressbar"/>
          <ref name="common.attrs.aria.role.radio"/>
          <ref name="common.attrs.aria.role.scrollbar"/>
          <ref name="common.attrs.aria.role.separator"/>
          <ref name="common.attrs.aria.role.slider"/>
          <ref name="common.attrs.aria.role.switch"/>
          <ref name="common.attrs.aria.role.tab"/>
          <ref name="common.attrs.aria.role.treeitem"/>
          <ref name="common.attrs.aria.role.doc-cover"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="img.attrs.src">
    <attribute name="src">
      <ref name="common.data.uri.non-empty"/>
    </attribute>
  </define>
  <define name="img.attrs.srcset">
    <interleave>
      <attribute name="srcset">
        <data type="string"/>
      </attribute>
      <ref name="v5only"/>
    </interleave>
  </define>
  <define name="img.attrs.sizes">
    <interleave>
      <attribute name="sizes">
        <ref name="common.data.source.size.list"/>
      </attribute>
      <ref name="v5only"/>
    </interleave>
  </define>
  <define name="img.attrs.alt">
    <attribute name="alt"/>
  </define>
  <define name="img.attrs.generator-unable-to-provide-required-alt">
    <attribute name="generator-unable-to-provide-required-alt">
      <value type="string"/>
    </attribute>
  </define>
  <define name="img.attrs.height">
    <attribute name="height">
      <ref name="common.data.integer.non-negative"/>
    </attribute>
  </define>
  <define name="img.attrs.width">
    <attribute name="width">
      <ref name="common.data.integer.non-negative"/>
    </attribute>
  </define>
  <define name="img.attrs.usemap">
    <attribute name="usemap">
      <ref name="common.data.hash-name"/>
    </attribute>
  </define>
  <define name="img.attrs.ismap">
    <attribute name="ismap">
      <choice>
        <value>ismap</value>
        <value/>
      </choice>
    </attribute>
  </define>
  <define name="img.attrs.decoding">
    <attribute name="decoding">
      <choice>
        <value type="string">sync</value>
        <value type="string">async</value>
        <value type="string">auto</value>
      </choice>
    </attribute>
  </define>
  <define name="img.attrs.loading">
    <attribute name="loading">
      <choice>
        <value type="string">lazy</value>
        <value type="string">eager</value>
      </choice>
    </attribute>
  </define>
  <define name="img.attrs.border">
    <attribute name="border">
      <ref name="common.data.zero"/>
    </attribute>
  </define>
  <define name="img.inner">
    <empty/>
  </define>
  <define name="common.elem.phrasing" combine="choice">
    <ref name="img.elem"/>
  </define>
  <define name="picture.elem">
    <a:documentation>Image with multiple sources: &lt;picture&gt;</a:documentation>
    <interleave>
      <element name="picture">
        <interleave>
          <ref name="picture.inner"/>
          <ref name="picture.attrs"/>
        </interleave>
      </element>
      <ref name="v5only"/>
    </interleave>
  </define>
  <define name="picture.attrs">
    <ref name="common.attrs"/>
  </define>
  <define name="picture.inner">
    <interleave>
      <zeroOrMore>
        <ref name="source.picture.elem"/>
      </zeroOrMore>
      <zeroOrMore>
        <ref name="common.elem.script-supporting"/>
      </zeroOrMore>
    </interleave>
    <interleave>
      <ref name="img.elem"/>
      <zeroOrMore>
        <ref name="common.elem.script-supporting"/>
      </zeroOrMore>
    </interleave>
  </define>
  <define name="common.elem.phrasing" combine="choice">
    <ref name="picture.elem"/>
  </define>
  <define name="source.picture.elem">
    <a:documentation>Picture source: &lt;source srcset&gt;</a:documentation>
    <element name="source">
      <interleave>
        <ref name="source.picture.inner"/>
        <ref name="source.picture.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="source.picture.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <ref name="source.picture.attrs.media"/>
      </optional>
      <ref name="source.picture.attrs.srcset"/>
      <optional>
        <ref name="source.picture.attrs.sizes"/>
      </optional>
      <optional>
        <ref name="source.picture.attrs.type"/>
      </optional>
      <optional>
        <ref name="source.picture.attrs.width"/>
      </optional>
      <optional>
        <ref name="source.picture.attrs.height"/>
      </optional>
    </interleave>
  </define>
  <define name="source.picture.attrs.media">
    <attribute name="media">
      <ref name="common.data.mediaquery"/>
    </attribute>
  </define>
  <define name="source.picture.attrs.srcset">
    <attribute name="srcset">
      <data type="string"/>
    </attribute>
  </define>
  <define name="source.picture.attrs.sizes">
    <attribute name="sizes">
      <ref name="common.data.source.size.list"/>
    </attribute>
  </define>
  <define name="source.picture.attrs.type">
    <attribute name="type">
      <ref name="common.data.mimetype"/>
    </attribute>
  </define>
  <define name="source.picture.attrs.width">
    <attribute name="width">
      <ref name="common.data.integer.non-negative"/>
    </attribute>
  </define>
  <define name="source.picture.attrs.height">
    <attribute name="height">
      <ref name="common.data.integer.non-negative"/>
    </attribute>
  </define>
  <define name="source.picture.inner">
    <empty/>
  </define>
  <define name="embed.elem">
    <a:documentation>Plug-ins: &lt;embed&gt;</a:documentation>
    <element name="embed">
      <interleave>
        <ref name="embed.inner"/>
        <ref name="embed.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="embed.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <ref name="embed.attrs.src"/>
      </optional>
      <optional>
        <ref name="embed.attrs.type"/>
      </optional>
      <optional>
        <ref name="embed.attrs.height"/>
      </optional>
      <optional>
        <ref name="embed.attrs.width"/>
      </optional>
      <zeroOrMore>
        <ref name="embed.attrs.other"/>
      </zeroOrMore>
      <optional>
        <choice>
          <ref name="common.attrs.aria.role.application"/>
          <ref name="common.attrs.aria.landmark.document"/>
          <ref name="common.attrs.aria.role.img"/>
          <ref name="common.attrs.aria.role.presentation"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="embed.attrs.src">
    <attribute name="src">
      <ref name="common.data.uri.non-empty"/>
    </attribute>
  </define>
  <define name="embed.attrs.type">
    <attribute name="type">
      <ref name="common.data.mimetype"/>
    </attribute>
  </define>
  <define name="embed.attrs.height">
    <attribute name="height">
      <ref name="common.data.integer.non-negative"/>
    </attribute>
  </define>
  <define name="embed.attrs.width">
    <attribute name="width">
      <ref name="common.data.integer.non-negative"/>
    </attribute>
  </define>
  <define name="embed.attrs.other">
    <!-- REVISIT common.attrs -->
    <attribute>
      <nsName ns="">
        <except>
          <name>src</name>
          <name>type</name>
          <name>height</name>
          <name>width</name>
          <name>id</name>
          <name>is</name>
          <name>slot</name>
          <name>class</name>
          <name>title</name>
          <name>dir</name>
          <name>lang</name>
          <name>translate</name>
          <name>style</name>
          <name>tabindex</name>
          <name>autofocus</name>
          <name>inert</name>
          <name>contenteditable</name>
          <name>draggable</name>
          <name>hidden</name>
          <name>popover</name>
          <name>inputmode</name>
          <name>nonce</name>
          <name>onauxclick</name>
          <name>onbeforeinput</name>
          <name>onbeforematch</name>
          <name>onblur</name>
          <name>oncancel</name>
          <name>oncanplay</name>
          <name>oncanplaythrough</name>
          <name>onchange</name>
          <name>onclick</name>
          <name>onclose</name>
          <name>oncontextlost</name>
          <name>oncontextmenu</name>
          <name>oncontextrestored</name>
          <name>oncopy</name>
          <name>oncuechange</name>
          <name>oncut</name>
          <name>ondblclick</name>
          <name>ondrag</name>
          <name>ondragend</name>
          <name>ondragenter</name>
          <name>ondragleave</name>
          <name>ondragover</name>
          <name>ondragstart</name>
          <name>ondrop</name>
          <name>ondurationchange</name>
          <name>onemptied</name>
          <name>onended</name>
          <name>onerror</name>
          <name>onfocus</name>
          <name>onformdata</name>
          <name>oninput</name>
          <name>oninvalid</name>
          <name>onkeydown</name>
          <name>onkeypress</name>
          <name>onkeyup</name>
          <name>onload</name>
          <name>onloadeddata</name>
          <name>onloadedmetadata</name>
          <name>onloadstart</name>
          <name>onmousedown</name>
          <name>onmouseenter</name>
          <name>onmouseleave</name>
          <name>onmousemove</name>
          <name>onmouseout</name>
          <name>onmouseover</name>
          <name>onmouseup</name>
          <name>onpaste</name>
          <name>onpause</name>
          <name>onplay</name>
          <name>onplaying</name>
          <name>onprogress</name>
          <name>onratechange</name>
          <name>onreset</name>
          <name>onresize</name>
          <name>onscroll</name>
          <name>onscrollend</name>
          <name>onsecuritypolicyviolation</name>
          <name>onseeked</name>
          <name>onseeking</name>
          <name>onselect</name>
          <name>onslotchange</name>
          <name>onstalled</name>
          <name>onsubmit</name>
          <name>onsuspend</name>
          <name>ontimeupdate</name>
          <name>ontoggle</name>
          <name>onvolumechange</name>
          <name>onwaiting</name>
          <name>onwheel</name>
          <name>onpointerover</name>
          <name>onpointerenter</name>
          <name>onpointerdown</name>
          <name>onpointermove</name>
          <name>onpointerrawupdate</name>
          <name>onpointerup</name>
          <name>onpointercancel</name>
          <name>onpointerout</name>
          <name>onpointerleave</name>
          <name>ongotpointercapture</name>
          <name>onlostpointercapture</name>
          <name>role</name>
          <name>aria-atomic</name>
          <name>aria-busy</name>
          <name>aria-controls</name>
          <name>aria-current</name>
          <name>aria-details</name>
          <name>aria-describedby</name>
          <name>aria-description</name>
          <name>aria-disabled</name>
          <name>aria-dropeffect</name>
          <name>aria-errormessage</name>
          <name>aria-expanded</name>
          <name>aria-flowto</name>
          <name>aria-grabbed</name>
          <name>aria-haspopup</name>
          <name>aria-hidden</name>
          <name>aria-invalid</name>
          <name>aria-keyshortcuts</name>
          <name>aria-label</name>
          <name>aria-labelledby</name>
          <name>aria-live</name>
          <name>aria-owns</name>
          <name>aria-relevant</name>
          <name>aria-required</name>
          <name>aria-roledescription</name>
          <name>spellcheck</name>
          <name>autocapitalize</name>
          <name>enterkeyhint</name>
          <name>accesskey</name>
          <name>itemref</name>
          <name>itemprop</name>
          <name>itemscope</name>
          <name>itemtype</name>
          <name>itemid</name>
          <name>name</name>
          <name>align</name>
          <name>hspace</name>
          <name>vspace</name>
          <name>about</name>
          <name>prefix</name>
          <name>property</name>
          <name>typeof</name>
          <name>vocab</name>
          <name>content</name>
          <name>datatype</name>
          <name>href</name>
          <name>rel</name>
          <name>resource</name>
          <name>rev</name>
          <name>inlist</name>
          <name>its-loc-note</name>
          <name>its-loc-note-type</name>
          <name>its-loc-note-ref</name>
          <name>its-term-info-ref</name>
          <name>its-term</name>
          <name>its-term-confidence</name>
          <name>its-within-text</name>
          <name>its-domain-mapping</name>
          <name>its-ta-confidence</name>
          <name>its-ta-class-ref</name>
          <name>its-ta-ident</name>
          <name>its-ta-ident-ref</name>
          <name>its-ta-source</name>
          <name>its-locale-filter-list</name>
          <name>its-locale-filter-type</name>
          <name>its-person</name>
          <name>its-person-ref</name>
          <name>its-org</name>
          <name>its-org-ref</name>
          <name>its-tool</name>
          <name>its-tool-ref</name>
          <name>its-rev-person</name>
          <name>its-rev-person-ref</name>
          <name>its-rev-org</name>
          <name>its-rev-org-ref</name>
          <name>its-rev-tool</name>
          <name>its-rev-tool-ref</name>
          <name>its-prov-ref</name>
          <name>its-provenance-records-ref</name>
          <name>its-loc-quality-issues-ref</name>
          <name>its-loc-quality-issue-type</name>
          <name>its-loc-quality-issue-comment</name>
          <name>its-loc-quality-issue-severity</name>
          <name>its-loc-quality-issue-profile-ref</name>
          <name>its-loc-quality-issue-enabled</name>
          <name>its-loc-quality-rating-score</name>
          <name>its-loc-quality-rating-vote</name>
          <name>its-loc-quality-rating-score-threshold</name>
          <name>its-loc-quality-rating-vote-threshold</name>
          <name>its-loc-quality-rating-profile-ref</name>
          <name>its-mt-confidence</name>
          <name>its-allowed-characters</name>
          <name>its-storage-size</name>
          <name>its-storage-encoding</name>
          <name>its-line-break-type</name>
          <name>its-annotators-ref</name>
        </except>
      </nsName>
      <data type="string"/>
    </attribute>
  </define>
  <define name="embed.inner">
    <empty/>
  </define>
  <define name="common.elem.phrasing" combine="choice">
    <ref name="embed.elem"/>
  </define>
  <define name="object.elem.flow">
    <a:documentation>Generic Objects: &lt;object&gt;</a:documentation>
    <element name="object">
      <interleave>
        <ref name="object.inner.flow"/>
        <ref name="object.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="object.elem.phrasing">
    <element name="object">
      <interleave>
        <ref name="object.inner.phrasing"/>
        <ref name="object.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="object.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <choice>
        <interleave>
          <ref name="object.attrs.data"/>
          <optional>
            <ref name="object.attrs.type"/>
          </optional>
        </interleave>
        <ref name="object.attrs.type"/>
      </choice>
      <optional>
        <!--
          		&	object.attrs.classid?
          		&	object.attrs.codebase?
          		&	object.attrs.codetype?
        -->
        <ref name="object.attrs.height"/>
      </optional>
      <optional>
        <ref name="object.attrs.width"/>
      </optional>
      <optional>
        <ref name="object.attrs.usemap"/>
      </optional>
      <optional>
        <ref name="object.attrs.name"/>
      </optional>
      <optional>
        <ref name="common-form.attrs.form"/>
      </optional>
      <optional>
        <choice>
          <ref name="common.attrs.aria.role.application"/>
          <ref name="common.attrs.aria.landmark.document"/>
          <ref name="common.attrs.aria.role.img"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="object.attrs.data">
    <attribute name="data">
      <ref name="common.data.uri.non-empty"/>
    </attribute>
  </define>
  <define name="object.attrs.type">
    <attribute name="type">
      <ref name="common.data.mimetype"/>
    </attribute>
  </define>
  <define name="object.attrs.height">
    <attribute name="height">
      <ref name="common.data.integer.non-negative"/>
    </attribute>
  </define>
  <define name="object.attrs.width">
    <attribute name="width">
      <ref name="common.data.integer.non-negative"/>
    </attribute>
  </define>
  <define name="object.attrs.usemap">
    <attribute name="usemap">
      <ref name="common.data.hash-name"/>
    </attribute>
  </define>
  <define name="object.attrs.name">
    <attribute name="name">
      <ref name="common.data.browsing-context"/>
    </attribute>
  </define>
  <define name="object.inner.flow">
    <zeroOrMore>
      <ref name="param.elem"/>
    </zeroOrMore>
    <ref name="common.inner.transparent.flow"/>
  </define>
  <define name="object.inner.phrasing">
    <zeroOrMore>
      <ref name="param.elem"/>
    </zeroOrMore>
    <ref name="common.inner.phrasing"/>
  </define>
  <define name="common.elem.flow" combine="choice">
    <ref name="object.elem.flow"/>
  </define>
  <define name="common.elem.phrasing" combine="choice">
    <ref name="object.elem.phrasing"/>
  </define>
  <define name="param.elem">
    <a:documentation>Initialization Parameters: &lt;param&gt;</a:documentation>
    <element name="param">
      <interleave>
        <ref name="param.inner"/>
        <ref name="param.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="param.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <ref name="param.attrs.name"/>
      <ref name="param.attrs.value"/>
    </interleave>
  </define>
  <define name="param.attrs.name">
    <attribute name="name">
      <data type="string"/>
    </attribute>
  </define>
  <define name="param.attrs.value">
    <attribute name="value">
      <data type="string"/>
    </attribute>
  </define>
  <define name="param.inner">
    <empty/>
  </define>
  <define name="iframe.elem">
    <a:documentation>Inline Frame: &lt;iframe&gt;</a:documentation>
    <element name="iframe">
      <interleave>
        <ref name="iframe.inner"/>
        <ref name="iframe.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="iframe.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <ref name="iframe.attrs.src"/>
      </optional>
      <optional>
        <ref name="iframe.attrs.srcdoc"/>
      </optional>
      <optional>
        <ref name="iframe.attrs.name"/>
      </optional>
      <optional>
        <ref name="iframe.attrs.width"/>
      </optional>
      <optional>
        <ref name="iframe.attrs.height"/>
      </optional>
      <optional>
        <ref name="iframe.attrs.loading"/>
      </optional>
      <optional>
        <ref name="iframe.attrs.sandbox"/>
      </optional>
      <optional>
        <ref name="iframe.attrs.allowfullscreen"/>
      </optional>
      <optional>
        <ref name="iframe.attrs.allow"/>
      </optional>
      <optional>
        <ref name="referrerpolicy"/>
      </optional>
      <optional>
        <choice>
          <ref name="common.attrs.aria.role.application"/>
          <ref name="common.attrs.aria.landmark.document"/>
          <ref name="common.attrs.aria.role.img"/>
          <ref name="common.attrs.aria.role.presentation"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="iframe.attrs.src">
    <attribute name="src">
      <ref name="common.data.uri.non-empty"/>
    </attribute>
  </define>
  <define name="iframe.attrs.srcdoc">
    <attribute name="srcdoc">
      <data type="string"/>
      <!-- FIXME -->
    </attribute>
  </define>
  <define name="iframe.attrs.name">
    <attribute name="name">
      <ref name="common.data.browsing-context"/>
    </attribute>
  </define>
  <define name="iframe.attrs.height">
    <attribute name="height">
      <ref name="common.data.integer.non-negative"/>
    </attribute>
  </define>
  <define name="iframe.attrs.loading">
    <attribute name="loading">
      <choice>
        <value>lazy</value>
        <value>eager</value>
      </choice>
    </attribute>
  </define>
  <define name="iframe.attrs.width">
    <attribute name="width">
      <ref name="common.data.integer.non-negative"/>
    </attribute>
  </define>
  <define name="iframe.attrs.sandbox">
    <interleave>
      <attribute name="sandbox">
        <ref name="common.data.sandbox-allow-list"/>
      </attribute>
      <ref name="v5only"/>
    </interleave>
  </define>
  <define name="iframe.attrs.allowfullscreen">
    <interleave>
      <attribute name="allowfullscreen">
        <choice>
          <value>allowfullscreen</value>
          <value/>
        </choice>
      </attribute>
      <ref name="v5only"/>
    </interleave>
  </define>
  <define name="iframe.attrs.allow">
    <attribute name="allow">
      <ref name="common.data.feature-policy"/>
    </attribute>
  </define>
  <define name="iframe.inner">
    <empty/>
  </define>
  <define name="common.elem.phrasing" combine="choice">
    <ref name="iframe.elem"/>
  </define>
  <define name="map.elem.flow">
    <a:documentation>
Image Maps</a:documentation>
    <a:documentation>Map Definition: &lt;map&gt;</a:documentation>
    <element name="map">
      <interleave>
        <ref name="map.inner.flow"/>
        <ref name="map.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="map.elem.phrasing">
    <element name="map">
      <interleave>
        <ref name="map.inner.phrasing"/>
        <ref name="map.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="map.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <ref name="map.attrs.name"/>
    </interleave>
  </define>
  <!-- REVISIT make id required in Schematron -->
  <define name="map.attrs.name">
    <attribute name="name">
      <ref name="common.data.name"/>
    </attribute>
  </define>
  <define name="map.inner.flow">
    <ref name="common.inner.transparent.flow"/>
  </define>
  <define name="map.inner.phrasing">
    <ref name="common.inner.phrasing"/>
  </define>
  <define name="common.elem.flow" combine="choice">
    <ref name="map.elem.flow"/>
  </define>
  <define name="common.elem.phrasing" combine="choice">
    <ref name="map.elem.phrasing"/>
  </define>
  <define name="area.elem">
    <a:documentation>Map Area Definition: &lt;area&gt;</a:documentation>
    <element name="area">
      <interleave>
        <ref name="area.inner"/>
        <ref name="area.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="area.attrs">
    <interleave>
      <ref name="common.attrs.basic"/>
      <ref name="common.attrs.i18n"/>
      <ref name="common.attrs.present"/>
      <ref name="common.attrs.other"/>
      <optional>
        <ref name="shared-hyperlink.attrs.download"/>
      </optional>
      <optional>
        <interleave>
          <ref name="area.attrs.alt"/>
          <ref name="shared-hyperlink.attrs.href"/>
        </interleave>
      </optional>
      <optional>
        <ref name="shared-hyperlink.attrs.target"/>
      </optional>
      <optional>
        <ref name="shared-hyperlink.attrs.ping"/>
      </optional>
      <optional>
        <ref name="shared-hyperlink.attrs.rel"/>
      </optional>
      <optional>
        <ref name="shared-hyperlink.attrs.hreflang"/>
      </optional>
      <optional>
        <ref name="shared-hyperlink.attrs.type"/>
      </optional>
      <optional>
        <ref name="area.attrs.shape"/>
      </optional>
      <optional>
        <choice>
          <ref name="common.attrs.aria.role.link"/>
          <ref name="common.attrs.aria.role.button"/>
          <ref name="common.attrs.aria.implicit.link"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="area.attrs.alt">
    <attribute name="alt"/>
  </define>
  <define name="area.attrs.shape">
    <choice>
      <interleave>
        <optional>
          <ref name="area.attrs.shape.rect"/>
        </optional>
        <ref name="area.attrs.coords.rect"/>
      </interleave>
      <interleave>
        <ref name="area.attrs.shape.circle"/>
        <ref name="area.attrs.coords.circle"/>
      </interleave>
      <interleave>
        <ref name="area.attrs.shape.poly"/>
        <ref name="area.attrs.coords.poly"/>
      </interleave>
      <ref name="area.attrs.shape.default"/>
    </choice>
  </define>
  <define name="area.attrs.shape.rect">
    <attribute name="shape">
      <value>rect</value>
    </attribute>
  </define>
  <define name="area.attrs.coords.rect">
    <attribute name="coords">
      <ref name="datatype.html5.coords.rectangle"/>
      <!--
        				xsd:token {
        					pattern = "-?[0-9]+,-?[0-9]+,-?[0-9]+,-?[0-9]+"
        				}
      -->
    </attribute>
  </define>
  <define name="area.attrs.shape.circle">
    <attribute name="shape">
      <value>circle</value>
    </attribute>
  </define>
  <define name="area.attrs.coords.circle">
    <attribute name="coords">
      <ref name="datatype.html5.coords.circle"/>
      <!--
        				xsd:token {
        					pattern = "-?[0-9]+,-?[0-9]+,[0-9]+"
        				}
      -->
    </attribute>
  </define>
  <define name="area.attrs.shape.poly">
    <attribute name="shape">
      <value>poly</value>
    </attribute>
  </define>
  <define name="area.attrs.coords.poly">
    <attribute name="coords">
      <ref name="datatype.html5.coords.poly"/>
      <!--
        				xsd:token {
        					pattern = "-?[0-9]+,-?[0-9]+,-?[0-9]+,-?[0-9]+,-?[0-9]+,-?[0-9]+(,-?[0-9]+,-?[0-9]+)*"
        				}
      -->
    </attribute>
  </define>
  <define name="area.attrs.shape.default">
    <attribute name="shape">
      <value>default</value>
    </attribute>
  </define>
  <define name="area.inner">
    <empty/>
  </define>
  <define name="common.elem.phrasing" combine="choice">
    <ref name="area.elem"/>
  </define>
  <define name="embedded.content.attrs.crossorigin">
    <a:documentation>Attributes Common to Embedded Content</a:documentation>
    <interleave>
      <attribute name="crossorigin">
        <choice>
          <value>anonymous</value>
          <value>use-credentials</value>
          <value/>
        </choice>
      </attribute>
      <ref name="v5only"/>
    </interleave>
  </define>
  <!-- Inlined from ruby.rng -->
<!-- ##################################################################### -->
  <define name="ruby.elem">
    <a:documentation> RELAX NG Schema for HTML 5: Ruby                                  #</a:documentation>
    <!-- ##################################################################### -->
    <a:documentation/>
    <a:documentation>Ruby Annotation: &lt;ruby&gt;</a:documentation>
    <element name="ruby">
      <interleave>
        <ref name="ruby.inner"/>
        <ref name="ruby.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="ruby.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <ref name="common.attrs.aria"/>
      </optional>
    </interleave>
  </define>
  <define name="ruby.inner">
    <oneOrMore>
      <oneOrMore>
        <choice>
          <ref name="common.inner.phrasing"/>
          <ref name="rb.elem"/>
        </choice>
      </oneOrMore>
      <choice>
        <oneOrMore>
          <choice>
            <ref name="rt.elem"/>
            <ref name="rtc.elem"/>
          </choice>
        </oneOrMore>
        <group>
          <ref name="rp.elem"/>
          <oneOrMore>
            <choice>
              <ref name="rt.elem"/>
              <ref name="rtc.elem"/>
            </choice>
            <ref name="rp.elem"/>
          </oneOrMore>
        </group>
      </choice>
    </oneOrMore>
  </define>
  <define name="common.elem.phrasing" combine="choice">
    <ref name="ruby.elem"/>
  </define>
  <define name="rt.elem">
    <a:documentation>Ruby Text: &lt;rt&gt;</a:documentation>
    <element name="rt">
      <interleave>
        <ref name="rt.inner"/>
        <ref name="rt.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="rt.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <ref name="common.attrs.aria"/>
      </optional>
    </interleave>
  </define>
  <define name="rt.inner">
    <ref name="common.inner.phrasing"/>
  </define>
  <define name="rtc.elem">
    <a:documentation>Ruby Text Container: &lt;rtc&gt;</a:documentation>
    <element name="rtc">
      <interleave>
        <ref name="rtc.inner"/>
        <ref name="rtc.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="rtc.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <ref name="common.attrs.aria"/>
      </optional>
    </interleave>
  </define>
  <define name="rtc.inner">
    <zeroOrMore>
      <choice>
        <ref name="common.inner.phrasing"/>
        <ref name="rt.elem"/>
        <ref name="rp.elem"/>
      </choice>
    </zeroOrMore>
  </define>
  <define name="rb.elem">
    <a:documentation>Ruby Base: &lt;rb&gt;</a:documentation>
    <element name="rb">
      <interleave>
        <ref name="rb.inner"/>
        <ref name="rb.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="rb.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <ref name="common.attrs.aria"/>
      </optional>
    </interleave>
  </define>
  <define name="rb.inner">
    <ref name="common.inner.phrasing"/>
  </define>
  <define name="rp.elem">
    <a:documentation>Ruby Parenthesis: &lt;rp&gt;</a:documentation>
    <element name="rp">
      <interleave>
        <ref name="rp.inner"/>
        <ref name="rp.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="rp.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <ref name="common.attrs.aria"/>
      </optional>
    </interleave>
  </define>
  <define name="rp.inner">
    <text/>
  </define>
  <!-- Inlined from media.rng -->
<!-- ##################################################################### -->
  <!-- src not included -->
  <define name="media.attrs">
    <a:documentation> RELAX NG Schema for HTML 5: Advanced Embedded Content             #</a:documentation>
    <!-- ##################################################################### -->
    <a:documentation>Attributes Common to Media Elements</a:documentation>
    <interleave>
      <optional>
        <ref name="media.attrs.autoplay"/>
      </optional>
      <optional>
        <ref name="media.attrs.preload"/>
      </optional>
      <optional>
        <ref name="media.attrs.controls"/>
      </optional>
      <optional>
        <ref name="media.attrs.loop"/>
      </optional>
      <optional>
        <ref name="media.attrs.muted"/>
      </optional>
      <optional>
        <ref name="embedded.content.attrs.crossorigin"/>
      </optional>
    </interleave>
  </define>
  <define name="media.attrs.autoplay">
    <attribute name="autoplay">
      <choice>
        <value>autoplay</value>
        <value/>
      </choice>
    </attribute>
  </define>
  <define name="media.attrs.preload">
    <attribute name="preload">
      <choice>
        <value>none</value>
        <value>metadata</value>
        <value>auto</value>
        <value/>
      </choice>
    </attribute>
  </define>
  <define name="media.attrs.controls">
    <attribute name="controls">
      <choice>
        <value>controls</value>
        <value/>
      </choice>
    </attribute>
  </define>
  <define name="media.attrs.loop">
    <attribute name="loop">
      <choice>
        <value>loop</value>
        <value/>
      </choice>
    </attribute>
  </define>
  <define name="media.attrs.muted">
    <attribute name="muted">
      <choice>
        <value>muted</value>
        <value/>
      </choice>
    </attribute>
  </define>
  <define name="source.elem">
    <a:documentation>Source: &lt;source&gt;</a:documentation>
    <element name="source">
      <interleave>
        <ref name="source.inner"/>
        <ref name="source.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="source.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <ref name="source.attrs.src"/>
      <optional>
        <ref name="source.attrs.type"/>
      </optional>
    </interleave>
  </define>
  <define name="source.attrs.src">
    <attribute name="src">
      <ref name="common.data.uri.non-empty"/>
    </attribute>
  </define>
  <define name="source.attrs.type">
    <attribute name="type">
      <ref name="common.data.mimetype"/>
    </attribute>
  </define>
  <define name="source.inner">
    <empty/>
  </define>
  <define name="media.source">
    <a:documentation>Media Source</a:documentation>
    <choice>
      <ref name="media.attrs.src"/>
      <zeroOrMore>
        <ref name="source.elem"/>
      </zeroOrMore>
    </choice>
  </define>
  <define name="media.attrs.src">
    <attribute name="src">
      <ref name="common.data.uri.non-empty"/>
    </attribute>
  </define>
  <define name="video.elem.flow">
    <a:documentation>Video: &lt;video&gt;</a:documentation>
    <element name="video">
      <interleave>
        <ref name="video.inner.flow"/>
        <ref name="video.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="video.elem.phrasing">
    <element name="video">
      <interleave>
        <ref name="video.inner.phrasing"/>
        <ref name="video.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="video.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <ref name="media.attrs"/>
      <optional>
        <ref name="video.attrs.poster"/>
      </optional>
      <optional>
        <ref name="video.attrs.height"/>
      </optional>
      <optional>
        <ref name="video.attrs.width"/>
      </optional>
      <optional>
        <ref name="video.attrs.playsinline"/>
      </optional>
      <optional>
        <ref name="common.attrs.aria.role.application"/>
      </optional>
    </interleave>
  </define>
  <define name="video.attrs.poster">
    <attribute name="poster">
      <ref name="common.data.uri.non-empty"/>
    </attribute>
  </define>
  <define name="video.attrs.height">
    <attribute name="height">
      <ref name="common.data.integer.non-negative"/>
    </attribute>
  </define>
  <define name="video.attrs.width">
    <attribute name="width">
      <ref name="common.data.integer.non-negative"/>
    </attribute>
  </define>
  <define name="video.attrs.playsinline">
    <attribute name="playsinline">
      <choice>
        <value>playsinline</value>
        <value/>
      </choice>
    </attribute>
  </define>
  <define name="video.inner.flow">
    <ref name="media.source"/>
    <zeroOrMore>
      <ref name="track.elem"/>
    </zeroOrMore>
    <ref name="common.inner.transparent.flow"/>
  </define>
  <define name="video.inner.phrasing">
    <ref name="media.source"/>
    <zeroOrMore>
      <ref name="track.elem"/>
    </zeroOrMore>
    <ref name="common.inner.phrasing"/>
  </define>
  <define name="common.elem.flow" combine="choice">
    <ref name="video.elem.flow"/>
  </define>
  <define name="common.elem.phrasing" combine="choice">
    <ref name="video.elem.phrasing"/>
  </define>
  <define name="audio.elem.flow">
    <a:documentation>Audio: &lt;audio&gt;</a:documentation>
    <element name="audio">
      <interleave>
        <ref name="audio.inner.flow"/>
        <ref name="audio.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="audio.elem.phrasing">
    <element name="audio">
      <interleave>
        <ref name="audio.inner.phrasing"/>
        <ref name="audio.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="audio.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <ref name="media.attrs"/>
      <optional>
        <ref name="common.attrs.aria.role.application"/>
      </optional>
    </interleave>
  </define>
  <define name="audio.inner.flow">
    <ref name="media.source"/>
    <zeroOrMore>
      <ref name="track.elem"/>
    </zeroOrMore>
    <ref name="common.inner.transparent.flow"/>
  </define>
  <define name="audio.inner.phrasing">
    <ref name="media.source"/>
    <zeroOrMore>
      <ref name="track.elem"/>
    </zeroOrMore>
    <ref name="common.inner.phrasing"/>
  </define>
  <define name="common.elem.flow" combine="choice">
    <ref name="audio.elem.flow"/>
  </define>
  <define name="common.elem.phrasing" combine="choice">
    <ref name="audio.elem.phrasing"/>
  </define>
  <!---->
  <define name="track.elem">
    <a:documentation>supplementary media track: &lt;track&gt;</a:documentation>
    <element name="track">
      <interleave>
        <ref name="track.inner"/>
        <ref name="track.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="track.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <ref name="track.attrs.kind"/>
      </optional>
      <ref name="track.attrs.src"/>
      <optional>
        <ref name="track.attrs.srclang"/>
      </optional>
      <optional>
        <ref name="track.attrs.label"/>
      </optional>
      <optional>
        <ref name="track.attrs.default"/>
      </optional>
    </interleave>
  </define>
  <define name="track.attrs.kind">
    <attribute name="kind">
      <choice>
        <value>subtitles</value>
        <value>captions</value>
        <value>descriptions</value>
        <value>chapters</value>
        <value>metadata</value>
      </choice>
    </attribute>
  </define>
  <define name="track.attrs.src">
    <attribute name="src">
      <ref name="common.data.uri.non-empty"/>
    </attribute>
  </define>
  <define name="track.attrs.srclang">
    <attribute name="srclang">
      <ref name="common.data.langcode"/>
    </attribute>
  </define>
  <define name="track.attrs.label">
    <attribute name="label">
      <data type="string"/>
      <!-- must be non-empty value; check is in assertions code -->
    </attribute>
  </define>
  <define name="track.attrs.default">
    <attribute name="default">
      <choice>
        <value>default</value>
        <value/>
      </choice>
    </attribute>
  </define>
  <define name="track.inner">
    <empty/>
  </define>
  <define name="figure.elem">
    <a:documentation>Captioned Content: &lt;figure&gt;</a:documentation>
    <element name="figure">
      <interleave>
        <ref name="figure.inner"/>
        <ref name="figure.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="figure.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <choice>
          <ref name="common.attrs.aria.implicit.figure"/>
          <optional>
            <ref name="common.attrs.aria"/>
          </optional>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="figure.inner">
    <choice>
      <group>
        <optional>
          <ref name="figcaption.elem"/>
        </optional>
        <ref name="common.inner.flow"/>
      </group>
      <group>
        <ref name="common.inner.flow"/>
        <optional>
          <ref name="figcaption.elem"/>
        </optional>
      </group>
    </choice>
  </define>
  <define name="common.elem.flow" combine="choice">
    <ref name="figure.elem"/>
  </define>
  <define name="figcaption.elem">
    <a:documentation>Figure caption: &lt;figcaption&gt;</a:documentation>
    <element name="figcaption">
      <interleave>
        <ref name="figcaption.inner"/>
        <ref name="figcaption.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="figcaption.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <choice>
          <ref name="common.attrs.aria.role.presentation"/>
          <ref name="common.attrs.aria.role.group"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="figcaption.inner">
    <ref name="common.inner.flow"/>
  </define>
  <!-- Inlined from core-scripting.rng -->
<!-- ##################################################################### -->
  <define name="script.elem.embedded">
    <a:documentation> RELAX NG Schema for HTML 5: Core Scripting                        #</a:documentation>
    <!-- ##################################################################### -->
    <!-- ##################################################################### -->
    <a:documentation>Scripting Elements</a:documentation>
    <a:documentation>Inline Scripts: &lt;script&gt;</a:documentation>
    <element name="script">
      <interleave>
        <ref name="script.inner.embedded"/>
        <ref name="script.attrs.embedded"/>
      </interleave>
    </element>
  </define>
  <define name="script.attrs.embedded">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <ref name="script.attrs.type"/>
      </optional>
      <optional>
        <ref name="script.attrs.nomodule"/>
      </optional>
      <optional>
        <ref name="script.attrs.language"/>
      </optional>
      <optional>
        <!-- restricted in Schematron -->
        <ref name="script.attrs.integrity"/>
      </optional>
      <optional>
        <ref name="embedded.content.attrs.crossorigin"/>
      </optional>
      <optional>
        <ref name="referrerpolicy"/>
      </optional>
    </interleave>
  </define>
  <define name="script.elem.imported">
    <element name="script">
      <interleave>
        <ref name="script.inner.imported"/>
        <ref name="script.attrs.imported"/>
      </interleave>
    </element>
  </define>
  <define name="script.attrs.imported">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <ref name="script.attrs.src"/>
      </optional>
      <optional>
        <ref name="script.attrs.defer"/>
      </optional>
      <optional>
        <ref name="script.attrs.async"/>
      </optional>
      <optional>
        <ref name="script.attrs.type"/>
      </optional>
      <optional>
        <ref name="script.attrs.nomodule"/>
      </optional>
      <optional>
        <ref name="script.attrs.charset"/>
      </optional>
      <optional>
        <ref name="script.attrs.language"/>
      </optional>
      <optional>
        <!-- restricted in Schematron -->
        <ref name="script.attrs.integrity"/>
      </optional>
      <optional>
        <ref name="embedded.content.attrs.crossorigin"/>
      </optional>
      <optional>
        <ref name="common.attrs.blocking"/>
      </optional>
      <optional>
        <ref name="common.attrs.fetchpriority"/>
      </optional>
      <optional>
        <ref name="referrerpolicy"/>
      </optional>
    </interleave>
  </define>
  <define name="script.attrs.src">
    <attribute name="src">
      <ref name="common.data.uri.non-empty"/>
    </attribute>
  </define>
  <define name="script.attrs.defer">
    <attribute name="defer">
      <choice>
        <value>defer</value>
        <value/>
      </choice>
    </attribute>
  </define>
  <define name="script.attrs.async">
    <interleave>
      <attribute name="async">
        <choice>
          <value>async</value>
          <value/>
        </choice>
      </attribute>
      <ref name="v5only"/>
    </interleave>
  </define>
  <define name="script.attrs.type">
    <attribute name="type">
      <choice>
        <value>module</value>
        <value>importmap</value>
        <value/>
        <ref name="common.data.scripttype"/>
      </choice>
      <!-- XXX without charset parameter! -->
    </attribute>
  </define>
  <define name="script.attrs.nomodule">
    <attribute name="nomodule">
      <choice>
        <value>nomodule</value>
        <value/>
      </choice>
    </attribute>
  </define>
  <define name="script.attrs.charset">
    <attribute name="charset">
      <data type="string"/>
    </attribute>
  </define>
  <define name="script.attrs.language">
    <attribute name="language">
      <data type="string"/>
    </attribute>
  </define>
  <define name="script.attrs.integrity">
    <attribute name="integrity">
      <ref name="common.data.integrity"/>
    </attribute>
  </define>
  <define name="script.inner.embedded">
    <ref name="common.inner.anything"/>
  </define>
  <define name="script.inner.imported">
    <ref name="common.inner.anything"/>
  </define>
  <define name="script.elem">
    <choice>
      <ref name="script.elem.embedded"/>
      <ref name="script.elem.imported"/>
    </choice>
  </define>
  <define name="common.elem.metadata" combine="choice">
    <ref name="script.elem"/>
  </define>
  <define name="common.elem.phrasing" combine="choice">
    <ref name="script.elem"/>
  </define>
  <define name="noscript.elem.head">
    <a:documentation>Fallback Unscripted Content: &lt;noscript&gt;</a:documentation>
    <interleave>
      <element name="noscript">
        <interleave>
          <ref name="noscript.inner.head"/>
          <ref name="noscript.attrs"/>
        </interleave>
      </element>
      <ref name="HTMLonly"/>
    </interleave>
  </define>
  <define name="noscript.inner.head">
    <zeroOrMore>
      <choice>
        <ref name="link.elem"/>
        <ref name="meta.http-equiv.default-style.elem"/>
        <ref name="meta.http-equiv.refresh.elem"/>
        <ref name="style.elem"/>
      </choice>
    </zeroOrMore>
  </define>
  <define name="noscript.elem.phrasing">
    <interleave>
      <element name="noscript">
        <interleave>
          <ref name="noscript.inner.phrasing"/>
          <ref name="noscript.attrs"/>
        </interleave>
      </element>
      <ref name="HTMLonly"/>
    </interleave>
  </define>
  <define name="noscript.inner.phrasing">
    <ref name="common.inner.phrasing"/>
  </define>
  <define name="noscript.elem.flow">
    <interleave>
      <element name="noscript">
        <interleave>
          <ref name="noscript.inner.flow"/>
          <ref name="noscript.attrs"/>
        </interleave>
      </element>
      <ref name="HTMLonly"/>
    </interleave>
  </define>
  <define name="noscript.inner.flow">
    <ref name="common.inner.flow"/>
  </define>
  <define name="noscript.attrs">
    <ref name="common.attrs"/>
  </define>
  <define name="common.elem.metadata" combine="choice">
    <ref name="noscript.elem.head"/>
  </define>
  <define name="common.elem.phrasing" combine="choice">
    <ref name="noscript.elem.phrasing"/>
  </define>
  <define name="common.elem.flow" combine="choice">
    <ref name="noscript.elem.flow"/>
  </define>
  <!-- ##################################################################### -->
  <define name="common.attrs.scripting" combine="interleave">
    <a:documentation>Event Handler Attribute Definitions</a:documentation>
    <interleave>
      <optional>
        <ref name="scripting.attr.onauxclick"/>
      </optional>
      <optional>
        <ref name="scripting.attr.onbeforeinput"/>
      </optional>
      <optional>
        <ref name="scripting.attr.onbeforematch"/>
      </optional>
      <optional>
        <ref name="scripting.attr.onblur"/>
      </optional>
      <optional>
        <ref name="scripting.attr.oncancel"/>
      </optional>
      <optional>
        <ref name="scripting.attr.oncanplay"/>
      </optional>
      <optional>
        <ref name="scripting.attr.oncanplaythrough"/>
      </optional>
      <optional>
        <ref name="scripting.attr.onchange"/>
      </optional>
      <optional>
        <ref name="scripting.attr.onclick"/>
      </optional>
      <optional>
        <ref name="scripting.attr.onclose"/>
      </optional>
      <optional>
        <ref name="scripting.attr.oncontextlost"/>
      </optional>
      <optional>
        <ref name="scripting.attr.oncontextmenu"/>
      </optional>
      <optional>
        <ref name="scripting.attr.oncontextrestored"/>
      </optional>
      <optional>
        <ref name="scripting.attr.oncopy"/>
      </optional>
      <optional>
        <ref name="scripting.attr.oncuechange"/>
      </optional>
      <optional>
        <ref name="scripting.attr.oncut"/>
      </optional>
      <optional>
        <ref name="scripting.attr.ondblclick"/>
      </optional>
      <optional>
        <ref name="scripting.attr.ondrag"/>
      </optional>
      <optional>
        <ref name="scripting.attr.ondragend"/>
      </optional>
      <optional>
        <ref name="scripting.attr.ondragenter"/>
      </optional>
      <optional>
        <ref name="scripting.attr.ondragleave"/>
      </optional>
      <optional>
        <ref name="scripting.attr.ondragover"/>
      </optional>
      <optional>
        <ref name="scripting.attr.ondragstart"/>
      </optional>
      <optional>
        <ref name="scripting.attr.ondrop"/>
      </optional>
      <optional>
        <ref name="scripting.attr.ondurationchange"/>
      </optional>
      <optional>
        <ref name="scripting.attr.onemptied"/>
      </optional>
      <optional>
        <ref name="scripting.attr.onended"/>
      </optional>
      <optional>
        <ref name="scripting.attr.onerror"/>
      </optional>
      <optional>
        <ref name="scripting.attr.onfocus"/>
      </optional>
      <optional>
        <ref name="scripting.attr.onformdata"/>
      </optional>
      <optional>
        <ref name="scripting.attr.oninput"/>
      </optional>
      <optional>
        <ref name="scripting.attr.oninvalid"/>
      </optional>
      <optional>
        <ref name="scripting.attr.onkeydown"/>
      </optional>
      <optional>
        <ref name="scripting.attr.onkeypress"/>
      </optional>
      <optional>
        <ref name="scripting.attr.onkeyup"/>
      </optional>
      <optional>
        <ref name="scripting.attr.onload"/>
      </optional>
      <optional>
        <ref name="scripting.attr.onloadeddata"/>
      </optional>
      <optional>
        <ref name="scripting.attr.onloadedmetadata"/>
      </optional>
      <optional>
        <ref name="scripting.attr.onloadstart"/>
      </optional>
      <optional>
        <ref name="scripting.attr.onmousedown"/>
      </optional>
      <optional>
        <ref name="scripting.attr.onmouseenter"/>
      </optional>
      <optional>
        <ref name="scripting.attr.onmouseleave"/>
      </optional>
      <optional>
        <ref name="scripting.attr.onmousemove"/>
      </optional>
      <optional>
        <ref name="scripting.attr.onmouseout"/>
      </optional>
      <optional>
        <ref name="scripting.attr.onmouseover"/>
      </optional>
      <optional>
        <ref name="scripting.attr.onmouseup"/>
      </optional>
      <optional>
        <ref name="scripting.attr.onpaste"/>
      </optional>
      <optional>
        <ref name="scripting.attr.onpause"/>
      </optional>
      <optional>
        <ref name="scripting.attr.onplay"/>
      </optional>
      <optional>
        <ref name="scripting.attr.onplaying"/>
      </optional>
      <optional>
        <ref name="scripting.attr.onprogress"/>
      </optional>
      <optional>
        <ref name="scripting.attr.onratechange"/>
      </optional>
      <optional>
        <ref name="scripting.attr.onreset"/>
      </optional>
      <optional>
        <ref name="scripting.attr.onresize"/>
      </optional>
      <optional>
        <ref name="scripting.attr.onscroll"/>
      </optional>
      <optional>
        <ref name="scripting.attr.onscrollend"/>
      </optional>
      <optional>
        <ref name="scripting.attr.onsecuritypolicyviolation"/>
      </optional>
      <optional>
        <ref name="scripting.attr.onseeked"/>
      </optional>
      <optional>
        <ref name="scripting.attr.onseeking"/>
      </optional>
      <optional>
        <ref name="scripting.attr.onselect"/>
      </optional>
      <optional>
        <ref name="scripting.attr.onslotchange"/>
      </optional>
      <optional>
        <ref name="scripting.attr.onstalled"/>
      </optional>
      <optional>
        <ref name="scripting.attr.onsubmit"/>
      </optional>
      <optional>
        <ref name="scripting.attr.onsuspend"/>
      </optional>
      <optional>
        <ref name="scripting.attr.ontimeupdate"/>
      </optional>
      <optional>
        <ref name="scripting.attr.ontoggle"/>
      </optional>
      <optional>
        <ref name="scripting.attr.onvolumechange"/>
      </optional>
      <optional>
        <ref name="scripting.attr.onwaiting"/>
      </optional>
      <optional>
        <ref name="scripting.attr.onwheel"/>
      </optional>
    </interleave>
  </define>
  <define name="common.attrs.other" combine="interleave">
    <ref name="common.attrs.scripting"/>
  </define>
  <define name="scripting.attr.onauxclick">
    <attribute name="onauxclick">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.onbeforeinput">
    <attribute name="onbeforeinput">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.onbeforematch">
    <attribute name="onbeforematch">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.onblur">
    <attribute name="onblur">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.oncancel">
    <attribute name="oncancel">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.oncanplay">
    <attribute name="oncanplay">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.oncanplaythrough">
    <attribute name="oncanplaythrough">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.onchange">
    <attribute name="onchange">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.onclick">
    <attribute name="onclick">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.onclose">
    <attribute name="onclose">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.oncontextlost">
    <attribute name="oncontextlost">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.oncontextmenu">
    <attribute name="oncontextmenu">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.oncontextrestored">
    <attribute name="oncontextrestored">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.oncopy">
    <attribute name="oncopy">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.oncuechange">
    <attribute name="oncuechange">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.oncut">
    <attribute name="oncut">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.ondblclick">
    <attribute name="ondblclick">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.ondrag">
    <attribute name="ondrag">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.ondragend">
    <attribute name="ondragend">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.ondragenter">
    <attribute name="ondragenter">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.ondragleave">
    <attribute name="ondragleave">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.ondragover">
    <attribute name="ondragover">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.ondragstart">
    <attribute name="ondragstart">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.ondrop">
    <attribute name="ondrop">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.ondurationchange">
    <attribute name="ondurationchange">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.onemptied">
    <attribute name="onemptied">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.onended">
    <attribute name="onended">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.onerror">
    <attribute name="onerror">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.onfocus">
    <attribute name="onfocus">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.onformdata">
    <attribute name="onformdata">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.oninput">
    <attribute name="oninput">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.oninvalid">
    <attribute name="oninvalid">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.onkeydown">
    <attribute name="onkeydown">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.onkeypress">
    <attribute name="onkeypress">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.onkeyup">
    <attribute name="onkeyup">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.onload">
    <attribute name="onload">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.onloadeddata">
    <attribute name="onloadeddata">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.onloadedmetadata">
    <attribute name="onloadedmetadata">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.onloadstart">
    <attribute name="onloadstart">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.onmousedown">
    <attribute name="onmousedown">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.onmouseenter">
    <attribute name="onmouseenter">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.onmouseleave">
    <attribute name="onmouseleave">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.onmousemove">
    <attribute name="onmousemove">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.onmouseout">
    <attribute name="onmouseout">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.onmouseover">
    <attribute name="onmouseover">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.onmouseup">
    <attribute name="onmouseup">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.onpaste">
    <attribute name="onpaste">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.onpause">
    <attribute name="onpause">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.onplay">
    <attribute name="onplay">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.onplaying">
    <attribute name="onplaying">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.onprogress">
    <attribute name="onprogress">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.onratechange">
    <attribute name="onratechange">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.onreset">
    <attribute name="onreset">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.onresize">
    <attribute name="onresize">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.onscroll">
    <attribute name="onscroll">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.onscrollend">
    <attribute name="onscrollend">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.onsecuritypolicyviolation">
    <attribute name="onsecuritypolicyviolation">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.onseeked">
    <attribute name="onseeked">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.onseeking">
    <attribute name="onseeking">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.onselect">
    <attribute name="onselect">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.onslotchange">
    <attribute name="onslotchange">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.onstalled">
    <attribute name="onstalled">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.onsubmit">
    <attribute name="onsubmit">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.onsuspend">
    <attribute name="onsuspend">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.ontimeupdate">
    <attribute name="ontimeupdate">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.ontoggle">
    <attribute name="ontoggle">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.onvolumechange">
    <attribute name="onvolumechange">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.onwaiting">
    <attribute name="onwaiting">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.onwheel">
    <attribute name="onwheel">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="common.attrs.scripting" combine="interleave">
    <a:documentation>Pointer Events</a:documentation>
    <interleave>
      <optional>
        <ref name="scripting.attr.onpointerover"/>
      </optional>
      <optional>
        <ref name="scripting.attr.onpointerenter"/>
      </optional>
      <optional>
        <ref name="scripting.attr.onpointerdown"/>
      </optional>
      <optional>
        <ref name="scripting.attr.onpointermove"/>
      </optional>
      <optional>
        <ref name="scripting.attr.onpointerrawupdate"/>
      </optional>
      <optional>
        <ref name="scripting.attr.onpointerup"/>
      </optional>
      <optional>
        <ref name="scripting.attr.onpointercancel"/>
      </optional>
      <optional>
        <ref name="scripting.attr.onpointerout"/>
      </optional>
      <optional>
        <ref name="scripting.attr.onpointerleave"/>
      </optional>
      <optional>
        <ref name="scripting.attr.ongotpointercapture"/>
      </optional>
      <optional>
        <ref name="scripting.attr.onlostpointercapture"/>
      </optional>
    </interleave>
  </define>
  <define name="scripting.attr.onpointerover">
    <attribute name="onpointerover">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.onpointerenter">
    <attribute name="onpointerenter">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.onpointerdown">
    <attribute name="onpointerdown">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.onpointermove">
    <attribute name="onpointermove">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.onpointerrawupdate">
    <attribute name="onpointerrawupdate">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.onpointerup">
    <attribute name="onpointerup">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.onpointercancel">
    <attribute name="onpointercancel">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.onpointerout">
    <attribute name="onpointerout">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.onpointerleave">
    <attribute name="onpointerleave">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.ongotpointercapture">
    <attribute name="ongotpointercapture">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="scripting.attr.onlostpointercapture">
    <attribute name="onlostpointercapture">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <!-- Inlined from tables.rng -->
<!-- ##################################################################### -->
  <define name="tables.attrs.alignment">
    <a:documentation> RELAX NG Schema for HTML 5: Tables                                #</a:documentation>
    <!-- ##################################################################### -->
    <!-- ##################################################################### -->
    <a:documentation>Table Envelope</a:documentation>
    <a:documentation>Table Datatypes</a:documentation>
    <!--
      	tables.data.multilen =
      		(	common.data.integer.positive
      		|	common.data.percent
      		|	xsd:token { pattern = "[0-9]+\\*" } #REVISIT should this one be string? 
      		)
    -->
    <a:documentation>Table Alignment Attributes</a:documentation>
    <interleave>
      <optional>
        <ref name="tables.attrs.align"/>
      </optional>
      <optional>
        <ref name="tables.attrs.char"/>
      </optional>
      <optional>
        <ref name="tables.attrs.valign"/>
      </optional>
    </interleave>
  </define>
  <define name="tables.attrs.align">
    <attribute name="align">
      <choice>
        <value>left</value>
        <value>center</value>
        <value>right</value>
        <value>justify</value>
        <value>char</value>
      </choice>
    </attribute>
  </define>
  <define name="tables.attrs.char">
    <attribute name="char">
      <data type="string">
        <param name="pattern">.</param>
      </data>
    </attribute>
  </define>
  <define name="tables.attrs.valign">
    <attribute name="valign">
      <choice>
        <value>top</value>
        <value>middle</value>
        <value>bottom</value>
        <value>baseline</value>
      </choice>
    </attribute>
  </define>
  <define name="table.elem">
    <a:documentation>Data Table: &lt;table&gt;</a:documentation>
    <element name="table">
      <interleave>
        <ref name="table.inner"/>
        <ref name="table.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="table.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <choice>
          <ref name="common.attrs.aria.implicit.table"/>
          <ref name="common.attrs.aria"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="table.inner">
    <optional>
      <ref name="caption.elem"/>
    </optional>
    <zeroOrMore>
      <ref name="common.elem.script-supporting"/>
    </zeroOrMore>
    <zeroOrMore>
      <ref name="colgroup.elem"/>
    </zeroOrMore>
    <zeroOrMore>
      <ref name="common.elem.script-supporting"/>
    </zeroOrMore>
    <optional>
      <ref name="thead.elem"/>
    </optional>
    <zeroOrMore>
      <ref name="common.elem.script-supporting"/>
    </zeroOrMore>
    <group>
      <choice>
        <zeroOrMore>
          <ref name="tbody.elem"/>
        </zeroOrMore>
        <oneOrMore>
          <ref name="tr.elem"/>
        </oneOrMore>
      </choice>
      <zeroOrMore>
        <ref name="common.elem.script-supporting"/>
      </zeroOrMore>
      <optional>
        <ref name="tfoot.elem"/>
      </optional>
    </group>
  </define>
  <define name="common.elem.flow" combine="choice">
    <ref name="table.elem"/>
  </define>
  <define name="caption.elem">
    <a:documentation>Table Caption: &lt;caption&gt;</a:documentation>
    <element name="caption">
      <interleave>
        <ref name="caption.inner"/>
        <ref name="caption.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="caption.attrs">
    <ref name="common.attrs"/>
  </define>
  <define name="caption.inner">
    <ref name="common.inner.flow"/>
  </define>
  <!-- ##################################################################### -->
  <define name="colgroup.elem">
    <a:documentation>Table Super Structure</a:documentation>
    <a:documentation>Table Column Group: &lt;colgroup&gt;</a:documentation>
    <element name="colgroup">
      <interleave>
        <ref name="colgroup.inner"/>
        <ref name="colgroup.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="colgroup.attrs">
    <ref name="common.attrs"/>
  </define>
  <define name="colgroup.attrs.span">
    <attribute name="span">
      <ref name="common.data.integer.positive"/>
    </attribute>
  </define>
  <define name="colgroup.inner">
    <choice>
      <interleave>
        <zeroOrMore>
          <ref name="col.elem"/>
        </zeroOrMore>
        <zeroOrMore>
          <ref name="common.elem.script-supporting"/>
        </zeroOrMore>
      </interleave>
      <optional>
        <ref name="colgroup.attrs.span"/>
      </optional>
    </choice>
  </define>
  <define name="col.elem">
    <a:documentation>Table Column: &lt;col&gt;</a:documentation>
    <element name="col">
      <interleave>
        <ref name="col.inner"/>
        <ref name="col.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="col.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <ref name="col.attrs.span"/>
      </optional>
    </interleave>
  </define>
  <define name="col.attrs.span">
    <attribute name="span">
      <ref name="common.data.integer.positive"/>
    </attribute>
  </define>
  <define name="col.inner">
    <empty/>
  </define>
  <define name="thead.elem">
    <a:documentation>Table Header Row Group</a:documentation>
    <element name="thead">
      <interleave>
        <ref name="thead.inner"/>
        <ref name="thead.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="thead.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <choice>
          <ref name="common.attrs.aria.implicit.rowgroup"/>
          <ref name="common.attrs.aria"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="thead.inner">
    <interleave>
      <zeroOrMore>
        <ref name="tr.elem"/>
      </zeroOrMore>
      <zeroOrMore>
        <ref name="common.elem.script-supporting"/>
      </zeroOrMore>
    </interleave>
  </define>
  <define name="tfoot.elem">
    <a:documentation>Table Footer Row Group</a:documentation>
    <element name="tfoot">
      <interleave>
        <ref name="tfoot.inner"/>
        <ref name="tfoot.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="tfoot.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <choice>
          <ref name="common.attrs.aria.implicit.rowgroup"/>
          <ref name="common.attrs.aria"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="tfoot.inner">
    <interleave>
      <zeroOrMore>
        <ref name="tr.elem"/>
      </zeroOrMore>
      <zeroOrMore>
        <ref name="common.elem.script-supporting"/>
      </zeroOrMore>
    </interleave>
  </define>
  <define name="tbody.elem">
    <a:documentation>Table Row Group</a:documentation>
    <element name="tbody">
      <interleave>
        <ref name="tbody.inner"/>
        <ref name="tbody.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="tbody.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <choice>
          <ref name="common.attrs.aria.implicit.rowgroup"/>
          <ref name="common.attrs.aria"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="tbody.inner">
    <interleave>
      <zeroOrMore>
        <ref name="tr.elem"/>
      </zeroOrMore>
      <zeroOrMore>
        <ref name="common.elem.script-supporting"/>
      </zeroOrMore>
    </interleave>
  </define>
  <!-- ##################################################################### -->
  <define name="tr.elem">
    <a:documentation>Cell Structure</a:documentation>
    <a:documentation>Table Row</a:documentation>
    <element name="tr">
      <interleave>
        <ref name="tr.inner"/>
        <ref name="tr.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="tr.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <choice>
          <ref name="common.attrs.aria.implicit.row"/>
          <ref name="common.attrs.aria"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="tr.inner">
    <zeroOrMore>
      <choice>
        <ref name="td.elem"/>
        <ref name="th.elem"/>
        <ref name="common.elem.script-supporting"/>
      </choice>
    </zeroOrMore>
  </define>
  <define name="tables.attrs.cell-structure">
    <a:documentation>Common Table Cell Attributes</a:documentation>
    <interleave>
      <optional>
        <ref name="tables.attrs.colspan"/>
      </optional>
      <optional>
        <ref name="tables.attrs.rowspan"/>
      </optional>
    </interleave>
  </define>
  <define name="tables.attrs.colspan">
    <attribute name="colspan">
      <ref name="common.data.integer.positive"/>
    </attribute>
  </define>
  <define name="tables.attrs.rowspan">
    <attribute name="rowspan">
      <ref name="common.data.integer.non-negative"/>
    </attribute>
  </define>
  <define name="tables.attrs.access-headers">
    <optional>
      <ref name="tables.attrs.headers"/>
    </optional>
  </define>
  <define name="tables.attrs.headers">
    <attribute name="headers">
      <ref name="common.data.idrefs"/>
    </attribute>
  </define>
  <define name="tables.attrs.define-headers">
    <optional>
      <ref name="tables.attrs.scope"/>
    </optional>
  </define>
  <define name="tables.attrs.scope">
    <attribute name="scope">
      <choice>
        <value>row</value>
        <value>col</value>
        <value>rowgroup</value>
        <value>colgroup</value>
      </choice>
    </attribute>
  </define>
  <define name="tables.attrs.abbr">
    <attribute name="abbr"/>
  </define>
  <define name="td.elem">
    <a:documentation>Table Data Cell: &lt;td&gt;</a:documentation>
    <element name="td">
      <interleave>
        <ref name="td.inner"/>
        <ref name="td.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="td.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <ref name="tables.attrs.cell-structure"/>
      <optional>
        <ref name="tables.attrs.headers"/>
      </optional>
      <optional>
        <!-- 		&	tables.attrs.alignment -->
        <choice>
          <ref name="common.attrs.aria.implicit.cell"/>
          <ref name="common.attrs.aria"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="td.inner">
    <ref name="common.inner.flow"/>
  </define>
  <define name="th.elem">
    <a:documentation>Table Header Cells: &lt;th&gt;</a:documentation>
    <element name="th">
      <interleave>
        <ref name="th.inner"/>
        <ref name="th.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="th.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <ref name="tables.attrs.cell-structure"/>
      <optional>
        <ref name="tables.attrs.scope"/>
      </optional>
      <optional>
        <ref name="tables.attrs.headers"/>
      </optional>
      <!-- 		&	tables.attrs.alignment -->
      <choice>
        <optional>
          <ref name="common.attrs.aria"/>
        </optional>
        <ref name="common.attrs.aria.implicit.column-or-row-header"/>
      </choice>
    </interleave>
  </define>
  <define name="th.inner">
    <ref name="common.inner.flow"/>
  </define>
  <!-- Inlined from form-datatypes.rng -->
<!-- ##################################################################### -->
  <define name="form.data.mimetypelist">
    <a:documentation> RELAX NG Schema for HTML 5: Datatypes related to forms            #</a:documentation>
    <!-- ##################################################################### -->
    <a:documentation>MIME types</a:documentation>
    <ref name="datatype.html5.forms.mimetypelist"/>
  </define>
  <define name="form.data.pattern">
    <a:documentation>ECMAScript Regular Expression</a:documentation>
    <data type="string"/>
  </define>
  <define name="form.data.datetime-local">
    <a:documentation>Temporal</a:documentation>
    <ref name="datatype.html5.datetime.local"/>
  </define>
  <define name="form.data.date">
    <ref name="datatype.html5.date"/>
  </define>
  <define name="form.data.month">
    <ref name="datatype.html5.month"/>
  </define>
  <define name="form.data.week">
    <ref name="datatype.html5.week"/>
  </define>
  <define name="form.data.time">
    <ref name="datatype.html5.time"/>
  </define>
  <define name="form.data.emailaddress">
    <a:documentation>Email</a:documentation>
    <ref name="datatype.html5.emailaddress"/>
  </define>
  <define name="form.data.emailaddresslist">
    <ref name="datatype.html5.emailaddresslist"/>
  </define>
  <define name="form.data.color">
    <a:documentation>Color</a:documentation>
    <ref name="datatype.html5.color"/>
  </define>
  <!--
    		xsd:string {
    			pattern = "#[a-fA-F0-9]{6}"
    		}
  -->
  <define name="form.data.stringwithoutlinebreaks">
    <a:documentation>Text without line breaks</a:documentation>
    <ref name="datatype.html5.forms.string.nolinebreaks"/>
  </define>
  <define name="form.data.nonemptystring">
    <a:documentation>Non-empty string</a:documentation>
    <ref name="datatype.string.nonempty"/>
  </define>
  <!-- Inlined from web-forms.rng -->
<!-- ##################################################################### -->
  <define name="common-form.attrs">
    <a:documentation> RELAX NG Schema for HTML 5: Web Forms 1.0 markup                  #</a:documentation>
    <!-- ##################################################################### -->
    <a:documentation>Shared attributes for form controls</a:documentation>
    <interleave>
      <optional>
        <ref name="common-form.attrs.name"/>
      </optional>
      <optional>
        <ref name="common-form.attrs.disabled"/>
      </optional>
    </interleave>
  </define>
  <define name="common-form.attrs.name">
    <attribute name="name">
      <ref name="form.data.nonemptystring"/>
    </attribute>
  </define>
  <define name="common-form.attrs.disabled">
    <attribute name="disabled">
      <choice>
        <value>disabled</value>
        <value/>
      </choice>
    </attribute>
  </define>
  <define name="shared-form.attrs.readonly">
    <attribute name="readonly">
      <choice>
        <value>readonly</value>
        <value/>
      </choice>
    </attribute>
  </define>
  <define name="shared-form.attrs.maxlength">
    <attribute name="maxlength">
      <ref name="common.data.integer.non-negative"/>
    </attribute>
  </define>
  <define name="shared-form.attrs.size">
    <attribute name="size">
      <ref name="common.data.integer.positive"/>
    </attribute>
  </define>
  <!-- REVISIT tabindex goes in common.attrs -->
  <define name="input.attrs.checked">
    <a:documentation>Shared attributes for &lt;input&gt;</a:documentation>
    <attribute name="checked">
      <choice>
        <value>checked</value>
        <value/>
      </choice>
    </attribute>
  </define>
  <define name="input.text.elem">
    <a:documentation>Text Field: &lt;input type='text'&gt;</a:documentation>
    <element name="input">
      <ref name="input.text.attrs"/>
    </element>
  </define>
  <define name="input.text.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <ref name="common-form.attrs"/>
      <optional>
        <ref name="input.text.attrs.type"/>
      </optional>
      <optional>
        <ref name="shared-form.attrs.maxlength"/>
      </optional>
      <optional>
        <ref name="shared-form.attrs.readonly"/>
      </optional>
      <optional>
        <ref name="shared-form.attrs.size"/>
      </optional>
      <optional>
        <ref name="input.text.attrs.value"/>
      </optional>
      <optional>
        <choice>
          <ref name="common.attrs.aria.implicit.textbox"/>
          <ref name="common.attrs.aria.role.textbox"/>
          <ref name="common.attrs.aria.role.combobox"/>
          <ref name="common.attrs.aria.role.searchbox"/>
          <ref name="common.attrs.aria.role.spinbutton"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="input.text.attrs.type">
    <attribute name="type">
      <value>text</value>
    </attribute>
  </define>
  <define name="input.text.attrs.value">
    <attribute name="value">
      <ref name="form.data.stringwithoutlinebreaks"/>
    </attribute>
  </define>
  <define name="input.elem">
    <ref name="input.text.elem"/>
  </define>
  <define name="input.password.elem">
    <a:documentation>Password Field: &lt;input type='password'&gt;</a:documentation>
    <element name="input">
      <ref name="input.password.attrs"/>
    </element>
  </define>
  <define name="input.password.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <ref name="common-form.attrs"/>
      <ref name="input.password.attrs.type"/>
      <optional>
        <ref name="shared-form.attrs.maxlength"/>
      </optional>
      <optional>
        <ref name="shared-form.attrs.readonly"/>
      </optional>
      <optional>
        <ref name="shared-form.attrs.size"/>
      </optional>
      <optional>
        <ref name="input.password.attrs.value"/>
      </optional>
    </interleave>
  </define>
  <define name="input.password.attrs.type">
    <attribute name="type">
      <value>password</value>
    </attribute>
  </define>
  <define name="input.password.attrs.value">
    <attribute name="value">
      <ref name="form.data.stringwithoutlinebreaks"/>
    </attribute>
  </define>
  <define name="input.elem" combine="choice">
    <ref name="input.password.elem"/>
  </define>
  <define name="input.checkbox.elem">
    <a:documentation>Checkbox: &lt;input type='checkbox'&gt;</a:documentation>
    <element name="input">
      <ref name="input.checkbox.attrs"/>
    </element>
  </define>
  <define name="input.checkbox.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <ref name="common-form.attrs"/>
      <ref name="input.checkbox.attrs.type"/>
      <optional>
        <ref name="input.attrs.checked"/>
      </optional>
      <optional>
        <ref name="input.checkbox.attrs.value"/>
      </optional>
      <optional>
        <choice>
          <ref name="common.attrs.aria.implicit.checkbox"/>
          <ref name="common.attrs.aria.role.checkbox"/>
          <ref name="common.attrs.aria.role.button"/>
          <ref name="common.attrs.aria.role.menuitemcheckbox-checked-not-required"/>
          <ref name="common.attrs.aria.role.option"/>
          <ref name="common.attrs.aria.role.switch-checked-not-required"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="input.checkbox.attrs.type">
    <attribute name="type">
      <value>checkbox</value>
    </attribute>
  </define>
  <define name="input.checkbox.attrs.value">
    <attribute name="value">
      <data type="string"/>
      <!-- REVISIT require non-empty value? -->
    </attribute>
  </define>
  <define name="input.elem" combine="choice">
    <ref name="input.checkbox.elem"/>
  </define>
  <define name="input.radio.elem">
    <a:documentation>Radiobutton: &lt;input type='radio'&gt;</a:documentation>
    <element name="input">
      <ref name="input.radio.attrs"/>
    </element>
  </define>
  <define name="input.radio.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <ref name="common-form.attrs"/>
      <ref name="input.radio.attrs.type"/>
      <optional>
        <ref name="input.attrs.checked"/>
      </optional>
      <optional>
        <ref name="input.radio.attrs.value"/>
      </optional>
      <optional>
        <choice>
          <ref name="common.attrs.aria.implicit.radio"/>
          <ref name="common.attrs.aria.role.radio"/>
          <ref name="common.attrs.aria.role.menuitemradio-checked-not-required"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="input.radio.attrs.type">
    <attribute name="type">
      <value>radio</value>
    </attribute>
  </define>
  <define name="input.radio.attrs.value">
    <attribute name="value">
      <data type="string"/>
      <!-- REVISIT require non-empty value? -->
    </attribute>
  </define>
  <define name="input.elem" combine="choice">
    <ref name="input.radio.elem"/>
  </define>
  <define name="input.button.elem">
    <a:documentation>Scripting Hook Button: &lt;input type='button'&gt;</a:documentation>
    <element name="input">
      <ref name="input.button.attrs"/>
    </element>
  </define>
  <define name="input.button.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <ref name="common-form.attrs"/>
      <ref name="input.button.attrs.type"/>
      <optional>
        <ref name="input.button.attrs.value"/>
      </optional>
      <ref name="button.attrs.popover-controls"/>
      <optional>
        <choice>
          <ref name="common.attrs.aria.implicit.button"/>
          <ref name="common.attrs.aria.role.button"/>
          <ref name="common.attrs.aria.role.checkbox"/>
          <ref name="common.attrs.aria.role.combobox"/>
          <ref name="common.attrs.aria.role.link"/>
          <ref name="common.attrs.aria.role.menuitem"/>
          <ref name="common.attrs.aria.role.menuitemcheckbox"/>
          <ref name="common.attrs.aria.role.menuitemradio"/>
          <ref name="common.attrs.aria.role.option"/>
          <ref name="common.attrs.aria.role.radio"/>
          <ref name="common.attrs.aria.role.switch"/>
          <ref name="common.attrs.aria.role.tab"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="input.button.attrs.type">
    <attribute name="type">
      <value>button</value>
    </attribute>
  </define>
  <define name="input.button.attrs.value">
    <attribute name="value">
      <data type="string"/>
      <!-- REVISIT require non-empty value? -->
    </attribute>
  </define>
  <define name="input.elem" combine="choice">
    <ref name="input.button.elem"/>
  </define>
  <!-- REVISIT should this be enabled by a scripting module only? -->
  <define name="input.submit.elem">
    <a:documentation>Submit Button: &lt;input type='submit'&gt;</a:documentation>
    <element name="input">
      <ref name="input.submit.attrs"/>
    </element>
  </define>
  <define name="input.submit.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <ref name="common-form.attrs"/>
      <ref name="input.submit.attrs.type"/>
      <optional>
        <ref name="input.submit.attrs.value"/>
      </optional>
      <ref name="button.attrs.popover-controls"/>
      <optional>
        <choice>
          <ref name="common.attrs.aria.implicit.button"/>
          <ref name="common.attrs.aria.role.button"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="input.submit.attrs.type">
    <attribute name="type">
      <value>submit</value>
    </attribute>
  </define>
  <define name="input.submit.attrs.value">
    <attribute name="value">
      <data type="string"/>
      <!-- REVISIT require non-empty value? -->
    </attribute>
  </define>
  <define name="input.elem" combine="choice">
    <ref name="input.submit.elem"/>
  </define>
  <define name="input.reset.elem">
    <a:documentation>Reset Button: &lt;input type='reset'&gt;</a:documentation>
    <element name="input">
      <ref name="input.reset.attrs"/>
    </element>
  </define>
  <define name="input.reset.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <ref name="common-form.attrs"/>
      <ref name="input.reset.attrs.type"/>
      <optional>
        <ref name="input.reset.attrs.value"/>
      </optional>
      <ref name="button.attrs.popover-controls"/>
      <optional>
        <choice>
          <ref name="common.attrs.aria.implicit.button"/>
          <ref name="common.attrs.aria.role.button"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="input.reset.attrs.type">
    <attribute name="type">
      <value>reset</value>
    </attribute>
  </define>
  <define name="input.reset.attrs.value">
    <attribute name="value">
      <data type="string"/>
      <!-- REVISIT require non-empty value? -->
    </attribute>
  </define>
  <define name="input.elem" combine="choice">
    <ref name="input.reset.elem"/>
  </define>
  <!-- REVISIT does reset make sense outside a form? -->
  <define name="input.file.elem">
    <a:documentation>File Upload: &lt;input type='file'&gt;</a:documentation>
    <element name="input">
      <ref name="input.file.attrs"/>
    </element>
  </define>
  <define name="input.file.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <ref name="common-form.attrs"/>
      <ref name="input.file.attrs.type"/>
      <optional>
        <ref name="input.file.attrs.accept"/>
      </optional>
    </interleave>
  </define>
  <define name="input.file.attrs.type">
    <attribute name="type">
      <value>file</value>
    </attribute>
  </define>
  <define name="input.file.attrs.accept">
    <attribute name="accept">
      <ref name="form.data.mimetypelist"/>
    </attribute>
  </define>
  <define name="input.elem" combine="choice">
    <ref name="input.file.elem"/>
  </define>
  <define name="input.hidden.elem">
    <a:documentation>Hidden String: &lt;input type='hidden'&gt;</a:documentation>
    <element name="input">
      <ref name="input.hidden.attrs"/>
    </element>
  </define>
  <define name="input.hidden.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <ref name="common-form.attrs"/>
      <ref name="input.hidden.attrs.type"/>
      <optional>
        <ref name="input.hidden.attrs.value"/>
      </optional>
    </interleave>
  </define>
  <define name="input.hidden.attrs.type">
    <attribute name="type">
      <value>hidden</value>
    </attribute>
  </define>
  <define name="input.hidden.attrs.value">
    <attribute name="value">
      <data type="string"/>
    </attribute>
  </define>
  <define name="input.elem" combine="choice">
    <ref name="input.hidden.elem"/>
  </define>
  <define name="input.image.elem">
    <a:documentation>Image Submit Button: &lt;input type='image'&gt;</a:documentation>
    <element name="input">
      <ref name="input.image.attrs"/>
    </element>
  </define>
  <define name="input.image.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <ref name="common-form.attrs"/>
      <ref name="input.image.attrs.type"/>
      <ref name="input.image.attrs.alt"/>
      <optional>
        <ref name="input.image.attrs.src"/>
      </optional>
      <ref name="button.attrs.popover-controls"/>
      <optional>
        <choice>
          <ref name="common.attrs.aria.implicit.button"/>
          <ref name="common.attrs.aria.role.button"/>
          <ref name="common.attrs.aria.role.link"/>
          <ref name="common.attrs.aria.role.menuitem"/>
          <ref name="common.attrs.aria.role.menuitemcheckbox"/>
          <ref name="common.attrs.aria.role.menuitemradio"/>
          <ref name="common.attrs.aria.role.radio"/>
          <ref name="common.attrs.aria.role.switch"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="input.image.attrs.type">
    <attribute name="type">
      <value>image</value>
    </attribute>
  </define>
  <define name="input.image.attrs.alt">
    <attribute name="alt">
      <ref name="form.data.nonemptystring"/>
    </attribute>
  </define>
  <define name="input.image.attrs.src">
    <attribute name="src">
      <ref name="common.data.uri.non-empty"/>
    </attribute>
  </define>
  <define name="input.elem" combine="choice">
    <ref name="input.image.elem"/>
  </define>
  <define name="common.elem.phrasing" combine="choice">
    <ref name="input.elem"/>
  </define>
  <define name="textarea.elem">
    <a:documentation>Text Area: &lt;textarea&gt;</a:documentation>
    <element name="textarea">
      <interleave>
        <ref name="textarea.inner"/>
        <ref name="textarea.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="textarea.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <ref name="common-form.attrs"/>
      <optional>
        <ref name="shared-form.attrs.readonly"/>
      </optional>
      <ref name="textarea.attrs.rows-and-cols-wf1"/>
      <optional>
        <choice>
          <ref name="common.attrs.aria.implicit.textbox"/>
          <ref name="common.attrs.aria.role.textbox"/>
        </choice>
      </optional>
    </interleave>
    <!-- FIXME onfocus, onblur, onselect,onchange -->
  </define>
  <!-- This is ugly. -->
  <define name="textarea.attrs.rows-and-cols-wf1">
    <ref name="textarea.attrs.rows-and-cols-wf1.inner"/>
  </define>
  <define name="textarea.attrs.rows-and-cols-wf1.inner">
    <interleave>
      <ref name="textarea.attrs.cols"/>
      <ref name="textarea.attrs.rows"/>
    </interleave>
  </define>
  <define name="textarea.attrs.cols">
    <attribute name="cols">
      <ref name="common.data.integer.positive"/>
    </attribute>
  </define>
  <define name="textarea.attrs.rows">
    <attribute name="rows">
      <ref name="common.data.integer.positive"/>
    </attribute>
  </define>
  <define name="textarea.inner">
    <text/>
  </define>
  <define name="common.elem.phrasing" combine="choice">
    <ref name="textarea.elem"/>
  </define>
  <!--
    Due to limitations with interleave, handling single/multiple selection
    enforcement in RELAX NG seems to be possible but really awkward.
    Tried it. Leaving it to Schematron.
  -->
  <define name="option.elem">
    <a:documentation>Select menu option: &lt;option selected&gt;</a:documentation>
    <element name="option">
      <interleave>
        <ref name="option.inner"/>
        <ref name="option.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="option.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <ref name="common-form.attrs.disabled"/>
      </optional>
      <optional>
        <ref name="option.attrs.selected"/>
      </optional>
      <optional>
        <ref name="option.attrs.label"/>
      </optional>
      <optional>
        <ref name="option.attrs.value"/>
      </optional>
      <optional>
        <choice>
          <ref name="common.attrs.aria.implicit.option"/>
          <ref name="common.attrs.aria.role.option"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="option.attrs.selected">
    <attribute name="selected">
      <choice>
        <value>selected</value>
        <value/>
      </choice>
    </attribute>
  </define>
  <define name="option.attrs.label">
    <attribute name="label">
      <ref name="form.data.nonemptystring"/>
    </attribute>
  </define>
  <define name="option.attrs.value">
    <attribute name="value">
      <data type="string"/>
    </attribute>
  </define>
  <define name="option.inner">
    <text/>
  </define>
  <define name="optgroup.elem">
    <a:documentation>Option Group: &lt;optgroup&gt;</a:documentation>
    <element name="optgroup">
      <interleave>
        <ref name="optgroup.inner"/>
        <ref name="optgroup.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="optgroup.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <ref name="optgroup.attrs.label"/>
      <optional>
        <ref name="common-form.attrs.disabled"/>
      </optional>
      <optional>
        <choice>
          <ref name="common.attrs.aria.implicit.group"/>
          <ref name="common.attrs.aria.role.group"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="optgroup.attrs.label">
    <attribute name="label">
      <data type="string"/>
    </attribute>
  </define>
  <define name="optgroup.inner">
    <interleave>
      <zeroOrMore>
        <ref name="option.elem"/>
      </zeroOrMore>
      <zeroOrMore>
        <ref name="common.elem.script-supporting"/>
      </zeroOrMore>
    </interleave>
  </define>
  <define name="select.elem">
    <a:documentation>Selection Menu: &lt;select&gt;</a:documentation>
    <element name="select">
      <interleave>
        <ref name="select.inner"/>
        <ref name="select.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="select.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <ref name="common-form.attrs"/>
      <optional>
        <ref name="select.attrs.size"/>
      </optional>
      <optional>
        <ref name="select.attrs.multiple"/>
      </optional>
      <optional>
        <!-- FIXME onfocus, onblur, onchange -->
        <choice>
          <ref name="common.attrs.aria.role.listbox"/>
          <!-- aria-multiselectable depends on "multiple" value; check in assertions -->
          <ref name="common.attrs.aria.role.combobox"/>
          <ref name="common.attrs.aria.role.menu"/>
          <ref name="common.attrs.aria.implicit.combobox"/>
          <ref name="common.attrs.aria.implicit.listbox"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="select.attrs.size">
    <attribute name="size">
      <ref name="common.data.integer.positive"/>
    </attribute>
  </define>
  <define name="select.attrs.multiple">
    <attribute name="multiple">
      <choice>
        <value>multiple</value>
        <value/>
      </choice>
    </attribute>
  </define>
  <define name="select.inner">
    <interleave>
      <zeroOrMore>
        <ref name="optgroup.elem"/>
      </zeroOrMore>
      <zeroOrMore>
        <ref name="option.elem"/>
      </zeroOrMore>
      <zeroOrMore>
        <ref name="common.elem.script-supporting"/>
      </zeroOrMore>
    </interleave>
  </define>
  <define name="common.elem.phrasing" combine="choice">
    <ref name="select.elem"/>
  </define>
  <define name="button.attrs.value">
    <a:documentation>Shared Definitions for Complex Button</a:documentation>
    <attribute name="value">
      <data type="string"/>
    </attribute>
  </define>
  <define name="button.attrs.popover-controls">
    <interleave>
      <optional>
        <ref name="button.attrs.popovertarget"/>
      </optional>
      <optional>
        <ref name="button.attrs.popovertargetaction"/>
      </optional>
    </interleave>
  </define>
  <define name="button.attrs.popovertarget">
    <attribute name="popovertarget">
      <ref name="common.data.idref"/>
    </attribute>
  </define>
  <define name="button.attrs.popovertargetaction">
    <attribute name="popovertargetaction">
      <choice>
        <value>hide</value>
        <value>show</value>
        <value>toggle</value>
      </choice>
    </attribute>
  </define>
  <define name="button.inner">
    <ref name="common.inner.phrasing"/>
  </define>
  <define name="button.submit.elem">
    <a:documentation>Complex Submit Button: &lt;button type='submit'&gt;</a:documentation>
    <element name="button">
      <interleave>
        <ref name="button.inner"/>
        <ref name="button.submit.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="button.submit.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <ref name="common-form.attrs"/>
      <optional>
        <ref name="button.submit.attrs.type"/>
      </optional>
      <optional>
        <ref name="button.attrs.value"/>
      </optional>
      <ref name="button.attrs.popover-controls"/>
      <optional>
        <choice>
          <ref name="common.attrs.aria.implicit.button"/>
          <ref name="common.attrs.aria.role.button"/>
          <ref name="common.attrs.aria.role.checkbox"/>
          <ref name="common.attrs.aria.role.combobox"/>
          <ref name="common.attrs.aria.role.link"/>
          <ref name="common.attrs.aria.role.menuitem"/>
          <ref name="common.attrs.aria.role.menuitemcheckbox"/>
          <ref name="common.attrs.aria.role.menuitemradio"/>
          <ref name="common.attrs.aria.role.option"/>
          <ref name="common.attrs.aria.role.radio"/>
          <ref name="common.attrs.aria.role.tab"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="button.submit.attrs.type">
    <attribute name="type">
      <value>submit</value>
    </attribute>
  </define>
  <define name="button.elem">
    <ref name="button.submit.elem"/>
  </define>
  <define name="button.reset.elem">
    <a:documentation>Complex Reset Button: &lt;button type='reset'&gt;</a:documentation>
    <element name="button">
      <interleave>
        <ref name="button.inner"/>
        <ref name="button.reset.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="button.reset.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <ref name="common-form.attrs"/>
      <ref name="button.reset.attrs.type"/>
      <optional>
        <ref name="button.attrs.value"/>
      </optional>
      <!-- REVISIT I guess this still affects the DOM -->
      <ref name="button.attrs.popover-controls"/>
      <optional>
        <choice>
          <ref name="common.attrs.aria.implicit.button"/>
          <ref name="common.attrs.aria.role.button"/>
          <ref name="common.attrs.aria.role.checkbox"/>
          <ref name="common.attrs.aria.role.link"/>
          <ref name="common.attrs.aria.role.menuitem"/>
          <ref name="common.attrs.aria.role.menuitemcheckbox"/>
          <ref name="common.attrs.aria.role.menuitemradio"/>
          <ref name="common.attrs.aria.role.option"/>
          <ref name="common.attrs.aria.role.radio"/>
          <ref name="common.attrs.aria.role.switch"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="button.reset.attrs.type">
    <attribute name="type">
      <value>reset</value>
    </attribute>
  </define>
  <define name="button.elem" combine="choice">
    <ref name="button.reset.elem"/>
  </define>
  <define name="button.button.elem">
    <a:documentation>Complex Push Button: &lt;button type='button'&gt;</a:documentation>
    <element name="button">
      <interleave>
        <ref name="button.inner"/>
        <ref name="button.button.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="button.button.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <ref name="common-form.attrs"/>
      <ref name="button.button.attrs.type"/>
      <optional>
        <ref name="button.attrs.value"/>
      </optional>
      <!-- REVISIT I guess this still affects the DOM -->
      <ref name="button.attrs.popover-controls"/>
      <optional>
        <choice>
          <ref name="common.attrs.aria.implicit.button"/>
          <ref name="common.attrs.aria.role.button"/>
          <ref name="common.attrs.aria.role.checkbox"/>
          <ref name="common.attrs.aria.role.link"/>
          <ref name="common.attrs.aria.role.menuitem"/>
          <ref name="common.attrs.aria.role.menuitemcheckbox"/>
          <ref name="common.attrs.aria.role.menuitemradio"/>
          <ref name="common.attrs.aria.role.option"/>
          <ref name="common.attrs.aria.role.radio"/>
          <ref name="common.attrs.aria.role.switch"/>
          <ref name="common.attrs.aria.role.tab"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="button.button.attrs.type">
    <attribute name="type">
      <value>button</value>
    </attribute>
  </define>
  <define name="button.elem" combine="choice">
    <ref name="button.button.elem"/>
  </define>
  <define name="common.elem.phrasing" combine="choice">
    <ref name="button.elem"/>
  </define>
  <define name="form.elem">
    <a:documentation>Form: &lt;form&gt;</a:documentation>
    <element name="form">
      <interleave>
        <ref name="form.inner"/>
        <ref name="form.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="form.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <ref name="form.attrs.action"/>
      </optional>
      <optional>
        <!-- REVISIT Should this be required anyway? -->
        <ref name="form.attrs.method"/>
      </optional>
      <optional>
        <ref name="form.attrs.enctype"/>
      </optional>
      <optional>
        <ref name="common-form.attrs.name"/>
      </optional>
      <optional>
        <ref name="form.attrs.accept-charset"/>
      </optional>
      <optional>
        <choice>
          <ref name="common.attrs.aria.implicit.form"/>
          <ref name="common.attrs.aria.landmark.form"/>
          <ref name="common.attrs.aria.landmark.search"/>
          <ref name="common.attrs.aria.role.presentation"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="form.attrs.action">
    <attribute name="action">
      <ref name="common.data.uri.non-empty"/>
    </attribute>
  </define>
  <define name="form.attrs.method">
    <attribute name="method">
      <ref name="form.attrs.method.data"/>
    </attribute>
  </define>
  <define name="form.attrs.method.data">
    <choice>
      <value>get</value>
      <value>post</value>
      <value>dialog</value>
    </choice>
  </define>
  <define name="form.attrs.enctype">
    <attribute name="enctype">
      <ref name="form.attrs.enctype.data"/>
    </attribute>
  </define>
  <define name="form.attrs.enctype.data">
    <choice>
      <value>application/x-www-form-urlencoded</value>
      <value>multipart/form-data</value>
    </choice>
  </define>
  <define name="form.attrs.accept-charset">
    <attribute name="accept-charset">
      <data type="string"/>
    </attribute>
  </define>
  <define name="form.inner">
    <ref name="common.inner.flow"/>
  </define>
  <define name="common.elem.flow" combine="choice">
    <ref name="form.elem"/>
  </define>
  <define name="fieldset.elem">
    <a:documentation>Fieldset: &lt;fieldset&gt;</a:documentation>
    <element name="fieldset">
      <interleave>
        <ref name="fieldset.inner"/>
        <ref name="fieldset.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="fieldset.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <choice>
          <ref name="common.attrs.aria.implicit.group"/>
          <ref name="common.attrs.aria.role.group"/>
          <ref name="common.attrs.aria.role.radiogroup"/>
          <ref name="common.attrs.aria.role.presentation"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="fieldset.inner">
    <optional>
      <ref name="legend.elem"/>
    </optional>
    <ref name="common.inner.flow"/>
  </define>
  <define name="common.elem.flow" combine="choice">
    <ref name="fieldset.elem"/>
  </define>
  <define name="label.elem">
    <a:documentation>Label: &lt;label&gt;</a:documentation>
    <element name="label">
      <interleave>
        <ref name="label.inner"/>
        <ref name="label.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="label.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <ref name="label.attrs.for"/>
      </optional>
    </interleave>
  </define>
  <define name="label.attrs.for">
    <attribute name="for">
      <ref name="common.data.idref"/>
    </attribute>
  </define>
  <define name="label.inner">
    <ref name="common.inner.phrasing"/>
  </define>
  <!-- REVISIT making obvious guess -->
  <define name="common.elem.phrasing" combine="choice">
    <ref name="label.elem"/>
  </define>
  <!-- Inlined from web-forms2.rng -->
<!-- ##################################################################### -->
  <define name="common-form.attrs" combine="interleave">
    <a:documentation> RELAX NG Schema for HTML 5: Web Forms 2.0 markup                  #</a:documentation>
    <!-- ##################################################################### -->
    <a:documentation>Shared attributes for form controls</a:documentation>
    <optional>
      <ref name="common-form.attrs.form"/>
    </optional>
  </define>
  <define name="common-form.attrs.form" combine="choice">
    <attribute name="form">
      <ref name="common.data.idref"/>
    </attribute>
  </define>
  <define name="shared-form.attrs.formaction">
    <attribute name="formaction">
      <ref name="common.data.uri.non-empty"/>
    </attribute>
  </define>
  <define name="shared-form.attrs.formenctype">
    <attribute name="formenctype">
      <ref name="shared-form.attrs.formenctype.data"/>
    </attribute>
  </define>
  <define name="shared-form.attrs.formenctype.data">
    <choice>
      <value>application/x-www-form-urlencoded</value>
      <value>multipart/form-data</value>
      <value>text/plain</value>
    </choice>
  </define>
  <define name="shared-form.attrs.formmethod">
    <attribute name="formmethod">
      <ref name="shared-form.attrs.formmethod.data"/>
    </attribute>
  </define>
  <define name="shared-form.attrs.formmethod.data">
    <choice>
      <value>get</value>
      <value>post</value>
      <value>dialog</value>
    </choice>
  </define>
  <define name="shared-form.attrs.formtarget">
    <attribute name="formtarget">
      <ref name="common.data.browsing-context-or-keyword"/>
    </attribute>
  </define>
  <define name="shared-form.attrs.formnovalidate">
    <attribute name="formnovalidate">
      <choice>
        <value>formnovalidate</value>
        <value/>
      </choice>
    </attribute>
  </define>
  <define name="shared-form.attrs.pattern">
    <attribute name="pattern">
      <ref name="form.data.pattern"/>
    </attribute>
  </define>
  <define name="shared-form.attrs.template">
    <attribute name="template">
      <ref name="common.data.idref"/>
    </attribute>
  </define>
  <define name="shared-form.attrs.required">
    <attribute name="required">
      <choice>
        <value>required</value>
        <value/>
      </choice>
    </attribute>
  </define>
  <define name="shared-form.attrs.placeholder">
    <attribute name="placeholder">
      <ref name="form.data.stringwithoutlinebreaks"/>
    </attribute>
  </define>
  <define name="shared-form.attrs.dirname">
    <attribute name="dirname">
      <ref name="form.data.nonemptystring"/>
    </attribute>
  </define>
  <define name="shared-form.attrs.minlength">
    <attribute name="minlength">
      <ref name="common.data.integer.non-negative"/>
    </attribute>
  </define>
  <define name="shared-input-no-size.attrs">
    <a:documentation>Shared attributes for &lt;input&gt;</a:documentation>
    <interleave>
      <optional>
        <ref name="input.attrs.autocomplete"/>
      </optional>
      <optional>
        <ref name="input.attrs.list"/>
      </optional>
      <optional>
        <ref name="shared-form.attrs.maxlength"/>
      </optional>
      <optional>
        <ref name="shared-form.attrs.minlength"/>
      </optional>
      <optional>
        <ref name="shared-form.attrs.pattern"/>
      </optional>
      <optional>
        <ref name="shared-form.attrs.placeholder"/>
      </optional>
      <optional>
        <ref name="aria.prop.placeholder"/>
      </optional>
      <optional>
        <ref name="shared-form.attrs.readonly"/>
      </optional>
      <optional>
        <ref name="shared-form.attrs.required"/>
      </optional>
    </interleave>
  </define>
  <define name="shared-input-no-list.attrs">
    <interleave>
      <optional>
        <ref name="input.attrs.autocomplete"/>
      </optional>
      <optional>
        <ref name="shared-form.attrs.maxlength"/>
      </optional>
      <optional>
        <ref name="shared-form.attrs.minlength"/>
      </optional>
      <optional>
        <ref name="shared-form.attrs.pattern"/>
      </optional>
      <optional>
        <ref name="shared-form.attrs.placeholder"/>
      </optional>
      <optional>
        <ref name="aria.prop.placeholder"/>
      </optional>
      <optional>
        <ref name="shared-form.attrs.readonly"/>
      </optional>
      <optional>
        <ref name="shared-form.attrs.required"/>
      </optional>
      <optional>
        <ref name="shared-form.attrs.size"/>
      </optional>
    </interleave>
  </define>
  <define name="shared-input.attrs">
    <interleave>
      <ref name="shared-input-no-size.attrs"/>
      <optional>
        <ref name="shared-form.attrs.size"/>
      </optional>
    </interleave>
  </define>
  <define name="input.attrs.list">
    <attribute name="list">
      <ref name="common.data.idref"/>
    </attribute>
  </define>
  <define name="input.attrs.step.float">
    <attribute name="step">
      <choice>
        <value>any</value>
        <ref name="common.data.float.positive"/>
      </choice>
    </attribute>
  </define>
  <define name="input.attrs.step.integer">
    <attribute name="step">
      <choice>
        <value>any</value>
        <ref name="common.data.integer.positive"/>
      </choice>
    </attribute>
  </define>
  <define name="input.attrs.multiple">
    <attribute name="multiple">
      <choice>
        <value>multiple</value>
        <value/>
      </choice>
    </attribute>
  </define>
  <define name="input.attrs.autocomplete.any">
    <a:documentation>autocomplete</a:documentation>
    <attribute name="autocomplete">
      <choice>
        <value>on</value>
        <value>off</value>
        <ref name="common.data.autocomplete.any"/>
      </choice>
    </attribute>
  </define>
  <define name="input.attrs.autocomplete">
    <attribute name="autocomplete">
      <data type="string"/>
    </attribute>
  </define>
  <define name="input.hidden.attrs" combine="interleave">
    <a:documentation>Hidden String: &lt;input type='hidden'&gt;, Extensions</a:documentation>
    <optional>
      <ref name="input.attrs.autocomplete"/>
    </optional>
  </define>
  <define name="input.text.attrs" combine="interleave">
    <a:documentation>Text Field: &lt;input type='text'&gt;, Extensions</a:documentation>
    <interleave>
      <optional>
        <ref name="input.attrs.autocomplete"/>
      </optional>
      <optional>
        <ref name="shared-form.attrs.dirname"/>
      </optional>
      <optional>
        <ref name="input.attrs.list"/>
      </optional>
      <optional>
        <ref name="shared-form.attrs.pattern"/>
      </optional>
      <optional>
        <ref name="shared-form.attrs.required"/>
      </optional>
      <optional>
        <ref name="shared-form.attrs.placeholder"/>
      </optional>
      <optional>
        <ref name="aria.prop.placeholder"/>
      </optional>
      <optional>
        <ref name="shared-form.attrs.minlength"/>
      </optional>
    </interleave>
  </define>
  <define name="input.password.attrs" combine="interleave">
    <a:documentation>Password Field: &lt;input type='password'&gt;, Extensions</a:documentation>
    <interleave>
      <optional>
        <ref name="input.attrs.autocomplete"/>
      </optional>
      <optional>
        <ref name="input.attrs.list"/>
      </optional>
      <optional>
        <ref name="shared-form.attrs.pattern"/>
      </optional>
      <optional>
        <ref name="shared-form.attrs.placeholder"/>
      </optional>
      <optional>
        <ref name="aria.prop.placeholder"/>
      </optional>
      <optional>
        <ref name="shared-form.attrs.required"/>
      </optional>
      <optional>
        <ref name="aria.prop.required"/>
      </optional>
      <optional>
        <ref name="shared-form.attrs.minlength"/>
      </optional>
    </interleave>
  </define>
  <define name="input.checkbox.attrs" combine="interleave">
    <a:documentation>Checkbox &lt;input type='checkbox'&gt;, Extensions</a:documentation>
    <interleave>
      <ref name="shared-input.attrs"/>
      <optional>
        <ref name="aria.prop.required"/>
      </optional>
    </interleave>
  </define>
  <define name="input.radio.attrs" combine="interleave">
    <a:documentation>Radiobutton: &lt;input type='radio'&gt;, Extensions</a:documentation>
    <interleave>
      <ref name="shared-input.attrs"/>
      <optional>
        <ref name="aria.prop.required"/>
      </optional>
    </interleave>
  </define>
  <define name="input.button.attrs" combine="interleave">
    <a:documentation>Scripting Hook Button: &lt;input type='button'&gt;, Extensions</a:documentation>
    <ref name="shared-input.attrs"/>
  </define>
  <define name="input.submit.attrs" combine="interleave">
    <a:documentation>Submit Button: &lt;input type='submit'&gt;, Extensions</a:documentation>
    <interleave>
      <ref name="shared-input.attrs"/>
      <optional>
        <ref name="shared-form.attrs.formaction"/>
      </optional>
      <optional>
        <ref name="shared-form.attrs.formenctype"/>
      </optional>
      <optional>
        <ref name="shared-form.attrs.formmethod"/>
      </optional>
      <optional>
        <ref name="shared-form.attrs.formtarget"/>
      </optional>
      <optional>
        <ref name="shared-form.attrs.formnovalidate"/>
      </optional>
    </interleave>
  </define>
  <define name="input.reset.attrs" combine="interleave">
    <a:documentation>Reset Button: &lt;input type='reset'&gt;, Extensions</a:documentation>
    <ref name="shared-input.attrs"/>
  </define>
  <define name="input.file.attrs" combine="interleave">
    <a:documentation>File Upload: &lt;input type='file'&gt;, Extensions</a:documentation>
    <interleave>
      <ref name="shared-input.attrs"/>
      <optional>
        <ref name="input.attrs.multiple"/>
      </optional>
      <optional>
        <ref name="aria.prop.required"/>
      </optional>
      <optional>
        <ref name="input.input.attrs.capture"/>
      </optional>
    </interleave>
  </define>
  <define name="input.input.attrs.capture">
    <attribute name="capture">
      <choice>
        <value>user</value>
        <value>environment</value>
      </choice>
    </attribute>
  </define>
  <define name="input.image.attrs" combine="interleave">
    <a:documentation>Image Submit Button: &lt;input type='image'&gt;, Extensions</a:documentation>
    <interleave>
      <ref name="shared-input.attrs"/>
      <optional>
        <ref name="shared-form.attrs.formaction"/>
      </optional>
      <optional>
        <ref name="shared-form.attrs.formenctype"/>
      </optional>
      <optional>
        <ref name="shared-form.attrs.formmethod"/>
      </optional>
      <optional>
        <ref name="shared-form.attrs.formtarget"/>
      </optional>
      <optional>
        <ref name="shared-form.attrs.formnovalidate"/>
      </optional>
      <optional>
        <ref name="input.image.attrs.height"/>
      </optional>
      <optional>
        <ref name="input.image.attrs.width"/>
      </optional>
    </interleave>
  </define>
  <define name="input.image.attrs.height">
    <attribute name="height">
      <ref name="common.data.integer.non-negative"/>
    </attribute>
  </define>
  <define name="input.image.attrs.width">
    <attribute name="width">
      <ref name="common.data.integer.non-negative"/>
    </attribute>
  </define>
  <define name="input.datetime-local.elem">
    <a:documentation>Date and Time with No Time Zone Information: &lt;input type='datetime-local'&gt;</a:documentation>
    <element name="input">
      <ref name="input.datetime-local.attrs"/>
    </element>
  </define>
  <define name="input.datetime-local.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <ref name="common-form.attrs"/>
      <ref name="shared-input.attrs"/>
      <ref name="input.datetime-local.attrs.type"/>
      <optional>
        <ref name="input.datetime-local.attrs.min"/>
      </optional>
      <optional>
        <ref name="aria.prop.valuemin"/>
      </optional>
      <optional>
        <ref name="input.datetime-local.attrs.max"/>
      </optional>
      <optional>
        <ref name="aria.prop.valuemax"/>
      </optional>
      <optional>
        <ref name="input.attrs.step.float"/>
      </optional>
      <optional>
        <ref name="aria.prop.required"/>
      </optional>
      <optional>
        <ref name="input.datetime-local.attrs.value"/>
      </optional>
    </interleave>
  </define>
  <define name="input.datetime-local.attrs.type">
    <attribute name="type">
      <value>datetime-local</value>
    </attribute>
  </define>
  <define name="input.datetime-local.attrs.min">
    <attribute name="min">
      <ref name="form.data.datetime-local"/>
    </attribute>
  </define>
  <define name="input.datetime-local.attrs.max">
    <attribute name="max">
      <ref name="form.data.datetime-local"/>
    </attribute>
  </define>
  <define name="input.datetime-local.attrs.value">
    <attribute name="value">
      <choice>
        <value/>
        <ref name="form.data.datetime-local"/>
      </choice>
    </attribute>
  </define>
  <define name="input.elem" combine="choice">
    <ref name="input.datetime-local.elem"/>
  </define>
  <define name="input.date.elem">
    <a:documentation>Date: &lt;input type='date'&gt;</a:documentation>
    <element name="input">
      <ref name="input.date.attrs"/>
    </element>
  </define>
  <define name="input.date.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <ref name="common-form.attrs"/>
      <ref name="shared-input.attrs"/>
      <ref name="input.date.attrs.type"/>
      <optional>
        <ref name="input.date.attrs.min"/>
      </optional>
      <optional>
        <ref name="aria.prop.valuemin"/>
      </optional>
      <optional>
        <ref name="input.date.attrs.max"/>
      </optional>
      <optional>
        <ref name="aria.prop.valuemax"/>
      </optional>
      <optional>
        <ref name="aria.prop.required"/>
      </optional>
      <optional>
        <ref name="input.attrs.step.integer"/>
      </optional>
      <optional>
        <ref name="input.date.attrs.value"/>
      </optional>
    </interleave>
  </define>
  <define name="input.date.attrs.type">
    <attribute name="type">
      <value>date</value>
    </attribute>
  </define>
  <define name="input.date.attrs.min">
    <attribute name="min">
      <ref name="form.data.date"/>
    </attribute>
  </define>
  <define name="input.date.attrs.max">
    <attribute name="max">
      <ref name="form.data.date"/>
    </attribute>
  </define>
  <define name="input.date.attrs.value">
    <attribute name="value">
      <choice>
        <value/>
        <ref name="form.data.date"/>
      </choice>
    </attribute>
  </define>
  <define name="input.elem" combine="choice">
    <ref name="input.date.elem"/>
  </define>
  <define name="input.month.elem">
    <a:documentation>Year and Month: &lt;input type='month'&gt;</a:documentation>
    <element name="input">
      <ref name="input.month.attrs"/>
    </element>
  </define>
  <define name="input.month.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <ref name="common-form.attrs"/>
      <ref name="shared-input.attrs"/>
      <ref name="input.month.attrs.type"/>
      <optional>
        <ref name="input.month.attrs.min"/>
      </optional>
      <optional>
        <ref name="aria.prop.valuemin"/>
      </optional>
      <optional>
        <ref name="input.month.attrs.max"/>
      </optional>
      <optional>
        <ref name="aria.prop.valuemax"/>
      </optional>
      <optional>
        <ref name="aria.prop.required"/>
      </optional>
      <optional>
        <ref name="input.attrs.step.integer"/>
      </optional>
      <optional>
        <ref name="input.month.attrs.value"/>
      </optional>
    </interleave>
  </define>
  <define name="input.month.attrs.type">
    <attribute name="type">
      <value>month</value>
    </attribute>
  </define>
  <define name="input.month.attrs.min">
    <attribute name="min">
      <ref name="form.data.month"/>
    </attribute>
  </define>
  <define name="input.month.attrs.max">
    <attribute name="max">
      <ref name="form.data.month"/>
    </attribute>
  </define>
  <define name="input.month.attrs.value">
    <attribute name="value">
      <choice>
        <value/>
        <ref name="form.data.month"/>
      </choice>
    </attribute>
  </define>
  <define name="input.elem" combine="choice">
    <ref name="input.month.elem"/>
  </define>
  <define name="input.time.elem">
    <a:documentation>Time without Time Zone Information: &lt;input type='time'&gt;</a:documentation>
    <element name="input">
      <ref name="input.time.attrs"/>
    </element>
  </define>
  <define name="input.time.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <ref name="common-form.attrs"/>
      <ref name="shared-input.attrs"/>
      <ref name="input.time.attrs.type"/>
      <optional>
        <ref name="input.time.attrs.min"/>
      </optional>
      <optional>
        <ref name="aria.prop.valuemin"/>
      </optional>
      <optional>
        <ref name="input.time.attrs.max"/>
      </optional>
      <optional>
        <ref name="aria.prop.valuemax"/>
      </optional>
      <optional>
        <ref name="aria.prop.required"/>
      </optional>
      <optional>
        <ref name="input.attrs.step.float"/>
      </optional>
      <optional>
        <ref name="input.time.attrs.value"/>
      </optional>
    </interleave>
  </define>
  <define name="input.time.attrs.type">
    <attribute name="type">
      <value>time</value>
    </attribute>
  </define>
  <define name="input.time.attrs.min">
    <attribute name="min">
      <ref name="form.data.time"/>
    </attribute>
  </define>
  <define name="input.time.attrs.max">
    <attribute name="max">
      <ref name="form.data.time"/>
    </attribute>
  </define>
  <define name="input.time.attrs.value">
    <attribute name="value">
      <choice>
        <value/>
        <ref name="form.data.time"/>
      </choice>
    </attribute>
  </define>
  <define name="input.elem" combine="choice">
    <ref name="input.time.elem"/>
  </define>
  <define name="input.week.elem">
    <a:documentation>Year and Week: &lt;input type='week'&gt;</a:documentation>
    <element name="input">
      <ref name="input.week.attrs"/>
    </element>
  </define>
  <define name="input.week.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <ref name="common-form.attrs"/>
      <ref name="shared-input.attrs"/>
      <ref name="input.week.attrs.type"/>
      <optional>
        <ref name="input.week.attrs.min"/>
      </optional>
      <optional>
        <ref name="aria.prop.valuemin"/>
      </optional>
      <optional>
        <ref name="input.week.attrs.max"/>
      </optional>
      <optional>
        <ref name="aria.prop.valuemax"/>
      </optional>
      <optional>
        <ref name="aria.prop.required"/>
      </optional>
      <optional>
        <ref name="input.attrs.step.integer"/>
      </optional>
      <optional>
        <ref name="input.week.attrs.value"/>
      </optional>
    </interleave>
  </define>
  <define name="input.week.attrs.type">
    <attribute name="type">
      <value>week</value>
    </attribute>
  </define>
  <define name="input.week.attrs.min">
    <attribute name="min">
      <ref name="form.data.week"/>
    </attribute>
  </define>
  <define name="input.week.attrs.max">
    <attribute name="max">
      <ref name="form.data.week"/>
    </attribute>
  </define>
  <define name="input.week.attrs.value">
    <attribute name="value">
      <choice>
        <value/>
        <ref name="form.data.week"/>
      </choice>
    </attribute>
  </define>
  <define name="input.elem" combine="choice">
    <ref name="input.week.elem"/>
  </define>
  <define name="input.number.elem">
    <a:documentation>Number: &lt;input type='number'&gt;</a:documentation>
    <element name="input">
      <ref name="input.number.attrs"/>
    </element>
  </define>
  <define name="input.number.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <ref name="common-form.attrs"/>
      <ref name="shared-input-no-size.attrs"/>
      <ref name="input.number.attrs.type"/>
      <optional>
        <ref name="input.number.attrs.min"/>
      </optional>
      <optional>
        <ref name="input.number.attrs.max"/>
      </optional>
      <optional>
        <ref name="input.attrs.step.float"/>
      </optional>
      <optional>
        <ref name="input.number.attrs.value"/>
      </optional>
      <optional>
        <choice>
          <ref name="common.attrs.aria.implicit.spinbutton"/>
          <ref name="common.attrs.aria.role.spinbutton"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="input.number.attrs.type">
    <attribute name="type">
      <value>number</value>
    </attribute>
  </define>
  <define name="input.number.attrs.min">
    <attribute name="min">
      <ref name="common.data.float"/>
    </attribute>
  </define>
  <define name="input.number.attrs.max">
    <attribute name="max">
      <ref name="common.data.float"/>
    </attribute>
  </define>
  <define name="input.number.attrs.value">
    <attribute name="value">
      <choice>
        <value/>
        <ref name="common.data.float"/>
      </choice>
    </attribute>
  </define>
  <define name="input.elem" combine="choice">
    <ref name="input.number.elem"/>
  </define>
  <define name="input.range.elem">
    <a:documentation>Imprecise Number: &lt;input type='range'&gt;</a:documentation>
    <element name="input">
      <ref name="input.range.attrs"/>
    </element>
  </define>
  <define name="input.range.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <ref name="common-form.attrs"/>
      <ref name="shared-input-no-size.attrs"/>
      <ref name="input.range.attrs.type"/>
      <optional>
        <ref name="input.range.attrs.min"/>
      </optional>
      <optional>
        <ref name="input.range.attrs.max"/>
      </optional>
      <optional>
        <ref name="input.attrs.step.float"/>
      </optional>
      <optional>
        <ref name="input.range.attrs.value"/>
      </optional>
      <optional>
        <choice>
          <ref name="common.attrs.aria.implicit.slider"/>
          <ref name="common.attrs.aria.role.slider"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="input.range.attrs.type">
    <attribute name="type">
      <value>range</value>
    </attribute>
  </define>
  <define name="input.range.attrs.min">
    <attribute name="min">
      <ref name="common.data.float"/>
    </attribute>
  </define>
  <define name="input.range.attrs.max">
    <attribute name="max">
      <ref name="common.data.float"/>
    </attribute>
  </define>
  <define name="input.range.attrs.value">
    <attribute name="value">
      <ref name="common.data.float"/>
    </attribute>
  </define>
  <define name="input.elem" combine="choice">
    <ref name="input.range.elem"/>
  </define>
  <define name="input.email.elem">
    <a:documentation>Email Address: &lt;input type='email'&gt;</a:documentation>
    <element name="input">
      <ref name="input.email.attrs"/>
    </element>
  </define>
  <define name="input.email.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <ref name="common-form.attrs"/>
      <ref name="shared-input-no-list.attrs"/>
      <ref name="input.email.attrs.type"/>
      <optional>
        <choice>
          <interleave>
            <ref name="input.attrs.multiple"/>
            <optional>
              <ref name="input.email.attrs.value.multiple"/>
            </optional>
          </interleave>
          <optional>
            <ref name="input.email.attrs.value.single"/>
          </optional>
        </choice>
      </optional>
      <choice>
        <optional>
          <choice>
            <ref name="common.attrs.aria.implicit.textbox"/>
            <ref name="common.attrs.aria.role.textbox"/>
          </choice>
        </optional>
        <optional>
          <interleave>
            <ref name="input.attrs.list"/>
            <optional>
              <choice>
                <ref name="common.attrs.aria.implicit.combobox"/>
                <ref name="common.attrs.aria.role.combobox"/>
              </choice>
            </optional>
          </interleave>
        </optional>
      </choice>
    </interleave>
  </define>
  <define name="input.email.attrs.type">
    <attribute name="type">
      <value>email</value>
    </attribute>
  </define>
  <define name="input.email.attrs.value.single">
    <attribute name="value">
      <ref name="form.data.emailaddress"/>
    </attribute>
  </define>
  <define name="input.email.attrs.value.multiple">
    <attribute name="value">
      <ref name="form.data.emailaddresslist"/>
    </attribute>
  </define>
  <define name="input.elem" combine="choice">
    <ref name="input.email.elem"/>
  </define>
  <define name="input.url.elem">
    <a:documentation>IRI: &lt;input type='url'&gt;</a:documentation>
    <element name="input">
      <ref name="input.url.attrs"/>
    </element>
  </define>
  <define name="input.url.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <ref name="common-form.attrs"/>
      <ref name="shared-input-no-list.attrs"/>
      <ref name="input.url.attrs.type"/>
      <optional>
        <ref name="input.url.attrs.value"/>
      </optional>
      <choice>
        <optional>
          <choice>
            <ref name="common.attrs.aria.implicit.textbox"/>
            <ref name="common.attrs.aria.role.textbox"/>
          </choice>
        </optional>
        <optional>
          <interleave>
            <ref name="input.attrs.list"/>
            <optional>
              <choice>
                <ref name="common.attrs.aria.implicit.combobox"/>
                <ref name="common.attrs.aria.role.combobox"/>
              </choice>
            </optional>
          </interleave>
        </optional>
      </choice>
    </interleave>
  </define>
  <define name="input.url.attrs.type">
    <attribute name="type">
      <value>url</value>
    </attribute>
  </define>
  <define name="input.url.attrs.value">
    <attribute name="value">
      <choice>
        <value/>
        <ref name="common.data.uri.absolute"/>
      </choice>
    </attribute>
  </define>
  <define name="input.elem" combine="choice">
    <ref name="input.url.elem"/>
  </define>
  <define name="input.search.elem">
    <a:documentation>Search: &lt;input type='search'&gt;</a:documentation>
    <element name="input">
      <ref name="input.search.attrs"/>
    </element>
  </define>
  <define name="input.search.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <ref name="common-form.attrs"/>
      <ref name="shared-input.attrs"/>
      <ref name="input.search.attrs.type"/>
      <optional>
        <ref name="input.search.attrs.value"/>
      </optional>
      <optional>
        <ref name="shared-form.attrs.dirname"/>
      </optional>
      <optional>
        <choice>
          <ref name="common.attrs.aria.implicit.searchbox"/>
          <ref name="common.attrs.aria.role.searchbox"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="input.search.attrs.type">
    <attribute name="type">
      <value>search</value>
    </attribute>
  </define>
  <define name="input.search.attrs.value">
    <attribute name="value">
      <ref name="form.data.stringwithoutlinebreaks"/>
    </attribute>
  </define>
  <define name="input.elem" combine="choice">
    <ref name="input.search.elem"/>
  </define>
  <define name="input.tel.elem">
    <a:documentation>Telephone Number: &lt;input type='tel'&gt;</a:documentation>
    <element name="input">
      <ref name="input.tel.attrs"/>
    </element>
  </define>
  <define name="input.tel.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <ref name="common-form.attrs"/>
      <ref name="shared-input-no-list.attrs"/>
      <ref name="input.tel.attrs.type"/>
      <optional>
        <ref name="input.tel.attrs.value"/>
      </optional>
      <choice>
        <optional>
          <choice>
            <ref name="common.attrs.aria.implicit.textbox"/>
            <ref name="common.attrs.aria.role.textbox"/>
          </choice>
        </optional>
        <optional>
          <interleave>
            <ref name="input.attrs.list"/>
            <optional>
              <choice>
                <ref name="common.attrs.aria.implicit.combobox"/>
                <ref name="common.attrs.aria.role.combobox"/>
              </choice>
            </optional>
          </interleave>
        </optional>
      </choice>
    </interleave>
  </define>
  <define name="input.tel.attrs.type">
    <attribute name="type">
      <value>tel</value>
    </attribute>
  </define>
  <define name="input.tel.attrs.value">
    <attribute name="value">
      <ref name="form.data.stringwithoutlinebreaks"/>
    </attribute>
  </define>
  <define name="input.elem" combine="choice">
    <ref name="input.tel.elem"/>
  </define>
  <define name="input.color.elem">
    <a:documentation>Color: &lt;input type='color'&gt;</a:documentation>
    <element name="input">
      <ref name="input.color.attrs"/>
    </element>
  </define>
  <define name="input.color.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <ref name="common-form.attrs"/>
      <ref name="input.color.attrs.type"/>
      <optional>
        <ref name="input.color.attrs.value"/>
      </optional>
      <ref name="shared-input.attrs"/>
    </interleave>
  </define>
  <define name="input.color.attrs.type">
    <attribute name="type">
      <value>color</value>
    </attribute>
  </define>
  <define name="input.color.attrs.value">
    <attribute name="value">
      <choice>
        <value/>
        <ref name="form.data.color"/>
      </choice>
    </attribute>
  </define>
  <define name="input.elem" combine="choice">
    <ref name="input.color.elem"/>
  </define>
  <define name="output.elem">
    <a:documentation>Form Output: &lt;output&gt;</a:documentation>
    <element name="output">
      <interleave>
        <ref name="output.inner"/>
        <ref name="output.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="output.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <ref name="common-form.attrs.name"/>
      </optional>
      <optional>
        <ref name="common-form.attrs.form"/>
      </optional>
      <optional>
        <ref name="output.attrs.for"/>
      </optional>
      <optional>
        <choice>
          <ref name="common.attrs.aria.implicit.status"/>
          <ref name="common.attrs.aria"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="output.attrs.for">
    <attribute name="for">
      <ref name="common.data.idrefs"/>
      <!-- REVISIT spec says space- -not whitespace -->
    </attribute>
  </define>
  <define name="output.inner">
    <ref name="common.inner.phrasing"/>
  </define>
  <define name="common.elem.phrasing" combine="choice">
    <ref name="output.elem"/>
  </define>
  <define name="textarea.attrs.rows-and-cols-wf1.inner" combine="interleave">
    <a:documentation>Text Area: &lt;textarea&gt;, extensions</a:documentation>
    <notAllowed/>
  </define>
  <define name="textarea.attrs.rows-and-cols-wf1" combine="choice">
    <empty/>
  </define>
  <define name="textarea.attrs" combine="interleave">
    <interleave>
      <optional>
        <ref name="shared-form.attrs.maxlength"/>
      </optional>
      <optional>
        <ref name="shared-form.attrs.minlength"/>
      </optional>
      <optional>
        <ref name="shared-form.attrs.required"/>
      </optional>
      <optional>
        <ref name="textarea.attrs.placeholder"/>
      </optional>
      <optional>
        <ref name="aria.prop.placeholder"/>
      </optional>
      <optional>
        <ref name="shared-form.attrs.dirname"/>
      </optional>
      <optional>
        <ref name="textarea.attrs.rows"/>
      </optional>
      <choice>
        <interleave>
          <ref name="textarea.attrs.wrap.hard"/>
          <ref name="textarea.attrs.cols"/>
        </interleave>
        <interleave>
          <optional>
            <ref name="textarea.attrs.wrap.soft"/>
          </optional>
          <optional>
            <ref name="textarea.attrs.cols"/>
          </optional>
        </interleave>
      </choice>
      <optional>
        <ref name="input.attrs.autocomplete.any"/>
      </optional>
    </interleave>
  </define>
  <define name="textarea.attrs.wrap.hard">
    <attribute name="wrap">
      <value>hard</value>
    </attribute>
  </define>
  <define name="textarea.attrs.wrap.soft">
    <attribute name="wrap">
      <value>soft</value>
    </attribute>
  </define>
  <define name="textarea.attrs.placeholder">
    <attribute name="placeholder">
      <data type="string"/>
    </attribute>
  </define>
  <!-- REVISIT should the options in datalist be non-selectable? -->
  <define name="datalist.elem">
    <a:documentation>List of Prefill Data: &lt;datalist&gt;</a:documentation>
    <element name="datalist">
      <interleave>
        <ref name="datalist.inner"/>
        <ref name="datalist.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="datalist.inner">
    <interleave>
      <zeroOrMore>
        <ref name="option.elem"/>
      </zeroOrMore>
      <ref name="common.inner.phrasing"/>
    </interleave>
  </define>
  <define name="datalist.attrs">
    <ref name="common.attrs"/>
  </define>
  <define name="common.elem.phrasing" combine="choice">
    <ref name="datalist.elem"/>
  </define>
  <define name="button.submit.attrs" combine="interleave">
    <a:documentation>Complex Submit Button: &lt;button type='submit'&gt;, extensions</a:documentation>
    <interleave>
      <optional>
        <ref name="shared-form.attrs.formaction"/>
      </optional>
      <optional>
        <ref name="shared-form.attrs.formenctype"/>
      </optional>
      <optional>
        <ref name="shared-form.attrs.formmethod"/>
      </optional>
      <optional>
        <ref name="shared-form.attrs.formtarget"/>
      </optional>
      <optional>
        <ref name="shared-form.attrs.formnovalidate"/>
      </optional>
    </interleave>
  </define>
  <define name="form.attrs" combine="interleave">
    <a:documentation>Form: &lt;form&gt;, extensions</a:documentation>
    <interleave>
      <optional>
        <ref name="form.attrs.novalidate"/>
      </optional>
      <optional>
        <ref name="form.attrs.target"/>
      </optional>
      <optional>
        <ref name="form.attrs.autocomplete"/>
      </optional>
    </interleave>
  </define>
  <define name="form.attrs.novalidate">
    <attribute name="novalidate">
      <choice>
        <value>novalidate</value>
        <value/>
      </choice>
    </attribute>
  </define>
  <define name="form.attrs.target">
    <attribute name="target">
      <ref name="common.data.browsing-context-or-keyword"/>
    </attribute>
  </define>
  <define name="form.attrs.autocomplete">
    <attribute name="autocomplete">
      <choice>
        <value>on</value>
        <value>off</value>
      </choice>
    </attribute>
  </define>
  <!-- REVISIT should this be case-insensitive in conforming XHTML documents? -->
  <define name="form.attrs.enctype.data" combine="choice">
    <value>text/plain</value>
  </define>
  <define name="fieldset.attrs" combine="interleave">
    <a:documentation>Fieldset: &lt;fieldset&gt;, extensions</a:documentation>
    <ref name="common-form.attrs"/>
  </define>
  <define name="select.attrs" combine="interleave">
    <a:documentation>Selection Menu: &lt;select&gt;, Extensions</a:documentation>
    <interleave>
      <optional>
        <ref name="shared-form.attrs.required"/>
      </optional>
      <optional>
        <ref name="input.attrs.autocomplete.any"/>
      </optional>
    </interleave>
  </define>
  <!-- Inlined from applications.rng -->
<!-- ##################################################################### -->
  <define name="common.attrs.interact" combine="interleave">
    <a:documentation> RELAX NG Schema for HTML 5: Web Application Features              #</a:documentation>
    <!-- ##################################################################### -->
    <a:documentation>Additions to Common Attributes</a:documentation>
    <interleave>
      <optional>
        <ref name="common.attrs.contenteditable"/>
      </optional>
      <optional>
        <ref name="common.attrs.draggable"/>
      </optional>
      <optional>
        <ref name="common.attrs.hidden"/>
      </optional>
      <optional>
        <ref name="common.attrs.popover"/>
      </optional>
    </interleave>
  </define>
  <define name="common.attrs.other" combine="interleave">
    <ref name="common.attrs.interact"/>
  </define>
  <define name="common.attrs.contenteditable">
    <a:documentation>Editable Content: contenteditable</a:documentation>
    <attribute name="contenteditable">
      <choice>
        <value>true</value>
        <value>plaintext-only</value>
        <value>false</value>
        <value/>
      </choice>
    </attribute>
  </define>
  <define name="common.attrs.draggable">
    <a:documentation>Draggable Element: draggable</a:documentation>
    <attribute name="draggable">
      <choice>
        <value>true</value>
        <value>false</value>
      </choice>
    </attribute>
  </define>
  <define name="common.attrs.hidden">
    <a:documentation>Hidden Element: hidden</a:documentation>
    <attribute name="hidden">
      <choice>
        <value>hidden</value>
        <value>until-found</value>
        <value/>
      </choice>
    </attribute>
  </define>
  <define name="common.attrs.popover">
    <a:documentation>Popover Element: popover</a:documentation>
    <attribute name="popover">
      <choice>
        <value>auto</value>
        <value>manual</value>
        <value>hint</value>
        <value/>
      </choice>
    </attribute>
  </define>
  <define name="common.attrs.editing" combine="interleave">
    <a:documentation>Global attributes applicable on elements with editable content</a:documentation>
    <interleave>
      <optional>
        <ref name="common.attrs.inputmode"/>
      </optional>
      <optional>
        <ref name="common.attrs.spellcheck"/>
      </optional>
      <optional>
        <ref name="common.attrs.autocapitalize"/>
      </optional>
      <optional>
        <ref name="common.attrs.enterkeyhint"/>
      </optional>
    </interleave>
  </define>
  <define name="common.attrs.other" combine="interleave">
    <ref name="common.attrs.editing"/>
  </define>
  <define name="common.attrs.inputmode">
    <a:documentation>Hint expected data type: inputmode</a:documentation>
    <attribute name="inputmode">
      <choice>
        <value>none</value>
        <value>text</value>
        <value>tel</value>
        <value>url</value>
        <value>email</value>
        <value>numeric</value>
        <value>decimal</value>
        <value>search</value>
      </choice>
    </attribute>
  </define>
  <define name="common.attrs.spellcheck">
    <a:documentation>Spellchecking and grammar checking: spellcheck</a:documentation>
    <attribute name="spellcheck">
      <choice>
        <value>true</value>
        <value>false</value>
        <value/>
      </choice>
    </attribute>
  </define>
  <define name="common.attrs.autocapitalize">
    <a:documentation>Autocapitalization</a:documentation>
    <attribute name="autocapitalize">
      <choice>
        <value>off</value>
        <value>none</value>
        <value>on</value>
        <value>sentences</value>
        <value>words</value>
        <value>characters</value>
      </choice>
    </attribute>
  </define>
  <define name="common.attrs.enterkeyhint">
    <a:documentation>Type of Enter button on virtual keyboards: enterkeyhint</a:documentation>
    <attribute name="enterkeyhint">
      <choice>
        <value>enter</value>
        <value>done</value>
        <value>go</value>
        <value>next</value>
        <value>previous</value>
        <value>search</value>
        <value>send</value>
      </choice>
    </attribute>
  </define>
  <define name="progress.elem">
    <a:documentation>Progess Indicator: &lt;progress&gt;</a:documentation>
    <element name="progress">
      <interleave>
        <ref name="progress.inner"/>
        <ref name="progress.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="progress.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <ref name="progress.attrs.value"/>
      </optional>
      <optional>
        <ref name="progress.attrs.max"/>
      </optional>
      <optional>
        <choice>
          <ref name="common.attrs.aria.implicit.progressbar"/>
          <ref name="common.attrs.aria.role.progressbar"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="progress.attrs.value">
    <attribute name="value">
      <ref name="common.data.float.non-negative"/>
    </attribute>
  </define>
  <define name="progress.attrs.max">
    <attribute name="max">
      <ref name="common.data.float.positive"/>
    </attribute>
  </define>
  <define name="progress.inner">
    <ref name="common.inner.phrasing"/>
  </define>
  <!-- Cannot enforce textContent format here -->
  <define name="common.elem.phrasing" combine="choice">
    <ref name="progress.elem"/>
  </define>
  <define name="dialog.elem">
    <a:documentation>Dialog box, inspector, or window: &lt;dialog&gt;</a:documentation>
    <element name="dialog">
      <interleave>
        <ref name="dialog.inner"/>
        <ref name="dialog.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="dialog.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <ref name="dialog.attrs.open"/>
      </optional>
      <optional>
        <choice>
          <ref name="common.attrs.aria.implicit.dialog"/>
          <ref name="common.attrs.aria.role.alertdialog"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="dialog.attrs.open">
    <attribute name="open">
      <choice>
        <value>open</value>
        <value/>
      </choice>
    </attribute>
  </define>
  <define name="dialog.inner">
    <ref name="common.inner.flow"/>
  </define>
  <define name="common.elem.flow" combine="choice">
    <ref name="dialog.elem"/>
  </define>
  <define name="menu.elem">
    <a:documentation>Toolbar: &lt;menu&gt;</a:documentation>
    <element name="menu">
      <interleave>
        <ref name="menu.inner"/>
        <ref name="menu.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="menu.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <choice>
          <ref name="common.attrs.aria.implicit.list"/>
          <ref name="common.attrs.aria.role.directory"/>
          <ref name="common.attrs.aria.role.group"/>
          <ref name="common.attrs.aria.role.list"/>
          <ref name="common.attrs.aria.role.listbox"/>
          <ref name="common.attrs.aria.role.menu"/>
          <ref name="common.attrs.aria.role.menubar"/>
          <ref name="common.attrs.aria.role.radiogroup"/>
          <ref name="common.attrs.aria.role.tablist"/>
          <ref name="common.attrs.aria.role.toolbar"/>
          <ref name="common.attrs.aria.role.tree"/>
          <ref name="common.attrs.aria.role.presentation"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="menu.inner">
    <interleave>
      <zeroOrMore>
        <ref name="mli.elem"/>
      </zeroOrMore>
      <zeroOrMore>
        <ref name="common.elem.script-supporting"/>
      </zeroOrMore>
    </interleave>
  </define>
  <define name="common.elem.flow" combine="choice">
    <ref name="menu.elem"/>
  </define>
  <define name="mli.elem">
    <a:documentation>Toolbar item: &lt;li&gt;</a:documentation>
    <element name="li">
      <interleave>
        <ref name="mli.inner"/>
        <ref name="mli.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="mli.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <choice>
          <ref name="common.attrs.aria.role.listitem"/>
          <ref name="common.attrs.aria.role.menuitem"/>
          <ref name="common.attrs.aria.role.menuitemcheckbox"/>
          <ref name="common.attrs.aria.role.menuitemradio"/>
          <ref name="common.attrs.aria.role.option"/>
          <ref name="common.attrs.aria.role.tab"/>
          <ref name="common.attrs.aria.role.treeitem"/>
          <ref name="common.attrs.aria.role.presentation"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="mli.inner">
    <ref name="common.inner.flow"/>
  </define>
  <define name="canvas.elem.flow">
    <a:documentation>Canvas for Dynamic Graphics: &lt;canvas&gt;</a:documentation>
    <element name="canvas">
      <interleave>
        <ref name="canvas.inner.flow"/>
        <ref name="canvas.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="canvas.elem.phrasing">
    <element name="canvas">
      <interleave>
        <ref name="canvas.inner.phrasing"/>
        <ref name="canvas.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="canvas.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <ref name="canvas.attrs.height"/>
      </optional>
      <optional>
        <ref name="canvas.attrs.width"/>
      </optional>
      <optional>
        <ref name="common.attrs.aria"/>
      </optional>
    </interleave>
  </define>
  <define name="canvas.attrs.height">
    <attribute name="height">
      <ref name="common.data.integer.non-negative"/>
    </attribute>
  </define>
  <define name="canvas.attrs.width">
    <attribute name="width">
      <ref name="common.data.integer.non-negative"/>
    </attribute>
  </define>
  <define name="canvas.inner.flow">
    <ref name="common.inner.transparent.flow"/>
  </define>
  <define name="canvas.inner.phrasing">
    <ref name="common.inner.phrasing"/>
  </define>
  <define name="common.elem.flow" combine="choice">
    <ref name="canvas.elem.flow"/>
  </define>
  <define name="common.elem.phrasing" combine="choice">
    <ref name="canvas.elem.phrasing"/>
  </define>
  <define name="details.elem">
    <a:documentation>Additional On-Demand Information: &lt;details&gt;</a:documentation>
    <element name="details">
      <interleave>
        <ref name="details.inner"/>
        <ref name="details.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="details.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <ref name="details.attrs.open"/>
      </optional>
      <optional>
        <choice>
          <ref name="common.attrs.aria.implicit.group"/>
          <!-- aria-expanded must be true if open attr present; check by assertions -->
          <ref name="common.attrs.aria.role.group"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="details.attrs.open">
    <attribute name="open">
      <choice>
        <value>open</value>
        <value/>
      </choice>
    </attribute>
  </define>
  <define name="details.inner">
    <ref name="summary.elem"/>
    <ref name="common.inner.flow"/>
  </define>
  <define name="common.elem.flow" combine="choice">
    <ref name="details.elem"/>
  </define>
  <define name="summary.elem">
    <a:documentation>Caption/summary for details element: &lt;summary&gt;</a:documentation>
    <element name="summary">
      <interleave>
        <ref name="summary.inner"/>
        <ref name="summary.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="summary.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <choice>
          <ref name="common.attrs.aria.implicit.button"/>
          <ref name="common.attrs.aria.role.button"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="summary.inner">
    <interleave>
      <ref name="common.inner.phrasing"/>
      <optional>
        <ref name="h1.elem"/>
      </optional>
      <optional>
        <ref name="h2.elem"/>
      </optional>
      <optional>
        <ref name="h3.elem"/>
      </optional>
      <optional>
        <ref name="h4.elem"/>
      </optional>
      <optional>
        <ref name="h5.elem"/>
      </optional>
      <optional>
        <ref name="h6.elem"/>
      </optional>
      <optional>
        <ref name="hgroup.elem"/>
      </optional>
    </interleave>
  </define>
  <!-- Inlined from data.rng -->
<!-- ##################################################################### -->
  <define name="time.elem">
    <a:documentation> RELAX NG Schema for HTML 5: Static Data Markup                    #</a:documentation>
    <!-- ##################################################################### -->
    <a:documentation>Time: &lt;time&gt;</a:documentation>
    <element name="time">
      <interleave>
        <ref name="time.inner"/>
        <ref name="time.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="time.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <ref name="common.attrs.aria"/>
      </optional>
    </interleave>
  </define>
  <define name="time.inner">
    <text/>
  </define>
  <!-- Cannot enforce textContent format here -->
  <define name="common.elem.phrasing" combine="choice">
    <ref name="time.elem"/>
  </define>
  <define name="time.datetime.elem">
    <a:documentation>Time with datetime attribute: &lt;time datetime&gt;</a:documentation>
    <element name="time">
      <interleave>
        <ref name="time.datetime.inner"/>
        <ref name="time.datetime.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="time.datetime.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <ref name="time.attrs.datetime"/>
      <optional>
        <ref name="common.attrs.aria"/>
      </optional>
    </interleave>
  </define>
  <define name="time.attrs.datetime">
    <attribute name="datetime">
      <ref name="common.data.time-datetime"/>
    </attribute>
  </define>
  <define name="time.datetime.inner">
    <ref name="common.inner.phrasing"/>
  </define>
  <define name="common.elem.phrasing" combine="choice">
    <ref name="time.datetime.elem"/>
  </define>
  <define name="data.elem">
    <a:documentation>Data: &lt;data&gt;</a:documentation>
    <element name="data">
      <interleave>
        <ref name="data.inner"/>
        <ref name="data.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="data.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <ref name="data.attrs.value"/>
      <optional>
        <ref name="common.attrs.aria"/>
      </optional>
    </interleave>
  </define>
  <define name="data.attrs.value">
    <attribute name="value">
      <data type="string"/>
    </attribute>
  </define>
  <define name="data.inner">
    <ref name="common.inner.phrasing"/>
  </define>
  <define name="common.elem.phrasing" combine="choice">
    <ref name="data.elem"/>
  </define>
  <define name="meter.elem">
    <a:documentation>Scalar Gauge: &lt;meter&gt;</a:documentation>
    <element name="meter">
      <interleave>
        <ref name="meter.inner"/>
        <ref name="meter.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="meter.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <ref name="meter.attrs.value"/>
      <optional>
        <ref name="meter.attrs.min"/>
      </optional>
      <optional>
        <ref name="aria.prop.valuemin"/>
      </optional>
      <optional>
        <ref name="meter.attrs.low"/>
      </optional>
      <optional>
        <ref name="meter.attrs.high"/>
      </optional>
      <optional>
        <ref name="meter.attrs.max"/>
      </optional>
      <optional>
        <ref name="aria.prop.valuemax"/>
      </optional>
      <optional>
        <ref name="meter.attrs.optimum"/>
      </optional>
    </interleave>
  </define>
  <define name="meter.attrs.value">
    <attribute name="value">
      <ref name="common.data.float"/>
    </attribute>
  </define>
  <define name="meter.attrs.min">
    <attribute name="min">
      <ref name="common.data.float"/>
    </attribute>
  </define>
  <define name="meter.attrs.low">
    <attribute name="low">
      <ref name="common.data.float"/>
    </attribute>
  </define>
  <define name="meter.attrs.high">
    <attribute name="high">
      <ref name="common.data.float"/>
    </attribute>
  </define>
  <define name="meter.attrs.max">
    <attribute name="max">
      <ref name="common.data.float"/>
    </attribute>
  </define>
  <define name="meter.attrs.optimum">
    <attribute name="optimum">
      <ref name="common.data.float"/>
    </attribute>
  </define>
  <define name="meter.inner">
    <ref name="common.inner.phrasing"/>
  </define>
  <!-- Cannot enforce textContent format here -->
  <define name="common.elem.phrasing" combine="choice">
    <ref name="meter.elem"/>
  </define>
  <!-- Inlined from aria.rng -->
<!-- ##################################################################### -->
  <define name="aria.global">
    <a:documentation>	RELAX NG Schema for HTML 5: Accessible Rich Internet Applications #</a:documentation>
    <!--
      #####################################################################
      
      history: http://hsivonen.iki.fi/aria-html5-bis/
    -->
    <!-- ##################################################################### -->
    <a:documentation>ARIA</a:documentation>
    <a:documentation>Global states and properties</a:documentation>
    <interleave>
      <optional>
        <ref name="aria.prop.atomic"/>
      </optional>
      <optional>
        <ref name="aria.state.busy"/>
      </optional>
      <optional>
        <ref name="aria.prop.controls"/>
      </optional>
      <optional>
        <ref name="aria.state.current"/>
      </optional>
      <optional>
        <ref name="aria.prop.describedby"/>
      </optional>
      <optional>
        <ref name="aria.prop.details"/>
      </optional>
      <optional>
        <ref name="aria.state.disabled"/>
      </optional>
      <optional>
        <ref name="aria.prop.errormessage"/>
      </optional>
      <optional>
        <ref name="aria.prop.flowto"/>
      </optional>
      <optional>
        <ref name="aria.prop.haspopup"/>
      </optional>
      <optional>
        <ref name="aria.state.hidden"/>
      </optional>
      <optional>
        <ref name="aria.state.invalid"/>
      </optional>
      <optional>
        <ref name="aria.prop.keyshortcuts"/>
      </optional>
      <optional>
        <ref name="aria.prop.label"/>
      </optional>
      <optional>
        <ref name="aria.prop.labelledby"/>
      </optional>
      <optional>
        <ref name="aria.prop.live"/>
      </optional>
      <optional>
        <ref name="aria.prop.owns"/>
      </optional>
      <optional>
        <ref name="aria.prop.relevant"/>
      </optional>
      <optional>
        <ref name="aria.prop.roledescription"/>
      </optional>
      <optional>
        <ref name="aria.prop.description"/>
      </optional>
    </interleave>
  </define>
  <define name="common.attrs.other" combine="interleave">
    <optional>
      <ref name="aria.global"/>
    </optional>
  </define>
  <define name="common.attrs.aria.implicit.button" combine="choice">
    <a:documentation>States and Properties for Native Roles</a:documentation>
    <interleave>
      <optional>
        <ref name="aria.state.expanded"/>
      </optional>
      <optional>
        <ref name="aria.state.pressed"/>
      </optional>
    </interleave>
  </define>
  <define name="common.attrs.aria.implicit.cell" combine="choice">
    <interleave>
      <optional>
        <ref name="aria.prop.colspan"/>
      </optional>
      <optional>
        <ref name="aria.prop.rowspan"/>
      </optional>
      <optional>
        <ref name="aria.prop.rowindex"/>
      </optional>
    </interleave>
  </define>
  <define name="common.attrs.aria.implicit.checkbox" combine="choice">
    <optional>
      <ref name="aria.state.checked"/>
    </optional>
  </define>
  <define name="common.attrs.aria.implicit.combobox" combine="choice">
    <interleave>
      <optional>
        <ref name="aria.state.expanded"/>
      </optional>
      <optional>
        <ref name="aria.prop.autocomplete"/>
      </optional>
      <optional>
        <ref name="aria.prop.required"/>
      </optional>
      <optional>
        <ref name="aria.prop.activedescendant"/>
      </optional>
      <optional>
        <ref name="aria.prop.readonly"/>
      </optional>
    </interleave>
  </define>
  <define name="common.attrs.aria.implicit.definition" combine="choice">
    <optional>
      <ref name="aria.state.expanded"/>
    </optional>
  </define>
  <define name="common.attrs.aria.implicit.dialog" combine="choice">
    <optional>
      <ref name="aria.state.expanded"/>
    </optional>
  </define>
  <define name="common.attrs.aria.implicit.document" combine="choice">
    <optional>
      <ref name="aria.state.expanded"/>
    </optional>
  </define>
  <define name="common.attrs.aria.implicit.figure" combine="choice">
    <optional>
      <ref name="aria.state.expanded"/>
    </optional>
  </define>
  <define name="common.attrs.aria.implicit.form" combine="choice">
    <optional>
      <ref name="aria.state.expanded"/>
    </optional>
  </define>
  <define name="common.attrs.aria.implicit.group" combine="choice">
    <interleave>
      <optional>
        <ref name="aria.state.expanded"/>
      </optional>
      <optional>
        <ref name="aria.prop.activedescendant"/>
      </optional>
    </interleave>
  </define>
  <define name="common.attrs.aria.implicit.heading" combine="choice">
    <interleave>
      <optional>
        <ref name="aria.state.expanded"/>
      </optional>
      <optional>
        <ref name="aria.prop.level"/>
      </optional>
    </interleave>
  </define>
  <define name="common.attrs.aria.implicit.img" combine="choice">
    <optional>
      <ref name="aria.state.expanded"/>
    </optional>
  </define>
  <define name="common.attrs.aria.implicit.link" combine="choice">
    <optional>
      <ref name="aria.state.expanded"/>
    </optional>
  </define>
  <define name="common.attrs.aria.implicit.listbox" combine="choice">
    <interleave>
      <optional>
        <ref name="aria.prop.multiselectable"/>
      </optional>
      <optional>
        <ref name="aria.prop.required"/>
      </optional>
      <optional>
        <ref name="aria.prop.activedescendant"/>
      </optional>
      <optional>
        <ref name="aria.state.expanded"/>
      </optional>
    </interleave>
  </define>
  <define name="common.attrs.aria.implicit.listitem" combine="choice">
    <interleave>
      <optional>
        <ref name="aria.prop.level"/>
      </optional>
      <optional>
        <ref name="aria.prop.posinset"/>
      </optional>
      <optional>
        <ref name="aria.prop.setsize"/>
      </optional>
      <optional>
        <ref name="aria.state.expanded"/>
      </optional>
    </interleave>
  </define>
  <define name="common.attrs.aria.implicit.math" combine="choice">
    <optional>
      <ref name="aria.state.expanded"/>
    </optional>
  </define>
  <define name="common.attrs.aria.implicit.option" combine="choice">
    <interleave>
      <optional>
        <ref name="aria.prop.posinset"/>
      </optional>
      <optional>
        <ref name="aria.prop.setsize"/>
      </optional>
      <optional>
        <ref name="aria.state.checked"/>
      </optional>
      <optional>
        <ref name="aria.state.selected"/>
      </optional>
    </interleave>
  </define>
  <define name="common.attrs.aria.implicit.progressbar" combine="choice">
    <interleave>
      <optional>
        <ref name="aria.prop.valuemax"/>
      </optional>
      <optional>
        <ref name="aria.prop.valuemin"/>
      </optional>
      <optional>
        <ref name="aria.prop.valuenow"/>
      </optional>
      <optional>
        <ref name="aria.prop.valuetext"/>
      </optional>
    </interleave>
  </define>
  <define name="common.attrs.aria.implicit.radio" combine="choice">
    <interleave>
      <optional>
        <ref name="aria.prop.posinset"/>
      </optional>
      <optional>
        <ref name="aria.prop.setsize"/>
      </optional>
      <optional>
        <ref name="aria.state.checked"/>
      </optional>
      <optional>
        <ref name="aria.state.selected"/>
      </optional>
    </interleave>
  </define>
  <define name="common.attrs.aria.implicit.row" combine="choice">
    <interleave>
      <optional>
        <ref name="aria.prop.level"/>
      </optional>
      <optional>
        <!-- not inherited -->
        <ref name="aria.state.selected"/>
      </optional>
      <optional>
        <!-- not inherited -->
        <ref name="aria.prop.activedescendant"/>
      </optional>
      <optional>
        <ref name="aria.state.expanded"/>
      </optional>
    </interleave>
  </define>
  <define name="common.attrs.aria.implicit.rowgroup" combine="choice">
    <interleave>
      <optional>
        <ref name="aria.prop.activedescendant"/>
      </optional>
      <optional>
        <ref name="aria.state.expanded"/>
      </optional>
    </interleave>
  </define>
  <define name="common.attrs.aria.implicit.searchbox" combine="choice">
    <interleave>
      <optional>
        <ref name="aria.prop.activedescendant"/>
      </optional>
      <optional>
        <ref name="aria.prop.autocomplete"/>
      </optional>
      <optional>
        <ref name="aria.prop.multiline"/>
      </optional>
      <optional>
        <ref name="aria.prop.readonly"/>
      </optional>
      <optional>
        <ref name="aria.prop.required"/>
      </optional>
    </interleave>
  </define>
  <define name="common.attrs.aria.implicit.separator" combine="choice">
    <interleave>
      <optional>
        <ref name="aria.prop.valuemax"/>
      </optional>
      <optional>
        <ref name="aria.prop.valuemin"/>
      </optional>
      <optional>
        <ref name="aria.prop.valuenow"/>
      </optional>
      <optional>
        <ref name="aria.prop.valuetext"/>
      </optional>
      <optional>
        <ref name="aria.prop.orientation"/>
      </optional>
    </interleave>
  </define>
  <define name="common.attrs.aria.implicit.slider" combine="choice">
    <interleave>
      <optional>
        <ref name="aria.prop.valuemax"/>
      </optional>
      <optional>
        <ref name="aria.prop.valuemin"/>
      </optional>
      <optional>
        <ref name="aria.prop.valuenow"/>
      </optional>
      <optional>
        <ref name="aria.prop.valuetext"/>
      </optional>
      <optional>
        <ref name="aria.prop.orientation"/>
      </optional>
    </interleave>
  </define>
  <define name="common.attrs.aria.implicit.spinbutton" combine="choice">
    <interleave>
      <optional>
        <ref name="aria.prop.valuemax"/>
      </optional>
      <optional>
        <ref name="aria.prop.valuemin"/>
      </optional>
      <optional>
        <ref name="aria.prop.valuenow"/>
      </optional>
      <optional>
        <ref name="aria.prop.valuetext"/>
      </optional>
      <optional>
        <ref name="aria.prop.required"/>
      </optional>
    </interleave>
  </define>
  <define name="common.attrs.aria.implicit.table" combine="choice">
    <interleave>
      <optional>
        <ref name="aria.prop.colcount"/>
      </optional>
      <optional>
        <ref name="aria.prop.rowcount"/>
      </optional>
    </interleave>
  </define>
  <define name="common.attrs.aria.implicit.term" combine="choice">
    <optional>
      <ref name="aria.state.expanded"/>
    </optional>
  </define>
  <define name="common.attrs.aria.implicit.textbox" combine="choice">
    <interleave>
      <optional>
        <ref name="aria.prop.activedescendant"/>
      </optional>
      <optional>
        <ref name="aria.prop.autocomplete"/>
      </optional>
      <optional>
        <ref name="aria.prop.multiline"/>
      </optional>
      <optional>
        <ref name="aria.prop.readonly"/>
      </optional>
      <optional>
        <ref name="aria.prop.required"/>
      </optional>
    </interleave>
  </define>
  <define name="common.attrs.aria.implicit.toolbar" combine="choice">
    <interleave>
      <optional>
        <ref name="aria.state.expanded"/>
      </optional>
      <optional>
        <ref name="aria.prop.activedescendant"/>
      </optional>
    </interleave>
  </define>
  <define name="common.attrs.aria.implicit.column-or-row-header" combine="choice">
    <interleave>
      <optional>
        <ref name="aria.prop.sort"/>
      </optional>
      <optional>
        <ref name="aria.prop.readonly"/>
      </optional>
      <optional>
        <ref name="aria.prop.required"/>
      </optional>
      <optional>
        <ref name="aria.prop.colspan"/>
      </optional>
      <optional>
        <ref name="aria.prop.colindex"/>
      </optional>
      <optional>
        <ref name="aria.prop.rowspan"/>
      </optional>
      <optional>
        <ref name="aria.prop.rowindex"/>
      </optional>
      <optional>
        <ref name="aria.state.selected"/>
      </optional>
      <optional>
        <ref name="aria.state.expanded"/>
      </optional>
    </interleave>
  </define>
  <!--
    common.attrs.aria.implicit.select |=
    		(	aria.state.invalid?
    	&	aria.prop.required?
    	&	aria.prop.atomic?
    	&	aria.state.busy?
    	&	aria.prop.channel?
    	&	aria.prop.controls?
    	&	aria.prop.live?
    	&	aria.prop.relevant?
    	)
  -->
  <!--
    section
      |
      |_ region
           |
           |_ article
           |
           |_ landmark
           |     |_ banner
           |     |_ complementary
           |     |_ contentinfo
           |     |_ main
           |     |_ navigation
           |
           |_ list
           |
           |_ status
  -->
  <define name="common.attrs.aria.implicit.section" combine="choice">
    <optional>
      <ref name="aria.state.expanded"/>
    </optional>
  </define>
  <define name="common.attrs.aria.implicit.region" combine="choice">
    <ref name="common.attrs.aria.implicit.section"/>
  </define>
  <define name="common.attrs.aria.implicit.article" combine="choice">
    <ref name="common.attrs.aria.implicit.region"/>
  </define>
  <define name="common.attrs.aria.implicit.landmark" combine="choice">
    <ref name="common.attrs.aria.implicit.region"/>
  </define>
  <define name="common.attrs.aria.implicit.list" combine="choice">
    <ref name="common.attrs.aria.implicit.region"/>
  </define>
  <define name="common.attrs.aria.implicit.status" combine="choice">
    <ref name="common.attrs.aria.implicit.region"/>
  </define>
  <define name="common.attrs.aria.implicit.banner" combine="choice">
    <ref name="common.attrs.aria.implicit.landmark"/>
  </define>
  <define name="common.attrs.aria.implicit.complementary" combine="choice">
    <ref name="common.attrs.aria.implicit.landmark"/>
  </define>
  <define name="common.attrs.aria.implicit.contentinfo" combine="choice">
    <ref name="common.attrs.aria.implicit.landmark"/>
  </define>
  <define name="common.attrs.aria.implicit.main" combine="choice">
    <ref name="common.attrs.aria.implicit.landmark"/>
  </define>
  <define name="common.attrs.aria.implicit.navigation" combine="choice">
    <ref name="common.attrs.aria.implicit.landmark"/>
  </define>
  <define name="common.attrs.aria.implicit.search" combine="choice">
    <ref name="common.attrs.aria.implicit.landmark"/>
  </define>
  <!-- ##################################################################### -->
  <define name="aria.state.busy">
    <a:documentation>States</a:documentation>
    <a:documentation>busy</a:documentation>
    <attribute name="aria-busy">
      <choice>
        <value type="string">true</value>
        <value type="string">false</value>
      </choice>
      <!-- default -->
    </attribute>
  </define>
  <define name="aria.state.current">
    <a:documentation>current</a:documentation>
    <attribute name="aria-current">
      <choice>
        <value type="string">page</value>
        <value type="string">step</value>
        <value type="string">location</value>
        <value type="string">date</value>
        <value type="string">time</value>
        <value type="string">true</value>
        <value type="string">false</value>
      </choice>
      <!-- default -->
    </attribute>
  </define>
  <define name="aria.state.checked">
    <a:documentation>checked</a:documentation>
    <attribute name="aria-checked">
      <choice>
        <value type="string">true</value>
        <value type="string">false</value>
        <value type="string">mixed</value>
        <value type="string">undefined</value>
      </choice>
      <!-- default -->
    </attribute>
  </define>
  <define name="aria.state.disabled">
    <a:documentation>disabled</a:documentation>
    <attribute name="aria-disabled">
      <choice>
        <value type="string">true</value>
        <value type="string">false</value>
      </choice>
      <!-- default -->
    </attribute>
  </define>
  <define name="aria.state.expanded">
    <a:documentation>expanded</a:documentation>
    <attribute name="aria-expanded">
      <choice>
        <value type="string">true</value>
        <value type="string">false</value>
        <value type="string">undefined</value>
      </choice>
      <!-- default -->
    </attribute>
  </define>
  <define name="aria.state.hidden">
    <a:documentation>hidden</a:documentation>
    <attribute name="aria-hidden">
      <choice>
        <value type="string">true</value>
        <value type="string">false</value>
      </choice>
      <!-- default -->
    </attribute>
  </define>
  <define name="aria.state.invalid">
    <a:documentation>invalid</a:documentation>
    <attribute name="aria-invalid">
      <choice>
        <value type="string">true</value>
        <value type="string">false</value>
        <!-- default -->
        <value type="string">grammar</value>
        <value type="string">spelling</value>
      </choice>
    </attribute>
  </define>
  <define name="aria.state.pressed">
    <a:documentation>pressed</a:documentation>
    <attribute name="aria-pressed">
      <choice>
        <value type="string">true</value>
        <value type="string">false</value>
        <value type="string">mixed</value>
        <value type="string">undefined</value>
      </choice>
      <!-- default -->
    </attribute>
  </define>
  <define name="aria.state.selected">
    <a:documentation>selected</a:documentation>
    <attribute name="aria-selected">
      <choice>
        <value type="string">true</value>
        <value type="string">false</value>
        <value type="string">undefined</value>
      </choice>
      <!-- default -->
    </attribute>
  </define>
  <!-- ##################################################################### -->
  <define name="aria.prop.activedescendant">
    <a:documentation>Properties</a:documentation>
    <a:documentation>activedescendant</a:documentation>
    <attribute name="aria-activedescendant">
      <ref name="common.data.idref"/>
      <!-- REVISIT add Schematron check -->
    </attribute>
  </define>
  <define name="aria.prop.atomic">
    <a:documentation>atomic</a:documentation>
    <attribute name="aria-atomic">
      <choice>
        <value type="string">true</value>
        <value type="string">false</value>
      </choice>
      <!-- default -->
    </attribute>
  </define>
  <define name="aria.prop.autocomplete">
    <a:documentation>autocomplete</a:documentation>
    <attribute name="aria-autocomplete">
      <choice>
        <value type="string">inline</value>
        <value type="string">list</value>
        <value type="string">both</value>
        <value type="string">none</value>
      </choice>
      <!-- default -->
    </attribute>
  </define>
  <define name="aria.prop.colcount">
    <a:documentation>colcount</a:documentation>
    <attribute name="aria-colcount">
      <choice>
        <ref name="common.data.integer.non-negative"/>
        <value type="string">-1</value>
      </choice>
    </attribute>
  </define>
  <define name="aria.prop.colindex">
    <a:documentation>colindex</a:documentation>
    <attribute name="aria-colindex">
      <ref name="common.data.integer.positive"/>
    </attribute>
  </define>
  <define name="aria.prop.colspan">
    <a:documentation>colspan</a:documentation>
    <attribute name="aria-colspan">
      <ref name="common.data.integer.positive"/>
    </attribute>
  </define>
  <define name="aria.prop.controls">
    <a:documentation>controls</a:documentation>
    <attribute name="aria-controls">
      <ref name="common.data.idrefs"/>
      <!-- REVISIT add Schematron check -->
    </attribute>
  </define>
  <define name="aria.prop.describedby">
    <a:documentation>describedby</a:documentation>
    <attribute name="aria-describedby">
      <ref name="common.data.idrefs"/>
      <!-- REVISIT add Schematron check -->
    </attribute>
  </define>
  <define name="aria.prop.description">
    <a:documentation>description</a:documentation>
    <attribute name="aria-description">
      <data type="string"/>
    </attribute>
  </define>
  <define name="aria.prop.details">
    <a:documentation>details</a:documentation>
    <attribute name="aria-details">
      <ref name="common.data.idref"/>
    </attribute>
  </define>
  <define name="aria.prop.errormessage">
    <a:documentation>errormessage</a:documentation>
    <attribute name="aria-errormessage">
      <ref name="common.data.idref"/>
    </attribute>
  </define>
  <define name="aria.prop.flowto">
    <a:documentation>flowto</a:documentation>
    <attribute name="aria-flowto">
      <ref name="common.data.idrefs"/>
      <!-- REVISIT add Schematron check -->
    </attribute>
  </define>
  <define name="aria.prop.haspopup">
    <a:documentation>haspopup</a:documentation>
    <attribute name="aria-haspopup">
      <choice>
        <value type="string">true</value>
        <!-- REVISIT check owns or descendant -->
        <value type="string">false</value>
        <!-- default -->
        <value type="string">menu</value>
        <value type="string">listbox</value>
        <value type="string">tree</value>
        <value type="string">grid</value>
        <value type="string">dialog</value>
      </choice>
    </attribute>
  </define>
  <define name="aria.prop.keyshortcuts">
    <a:documentation>keyshortcuts</a:documentation>
    <attribute name="aria-keyshortcuts">
      <data type="string"/>
    </attribute>
  </define>
  <define name="aria.prop.label">
    <a:documentation>label</a:documentation>
    <attribute name="aria-label">
      <data type="string"/>
    </attribute>
  </define>
  <define name="aria.prop.labelledby">
    <a:documentation>labelledby</a:documentation>
    <attribute name="aria-labelledby">
      <ref name="common.data.idrefs"/>
      <!-- REVISIT add Schematron check -->
    </attribute>
  </define>
  <define name="aria.prop.level">
    <a:documentation>level</a:documentation>
    <attribute name="aria-level">
      <ref name="common.data.integer.positive"/>
    </attribute>
  </define>
  <define name="aria.prop.live">
    <a:documentation>live</a:documentation>
    <attribute name="aria-live">
      <choice>
        <value type="string">off</value>
        <!-- default -->
        <value type="string">polite</value>
        <value type="string">assertive</value>
      </choice>
    </attribute>
  </define>
  <define name="aria.prop.modal">
    <a:documentation>modal</a:documentation>
    <attribute name="aria-modal">
      <choice>
        <value type="string">true</value>
        <value type="string">false</value>
      </choice>
      <!-- default -->
    </attribute>
  </define>
  <define name="aria.prop.multiline">
    <a:documentation>multiline</a:documentation>
    <attribute name="aria-multiline">
      <choice>
        <value type="string">true</value>
        <value type="string">false</value>
      </choice>
      <!-- default -->
    </attribute>
  </define>
  <define name="aria.prop.multiselectable">
    <a:documentation>multiselectable</a:documentation>
    <attribute name="aria-multiselectable">
      <choice>
        <value type="string">true</value>
        <value type="string">false</value>
      </choice>
      <!-- default -->
    </attribute>
  </define>
  <define name="aria.prop.orientation">
    <a:documentation>orientation</a:documentation>
    <attribute name="aria-orientation">
      <choice>
        <value type="string">vertical</value>
        <value type="string">horizontal</value>
        <!-- default -->
        <value type="string">undefined</value>
      </choice>
    </attribute>
  </define>
  <define name="aria.prop.owns">
    <a:documentation>owns</a:documentation>
    <attribute name="aria-owns">
      <ref name="common.data.idrefs"/>
      <!-- REVISIT add Schematron check -->
    </attribute>
  </define>
  <define name="aria.prop.placeholder">
    <a:documentation>placeholder</a:documentation>
    <attribute name="aria-placeholder">
      <data type="string"/>
    </attribute>
  </define>
  <define name="aria.prop.posinset">
    <a:documentation>posinset</a:documentation>
    <attribute name="aria-posinset">
      <ref name="common.data.integer.positive"/>
    </attribute>
  </define>
  <define name="aria.prop.readonly">
    <a:documentation>readonly</a:documentation>
    <attribute name="aria-readonly">
      <choice>
        <value type="string">true</value>
        <value type="string">false</value>
      </choice>
      <!-- default -->
    </attribute>
  </define>
  <define name="common.attrs.aria.prop.readonly" combine="choice">
    <ref name="aria.prop.readonly"/>
  </define>
  <define name="aria.prop.relevant">
    <a:documentation>relevant</a:documentation>
    <attribute name="aria-relevant">
      <choice>
        <value>all</value>
        <list>
          <value type="string">additions</value>
          <optional>
            <value type="string">removals</value>
          </optional>
          <optional>
            <value type="string">text</value>
          </optional>
        </list>
        <list>
          <value type="string">additions</value>
          <optional>
            <value type="string">text</value>
          </optional>
          <optional>
            <value type="string">removals</value>
          </optional>
        </list>
        <list>
          <value type="string">removals</value>
          <optional>
            <value type="string">additions</value>
          </optional>
          <optional>
            <value type="string">text</value>
          </optional>
        </list>
        <list>
          <value type="string">removals</value>
          <optional>
            <value type="string">text</value>
          </optional>
          <optional>
            <value type="string">additions</value>
          </optional>
        </list>
        <list>
          <value type="string">text</value>
          <optional>
            <value type="string">additions</value>
          </optional>
          <optional>
            <value type="string">removals</value>
          </optional>
        </list>
        <list>
          <value type="string">text</value>
          <optional>
            <value type="string">removals</value>
          </optional>
          <optional>
            <value type="string">additions</value>
          </optional>
        </list>
      </choice>
    </attribute>
  </define>
  <define name="aria.prop.required">
    <a:documentation>required</a:documentation>
    <attribute name="aria-required">
      <choice>
        <value type="string">true</value>
        <value type="string">false</value>
      </choice>
      <!-- default -->
    </attribute>
  </define>
  <define name="aria.prop.roledescription">
    <a:documentation>roledescription</a:documentation>
    <attribute name="aria-roledescription">
      <data type="string"/>
    </attribute>
  </define>
  <define name="aria.prop.rowcount">
    <a:documentation>rowcount</a:documentation>
    <attribute name="aria-rowcount">
      <choice>
        <ref name="common.data.integer.non-negative"/>
        <value type="string">-1</value>
      </choice>
    </attribute>
  </define>
  <define name="aria.prop.rowindex">
    <a:documentation>rowindex</a:documentation>
    <attribute name="aria-rowindex">
      <ref name="common.data.integer.positive"/>
    </attribute>
  </define>
  <define name="aria.prop.rowspan">
    <a:documentation>rowspan</a:documentation>
    <attribute name="aria-rowspan">
      <ref name="common.data.integer.positive"/>
    </attribute>
  </define>
  <define name="aria.prop.setsize">
    <a:documentation>setsize</a:documentation>
    <attribute name="aria-setsize">
      <choice>
        <ref name="common.data.integer.non-negative"/>
        <value type="string">-1</value>
      </choice>
    </attribute>
  </define>
  <define name="aria.prop.sort">
    <a:documentation>sort</a:documentation>
    <attribute name="aria-sort">
      <choice>
        <value type="string">ascending</value>
        <value type="string">descending</value>
        <value type="string">none</value>
        <!-- default -->
        <value type="string">other</value>
      </choice>
    </attribute>
  </define>
  <define name="aria.prop.valuemax">
    <a:documentation>valuemax</a:documentation>
    <attribute name="aria-valuemax">
      <ref name="common.data.float"/>
      <!-- REVISIT -->
    </attribute>
  </define>
  <define name="aria.prop.valuemin">
    <a:documentation>valuemin</a:documentation>
    <attribute name="aria-valuemin">
      <ref name="common.data.float"/>
      <!-- REVISIT -->
    </attribute>
  </define>
  <define name="aria.prop.valuenow">
    <a:documentation>valuenow</a:documentation>
    <attribute name="aria-valuenow">
      <ref name="common.data.float"/>
      <!-- REVISIT -->
    </attribute>
  </define>
  <define name="aria.prop.valuetext">
    <a:documentation>valuetext</a:documentation>
    <attribute name="aria-valuetext">
      <data type="string"/>
    </attribute>
  </define>
  <!-- ##################################################################### -->
  <define name="aria.alert">
    <a:documentation>Roles</a:documentation>
    <a:documentation>alert</a:documentation>
    <interleave>
      <ref name="aria.role.alert"/>
      <optional>
        <ref name="aria.state.expanded"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.alert">
    <attribute name="role">
      <value type="string">alert</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.alert"/>
  </define>
  <define name="common.attrs.aria.role.alert" combine="choice">
    <ref name="aria.alert"/>
  </define>
  <define name="aria.alertdialog">
    <a:documentation>alertdialog</a:documentation>
    <interleave>
      <ref name="aria.role.alertdialog"/>
      <optional>
        <ref name="aria.state.expanded"/>
      </optional>
      <optional>
        <ref name="aria.prop.modal"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.alertdialog">
    <attribute name="role">
      <value type="string">alertdialog</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.alertdialog"/>
  </define>
  <define name="common.attrs.aria.role.alertdialog" combine="choice">
    <ref name="aria.alertdialog"/>
  </define>
  <define name="aria.application">
    <a:documentation>application</a:documentation>
    <interleave>
      <ref name="aria.role.application"/>
      <optional>
        <ref name="aria.state.expanded"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.application">
    <attribute name="role">
      <value type="string">application</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.application"/>
  </define>
  <define name="common.attrs.aria.role.application" combine="choice">
    <ref name="aria.application"/>
  </define>
  <define name="aria.article">
    <a:documentation>article</a:documentation>
    <interleave>
      <ref name="aria.role.article"/>
      <optional>
        <ref name="aria.state.expanded"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.article">
    <attribute name="role">
      <value type="string">article</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.article"/>
  </define>
  <define name="common.attrs.aria.landmark.article" combine="choice">
    <ref name="aria.article"/>
  </define>
  <define name="aria.banner">
    <a:documentation>banner</a:documentation>
    <interleave>
      <ref name="aria.role.banner"/>
      <optional>
        <ref name="aria.state.expanded"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.banner">
    <attribute name="role">
      <value type="string">banner</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.banner"/>
  </define>
  <define name="common.attrs.aria.landmark.banner" combine="choice">
    <ref name="aria.banner"/>
  </define>
  <define name="aria.button">
    <a:documentation>button</a:documentation>
    <interleave>
      <ref name="aria.role.button"/>
      <optional>
        <ref name="aria.state.expanded"/>
      </optional>
      <optional>
        <ref name="aria.state.pressed"/>
      </optional>
    </interleave>
    <!-- not inherited -->
  </define>
  <define name="aria.role.button">
    <attribute name="role">
      <value type="string">button</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.button"/>
  </define>
  <define name="common.attrs.aria.role.button" combine="choice">
    <ref name="aria.button"/>
  </define>
  <define name="aria.cell">
    <a:documentation>cell</a:documentation>
    <interleave>
      <ref name="aria.role.cell"/>
      <optional>
        <ref name="aria.prop.colspan"/>
      </optional>
      <optional>
        <ref name="aria.prop.colindex"/>
      </optional>
      <optional>
        <ref name="aria.prop.rowspan"/>
      </optional>
      <optional>
        <ref name="aria.prop.rowindex"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.cell">
    <attribute name="role">
      <value type="string">cell</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.cell"/>
  </define>
  <define name="common.attrs.aria.role.cell" combine="choice">
    <ref name="aria.cell"/>
  </define>
  <define name="aria.checkbox">
    <a:documentation>checkbox</a:documentation>
    <interleave>
      <ref name="aria.role.checkbox"/>
      <ref name="aria.state.checked"/>
    </interleave>
    <!-- required! -->
  </define>
  <define name="aria.role.checkbox">
    <attribute name="role">
      <value type="string">checkbox</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.checkbox"/>
  </define>
  <define name="common.attrs.aria.role.checkbox" combine="choice">
    <ref name="aria.checkbox"/>
  </define>
  <!-- columnheader -->
  <define name="aria.columnheader">
    <interleave>
      <ref name="aria.role.columnheader"/>
      <optional>
        <ref name="aria.prop.sort"/>
      </optional>
      <optional>
        <!-- not inherited -->
        <ref name="aria.prop.readonly"/>
      </optional>
      <optional>
        <!-- not inherited -->
        <ref name="aria.state.selected"/>
      </optional>
      <optional>
        <!-- not inherited -->
        <ref name="aria.state.expanded"/>
      </optional>
      <optional>
        <ref name="aria.prop.required"/>
      </optional>
      <optional>
        <ref name="aria.prop.colspan"/>
      </optional>
      <optional>
        <ref name="aria.prop.rowspan"/>
      </optional>
      <optional>
        <ref name="aria.prop.rowindex"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.columnheader">
    <attribute name="role">
      <value type="string">columnheader</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.columnheader"/>
  </define>
  <define name="aria.combobox">
    <a:documentation>combobox</a:documentation>
    <!-- 	aria.prop.controls TODO: required! add check to Assertions -->
    <interleave>
      <ref name="aria.role.combobox"/>
      <optional>
        <ref name="aria.prop.activedescendant"/>
      </optional>
      <ref name="aria.state.expanded"/>
      <optional>
        <!-- required! -->
        <ref name="aria.prop.autocomplete"/>
      </optional>
      <optional>
        <ref name="aria.prop.required"/>
      </optional>
      <optional>
        <ref name="aria.prop.readonly"/>
      </optional>
      <optional>
        <ref name="aria.prop.orientation"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.combobox">
    <attribute name="role">
      <value type="string">combobox</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.combobox"/>
  </define>
  <define name="common.attrs.aria.role.combobox" combine="choice">
    <ref name="aria.combobox"/>
  </define>
  <define name="aria.complementary">
    <a:documentation>complementary</a:documentation>
    <interleave>
      <ref name="aria.role.complementary"/>
      <optional>
        <ref name="aria.state.expanded"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.complementary">
    <attribute name="role">
      <value type="string">complementary</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.complementary"/>
  </define>
  <define name="common.attrs.aria.landmark.complementary" combine="choice">
    <ref name="aria.complementary"/>
  </define>
  <define name="aria.contentinfo">
    <a:documentation>contentinfo</a:documentation>
    <interleave>
      <ref name="aria.role.contentinfo"/>
      <optional>
        <ref name="aria.state.expanded"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.contentinfo">
    <attribute name="role">
      <value type="string">contentinfo</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.contentinfo"/>
  </define>
  <define name="common.attrs.aria.landmark.contentinfo" combine="choice">
    <ref name="aria.contentinfo"/>
  </define>
  <define name="aria.definition">
    <a:documentation>definition</a:documentation>
    <interleave>
      <ref name="aria.role.definition"/>
      <optional>
        <ref name="aria.state.expanded"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.definition">
    <attribute name="role">
      <value type="string">definition</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.definition"/>
  </define>
  <define name="common.attrs.aria.role.definition" combine="choice">
    <ref name="aria.definition"/>
  </define>
  <define name="aria.dialog">
    <a:documentation>dialog</a:documentation>
    <interleave>
      <ref name="aria.role.dialog"/>
      <optional>
        <ref name="aria.state.expanded"/>
      </optional>
      <optional>
        <ref name="aria.prop.modal"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.dialog">
    <attribute name="role">
      <value type="string">dialog</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.dialog"/>
  </define>
  <define name="common.attrs.aria.role.dialog" combine="choice">
    <ref name="aria.dialog"/>
  </define>
  <define name="aria.directory">
    <a:documentation>directory</a:documentation>
    <interleave>
      <ref name="aria.role.directory"/>
      <optional>
        <ref name="aria.state.expanded"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.directory">
    <attribute name="role">
      <value type="string">directory</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.directory"/>
  </define>
  <define name="common.attrs.aria.role.directory" combine="choice">
    <ref name="aria.directory"/>
  </define>
  <define name="aria.document">
    <a:documentation>document</a:documentation>
    <interleave>
      <ref name="aria.role.document"/>
      <optional>
        <ref name="aria.state.expanded"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.document">
    <attribute name="role">
      <value type="string">document</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.document"/>
  </define>
  <define name="common.attrs.aria.landmark.document" combine="choice">
    <ref name="aria.document"/>
  </define>
  <define name="aria.feed">
    <a:documentation>feed</a:documentation>
    <interleave>
      <ref name="aria.role.feed"/>
      <optional>
        <ref name="aria.state.expanded"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.feed">
    <attribute name="role">
      <value type="string">feed</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.feed"/>
  </define>
  <define name="common.attrs.aria.role.feed" combine="choice">
    <ref name="aria.feed"/>
  </define>
  <define name="aria.figure">
    <a:documentation>figure</a:documentation>
    <interleave>
      <ref name="aria.role.figure"/>
      <optional>
        <ref name="aria.state.expanded"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.figure">
    <attribute name="role">
      <value type="string">figure</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.figure"/>
  </define>
  <define name="common.attrs.aria.role.figure" combine="choice">
    <ref name="aria.figure"/>
  </define>
  <define name="aria.form">
    <a:documentation>form</a:documentation>
    <interleave>
      <ref name="aria.role.form"/>
      <optional>
        <ref name="aria.state.expanded"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.form">
    <attribute name="role">
      <value type="string">form</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.form"/>
  </define>
  <define name="common.attrs.aria.landmark.form" combine="choice">
    <ref name="aria.form"/>
  </define>
  <define name="aria.grid">
    <a:documentation>grid</a:documentation>
    <interleave>
      <ref name="aria.role.grid"/>
      <optional>
        <ref name="aria.prop.level"/>
      </optional>
      <optional>
        <!-- not inherited -->
        <ref name="aria.prop.multiselectable"/>
      </optional>
      <optional>
        <!-- not inherited -->
        <ref name="aria.prop.readonly"/>
      </optional>
      <optional>
        <!-- not inherited -->
        <ref name="aria.prop.activedescendant"/>
      </optional>
      <optional>
        <ref name="aria.state.expanded"/>
      </optional>
      <optional>
        <ref name="aria.prop.colcount"/>
      </optional>
      <optional>
        <ref name="aria.prop.rowcount"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.grid">
    <attribute name="role">
      <value type="string">grid</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.grid"/>
  </define>
  <define name="aria.gridcell">
    <a:documentation>gridcell</a:documentation>
    <interleave>
      <ref name="aria.role.gridcell"/>
      <optional>
        <ref name="aria.prop.level"/>
      </optional>
      <optional>
        <!-- net inherited -->
        <ref name="aria.prop.readonly"/>
      </optional>
      <optional>
        <!-- not inherited -->
        <ref name="aria.state.selected"/>
      </optional>
      <optional>
        <!-- not inherited -->
        <ref name="aria.state.expanded"/>
      </optional>
      <optional>
        <ref name="aria.prop.required"/>
      </optional>
      <optional>
        <ref name="aria.prop.colspan"/>
      </optional>
      <optional>
        <ref name="aria.prop.colindex"/>
      </optional>
      <optional>
        <ref name="aria.prop.rowspan"/>
      </optional>
      <optional>
        <ref name="aria.prop.rowindex"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.gridcell">
    <attribute name="role">
      <value type="string">gridcell</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.gridcell"/>
  </define>
  <define name="aria.group">
    <a:documentation>group</a:documentation>
    <interleave>
      <ref name="aria.role.group"/>
      <optional>
        <ref name="aria.prop.activedescendant"/>
      </optional>
      <optional>
        <!-- not inherited -->
        <ref name="aria.state.expanded"/>
      </optional>
    </interleave>
    <!-- not inherited -->
  </define>
  <define name="aria.role.group">
    <attribute name="role">
      <value type="string">group</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.group"/>
  </define>
  <define name="common.attrs.aria.role.group" combine="choice">
    <ref name="aria.group"/>
  </define>
  <define name="aria.graphics-document">
    <a:documentation>graphics-document</a:documentation>
    <ref name="aria.role.graphics-document"/>
  </define>
  <define name="aria.role.graphics-document">
    <attribute name="role">
      <value type="string">graphics-document</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.graphics-document"/>
  </define>
  <define name="common.attrs.aria.role.graphics-document" combine="choice">
    <ref name="aria.graphics-document"/>
  </define>
  <define name="aria.graphics-object">
    <a:documentation>graphics-object</a:documentation>
    <ref name="aria.role.graphics-object"/>
  </define>
  <define name="aria.role.graphics-object">
    <attribute name="role">
      <value type="string">graphics-object</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.graphics-object"/>
  </define>
  <define name="common.attrs.aria.role.graphics-object" combine="choice">
    <ref name="aria.graphics-object"/>
  </define>
  <define name="aria.graphics-symbol">
    <a:documentation>graphics-symbol</a:documentation>
    <ref name="aria.role.graphics-symbol"/>
  </define>
  <define name="aria.role.graphics-symbol">
    <attribute name="role">
      <value type="string">graphics-symbol</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.graphics-symbol"/>
  </define>
  <define name="common.attrs.aria.role.graphics-symbol" combine="choice">
    <ref name="aria.graphics-symbol"/>
  </define>
  <define name="aria.heading">
    <a:documentation>heading</a:documentation>
    <interleave>
      <ref name="aria.role.heading"/>
      <optional>
        <ref name="aria.prop.level"/>
      </optional>
      <optional>
        <!-- not inherited -->
        <ref name="aria.state.expanded"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.heading">
    <attribute name="role">
      <value type="string">heading</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.heading"/>
  </define>
  <define name="common.attrs.aria.role.heading" combine="choice">
    <ref name="aria.heading"/>
  </define>
  <define name="aria.img">
    <a:documentation>img</a:documentation>
    <interleave>
      <ref name="aria.role.img"/>
      <optional>
        <ref name="aria.state.expanded"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.img">
    <attribute name="role">
      <value type="string">img</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.img"/>
  </define>
  <define name="common.attrs.aria.role.img" combine="choice">
    <ref name="aria.img"/>
  </define>
  <define name="aria.link">
    <a:documentation>link</a:documentation>
    <interleave>
      <ref name="aria.role.link"/>
      <optional>
        <ref name="aria.state.expanded"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.link">
    <attribute name="role">
      <value type="string">link</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.link"/>
  </define>
  <define name="common.attrs.aria.role.link" combine="choice">
    <ref name="aria.link"/>
  </define>
  <define name="aria.list">
    <a:documentation>list</a:documentation>
    <interleave>
      <ref name="aria.role.list"/>
      <optional>
        <ref name="aria.state.expanded"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.list">
    <attribute name="role">
      <value type="string">list</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.list"/>
  </define>
  <define name="common.attrs.aria.role.list" combine="choice">
    <ref name="aria.list"/>
  </define>
  <define name="aria.listbox">
    <a:documentation>listbox</a:documentation>
    <interleave>
      <ref name="aria.role.listbox"/>
      <optional>
        <ref name="aria.prop.multiselectable"/>
      </optional>
      <optional>
        <!-- not inherited -->
        <ref name="aria.prop.required"/>
      </optional>
      <optional>
        <ref name="aria.prop.activedescendant"/>
      </optional>
      <optional>
        <ref name="aria.state.expanded"/>
      </optional>
      <optional>
        <ref name="aria.prop.orientation"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.listbox">
    <attribute name="role">
      <value type="string">listbox</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.listbox"/>
  </define>
  <define name="common.attrs.aria.role.listbox" combine="choice">
    <ref name="aria.listbox"/>
  </define>
  <define name="aria.listitem">
    <a:documentation>listitem</a:documentation>
    <interleave>
      <ref name="aria.role.listitem"/>
      <optional>
        <ref name="aria.prop.posinset"/>
      </optional>
      <optional>
        <!-- not inherited -->
        <ref name="aria.prop.setsize"/>
      </optional>
      <optional>
        <!-- not inherited -->
        <ref name="aria.prop.level"/>
      </optional>
      <optional>
        <!-- not inherited -->
        <ref name="aria.state.expanded"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.listitem">
    <attribute name="role">
      <value type="string">listitem</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.listitem"/>
  </define>
  <define name="common.attrs.aria.role.listitem" combine="choice">
    <ref name="aria.listitem"/>
  </define>
  <define name="aria.log">
    <a:documentation>log</a:documentation>
    <interleave>
      <ref name="aria.role.log"/>
      <optional>
        <ref name="aria.state.expanded"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.log">
    <attribute name="role">
      <value type="string">log</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.log"/>
  </define>
  <define name="common.attrs.aria.role.log" combine="choice">
    <ref name="aria.log"/>
  </define>
  <define name="aria.main">
    <a:documentation>main</a:documentation>
    <interleave>
      <ref name="aria.role.main"/>
      <optional>
        <ref name="aria.state.expanded"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.main">
    <attribute name="role">
      <value type="string">main</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.main"/>
  </define>
  <define name="common.attrs.aria.landmark.main" combine="choice">
    <ref name="aria.main"/>
  </define>
  <define name="aria.marquee">
    <a:documentation>marquee</a:documentation>
    <interleave>
      <ref name="aria.role.marquee"/>
      <optional>
        <ref name="aria.state.expanded"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.marquee">
    <attribute name="role">
      <value type="string">marquee</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.marquee"/>
  </define>
  <define name="common.attrs.aria.role.marquee" combine="choice">
    <ref name="aria.marquee"/>
  </define>
  <define name="aria.math">
    <a:documentation>math</a:documentation>
    <interleave>
      <ref name="aria.role.math"/>
      <optional>
        <ref name="aria.state.expanded"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.math">
    <attribute name="role">
      <value type="string">math</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.math"/>
  </define>
  <define name="common.attrs.aria.role.math" combine="choice">
    <ref name="aria.math"/>
  </define>
  <define name="aria.menu">
    <a:documentation>menu</a:documentation>
    <interleave>
      <ref name="aria.role.menu"/>
      <optional>
        <ref name="aria.prop.activedescendant"/>
      </optional>
      <optional>
        <ref name="aria.state.expanded"/>
      </optional>
      <optional>
        <ref name="aria.prop.orientation"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.menu">
    <attribute name="role">
      <value type="string">menu</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.menu"/>
  </define>
  <define name="common.attrs.aria.role.menu" combine="choice">
    <ref name="aria.menu"/>
  </define>
  <define name="aria.menubar">
    <a:documentation>menubar</a:documentation>
    <interleave>
      <ref name="aria.role.menubar"/>
      <optional>
        <ref name="aria.prop.activedescendant"/>
      </optional>
      <optional>
        <ref name="aria.state.expanded"/>
      </optional>
      <optional>
        <ref name="aria.prop.orientation"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.menubar">
    <attribute name="role">
      <value type="string">menubar</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.menubar"/>
  </define>
  <define name="common.attrs.aria.role.menubar" combine="choice">
    <ref name="aria.menubar"/>
  </define>
  <define name="aria.menuitem">
    <a:documentation>menuitem</a:documentation>
    <interleave>
      <ref name="aria.role.menuitem"/>
      <optional>
        <ref name="aria.state.expanded"/>
      </optional>
      <optional>
        <ref name="aria.prop.posinset"/>
      </optional>
      <optional>
        <ref name="aria.prop.setsize"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.menuitem">
    <attribute name="role">
      <value type="string">menuitem</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.menuitem"/>
  </define>
  <define name="common.attrs.aria.role.menuitem" combine="choice">
    <ref name="aria.menuitem"/>
  </define>
  <define name="aria.menuitemcheckbox">
    <a:documentation>menuitemcheckbox</a:documentation>
    <interleave>
      <ref name="aria.role.menuitemcheckbox"/>
      <ref name="aria.state.checked"/>
    </interleave>
    <!-- required -->
  </define>
  <define name="aria.role.menuitemcheckbox">
    <attribute name="role">
      <value type="string">menuitemcheckbox</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.menuitemcheckbox"/>
  </define>
  <define name="common.attrs.aria.role.menuitemcheckbox" combine="choice">
    <ref name="aria.menuitemcheckbox"/>
  </define>
  <define name="aria.menuitemcheckbox-checked-not-required">
    <a:documentation>menuitemcheckbox w/o checked required</a:documentation>
    <ref name="aria.role.menuitemcheckbox"/>
  </define>
  <define name="aria.role.menuitemcheckbox-checked-not-required">
    <attribute name="role">
      <value type="string">menuitemcheckbox</value>
    </attribute>
  </define>
  <define name="common.attrs.aria.role.menuitemcheckbox-checked-not-required" combine="choice">
    <ref name="aria.menuitemcheckbox-checked-not-required"/>
  </define>
  <define name="aria.menuitemradio">
    <a:documentation>menuitemradio</a:documentation>
    <interleave>
      <ref name="aria.role.menuitemradio"/>
      <ref name="aria.state.checked"/>
      <optional>
        <!-- required -->
        <ref name="aria.state.selected"/>
      </optional>
      <optional>
        <ref name="aria.prop.posinset"/>
      </optional>
      <optional>
        <ref name="aria.prop.setsize"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.menuitemradio">
    <attribute name="role">
      <value type="string">menuitemradio</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.menuitemradio"/>
  </define>
  <define name="common.attrs.aria.role.menuitemradio" combine="choice">
    <ref name="aria.menuitemradio"/>
  </define>
  <define name="aria.menuitemradio-checked-not-required">
    <a:documentation>menuitemradio w/o checked required</a:documentation>
    <interleave>
      <ref name="aria.role.menuitemradio"/>
      <optional>
        <ref name="aria.state.selected"/>
      </optional>
      <optional>
        <ref name="aria.prop.posinset"/>
      </optional>
      <optional>
        <ref name="aria.prop.setsize"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.menuitemradio-checked-not-required">
    <attribute name="role">
      <value type="string">menuitemradio</value>
    </attribute>
  </define>
  <define name="common.attrs.aria.role.menuitemradio-checked-not-required" combine="choice">
    <ref name="aria.menuitemradio-checked-not-required"/>
  </define>
  <define name="aria.navigation">
    <a:documentation>navigation</a:documentation>
    <interleave>
      <ref name="aria.role.navigation"/>
      <optional>
        <ref name="aria.state.expanded"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.navigation">
    <attribute name="role">
      <value type="string">navigation</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.navigation"/>
  </define>
  <define name="common.attrs.aria.landmark.navigation" combine="choice">
    <ref name="aria.navigation"/>
  </define>
  <define name="aria.none">
    <a:documentation>none</a:documentation>
    <ref name="aria.role.none"/>
  </define>
  <define name="aria.role.none">
    <attribute name="role">
      <value type="string">none</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.none"/>
  </define>
  <define name="common.attrs.aria.role.none" combine="choice">
    <ref name="aria.none"/>
  </define>
  <define name="aria.note">
    <a:documentation>note</a:documentation>
    <interleave>
      <ref name="aria.role.note"/>
      <optional>
        <ref name="aria.state.expanded"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.note">
    <attribute name="role">
      <value type="string">note</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.note"/>
  </define>
  <define name="common.attrs.aria.landmark.note" combine="choice">
    <ref name="aria.note"/>
  </define>
  <define name="aria.option">
    <a:documentation>option</a:documentation>
    <interleave>
      <ref name="aria.role.option"/>
      <optional>
        <ref name="aria.state.checked"/>
      </optional>
      <optional>
        <!-- not inherited -->
        <ref name="aria.state.selected"/>
      </optional>
      <optional>
        <!-- not inherited -->
        <ref name="aria.prop.posinset"/>
      </optional>
      <optional>
        <ref name="aria.prop.setsize"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.option">
    <attribute name="role">
      <value type="string">option</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.option"/>
  </define>
  <define name="common.attrs.aria.role.option" combine="choice">
    <ref name="aria.option"/>
  </define>
  <define name="aria.presentation">
    <a:documentation>presentation</a:documentation>
    <ref name="aria.role.presentation"/>
  </define>
  <define name="aria.role.presentation">
    <attribute name="role">
      <value type="string">presentation</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.presentation"/>
  </define>
  <define name="common.attrs.aria.role.presentation" combine="choice">
    <ref name="aria.presentation"/>
  </define>
  <define name="common.attrs.aria.role.presentation" combine="choice">
    <ref name="aria.none"/>
  </define>
  <define name="aria.progressbar">
    <a:documentation>progressbar</a:documentation>
    <interleave>
      <ref name="aria.role.progressbar"/>
      <optional>
        <ref name="aria.prop.valuemax"/>
      </optional>
      <optional>
        <!-- not inherited -->
        <ref name="aria.prop.valuemin"/>
      </optional>
      <optional>
        <!-- not inherited -->
        <ref name="aria.prop.valuenow"/>
      </optional>
      <optional>
        <!-- not inherited -->
        <ref name="aria.prop.valuetext"/>
      </optional>
    </interleave>
    <!-- not inherited -->
  </define>
  <define name="aria.role.progressbar">
    <attribute name="role">
      <value type="string">progressbar</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.progressbar"/>
  </define>
  <define name="common.attrs.aria.role.progressbar" combine="choice">
    <ref name="aria.progressbar"/>
  </define>
  <define name="aria.radio">
    <a:documentation>radio</a:documentation>
    <interleave>
      <ref name="aria.role.radio"/>
      <ref name="aria.state.checked"/>
      <optional>
        <!-- required! -->
        <ref name="aria.state.selected"/>
      </optional>
      <optional>
        <ref name="aria.prop.posinset"/>
      </optional>
      <optional>
        <ref name="aria.prop.setsize"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.radio">
    <attribute name="role">
      <value type="string">radio</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.radio"/>
  </define>
  <define name="common.attrs.aria.role.radio" combine="choice">
    <ref name="aria.radio"/>
  </define>
  <define name="aria.radiogroup">
    <a:documentation>radiogroup</a:documentation>
    <interleave>
      <ref name="aria.role.radiogroup"/>
      <optional>
        <ref name="aria.prop.activedescendant"/>
      </optional>
      <optional>
        <ref name="aria.state.expanded"/>
      </optional>
      <optional>
        <ref name="aria.prop.required"/>
      </optional>
      <optional>
        <ref name="aria.prop.orientation"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.radiogroup">
    <attribute name="role">
      <value type="string">radiogroup</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.radiogroup"/>
  </define>
  <define name="common.attrs.aria.role.radiogroup" combine="choice">
    <ref name="aria.radiogroup"/>
  </define>
  <define name="aria.region">
    <a:documentation>region</a:documentation>
    <interleave>
      <ref name="aria.role.region"/>
      <optional>
        <ref name="aria.state.expanded"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.region">
    <attribute name="role">
      <value type="string">region</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.region"/>
  </define>
  <define name="common.attrs.aria.role.region" combine="choice">
    <ref name="aria.region"/>
  </define>
  <define name="aria.row">
    <a:documentation>row</a:documentation>
    <interleave>
      <ref name="aria.role.row"/>
      <optional>
        <ref name="aria.prop.level"/>
      </optional>
      <optional>
        <!-- not inherited -->
        <ref name="aria.state.selected"/>
      </optional>
      <optional>
        <!-- not inherited -->
        <ref name="aria.prop.activedescendant"/>
      </optional>
      <optional>
        <ref name="aria.state.expanded"/>
      </optional>
      <optional>
        <ref name="aria.prop.colindex"/>
      </optional>
      <optional>
        <ref name="aria.prop.rowindex"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.row">
    <attribute name="role">
      <value type="string">row</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.row"/>
  </define>
  <define name="aria.rowgroup">
    <a:documentation>rowgroup</a:documentation>
    <interleave>
      <ref name="aria.role.rowgroup"/>
      <optional>
        <ref name="aria.prop.activedescendant"/>
      </optional>
      <optional>
        <ref name="aria.state.expanded"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.rowgroup">
    <attribute name="role">
      <value type="string">rowgroup</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.rowgroup"/>
  </define>
  <define name="common.attrs.aria.role.rowgroup" combine="choice">
    <ref name="aria.rowgroup"/>
  </define>
  <!-- rowheader -->
  <define name="aria.rowheader">
    <interleave>
      <ref name="aria.role.rowheader"/>
      <optional>
        <ref name="aria.prop.sort"/>
      </optional>
      <optional>
        <!-- not inherited -->
        <ref name="aria.prop.readonly"/>
      </optional>
      <optional>
        <!-- not inherited -->
        <ref name="aria.state.selected"/>
      </optional>
      <optional>
        <!-- not inherited -->
        <ref name="aria.state.expanded"/>
      </optional>
      <optional>
        <ref name="aria.prop.required"/>
      </optional>
      <optional>
        <ref name="aria.prop.colspan"/>
      </optional>
      <optional>
        <ref name="aria.prop.rowspan"/>
      </optional>
      <optional>
        <ref name="aria.prop.rowindex"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.rowheader">
    <attribute name="role">
      <value type="string">rowheader</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.rowheader"/>
  </define>
  <define name="aria.searchbox">
    <a:documentation>searchbox</a:documentation>
    <interleave>
      <ref name="aria.role.searchbox"/>
      <optional>
        <ref name="aria.prop.activedescendant"/>
      </optional>
      <optional>
        <ref name="aria.prop.autocomplete"/>
      </optional>
      <optional>
        <ref name="aria.prop.multiline"/>
      </optional>
      <optional>
        <ref name="aria.prop.readonly"/>
      </optional>
      <optional>
        <ref name="aria.prop.required"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.searchbox">
    <attribute name="role">
      <value type="string">searchbox</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.searchbox"/>
  </define>
  <define name="common.attrs.aria.role.searchbox" combine="choice">
    <ref name="aria.searchbox"/>
  </define>
  <define name="aria.scrollbar">
    <a:documentation>scrollbar</a:documentation>
    <interleave>
      <ref name="aria.role.scrollbar"/>
      <ref name="aria.prop.orientation"/>
      <ref name="aria.prop.valuemax"/>
      <ref name="aria.prop.valuemin"/>
      <ref name="aria.prop.valuenow"/>
      <optional>
        <ref name="aria.prop.valuetext"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.scrollbar">
    <attribute name="role">
      <value type="string">scrollbar</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.scrollbar"/>
  </define>
  <define name="common.attrs.aria.role.scrollbar" combine="choice">
    <ref name="aria.scrollbar"/>
  </define>
  <define name="aria.search">
    <a:documentation>search</a:documentation>
    <interleave>
      <ref name="aria.role.search"/>
      <optional>
        <ref name="aria.state.expanded"/>
      </optional>
      <optional>
        <ref name="aria.prop.orientation"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.search">
    <attribute name="role">
      <value type="string">search</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.search"/>
  </define>
  <define name="common.attrs.aria.landmark.search" combine="choice">
    <ref name="aria.search"/>
  </define>
  <define name="aria.separator">
    <a:documentation>separator</a:documentation>
    <interleave>
      <ref name="aria.role.separator"/>
      <optional>
        <ref name="aria.state.expanded"/>
      </optional>
      <optional>
        <ref name="aria.prop.orientation"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.separator">
    <attribute name="role">
      <value type="string">separator</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.separator"/>
  </define>
  <define name="common.attrs.aria.role.separator" combine="choice">
    <ref name="aria.separator"/>
  </define>
  <define name="aria.slider">
    <a:documentation>slider</a:documentation>
    <interleave>
      <ref name="aria.role.slider"/>
      <ref name="aria.prop.valuemax"/>
      <ref name="aria.prop.valuemin"/>
      <ref name="aria.prop.valuenow"/>
      <optional>
        <ref name="aria.prop.valuetext"/>
      </optional>
      <optional>
        <ref name="aria.prop.orientation"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.slider">
    <attribute name="role">
      <value type="string">slider</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.slider"/>
  </define>
  <define name="common.attrs.aria.role.slider" combine="choice">
    <ref name="aria.slider"/>
  </define>
  <define name="aria.spinbutton">
    <a:documentation>spinbutton</a:documentation>
    <interleave>
      <ref name="aria.role.spinbutton"/>
      <ref name="aria.prop.valuemax"/>
      <ref name="aria.prop.valuemin"/>
      <ref name="aria.prop.valuenow"/>
      <optional>
        <ref name="aria.prop.valuetext"/>
      </optional>
      <optional>
        <ref name="aria.prop.required"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.spinbutton">
    <attribute name="role">
      <value type="string">spinbutton</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.spinbutton"/>
  </define>
  <define name="common.attrs.aria.role.spinbutton" combine="choice">
    <ref name="aria.spinbutton"/>
  </define>
  <define name="aria.status">
    <a:documentation>status</a:documentation>
    <interleave>
      <ref name="aria.role.status"/>
      <optional>
        <ref name="aria.state.expanded"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.status">
    <attribute name="role">
      <value type="string">status</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.status"/>
  </define>
  <define name="common.attrs.aria.role.status" combine="choice">
    <ref name="aria.status"/>
  </define>
  <define name="aria.switch">
    <a:documentation>switch</a:documentation>
    <interleave>
      <ref name="aria.role.switch"/>
      <ref name="aria.state.checked"/>
    </interleave>
    <!-- required! -->
  </define>
  <define name="aria.role.switch">
    <attribute name="role">
      <value type="string">switch</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.switch"/>
  </define>
  <define name="common.attrs.aria.role.switch" combine="choice">
    <ref name="aria.switch"/>
  </define>
  <define name="aria.switch-checked-not-required">
    <a:documentation>switch w/o checked required</a:documentation>
    <ref name="aria.role.switch"/>
  </define>
  <define name="aria.role.switch-checked-not-required">
    <attribute name="role">
      <value type="string">switch</value>
    </attribute>
  </define>
  <define name="common.attrs.aria.role.switch-checked-not-required" combine="choice">
    <ref name="aria.switch-checked-not-required"/>
  </define>
  <define name="aria.tab">
    <a:documentation>tab</a:documentation>
    <interleave>
      <ref name="aria.role.tab"/>
      <optional>
        <ref name="aria.state.selected"/>
      </optional>
      <optional>
        <ref name="aria.state.expanded"/>
      </optional>
      <optional>
        <ref name="aria.prop.posinset"/>
      </optional>
      <optional>
        <ref name="aria.prop.setsize"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.tab">
    <attribute name="role">
      <value type="string">tab</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.tab"/>
  </define>
  <define name="common.attrs.aria.role.tab" combine="choice">
    <ref name="aria.tab"/>
  </define>
  <define name="aria.table">
    <a:documentation>table</a:documentation>
    <interleave>
      <ref name="aria.role.table"/>
      <optional>
        <ref name="aria.prop.colcount"/>
      </optional>
      <optional>
        <ref name="aria.prop.rowcount"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.table">
    <attribute name="role">
      <value type="string">table</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.table"/>
  </define>
  <define name="common.attrs.aria.role.table" combine="choice">
    <ref name="aria.table"/>
  </define>
  <define name="aria.tablist">
    <a:documentation>tablist</a:documentation>
    <interleave>
      <ref name="aria.role.tablist"/>
      <optional>
        <ref name="aria.prop.activedescendant"/>
      </optional>
      <optional>
        <ref name="aria.state.expanded"/>
      </optional>
      <optional>
        <ref name="aria.prop.level"/>
      </optional>
      <optional>
        <ref name="aria.prop.multiselectable"/>
      </optional>
      <optional>
        <ref name="aria.prop.orientation"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.tablist">
    <attribute name="role">
      <value type="string">tablist</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.tablist"/>
  </define>
  <define name="common.attrs.aria.role.tablist" combine="choice">
    <ref name="aria.tablist"/>
  </define>
  <define name="aria.tabpanel">
    <a:documentation>tabpanel</a:documentation>
    <interleave>
      <ref name="aria.role.tabpanel"/>
      <optional>
        <ref name="aria.state.expanded"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.tabpanel">
    <attribute name="role">
      <value type="string">tabpanel</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.tabpanel"/>
  </define>
  <define name="common.attrs.aria.role.tabpanel" combine="choice">
    <ref name="aria.tabpanel"/>
  </define>
  <define name="aria.term">
    <a:documentation>term</a:documentation>
    <interleave>
      <ref name="aria.role.term"/>
      <optional>
        <ref name="aria.state.expanded"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.term">
    <attribute name="role">
      <value type="string">term</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.term"/>
  </define>
  <define name="common.attrs.aria.role.term" combine="choice">
    <ref name="aria.term"/>
  </define>
  <define name="aria.textbox">
    <a:documentation>textbox</a:documentation>
    <interleave>
      <ref name="aria.role.textbox"/>
      <optional>
        <ref name="aria.prop.activedescendant"/>
      </optional>
      <optional>
        <ref name="aria.prop.autocomplete"/>
      </optional>
      <optional>
        <!-- not inherited -->
        <ref name="aria.prop.multiline"/>
      </optional>
      <optional>
        <!-- not inherited -->
        <ref name="aria.prop.readonly"/>
      </optional>
      <optional>
        <!-- not inherited -->
        <ref name="aria.prop.required"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.textbox">
    <attribute name="role">
      <value type="string">textbox</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.textbox"/>
  </define>
  <define name="common.attrs.aria.role.textbox" combine="choice">
    <ref name="aria.textbox"/>
  </define>
  <define name="aria.timer">
    <a:documentation>timer</a:documentation>
    <interleave>
      <ref name="aria.role.timer"/>
      <optional>
        <ref name="aria.state.expanded"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.timer">
    <attribute name="role">
      <value type="string">timer</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.timer"/>
  </define>
  <define name="aria.toolbar">
    <a:documentation>toolbar</a:documentation>
    <interleave>
      <ref name="aria.role.toolbar"/>
      <optional>
        <ref name="aria.prop.activedescendant"/>
      </optional>
      <optional>
        <ref name="aria.state.expanded"/>
      </optional>
      <optional>
        <ref name="aria.prop.orientation"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.toolbar">
    <attribute name="role">
      <value type="string">toolbar</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.toolbar"/>
  </define>
  <define name="common.attrs.aria.role.toolbar" combine="choice">
    <ref name="aria.toolbar"/>
  </define>
  <define name="aria.tooltip">
    <a:documentation>tooltip</a:documentation>
    <interleave>
      <ref name="aria.role.tooltip"/>
      <optional>
        <ref name="aria.state.expanded"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.tooltip">
    <attribute name="role">
      <value type="string">tooltip</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.tooltip"/>
  </define>
  <define name="aria.tree">
    <a:documentation>tree</a:documentation>
    <interleave>
      <ref name="aria.role.tree"/>
      <optional>
        <ref name="aria.prop.multiselectable"/>
      </optional>
      <optional>
        <!-- not inherited -->
        <ref name="aria.prop.activedescendant"/>
      </optional>
      <optional>
        <ref name="aria.state.expanded"/>
      </optional>
      <optional>
        <ref name="aria.prop.required"/>
      </optional>
      <optional>
        <ref name="aria.prop.orientation"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.tree">
    <attribute name="role">
      <value type="string">tree</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.tree"/>
  </define>
  <define name="common.attrs.aria.role.tree" combine="choice">
    <ref name="aria.tree"/>
  </define>
  <define name="aria.treegrid">
    <a:documentation>treegrid</a:documentation>
    <interleave>
      <ref name="aria.role.treegrid"/>
      <optional>
        <ref name="aria.prop.activedescendant"/>
      </optional>
      <optional>
        <ref name="aria.state.expanded"/>
      </optional>
      <optional>
        <ref name="aria.prop.level"/>
      </optional>
      <optional>
        <ref name="aria.prop.multiselectable"/>
      </optional>
      <optional>
        <ref name="aria.prop.readonly"/>
      </optional>
      <optional>
        <ref name="aria.prop.required"/>
      </optional>
      <optional>
        <ref name="aria.prop.orientation"/>
      </optional>
      <optional>
        <ref name="aria.prop.colcount"/>
      </optional>
      <optional>
        <ref name="aria.prop.rowcount"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.treegrid">
    <attribute name="role">
      <value type="string">treegrid</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.treegrid"/>
  </define>
  <define name="aria.treeitem">
    <a:documentation>treeitem</a:documentation>
    <interleave>
      <ref name="aria.role.treeitem"/>
      <optional>
        <ref name="aria.state.checked"/>
      </optional>
      <optional>
        <ref name="aria.state.expanded"/>
      </optional>
      <optional>
        <ref name="aria.prop.level"/>
      </optional>
      <optional>
        <ref name="aria.prop.posinset"/>
      </optional>
      <optional>
        <ref name="aria.state.selected"/>
      </optional>
      <optional>
        <ref name="aria.prop.setsize"/>
      </optional>
    </interleave>
  </define>
  <define name="aria.role.treeitem">
    <attribute name="role">
      <value type="string">treeitem</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.treeitem"/>
  </define>
  <define name="common.attrs.aria.role.treeitem" combine="choice">
    <ref name="aria.treeitem"/>
  </define>
  <!-- ##################################################################### -->
  <define name="aria.doc-abstract">
    <a:documentation>https://w3c.github.io/aria/aria/dpub.html</a:documentation>
    <ref name="aria.role.doc-abstract"/>
  </define>
  <define name="aria.role.doc-abstract">
    <attribute name="role">
      <value type="string">doc-abstract</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.doc-abstract"/>
  </define>
  <define name="common.attrs.aria.role.doc-abstract" combine="choice">
    <ref name="aria.doc-abstract"/>
  </define>
  <define name="aria.doc-acknowledgments">
    <ref name="aria.role.doc-acknowledgments"/>
  </define>
  <define name="aria.role.doc-acknowledgments">
    <attribute name="role">
      <value type="string">doc-acknowledgments</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.doc-acknowledgments"/>
  </define>
  <define name="common.attrs.aria.role.doc-acknowledgments" combine="choice">
    <ref name="aria.doc-acknowledgments"/>
  </define>
  <define name="aria.doc-afterword">
    <ref name="aria.role.doc-afterword"/>
  </define>
  <define name="aria.role.doc-afterword">
    <attribute name="role">
      <value type="string">doc-afterword</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.doc-afterword"/>
  </define>
  <define name="common.attrs.aria.role.doc-afterword" combine="choice">
    <ref name="aria.doc-afterword"/>
  </define>
  <define name="aria.doc-appendix">
    <ref name="aria.role.doc-appendix"/>
  </define>
  <define name="aria.role.doc-appendix">
    <attribute name="role">
      <value type="string">doc-appendix</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.doc-appendix"/>
  </define>
  <define name="common.attrs.aria.role.doc-appendix" combine="choice">
    <ref name="aria.doc-appendix"/>
  </define>
  <define name="aria.doc-backlink">
    <ref name="aria.role.doc-backlink"/>
  </define>
  <define name="aria.role.doc-backlink">
    <attribute name="role">
      <value type="string">doc-backlink</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.doc-backlink"/>
  </define>
  <define name="common.attrs.aria.role.doc-backlink" combine="choice">
    <ref name="aria.doc-backlink"/>
  </define>
  <define name="aria.doc-biblioentry">
    <ref name="aria.role.doc-biblioentry"/>
  </define>
  <define name="aria.role.doc-biblioentry">
    <attribute name="role">
      <value type="string">doc-biblioentry</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.doc-biblioentry"/>
  </define>
  <define name="common.attrs.aria.role.doc-biblioentry" combine="choice">
    <ref name="aria.doc-biblioentry"/>
  </define>
  <define name="aria.doc-bibliography">
    <ref name="aria.role.doc-bibliography"/>
  </define>
  <define name="aria.role.doc-bibliography">
    <attribute name="role">
      <value type="string">doc-bibliography</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.doc-bibliography"/>
  </define>
  <define name="common.attrs.aria.role.doc-bibliography" combine="choice">
    <ref name="aria.doc-bibliography"/>
  </define>
  <define name="aria.doc-biblioref">
    <ref name="aria.role.doc-biblioref"/>
  </define>
  <define name="aria.role.doc-biblioref">
    <attribute name="role">
      <value type="string">doc-biblioref</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.doc-biblioref"/>
  </define>
  <define name="common.attrs.aria.role.doc-biblioref" combine="choice">
    <ref name="aria.doc-biblioref"/>
  </define>
  <define name="aria.doc-chapter">
    <ref name="aria.role.doc-chapter"/>
  </define>
  <define name="aria.role.doc-chapter">
    <attribute name="role">
      <value type="string">doc-chapter</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.doc-chapter"/>
  </define>
  <define name="common.attrs.aria.role.doc-chapter" combine="choice">
    <ref name="aria.doc-chapter"/>
  </define>
  <define name="aria.doc-colophon">
    <ref name="aria.role.doc-colophon"/>
  </define>
  <define name="aria.role.doc-colophon">
    <attribute name="role">
      <value type="string">doc-colophon</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.doc-colophon"/>
  </define>
  <define name="common.attrs.aria.role.doc-colophon" combine="choice">
    <ref name="aria.doc-colophon"/>
  </define>
  <define name="aria.doc-conclusion">
    <ref name="aria.role.doc-conclusion"/>
  </define>
  <define name="aria.role.doc-conclusion">
    <attribute name="role">
      <value type="string">doc-conclusion</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.doc-conclusion"/>
  </define>
  <define name="common.attrs.aria.role.doc-conclusion" combine="choice">
    <ref name="aria.doc-conclusion"/>
  </define>
  <define name="aria.doc-cover">
    <ref name="aria.role.doc-cover"/>
  </define>
  <define name="aria.role.doc-cover">
    <attribute name="role">
      <value type="string">doc-cover</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.doc-cover"/>
  </define>
  <define name="common.attrs.aria.role.doc-cover" combine="choice">
    <ref name="aria.doc-cover"/>
  </define>
  <define name="aria.doc-credit">
    <ref name="aria.role.doc-credit"/>
  </define>
  <define name="aria.role.doc-credit">
    <attribute name="role">
      <value type="string">doc-credit</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.doc-credit"/>
  </define>
  <define name="common.attrs.aria.role.doc-credit" combine="choice">
    <ref name="aria.doc-credit"/>
  </define>
  <define name="aria.doc-credits">
    <ref name="aria.role.doc-credits"/>
  </define>
  <define name="aria.role.doc-credits">
    <attribute name="role">
      <value type="string">doc-credits</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.doc-credits"/>
  </define>
  <define name="common.attrs.aria.role.doc-credits" combine="choice">
    <ref name="aria.doc-credits"/>
  </define>
  <define name="aria.doc-dedication">
    <ref name="aria.role.doc-dedication"/>
  </define>
  <define name="aria.role.doc-dedication">
    <attribute name="role">
      <value type="string">doc-dedication</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.doc-dedication"/>
  </define>
  <define name="common.attrs.aria.role.doc-dedication" combine="choice">
    <ref name="aria.doc-dedication"/>
  </define>
  <define name="aria.doc-endnote">
    <ref name="aria.role.doc-endnote"/>
  </define>
  <define name="aria.role.doc-endnote">
    <attribute name="role">
      <value type="string">doc-endnote</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.doc-endnote"/>
  </define>
  <define name="common.attrs.aria.role.doc-endnote" combine="choice">
    <ref name="aria.doc-endnote"/>
  </define>
  <define name="aria.doc-endnotes">
    <ref name="aria.role.doc-endnotes"/>
  </define>
  <define name="aria.role.doc-endnotes">
    <attribute name="role">
      <value type="string">doc-endnotes</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.doc-endnotes"/>
  </define>
  <define name="common.attrs.aria.role.doc-endnotes" combine="choice">
    <ref name="aria.doc-endnotes"/>
  </define>
  <define name="aria.doc-epigraph">
    <ref name="aria.role.doc-epigraph"/>
  </define>
  <define name="aria.role.doc-epigraph">
    <attribute name="role">
      <value type="string">doc-epigraph</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.doc-epigraph"/>
  </define>
  <define name="common.attrs.aria.role.doc-epigraph" combine="choice">
    <ref name="aria.doc-epigraph"/>
  </define>
  <define name="aria.doc-epilogue">
    <ref name="aria.role.doc-epilogue"/>
  </define>
  <define name="aria.role.doc-epilogue">
    <attribute name="role">
      <value type="string">doc-epilogue</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.doc-epilogue"/>
  </define>
  <define name="common.attrs.aria.role.doc-epilogue" combine="choice">
    <ref name="aria.doc-epilogue"/>
  </define>
  <define name="aria.doc-errata">
    <ref name="aria.role.doc-errata"/>
  </define>
  <define name="aria.role.doc-errata">
    <attribute name="role">
      <value type="string">doc-errata</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.doc-errata"/>
  </define>
  <define name="common.attrs.aria.role.doc-errata" combine="choice">
    <ref name="aria.doc-errata"/>
  </define>
  <define name="aria.doc-example">
    <ref name="aria.role.doc-example"/>
  </define>
  <define name="aria.role.doc-example">
    <attribute name="role">
      <value type="string">doc-example</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.doc-example"/>
  </define>
  <define name="common.attrs.aria.role.doc-example" combine="choice">
    <ref name="aria.doc-example"/>
  </define>
  <define name="aria.doc-footnote">
    <ref name="aria.role.doc-footnote"/>
  </define>
  <define name="aria.role.doc-footnote">
    <attribute name="role">
      <value type="string">doc-footnote</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.doc-footnote"/>
  </define>
  <define name="common.attrs.aria.role.doc-footnote" combine="choice">
    <ref name="aria.doc-footnote"/>
  </define>
  <define name="aria.doc-foreword">
    <ref name="aria.role.doc-foreword"/>
  </define>
  <define name="aria.role.doc-foreword">
    <attribute name="role">
      <value type="string">doc-foreword</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.doc-foreword"/>
  </define>
  <define name="common.attrs.aria.role.doc-foreword" combine="choice">
    <ref name="aria.doc-foreword"/>
  </define>
  <define name="aria.doc-glossary">
    <ref name="aria.role.doc-glossary"/>
  </define>
  <define name="aria.role.doc-glossary">
    <attribute name="role">
      <value type="string">doc-glossary</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.doc-glossary"/>
  </define>
  <define name="common.attrs.aria.role.doc-glossary" combine="choice">
    <ref name="aria.doc-glossary"/>
  </define>
  <define name="aria.doc-glossref">
    <ref name="aria.role.doc-glossref"/>
  </define>
  <define name="aria.role.doc-glossref">
    <attribute name="role">
      <value type="string">doc-glossref</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.doc-glossref"/>
  </define>
  <define name="common.attrs.aria.role.doc-glossref" combine="choice">
    <ref name="aria.doc-glossref"/>
  </define>
  <define name="aria.doc-index">
    <ref name="aria.role.doc-index"/>
  </define>
  <define name="aria.role.doc-index">
    <attribute name="role">
      <value type="string">doc-index</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.doc-index"/>
  </define>
  <define name="common.attrs.aria.role.doc-index" combine="choice">
    <ref name="aria.doc-index"/>
  </define>
  <define name="aria.doc-introduction">
    <ref name="aria.role.doc-introduction"/>
  </define>
  <define name="aria.role.doc-introduction">
    <attribute name="role">
      <value type="string">doc-introduction</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.doc-introduction"/>
  </define>
  <define name="common.attrs.aria.role.doc-introduction" combine="choice">
    <ref name="aria.doc-introduction"/>
  </define>
  <define name="aria.doc-noteref">
    <ref name="aria.role.doc-noteref"/>
  </define>
  <define name="aria.role.doc-noteref">
    <attribute name="role">
      <value type="string">doc-noteref</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.doc-noteref"/>
  </define>
  <define name="common.attrs.aria.role.doc-noteref" combine="choice">
    <ref name="aria.doc-noteref"/>
  </define>
  <define name="aria.doc-notice">
    <ref name="aria.role.doc-notice"/>
  </define>
  <define name="aria.role.doc-notice">
    <attribute name="role">
      <value type="string">doc-notice</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.doc-notice"/>
  </define>
  <define name="common.attrs.aria.role.doc-notice" combine="choice">
    <ref name="aria.doc-notice"/>
  </define>
  <define name="aria.doc-pagebreak">
    <ref name="aria.role.doc-pagebreak"/>
  </define>
  <define name="aria.role.doc-pagebreak">
    <attribute name="role">
      <value type="string">doc-pagebreak</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.doc-pagebreak"/>
  </define>
  <define name="common.attrs.aria.role.doc-pagebreak" combine="choice">
    <ref name="aria.doc-pagebreak"/>
  </define>
  <define name="aria.doc-pagelist">
    <ref name="aria.role.doc-pagelist"/>
  </define>
  <define name="aria.role.doc-pagelist">
    <attribute name="role">
      <value type="string">doc-pagelist</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.doc-pagelist"/>
  </define>
  <define name="common.attrs.aria.role.doc-pagelist" combine="choice">
    <ref name="aria.doc-pagelist"/>
  </define>
  <define name="aria.doc-part">
    <ref name="aria.role.doc-part"/>
  </define>
  <define name="aria.role.doc-part">
    <attribute name="role">
      <value type="string">doc-part</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.doc-part"/>
  </define>
  <define name="common.attrs.aria.role.doc-part" combine="choice">
    <ref name="aria.doc-part"/>
  </define>
  <define name="aria.doc-preface">
    <ref name="aria.role.doc-preface"/>
  </define>
  <define name="aria.role.doc-preface">
    <attribute name="role">
      <value type="string">doc-preface</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.doc-preface"/>
  </define>
  <define name="common.attrs.aria.role.doc-preface" combine="choice">
    <ref name="aria.doc-preface"/>
  </define>
  <define name="aria.doc-prologue">
    <ref name="aria.role.doc-prologue"/>
  </define>
  <define name="aria.role.doc-prologue">
    <attribute name="role">
      <value type="string">doc-prologue</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.doc-prologue"/>
  </define>
  <define name="common.attrs.aria.role.doc-prologue" combine="choice">
    <ref name="aria.doc-prologue"/>
  </define>
  <define name="aria.doc-pullquote">
    <ref name="aria.role.doc-pullquote"/>
  </define>
  <define name="aria.role.doc-pullquote">
    <attribute name="role">
      <value type="string">doc-pullquote</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.doc-pullquote"/>
  </define>
  <define name="common.attrs.aria.role.doc-pullquote" combine="choice">
    <ref name="aria.doc-pullquote"/>
  </define>
  <define name="aria.doc-qna">
    <ref name="aria.role.doc-qna"/>
  </define>
  <define name="aria.role.doc-qna">
    <attribute name="role">
      <value type="string">doc-qna</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.doc-qna"/>
  </define>
  <define name="common.attrs.aria.role.doc-qna" combine="choice">
    <ref name="aria.doc-qna"/>
  </define>
  <define name="aria.doc-subtitle">
    <ref name="aria.role.doc-subtitle"/>
  </define>
  <define name="aria.role.doc-subtitle">
    <attribute name="role">
      <value type="string">doc-subtitle</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.doc-subtitle"/>
  </define>
  <define name="common.attrs.aria.role.doc-subtitle" combine="choice">
    <ref name="aria.doc-subtitle"/>
  </define>
  <define name="aria.doc-tip">
    <ref name="aria.role.doc-tip"/>
  </define>
  <define name="aria.role.doc-tip">
    <attribute name="role">
      <value type="string">doc-tip</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.doc-tip"/>
  </define>
  <define name="common.attrs.aria.role.doc-tip" combine="choice">
    <ref name="aria.doc-tip"/>
  </define>
  <define name="aria.doc-toc">
    <ref name="aria.role.doc-toc"/>
  </define>
  <define name="aria.role.doc-toc">
    <attribute name="role">
      <value type="string">doc-toc</value>
    </attribute>
  </define>
  <define name="common.attrs.aria" combine="choice">
    <ref name="aria.doc-toc"/>
  </define>
  <define name="common.attrs.aria.role.doc-toc" combine="choice">
    <ref name="aria.doc-toc"/>
  </define>
  <!-- Inlined from microdata.rng -->
<!-- ##################################################################### -->
  <!-- ##################################################################### -->
  <define name="common.attrs.microdata">
    <a:documentation> RELAX NG Schema for HTML 5: Microdata                             #</a:documentation>
    <interleave>
      <optional>
        <ref name="common.attrs.microdata.itemref"/>
      </optional>
      <optional>
        <ref name="common.attrs.microdata.itemprop"/>
      </optional>
      <optional>
        <ref name="common.attrs.microdata.itemscope"/>
      </optional>
      <optional>
        <ref name="common.attrs.microdata.itemtype"/>
      </optional>
      <optional>
        <ref name="common.attrs.microdata.itemid"/>
      </optional>
    </interleave>
  </define>
  <define name="common.attrs.microdata.itemref">
    <attribute name="itemref">
      <ref name="common.data.idrefs"/>
    </attribute>
  </define>
  <define name="common.attrs.microdata.itemprop">
    <attribute name="itemprop">
      <ref name="common.data.microdata-properties"/>
    </attribute>
  </define>
  <define name="common.attrs.microdata.itemscope">
    <attribute name="itemscope">
      <choice>
        <value>itemscope</value>
        <value/>
      </choice>
    </attribute>
  </define>
  <define name="common.attrs.microdata.itemtype">
    <attribute name="itemtype">
      <list>
        <oneOrMore>
          <ref name="common.data.uri.absolute"/>
        </oneOrMore>
      </list>
    </attribute>
  </define>
  <define name="common.attrs.microdata.itemid">
    <attribute name="itemid">
      <ref name="common.data.uri"/>
    </attribute>
  </define>
  <define name="common.attrs" combine="interleave">
    <ref name="common.attrs.microdata"/>
  </define>
  <define name="a.attrs" combine="interleave">
    <ref name="common.attrs.microdata"/>
  </define>
  <define name="area.attrs" combine="interleave">
    <ref name="common.attrs.microdata"/>
  </define>
  <define name="base.attrs" combine="interleave">
    <ref name="common.attrs.microdata"/>
  </define>
  <define name="link.elem.phrasing">
    <a:documentation>URL-valued Property Metadata: &lt;link itemprop&gt;</a:documentation>
    <element name="link">
      <interleave>
        <ref name="link.inner"/>
        <ref name="link.phrasing.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="link.phrasing.attrs">
    <interleave>
      <ref name="common.attrs.basic"/>
      <ref name="common.attrs.i18n"/>
      <ref name="common.attrs.present"/>
      <ref name="common.attrs.other"/>
      <ref name="common.attrs.microdata.itemprop"/>
      <optional>
        <ref name="common.attrs.microdata.itemref"/>
      </optional>
      <optional>
        <ref name="common.attrs.microdata.itemscope"/>
      </optional>
      <optional>
        <ref name="common.attrs.microdata.itemtype"/>
      </optional>
      <optional>
        <ref name="common.attrs.microdata.itemid"/>
      </optional>
      <ref name="shared-hyperlink.attrs.href"/>
      <optional>
        <ref name="shared-hyperlink.attrs.hreflang"/>
      </optional>
      <optional>
        <ref name="shared-hyperlink.attrs.media"/>
      </optional>
      <optional>
        <ref name="shared-hyperlink.attrs.type"/>
      </optional>
      <optional>
        <ref name="link.attrs.sizes"/>
      </optional>
      <optional>
        <!-- 	link.attrs.title included in common.attrs -->
        <ref name="embedded.content.attrs.crossorigin"/>
      </optional>
      <optional>
        <choice>
          <ref name="common.attrs.aria.role.link"/>
          <ref name="common.attrs.aria.role.presentation"/>
          <ref name="common.attrs.aria.role.menuitem"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="common.elem.phrasing" combine="choice">
    <ref name="link.elem.phrasing"/>
  </define>
  <define name="link.attrs.rel" combine="choice">
    <a:documentation>&lt;link&gt; element in head, extensions</a:documentation>
    <ref name="common.attrs.microdata.itemprop"/>
  </define>
  <define name="link.attrs" combine="interleave">
    <optional>
      <ref name="common.attrs.microdata.itemref"/>
    </optional>
  </define>
  <define name="link.attrs" combine="interleave">
    <optional>
      <ref name="common.attrs.microdata.itemscope"/>
    </optional>
  </define>
  <define name="link.attrs" combine="interleave">
    <optional>
      <ref name="common.attrs.microdata.itemtype"/>
    </optional>
  </define>
  <define name="link.attrs" combine="interleave">
    <optional>
      <ref name="common.attrs.microdata.itemid"/>
    </optional>
  </define>
  <define name="meta.itemprop.elem">
    <a:documentation>Property Metadata: &lt;meta itemprop&gt;</a:documentation>
    <element name="meta">
      <interleave>
        <ref name="meta.inner"/>
        <ref name="meta.itemprop.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="meta.itemprop.attrs">
    <interleave>
      <ref name="common.attrs.basic"/>
      <ref name="common.attrs.i18n"/>
      <ref name="common.attrs.present"/>
      <ref name="common.attrs.other"/>
      <ref name="common.attrs.microdata.itemprop"/>
      <optional>
        <ref name="common.attrs.microdata.itemref"/>
      </optional>
      <optional>
        <ref name="common.attrs.microdata.itemscope"/>
      </optional>
      <optional>
        <ref name="common.attrs.microdata.itemtype"/>
      </optional>
      <optional>
        <ref name="common.attrs.microdata.itemid"/>
      </optional>
      <ref name="meta.itemprop.attrs.content"/>
    </interleave>
  </define>
  <define name="meta.itemprop.attrs.content">
    <attribute name="content">
      <data type="string"/>
    </attribute>
  </define>
  <define name="common.elem.metadata" combine="choice">
    <ref name="meta.itemprop.elem"/>
  </define>
  <define name="common.elem.phrasing" combine="choice">
    <ref name="meta.itemprop.elem"/>
  </define>
  <!-- Inlined from web-components.rng -->
<!-- ##################################################################### -->
  <define name="template.elem">
    <a:documentation> RELAX NG Schema for HTML 5: Web Components</a:documentation>
    <!-- ##################################################################### -->
    <a:documentation>Templates: &lt;template&gt;</a:documentation>
    <element name="template">
      <interleave>
        <ref name="template.inner"/>
        <ref name="template.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="template.attrs">
    <ref name="common.attrs"/>
  </define>
  <define name="template.attrs.shadowrootmode">
    <attribute name="shadowrootmode">
      <choice>
        <value>open</value>
        <value>closed</value>
      </choice>
    </attribute>
  </define>
  <define name="template.attrs.shadowrootdelegatesfocus">
    <attribute name="shadowrootdelegatesfocus">
      <choice>
        <value>true</value>
        <value>false</value>
      </choice>
    </attribute>
  </define>
  <define name="template.attrs.shadowrootclonable">
    <attribute name="shadowrootclonable">
      <choice>
        <value>true</value>
        <value>false</value>
      </choice>
    </attribute>
  </define>
  <define name="template.attrs.shadowrootserializable">
    <attribute name="shadowrootserializable">
      <choice>
        <value>true</value>
        <value>false</value>
      </choice>
    </attribute>
  </define>
  <define name="template.attrs.shadowrootcustomelementregistry">
    <attribute name="shadowrootcustomelementregistry">
      <choice>
        <value>true</value>
        <value>false</value>
      </choice>
    </attribute>
  </define>
  <define name="template.inner">
    <choice>
      <ref name="common.inner.metadata"/>
      <ref name="common.inner.flow"/>
      <ref name="ol.inner"/>
      <ref name="ul.inner"/>
      <ref name="dl.inner"/>
      <ref name="figure.inner"/>
      <ref name="ruby.inner"/>
      <ref name="object.inner.flow"/>
      <ref name="object.inner.phrasing"/>
      <ref name="video.inner.flow"/>
      <ref name="video.inner.phrasing"/>
      <ref name="audio.inner.flow"/>
      <ref name="audio.inner.phrasing"/>
      <ref name="table.inner"/>
      <ref name="colgroup.inner"/>
      <ref name="thead.inner"/>
      <ref name="tbody.inner"/>
      <ref name="tfoot.inner"/>
      <ref name="tr.inner"/>
      <ref name="fieldset.inner"/>
      <ref name="select.inner"/>
      <ref name="details.inner"/>
    </choice>
  </define>
  <define name="common.elem.metadata" combine="choice">
    <ref name="template.elem"/>
  </define>
  <define name="common.elem.phrasing" combine="choice">
    <ref name="template.elem"/>
  </define>
  <define name="common.elem.script-supporting" combine="choice">
    <ref name="template.elem"/>
  </define>
  <!-- also allow <script> wherever <template> is allowed -->
  <define name="common.elem.script-supporting" combine="choice">
    <ref name="script.elem"/>
  </define>
  <define name="common.elem.flow" combine="choice">
    <a:documentation>Custom elements: &lt;foo-bar&gt;</a:documentation>
    <element>
      <nsName ns="http://n.validator.nu/custom-elements/"/>
      <interleave>
        <ref name="common.inner.transparent.flow"/>
        <zeroOrMore>
          <ref name="attr.any"/>
        </zeroOrMore>
      </interleave>
    </element>
  </define>
  <define name="common.elem.phrasing" combine="choice">
    <element>
      <nsName ns="http://n.validator.nu/custom-elements/"/>
      <interleave>
        <ref name="common.inner.phrasing"/>
        <zeroOrMore>
          <ref name="attr.any"/>
        </zeroOrMore>
      </interleave>
    </element>
  </define>
  <define name="attr.any">
    <attribute>
      <anyName/>
    </attribute>
  </define>
  <define name="common.attrs.other" combine="interleave">
    <a:documentation>The "is" attribute</a:documentation>
    <optional>
      <attribute name="is">
        <ref name="common.data.custom.element.name"/>
      </attribute>
    </optional>
  </define>
  <define name="slot.elem.flow">
    <a:documentation>Slot: &lt;slot&gt;</a:documentation>
    <element name="slot">
      <interleave>
        <ref name="slot.inner.flow"/>
        <ref name="slot.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="slot.elem.phrasing">
    <element name="slot">
      <interleave>
        <ref name="slot.inner.phrasing"/>
        <ref name="slot.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="slot.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <ref name="slot.attrs.name"/>
      </optional>
      <optional>
        <ref name="common.attrs.aria"/>
      </optional>
    </interleave>
  </define>
  <define name="slot.attrs.name">
    <attribute name="name">
      <data type="string"/>
    </attribute>
  </define>
  <define name="slot.inner.flow">
    <ref name="common.inner.transparent.flow"/>
  </define>
  <define name="slot.inner.phrasing">
    <ref name="common.inner.phrasing"/>
  </define>
  <define name="common.elem.flow" combine="choice">
    <ref name="slot.elem.flow"/>
  </define>
  <define name="common.elem.phrasing" combine="choice">
    <ref name="slot.elem.phrasing"/>
  </define>
  <define name="common.attrs.other" combine="interleave">
    <a:documentation>The "slot" attribute</a:documentation>
    <optional>
      <attribute name="slot"/>
    </optional>
  </define>
  <!-- Inlined from rdfa.rng -->
<define name="nonRDFaLite">
    <empty/>
  </define>
  <!-- ##################################################################### -->
  <!-- ##################################################################### -->
  <define name="common.data.rdfa.safecurie">
    <a:documentation> RELAX NG Schema for HTML 5: RDFa 1.1 and RDFa Lite 1.1            #</a:documentation>
    <!-- ##################################################################### -->
    <!-- ##################################################################### -->
    <a:documentation> RDFa Datatypes                                                    #</a:documentation>
    <data type="string">
      <param name="pattern">\\[(([\\i-[:]][\\c-[:]]*)?:?)[^\\s]*\\]</param>
      <param name="minLength">2</param>
    </data>
  </define>
  <define name="common.data.rdfa.curie">
    <data type="string">
      <param name="pattern">(([\\i-[:]][\\c-[:]]*)?:)[^\\s]*</param>
      <param name="minLength">1</param>
    </data>
  </define>
  <define name="common.data.rdfa.term">
    <data type="string">
      <param name="pattern">[\\i-[:]][/\\c-[:]]*</param>
    </data>
  </define>
  <!-- ##################################################################### -->
  <!-- ##################################################################### -->
  <define name="common.attrs.rdfa" combine="interleave">
    <a:documentation> RDFa Attributes                                                   #</a:documentation>
    <interleave>
      <optional>
        <ref name="common.attrs.rdfa.about"/>
      </optional>
      <optional>
        <ref name="common.attrs.rdfa.prefix"/>
      </optional>
      <optional>
        <ref name="common.attrs.rdfa.property"/>
      </optional>
      <optional>
        <ref name="common.attrs.rdfa.typeof"/>
      </optional>
      <optional>
        <ref name="common.attrs.rdfa.vocab"/>
      </optional>
      <optional>
        <ref name="common.attrs.rdfa.content"/>
      </optional>
      <optional>
        <ref name="common.attrs.rdfa.datatype"/>
      </optional>
      <optional>
        <ref name="common.attrs.rdfa.rel"/>
      </optional>
      <optional>
        <ref name="common.attrs.rdfa.resource"/>
      </optional>
      <optional>
        <ref name="common.attrs.rdfa.rev"/>
      </optional>
      <optional>
        <ref name="common.attrs.rdfa.inlist"/>
      </optional>
    </interleave>
  </define>
  <define name="common.attrs.rdfa.prefix">
    <attribute name="prefix">
      <choice>
        <data type="string">
          <param name="pattern">\\s*([\\i-[:]][\\c-[:]]*: [^ ]+)(\\s+[\\i-[:]][\\c-[:]]*: [^ ]+)*\\s*</param>
        </data>
        <value type="string" datatypeLibrary=""/>
      </choice>
    </attribute>
  </define>
  <define name="common.attrs.rdfa.property">
    <attribute name="property">
      <choice>
        <list>
          <oneOrMore>
            <choice>
              <ref name="common.data.rdfa.term"/>
              <ref name="common.data.rdfa.curie"/>
              <ref name="common.data.uri.absolute"/>
            </choice>
          </oneOrMore>
        </list>
        <value type="string" datatypeLibrary=""/>
      </choice>
    </attribute>
  </define>
  <define name="common.attrs.rdfa.resource">
    <attribute name="resource">
      <choice>
        <ref name="common.data.rdfa.safecurie"/>
        <ref name="common.data.rdfa.curie"/>
        <ref name="common.data.uri"/>
      </choice>
    </attribute>
  </define>
  <define name="common.attrs.rdfa.typeof">
    <attribute name="typeof">
      <choice>
        <list>
          <oneOrMore>
            <choice>
              <ref name="common.data.rdfa.term"/>
              <ref name="common.data.rdfa.curie"/>
              <ref name="common.data.uri.absolute"/>
            </choice>
          </oneOrMore>
        </list>
        <value type="string" datatypeLibrary=""/>
      </choice>
    </attribute>
  </define>
  <define name="common.attrs.rdfa.vocab">
    <attribute name="vocab">
      <choice>
        <ref name="common.data.uri.absolute"/>
        <value type="string" datatypeLibrary=""/>
      </choice>
    </attribute>
  </define>
  <define name="common.attrs.rdfa.about">
    <interleave>
      <attribute name="about">
        <choice>
          <ref name="common.data.rdfa.safecurie"/>
          <ref name="common.data.rdfa.curie"/>
          <ref name="common.data.uri"/>
        </choice>
      </attribute>
      <ref name="nonRDFaLite"/>
    </interleave>
  </define>
  <define name="common.attrs.rdfa.content">
    <interleave>
      <attribute name="content">
        <data type="string" datatypeLibrary=""/>
      </attribute>
      <ref name="nonRDFaLite"/>
    </interleave>
  </define>
  <define name="common.attrs.rdfa.datatype">
    <interleave>
      <attribute name="datatype">
        <choice>
          <ref name="common.data.rdfa.term"/>
          <ref name="common.data.rdfa.curie"/>
          <ref name="common.data.uri.absolute"/>
          <value type="string" datatypeLibrary=""/>
        </choice>
      </attribute>
      <ref name="nonRDFaLite"/>
    </interleave>
  </define>
  <define name="common.attrs.rdfa.rel">
    <interleave>
      <attribute name="rel">
        <choice>
          <list>
            <oneOrMore>
              <choice>
                <ref name="common.data.rdfa.term"/>
                <ref name="common.data.rdfa.curie"/>
                <ref name="common.data.uri.absolute"/>
              </choice>
            </oneOrMore>
          </list>
          <value type="string" datatypeLibrary=""/>
        </choice>
      </attribute>
      <ref name="nonRDFaLite"/>
    </interleave>
  </define>
  <define name="common.attrs.rdfa.rev">
    <interleave>
      <attribute name="rev">
        <choice>
          <list>
            <oneOrMore>
              <choice>
                <ref name="common.data.rdfa.term"/>
                <ref name="common.data.rdfa.curie"/>
                <ref name="common.data.uri.absolute"/>
              </choice>
            </oneOrMore>
          </list>
          <value type="string" datatypeLibrary=""/>
        </choice>
      </attribute>
      <ref name="nonRDFaLite"/>
    </interleave>
  </define>
  <define name="common.attrs.rdfa.inlist">
    <interleave>
      <attribute name="inlist">
        <data type="string" datatypeLibrary=""/>
      </attribute>
      <ref name="nonRDFaLite"/>
    </interleave>
  </define>
  <define name="common.attrs.rdfa.no-rel" combine="interleave">
    <interleave>
      <optional>
        <ref name="common.attrs.rdfa.about"/>
      </optional>
      <optional>
        <ref name="common.attrs.rdfa.prefix"/>
      </optional>
      <optional>
        <ref name="common.attrs.rdfa.property"/>
      </optional>
      <optional>
        <ref name="common.attrs.rdfa.typeof"/>
      </optional>
      <optional>
        <ref name="common.attrs.rdfa.vocab"/>
      </optional>
      <optional>
        <ref name="common.attrs.rdfa.content"/>
      </optional>
      <optional>
        <ref name="common.attrs.rdfa.datatype"/>
      </optional>
      <optional>
        <ref name="common.attrs.rdfa.resource"/>
      </optional>
      <optional>
        <ref name="common.attrs.rdfa.rev"/>
      </optional>
      <optional>
        <ref name="common.attrs.rdfa.inlist"/>
      </optional>
    </interleave>
  </define>
  <define name="common.attrs.rdfa.no-rel-rev" combine="interleave">
    <interleave>
      <optional>
        <ref name="common.attrs.rdfa.about"/>
      </optional>
      <optional>
        <ref name="common.attrs.rdfa.prefix"/>
      </optional>
      <optional>
        <ref name="common.attrs.rdfa.property"/>
      </optional>
      <optional>
        <ref name="common.attrs.rdfa.typeof"/>
      </optional>
      <optional>
        <ref name="common.attrs.rdfa.vocab"/>
      </optional>
      <optional>
        <ref name="common.attrs.rdfa.content"/>
      </optional>
      <optional>
        <ref name="common.attrs.rdfa.datatype"/>
      </optional>
      <optional>
        <ref name="common.attrs.rdfa.resource"/>
      </optional>
      <optional>
        <ref name="common.attrs.rdfa.inlist"/>
      </optional>
    </interleave>
  </define>
  <define name="common.attrs.rdfa.no-content-noproperty" combine="interleave">
    <interleave>
      <optional>
        <ref name="common.attrs.rdfa.about"/>
      </optional>
      <optional>
        <ref name="common.attrs.rdfa.prefix"/>
      </optional>
      <optional>
        <ref name="common.attrs.rdfa.typeof"/>
      </optional>
      <optional>
        <ref name="common.attrs.rdfa.vocab"/>
      </optional>
      <optional>
        <ref name="common.attrs.rdfa.datatype"/>
      </optional>
      <optional>
        <ref name="common.attrs.rdfa.resource"/>
      </optional>
      <optional>
        <ref name="common.attrs.rdfa.inlist"/>
      </optional>
    </interleave>
  </define>
  <define name="common.attrs" combine="interleave">
    <ref name="common.attrs.rdfa"/>
  </define>
  <define name="a.attrs" combine="interleave">
    <ref name="common.attrs.rdfa.no-rel-rev"/>
  </define>
  <define name="area.attrs" combine="interleave">
    <ref name="common.attrs.rdfa.no-rel"/>
  </define>
  <define name="base.attrs" combine="interleave">
    <ref name="common.attrs.rdfa.no-rel"/>
  </define>
  <define name="link.rdfa.elem.metadata">
    <element name="link">
      <interleave>
        <ref name="link.inner"/>
        <ref name="link.rdfa.attrs.metadata"/>
      </interleave>
    </element>
  </define>
  <define name="link.rdfa.elem.phrasing">
    <element name="link">
      <interleave>
        <ref name="link.inner"/>
        <ref name="link.rdfa.attrs.phrasing"/>
      </interleave>
    </element>
  </define>
  <define name="link.rdfa.attrs.metadata">
    <interleave>
      <ref name="common.attrs.basic"/>
      <ref name="common.attrs.i18n"/>
      <ref name="common.attrs.present"/>
      <ref name="common.attrs.other"/>
      <choice>
        <interleave>
          <ref name="common.attrs.rdfa.property"/>
          <optional>
            <ref name="link.attrs.rel"/>
          </optional>
        </interleave>
        <interleave>
          <optional>
            <ref name="common.attrs.rdfa.property"/>
          </optional>
          <ref name="link.attrs.rel"/>
        </interleave>
      </choice>
      <optional>
        <ref name="common.attrs.rdfa.about"/>
      </optional>
      <optional>
        <ref name="common.attrs.rdfa.prefix"/>
      </optional>
      <optional>
        <ref name="common.attrs.rdfa.typeof"/>
      </optional>
      <optional>
        <ref name="common.attrs.rdfa.vocab"/>
      </optional>
      <optional>
        <ref name="common.attrs.rdfa.content"/>
      </optional>
      <optional>
        <ref name="common.attrs.rdfa.datatype"/>
      </optional>
      <choice>
        <interleave>
          <ref name="common.attrs.rdfa.resource"/>
          <optional>
            <ref name="link.attrs.href"/>
          </optional>
        </interleave>
        <interleave>
          <optional>
            <ref name="common.attrs.rdfa.resource"/>
          </optional>
          <ref name="link.attrs.href"/>
        </interleave>
      </choice>
      <optional>
        <ref name="common.attrs.rdfa.rev"/>
      </optional>
      <optional>
        <ref name="common.attrs.rdfa.inlist"/>
      </optional>
      <optional>
        <ref name="shared-hyperlink.attrs.hreflang"/>
      </optional>
      <optional>
        <ref name="shared-hyperlink.attrs.media"/>
      </optional>
      <optional>
        <ref name="shared-hyperlink.attrs.type"/>
      </optional>
      <optional>
        <ref name="link.attrs.sizes"/>
      </optional>
      <optional>
        <ref name="link.attrs.as"/>
      </optional>
      <optional>
        <!-- 	link.attrs.title included in common.attrs -->
        <ref name="embedded.content.attrs.crossorigin"/>
      </optional>
      <optional>
        <choice>
          <ref name="common.attrs.aria.role.link"/>
          <ref name="common.attrs.aria.role.presentation"/>
          <ref name="common.attrs.aria.role.menuitem"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="link.rdfa.attrs.phrasing">
    <interleave>
      <ref name="common.attrs.basic"/>
      <ref name="common.attrs.i18n"/>
      <ref name="common.attrs.present"/>
      <ref name="common.attrs.other"/>
      <ref name="common.attrs.rdfa.property"/>
      <optional>
        <ref name="link.attrs.rel"/>
      </optional>
      <choice>
        <interleave>
          <ref name="common.attrs.rdfa.resource"/>
          <optional>
            <ref name="link.attrs.href"/>
          </optional>
        </interleave>
        <interleave>
          <optional>
            <ref name="common.attrs.rdfa.resource"/>
          </optional>
          <ref name="link.attrs.href"/>
        </interleave>
      </choice>
      <optional>
        <ref name="common.attrs.rdfa.about"/>
      </optional>
      <optional>
        <ref name="common.attrs.rdfa.prefix"/>
      </optional>
      <optional>
        <ref name="common.attrs.rdfa.typeof"/>
      </optional>
      <optional>
        <ref name="common.attrs.rdfa.vocab"/>
      </optional>
      <optional>
        <ref name="common.attrs.rdfa.content"/>
      </optional>
      <optional>
        <ref name="common.attrs.rdfa.datatype"/>
      </optional>
      <optional>
        <ref name="common.attrs.rdfa.rev"/>
      </optional>
      <optional>
        <ref name="common.attrs.rdfa.inlist"/>
      </optional>
      <optional>
        <ref name="shared-hyperlink.attrs.hreflang"/>
      </optional>
      <optional>
        <ref name="shared-hyperlink.attrs.media"/>
      </optional>
      <optional>
        <ref name="shared-hyperlink.attrs.type"/>
      </optional>
      <optional>
        <ref name="link.attrs.sizes"/>
      </optional>
      <optional>
        <!-- 	link.attrs.title included in common.attrs -->
        <ref name="embedded.content.attrs.crossorigin"/>
      </optional>
      <optional>
        <choice>
          <ref name="common.attrs.aria.role.link"/>
          <ref name="common.attrs.aria.role.presentation"/>
          <ref name="common.attrs.aria.role.menuitem"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="common.elem.metadata" combine="choice">
    <ref name="link.rdfa.elem.metadata"/>
  </define>
  <define name="common.elem.phrasing" combine="choice">
    <ref name="link.rdfa.elem.phrasing"/>
  </define>
  <define name="meta.property.elem">
    <a:documentation>&lt;meta property=foo content=bar&gt; in head ("name" attribute optional)</a:documentation>
    <element name="meta">
      <interleave>
        <ref name="meta.inner"/>
        <ref name="meta.property.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="meta.property.attrs">
    <interleave>
      <ref name="common.attrs.basic"/>
      <ref name="common.attrs.i18n"/>
      <ref name="common.attrs.present"/>
      <ref name="common.attrs.other"/>
      <optional>
        <ref name="meta.name.attrs.name"/>
      </optional>
      <ref name="common.attrs.rdfa.property"/>
      <ref name="meta.name.attrs.content"/>
    </interleave>
  </define>
  <define name="common.elem.metadata" combine="choice">
    <ref name="meta.property.elem"/>
  </define>
  <define name="meta.property-no-name.elem">
    <a:documentation>&lt;meta property=foo content=bar&gt; in body ("name" attribute disallowed)</a:documentation>
    <element name="meta">
      <interleave>
        <ref name="meta.inner"/>
        <ref name="meta.property-no-name.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="meta.property-no-name.attrs">
    <interleave>
      <ref name="common.attrs.basic"/>
      <ref name="common.attrs.i18n"/>
      <ref name="common.attrs.present"/>
      <ref name="common.attrs.other"/>
      <ref name="common.attrs.rdfa.property"/>
      <ref name="meta.name.attrs.content"/>
      <optional>
        <choice>
          <ref name="common.attrs.aria.role.presentation"/>
          <ref name="common.attrs.aria.role.menuitem"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="common.elem.phrasing" combine="choice">
    <ref name="meta.property-no-name.elem"/>
  </define>
  <define name="meta.property.attrs" combine="interleave">
    <ref name="common.attrs.rdfa.no-content-noproperty"/>
  </define>
  <define name="meta.property-no-name.attrs" combine="interleave">
    <ref name="common.attrs.rdfa.no-content-noproperty"/>
  </define>
  <define name="meta.name.attrs" combine="interleave">
    <ref name="common.attrs.rdfa.no-content-noproperty"/>
  </define>
  <!-- More tweaks for W3C-allowed features -->
  <define name="table.attrs" combine="interleave">
    <optional>
      <attribute name="border">
        <choice>
          <value/>
          <value>1</value>
        </choice>
      </attribute>
    </optional>
  </define>

    <a:documentation> RELAX NG Schema for EPUB: EPUB XHTML (+ SVG, + MathML)            #</a:documentation>
  
  <!-- Inlined from epub-svg-forgiving-inc.rng -->
<!-- ##################################################################### -->
  <define name="svg">
    <a:documentation> RELAX NG Schema for EPUB: EPUB SVG forgiving grammar check        #</a:documentation>
    <!-- ##################################################################### -->
    <!--
      The schema:
      - checks the \`id\` attribute datatype
      - restricts the content model of the \`title\` and \`foreignObject\`,
        following the EPUB SVG restrictions
      - checks that \`epub:type\` is only used on allowed elements
        (i.e. structural, shape, and text elements)
      Ohterwise, it does not report SVG validation errors.
    -->
    <a:documentation>Root Element: &lt;svg&gt;</a:documentation>
    <element name="svg">
      <interleave>
        <ref name="svg.inner"/>
        <ref name="svg.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="svg.attrs">
    <ref name="svg.epubtype.allowed.attrs"/>
  </define>
  <define name="svg.inner">
    <ref name="svg.any.inner"/>
  </define>
  <!-- ID attribute is defined specifically, for type checking -->
  <define name="svg.attr.id">
    <a:documentation>Attributes</a:documentation>
    <attribute name="id">
      <ref name="datatype.html5.token"/>
    </attribute>
  </define>
  <!-- Any other attribute -->
  <define name="svg.generic.attr">
    <attribute>
      <anyName>
        <except>
          <name ns="">id</name>
          <nsName ns="http://www.idpf.org/2007/ops"/>
        </except>
      </anyName>
    </attribute>
  </define>
  <!-- Attribute list of elements where \`epub:type\` is allowed -->
  <define name="svg.epubtype.allowed.attrs">
    <interleave>
      <optional>
        <ref name="epub.type.attr"/>
      </optional>
      <optional>
        <ref name="svg.attr.id"/>
      </optional>
      <zeroOrMore>
        <ref name="svg.generic.attr"/>
      </zeroOrMore>
    </interleave>
  </define>
  <!-- Attribute list of elements where \`epub:type\` is forbidden -->
  <define name="svg.epubtype.forbidden.attrs">
    <interleave>
      <optional>
        <ref name="svg.attr.id"/>
      </optional>
      <zeroOrMore>
        <ref name="svg.generic.attr"/>
      </zeroOrMore>
    </interleave>
  </define>
  <define name="svg.restricted.elem">
    <a:documentation>Restricted Elements</a:documentation>
    <choice>
      <ref name="svg.foreignObject.elem"/>
      <ref name="svg.title.elem"/>
    </choice>
  </define>
  <define name="svg.foreignObject.elem">
    <a:documentation>Restricted Element: \`foreignObject\`</a:documentation>
    <element name="foreignObject">
      <interleave>
        <ref name="svg.foreignObject.inner"/>
        <ref name="svg.foreignObject.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="svg.foreignObject.attrs">
    <ref name="svg.epubtype.forbidden.attrs"/>
  </define>
  <define name="svg.foreignObject.inner">
    <ref name="common.inner.flow"/>
  </define>
  <define name="svg.title.elem">
    <a:documentation>Restricted Element: \`title\`</a:documentation>
    <element name="title">
      <interleave>
        <ref name="svg.title.inner"/>
        <ref name="svg.title.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="svg.title.attrs">
    <ref name="svg.epubtype.forbidden.attrs"/>
  </define>
  <define name="svg.title.inner">
    <ref name="common.inner.anyhtml"/>
  </define>
  <!--
    the elements where \`epub:type\` is allowed and that have no
    specific content model defined anove.
    
    Note: an element in this list also needs to be added to the
    exception clause in the \`svg.anyother.elem\` class
  -->
  <define name="svg.renderable.elem">
    <a:documentation>Other elements where \`epub:type\` is allowed</a:documentation>
    <choice>
      <element name="a">
        <interleave>
          <ref name="svg.any.inner"/>
          <ref name="svg.epubtype.allowed.attrs"/>
        </interleave>
      </element>
      <element name="audio">
        <interleave>
          <ref name="svg.any.inner"/>
          <ref name="svg.epubtype.allowed.attrs"/>
        </interleave>
      </element>
      <element name="canvas">
        <interleave>
          <ref name="svg.any.inner"/>
          <ref name="svg.epubtype.allowed.attrs"/>
        </interleave>
      </element>
      <element name="circle">
        <interleave>
          <ref name="svg.any.inner"/>
          <ref name="svg.epubtype.allowed.attrs"/>
        </interleave>
      </element>
      <element name="ellipse">
        <interleave>
          <ref name="svg.any.inner"/>
          <ref name="svg.epubtype.allowed.attrs"/>
        </interleave>
      </element>
      <element name="g">
        <interleave>
          <ref name="svg.any.inner"/>
          <ref name="svg.epubtype.allowed.attrs"/>
        </interleave>
      </element>
      <element name="iframe">
        <interleave>
          <ref name="svg.any.inner"/>
          <ref name="svg.epubtype.allowed.attrs"/>
        </interleave>
      </element>
      <element name="image">
        <interleave>
          <ref name="svg.any.inner"/>
          <ref name="svg.epubtype.allowed.attrs"/>
        </interleave>
      </element>
      <element name="line">
        <interleave>
          <ref name="svg.any.inner"/>
          <ref name="svg.epubtype.allowed.attrs"/>
        </interleave>
      </element>
      <element name="path">
        <interleave>
          <ref name="svg.any.inner"/>
          <ref name="svg.epubtype.allowed.attrs"/>
        </interleave>
      </element>
      <element name="polygon">
        <interleave>
          <ref name="svg.any.inner"/>
          <ref name="svg.epubtype.allowed.attrs"/>
        </interleave>
      </element>
      <element name="polyline">
        <interleave>
          <ref name="svg.any.inner"/>
          <ref name="svg.epubtype.allowed.attrs"/>
        </interleave>
      </element>
      <element name="rect">
        <interleave>
          <ref name="svg.any.inner"/>
          <ref name="svg.epubtype.allowed.attrs"/>
        </interleave>
      </element>
      <element name="svg">
        <interleave>
          <ref name="svg.any.inner"/>
          <ref name="svg.epubtype.allowed.attrs"/>
        </interleave>
      </element>
      <element name="switch">
        <interleave>
          <ref name="svg.any.inner"/>
          <ref name="svg.epubtype.allowed.attrs"/>
        </interleave>
      </element>
      <element name="symbol">
        <interleave>
          <ref name="svg.any.inner"/>
          <ref name="svg.epubtype.allowed.attrs"/>
        </interleave>
      </element>
      <element name="text">
        <interleave>
          <ref name="svg.any.inner"/>
          <ref name="svg.epubtype.allowed.attrs"/>
        </interleave>
      </element>
      <element name="textPath">
        <interleave>
          <ref name="svg.any.inner"/>
          <ref name="svg.epubtype.allowed.attrs"/>
        </interleave>
      </element>
      <element name="tspan">
        <interleave>
          <ref name="svg.any.inner"/>
          <ref name="svg.epubtype.allowed.attrs"/>
        </interleave>
      </element>
      <element name="unknown">
        <interleave>
          <ref name="svg.any.inner"/>
          <ref name="svg.epubtype.allowed.attrs"/>
        </interleave>
      </element>
      <element name="use">
        <interleave>
          <ref name="svg.any.inner"/>
          <ref name="svg.epubtype.allowed.attrs"/>
        </interleave>
      </element>
      <element name="video">
        <interleave>
          <ref name="svg.any.inner"/>
          <ref name="svg.epubtype.allowed.attrs"/>
        </interleave>
      </element>
    </choice>
  </define>
  <define name="svg.epubtype.allowed.elem">
    <ref name="svg.renderable.elem"/>
  </define>
  <!--
    any element except:
    - the elements with a restricted content model
    - the elements allowing \`epub:type\`
  -->
  <define name="svg.anyother.elem">
    <a:documentation>Any other elements</a:documentation>
    <element>
      <anyName>
        <except>
          <name>foreignObject</name>
          <name>title</name>
          <name>a</name>
          <name>audio</name>
          <name>canvas</name>
          <name>circle</name>
          <name>ellipse</name>
          <name>g</name>
          <name>iframe</name>
          <name>image</name>
          <name>line</name>
          <name>path</name>
          <name>polygon</name>
          <name>polyline</name>
          <name>rect</name>
          <name>svg</name>
          <name>switch</name>
          <name>symbol</name>
          <name>text</name>
          <name>textPath</name>
          <name>tspan</name>
          <name>unknown</name>
          <name>use</name>
          <name>video</name>
        </except>
      </anyName>
      <interleave>
        <ref name="svg.any.inner"/>
        <ref name="svg.epubtype.forbidden.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="svg.any.elem">
    <a:documentation>Anything</a:documentation>
    <choice>
      <ref name="svg.epubtype.allowed.elem"/>
      <ref name="svg.restricted.elem"/>
      <ref name="svg.anyother.elem"/>
    </choice>
  </define>
  <define name="svg.any.inner">
    <interleave>
      <text/>
      <zeroOrMore>
        <ref name="svg.any.elem"/>
      </zeroOrMore>
    </interleave>
  </define>
  <!-- Inlined from epub-mathml3-inc.rng -->
<!--
    #####################################################################
    
     MathML validation based on the schemas from the Nu Html Checker,
     with the following changes:
       - Content MathML is only allowed in annotation-xml
       - annotation-xml follows the restrictions defined in
         EPUB Content Documents
       - EPUB SSML attributes are allowed
    
    #####################################################################
  -->
  <!-- Inlined from mathml3-inc.rng with overrides -->
<!-- Inlined from mathml3-content.rng with overrides -->
<!--
        This is the Mathematical Markup Language (MathML) 3.0, an XML
        application for describing mathematical notation and capturing
        both its structure and content.
    
        With additional changes for integration into the validator.nu
        service.
    
        Copyright 1998-2010 W3C (MIT, ERCIM, Keio)
        Copyright 2012 Mozilla Foundation
        Copyright 2014-2019 W3C (MIT, ERCIM, Keio, Beihang)
    
        Use and distribution of this code are permitted under the terms
        W3C Software Notice and License
        http://www.w3.org/Consortium/Legal/2002/copyright-software-20021231
  -->
  <!-- Inlined from mathml3-strict-content.rng with overrides -->
<define name="ContExp">
    <choice>
      <ref name="semantics-contexp"/>
      <ref name="cn"/>
      <ref name="ci"/>
      <ref name="csymbol"/>
      <ref name="apply"/>
      <ref name="bind"/>
      <ref name="share"/>
      <ref name="cerror"/>
      <ref name="cbytes"/>
      <ref name="cs"/>
    </choice>
  </define>
  <define name="cn">
    <element name="cn">
      <ref name="cn.attributes"/>
      <ref name="cn.content"/>
    </element>
  </define>
  <define name="cn.content">
    <text/>
  </define>
  <define name="cn.attributes">
    <ref name="CommonAtt"/>
    <attribute name="type">
      <choice>
        <value>integer</value>
        <value>real</value>
        <value>double</value>
        <value>hexdouble</value>
      </choice>
    </attribute>
  </define>
  <define name="semantics-ci">
    <element name="semantics">
      <ref name="semantics.attributes"/>
      <choice>
        <ref name="ci"/>
        <ref name="semantics-ci"/>
      </choice>
      <zeroOrMore>
        <choice>
          <ref name="annotation"/>
          <ref name="annotation-xml"/>
        </choice>
      </zeroOrMore>
    </element>
  </define>
  <define name="semantics-contexp">
    <element name="semantics">
      <ref name="semantics.attributes"/>
      <ref name="ContExp"/>
      <zeroOrMore>
        <choice>
          <ref name="annotation"/>
          <ref name="annotation-xml"/>
        </choice>
      </zeroOrMore>
    </element>
  </define>
  <define name="ci">
    <element name="ci">
      <ref name="ci.attributes"/>
      <ref name="ci.content"/>
    </element>
  </define>
  <define name="ci.attributes">
    <ref name="CommonAtt"/>
    <optional>
      <ref name="ci.type"/>
    </optional>
  </define>
  <define name="ci.type">
    <attribute name="type">
      <choice>
        <value>integer</value>
        <value>rational</value>
        <value>real</value>
        <value>complex</value>
        <value>complex-polar</value>
        <value>complex-cartesian</value>
        <value>constant</value>
        <value>function</value>
        <value>vector</value>
        <value>list</value>
        <value>set</value>
        <value>matrix</value>
      </choice>
    </attribute>
  </define>
  <define name="ci.content">
    <text/>
  </define>
  <define name="csymbol">
    <element name="csymbol">
      <ref name="csymbol.attributes"/>
      <ref name="csymbol.content"/>
    </element>
  </define>
  <define name="SymbolName">
    <data type="NCName"/>
  </define>
  <define name="csymbol.attributes">
    <ref name="CommonAtt"/>
    <ref name="cd"/>
  </define>
  <define name="csymbol.content">
    <ref name="SymbolName"/>
  </define>
  <define name="BvarQ">
    <zeroOrMore>
      <ref name="bvar"/>
    </zeroOrMore>
  </define>
  <define name="bvar">
    <element name="bvar">
      <ref name="CommonAtt"/>
      <choice>
        <ref name="ci"/>
        <ref name="semantics-ci"/>
      </choice>
    </element>
  </define>
  <define name="apply">
    <element name="apply">
      <ref name="CommonAtt"/>
      <ref name="apply.content"/>
    </element>
  </define>
  <define name="apply.content">
    <oneOrMore>
      <ref name="ContExp"/>
    </oneOrMore>
  </define>
  <define name="bind">
    <element name="bind">
      <ref name="CommonAtt"/>
      <ref name="bind.content"/>
    </element>
  </define>
  <define name="bind.content">
    <ref name="ContExp"/>
    <zeroOrMore>
      <ref name="bvar"/>
    </zeroOrMore>
    <ref name="ContExp"/>
  </define>
  <define name="share">
    <element name="share">
      <ref name="CommonAtt"/>
      <ref name="src"/>
      <empty/>
    </element>
  </define>
  <define name="cerror">
    <element name="cerror">
      <ref name="cerror.attributes"/>
      <ref name="csymbol"/>
      <zeroOrMore>
        <ref name="ContExp"/>
      </zeroOrMore>
    </element>
  </define>
  <define name="cerror.attributes">
    <ref name="CommonAtt"/>
  </define>
  <define name="cbytes">
    <element name="cbytes">
      <ref name="cbytes.attributes"/>
      <ref name="base64"/>
    </element>
  </define>
  <define name="cbytes.attributes">
    <ref name="CommonAtt"/>
  </define>
  <define name="base64">
    <data type="base64Binary"/>
  </define>
  <define name="cs">
    <element name="cs">
      <ref name="cs.attributes"/>
      <text/>
    </element>
  </define>
  <define name="cs.attributes">
    <ref name="CommonAtt"/>
  </define>
  <define name="MathExpression" combine="choice">
    <ref name="ContExp"/>
  </define>

    <define name="cn.content">
      <zeroOrMore>
        <choice>
          <text/>
          <ref name="mglyph"/>
          <ref name="sep"/>
          <ref name="PresentationExpression"/>
        </choice>
      </zeroOrMore>
    </define>
    <define name="cn.attributes">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <optional>
        <attribute name="type"/>
      </optional>
      <optional>
        <ref name="math-base"/>
      </optional>
    </define>
    <define name="ci.attributes">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <optional>
        <ref name="ci.type"/>
      </optional>
    </define>
    <define name="ci.type">
      <attribute name="type"/>
    </define>
    <define name="ci.content">
      <zeroOrMore>
        <choice>
          <text/>
          <ref name="mglyph"/>
          <ref name="PresentationExpression"/>
        </choice>
      </zeroOrMore>
    </define>
    <define name="csymbol.attributes">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <optional>
        <attribute name="type"/>
      </optional>
      <optional>
        <ref name="cd"/>
      </optional>
    </define>
    <define name="csymbol.content">
      <zeroOrMore>
        <choice>
          <text/>
          <ref name="mglyph"/>
          <ref name="PresentationExpression"/>
        </choice>
      </zeroOrMore>
    </define>
    <define name="bvar">
      <element name="bvar">
        <ref name="CommonAtt"/>
        <interleave>
          <choice>
            <ref name="ci"/>
            <ref name="semantics-ci"/>
          </choice>
          <optional>
            <ref name="degree"/>
          </optional>
        </interleave>
      </element>
    </define>
    <define name="cbytes.attributes">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
    </define>
    <define name="cs.attributes">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
    </define>
    <define name="apply.content">
      <choice>
        <oneOrMore>
          <ref name="ContExp"/>
        </oneOrMore>
        <group>
          <ref name="ContExp"/>
          <ref name="BvarQ"/>
          <zeroOrMore>
            <ref name="Qualifier"/>
          </zeroOrMore>
          <zeroOrMore>
            <ref name="ContExp"/>
          </zeroOrMore>
        </group>
      </choice>
    </define>
    <define name="bind.content">
      <ref name="apply.content"/>
    </define>
  
  <!-- changed pattern name to math-base to avoid name conflict - mike -->
  <define name="math-base">
    <attribute name="base"/>
  </define>
  <define name="sep">
    <element name="sep">
      <empty/>
    </element>
  </define>
  <define name="PresentationExpression" combine="choice">
    <notAllowed/>
  </define>
  <define name="DomainQ">
    <zeroOrMore>
      <choice>
        <ref name="domainofapplication"/>
        <ref name="condition"/>
        <ref name="interval"/>
        <group>
          <ref name="lowlimit"/>
          <optional>
            <ref name="uplimit"/>
          </optional>
        </group>
      </choice>
    </zeroOrMore>
  </define>
  <define name="domainofapplication">
    <element name="domainofapplication">
      <ref name="ContExp"/>
    </element>
  </define>
  <define name="condition">
    <element name="condition">
      <ref name="ContExp"/>
    </element>
  </define>
  <define name="uplimit">
    <element name="uplimit">
      <ref name="ContExp"/>
    </element>
  </define>
  <define name="lowlimit">
    <element name="lowlimit">
      <ref name="ContExp"/>
    </element>
  </define>
  <define name="Qualifier">
    <choice>
      <ref name="DomainQ"/>
      <ref name="degree"/>
      <ref name="momentabout"/>
      <ref name="logbase"/>
    </choice>
  </define>
  <define name="degree">
    <element name="degree">
      <ref name="ContExp"/>
    </element>
  </define>
  <define name="momentabout">
    <element name="momentabout">
      <ref name="ContExp"/>
    </element>
  </define>
  <define name="logbase">
    <element name="logbase">
      <ref name="ContExp"/>
    </element>
  </define>
  <define name="type">
    <attribute name="type"/>
  </define>
  <define name="order">
    <attribute name="order">
      <choice>
        <value>numeric</value>
        <value>lexicographic</value>
      </choice>
    </attribute>
  </define>
  <define name="closure">
    <attribute name="closure"/>
  </define>
  <define name="ContExp" combine="choice">
    <ref name="piecewise"/>
  </define>
  <define name="piecewise">
    <element name="piecewise">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <interleave>
        <zeroOrMore>
          <ref name="piece"/>
        </zeroOrMore>
        <optional>
          <ref name="otherwise"/>
        </optional>
      </interleave>
    </element>
  </define>
  <define name="piece">
    <element name="piece">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <ref name="ContExp"/>
      <ref name="ContExp"/>
    </element>
  </define>
  <define name="otherwise">
    <element name="otherwise">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <ref name="ContExp"/>
    </element>
  </define>
  <define name="DeprecatedContExp">
    <choice>
      <ref name="reln"/>
      <ref name="fn"/>
      <ref name="declare"/>
    </choice>
  </define>
  <define name="ContExp" combine="choice">
    <ref name="DeprecatedContExp"/>
  </define>
  <define name="reln">
    <element name="reln">
      <zeroOrMore>
        <ref name="ContExp"/>
      </zeroOrMore>
    </element>
  </define>
  <define name="fn">
    <element name="fn">
      <ref name="ContExp"/>
    </element>
  </define>
  <define name="declare">
    <element name="declare">
      <optional>
        <attribute name="type">
          <data type="string"/>
        </attribute>
      </optional>
      <optional>
        <attribute name="scope">
          <data type="string"/>
        </attribute>
      </optional>
      <optional>
        <attribute name="nargs">
          <data type="nonNegativeInteger"/>
        </attribute>
      </optional>
      <optional>
        <attribute name="occurrence">
          <choice>
            <value>prefix</value>
            <value>infix</value>
            <value>function-model</value>
          </choice>
        </attribute>
      </optional>
      <ref name="DefEncAtt"/>
      <oneOrMore>
        <ref name="ContExp"/>
      </oneOrMore>
    </element>
  </define>
  <define name="interval.class">
    <ref name="interval"/>
  </define>
  <define name="ContExp" combine="choice">
    <ref name="interval.class"/>
  </define>
  <define name="interval">
    <element name="interval">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <optional>
        <ref name="closure"/>
      </optional>
      <ref name="ContExp"/>
      <ref name="ContExp"/>
    </element>
  </define>
  <define name="unary-functional.class">
    <choice>
      <ref name="inverse"/>
      <ref name="ident"/>
      <ref name="domain"/>
      <ref name="codomain"/>
      <ref name="math-image"/>
      <ref name="ln"/>
      <ref name="log"/>
      <ref name="moment"/>
    </choice>
  </define>
  <define name="ContExp" combine="choice">
    <ref name="unary-functional.class"/>
  </define>
  <define name="inverse">
    <element name="inverse">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="ident">
    <element name="ident">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="domain">
    <element name="domain">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="codomain">
    <element name="codomain">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <!-- changed pattern name to math-image to avoid name conflict - mike -->
  <define name="math-image">
    <element name="image">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="ln">
    <element name="ln">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="log">
    <element name="log">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="moment">
    <element name="moment">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="lambda.class">
    <ref name="lambda"/>
  </define>
  <define name="ContExp" combine="choice">
    <ref name="lambda.class"/>
  </define>
  <define name="lambda">
    <element name="lambda">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <ref name="BvarQ"/>
      <ref name="DomainQ"/>
      <ref name="ContExp"/>
    </element>
  </define>
  <define name="nary-functional.class">
    <ref name="compose"/>
  </define>
  <define name="ContExp" combine="choice">
    <ref name="nary-functional.class"/>
  </define>
  <define name="compose">
    <element name="compose">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="binary-arith.class">
    <choice>
      <ref name="quotient"/>
      <ref name="divide"/>
      <ref name="minus"/>
      <ref name="power"/>
      <ref name="rem"/>
      <ref name="root"/>
    </choice>
  </define>
  <define name="ContExp" combine="choice">
    <ref name="binary-arith.class"/>
  </define>
  <define name="quotient">
    <element name="quotient">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="divide">
    <element name="divide">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="minus">
    <element name="minus">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="power">
    <element name="power">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="rem">
    <element name="rem">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="root">
    <element name="root">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="unary-arith.class">
    <choice>
      <ref name="factorial"/>
      <ref name="minus"/>
      <ref name="root"/>
      <ref name="abs"/>
      <ref name="conjugate"/>
      <ref name="arg"/>
      <ref name="real"/>
      <ref name="imaginary"/>
      <ref name="floor"/>
      <ref name="ceiling"/>
      <ref name="exp"/>
    </choice>
  </define>
  <define name="ContExp" combine="choice">
    <ref name="unary-arith.class"/>
  </define>
  <define name="factorial">
    <element name="factorial">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="abs">
    <element name="abs">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="conjugate">
    <element name="conjugate">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="arg">
    <element name="arg">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="real">
    <element name="real">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="imaginary">
    <element name="imaginary">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="floor">
    <element name="floor">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="ceiling">
    <element name="ceiling">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="exp">
    <element name="exp">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="nary-minmax.class">
    <choice>
      <ref name="max"/>
      <ref name="min"/>
    </choice>
  </define>
  <define name="ContExp" combine="choice">
    <ref name="nary-minmax.class"/>
  </define>
  <define name="max">
    <element name="max">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="min">
    <element name="min">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="nary-arith.class">
    <choice>
      <ref name="plus"/>
      <ref name="times"/>
      <ref name="gcd"/>
      <ref name="lcm"/>
    </choice>
  </define>
  <define name="ContExp" combine="choice">
    <ref name="nary-arith.class"/>
  </define>
  <define name="plus">
    <element name="plus">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="times">
    <element name="times">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="gcd">
    <element name="gcd">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="lcm">
    <element name="lcm">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="nary-logical.class">
    <choice>
      <ref name="and"/>
      <ref name="or"/>
      <ref name="xor"/>
    </choice>
  </define>
  <define name="ContExp" combine="choice">
    <ref name="nary-logical.class"/>
  </define>
  <define name="and">
    <element name="and">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="or">
    <element name="or">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="xor">
    <element name="xor">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="unary-logical.class">
    <ref name="not"/>
  </define>
  <define name="ContExp" combine="choice">
    <ref name="unary-logical.class"/>
  </define>
  <define name="not">
    <element name="not">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="binary-logical.class">
    <choice>
      <ref name="implies"/>
      <ref name="equivalent"/>
    </choice>
  </define>
  <define name="ContExp" combine="choice">
    <ref name="binary-logical.class"/>
  </define>
  <define name="implies">
    <element name="implies">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="equivalent">
    <element name="equivalent">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="quantifier.class">
    <choice>
      <ref name="forall"/>
      <ref name="exists"/>
    </choice>
  </define>
  <define name="ContExp" combine="choice">
    <ref name="quantifier.class"/>
  </define>
  <define name="forall">
    <element name="forall">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="exists">
    <element name="exists">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="nary-reln.class">
    <choice>
      <ref name="eq"/>
      <ref name="gt"/>
      <ref name="lt"/>
      <ref name="geq"/>
      <ref name="leq"/>
    </choice>
  </define>
  <define name="ContExp" combine="choice">
    <ref name="nary-reln.class"/>
  </define>
  <define name="eq">
    <element name="eq">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="gt">
    <element name="gt">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="lt">
    <element name="lt">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="geq">
    <element name="geq">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="leq">
    <element name="leq">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="binary-reln.class">
    <choice>
      <ref name="neq"/>
      <ref name="approx"/>
      <ref name="factorof"/>
      <ref name="tendsto"/>
    </choice>
  </define>
  <define name="ContExp" combine="choice">
    <ref name="binary-reln.class"/>
  </define>
  <define name="neq">
    <element name="neq">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="approx">
    <element name="approx">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="factorof">
    <element name="factorof">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="tendsto">
    <element name="tendsto">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <optional>
        <ref name="type"/>
      </optional>
      <empty/>
    </element>
  </define>
  <define name="int.class">
    <ref name="int"/>
  </define>
  <define name="ContExp" combine="choice">
    <ref name="int.class"/>
  </define>
  <define name="int">
    <element name="int">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="Differential-Operator.class">
    <ref name="diff"/>
  </define>
  <define name="ContExp" combine="choice">
    <ref name="Differential-Operator.class"/>
  </define>
  <define name="diff">
    <element name="diff">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="partialdiff.class">
    <ref name="partialdiff"/>
  </define>
  <define name="ContExp" combine="choice">
    <ref name="partialdiff.class"/>
  </define>
  <define name="partialdiff">
    <element name="partialdiff">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="unary-veccalc.class">
    <choice>
      <ref name="divergence"/>
      <ref name="grad"/>
      <ref name="curl"/>
      <ref name="laplacian"/>
    </choice>
  </define>
  <define name="ContExp" combine="choice">
    <ref name="unary-veccalc.class"/>
  </define>
  <define name="divergence">
    <element name="divergence">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="grad">
    <element name="grad">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="curl">
    <element name="curl">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="laplacian">
    <element name="laplacian">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="nary-setlist-constructor.class">
    <choice>
      <ref name="math-set"/>
      <ref name="list"/>
    </choice>
  </define>
  <define name="ContExp" combine="choice">
    <ref name="nary-setlist-constructor.class"/>
  </define>
  <!-- changed pattern name to math-set to avoid name conflict - mike -->
  <define name="math-set">
    <element name="set">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <optional>
        <ref name="type"/>
      </optional>
      <zeroOrMore>
        <ref name="BvarQ"/>
      </zeroOrMore>
      <zeroOrMore>
        <ref name="DomainQ"/>
      </zeroOrMore>
      <zeroOrMore>
        <ref name="ContExp"/>
      </zeroOrMore>
    </element>
  </define>
  <define name="list">
    <element name="list">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <optional>
        <ref name="order"/>
      </optional>
      <zeroOrMore>
        <ref name="BvarQ"/>
      </zeroOrMore>
      <zeroOrMore>
        <ref name="DomainQ"/>
      </zeroOrMore>
      <zeroOrMore>
        <ref name="ContExp"/>
      </zeroOrMore>
    </element>
  </define>
  <define name="nary-set.class">
    <choice>
      <ref name="union"/>
      <ref name="intersect"/>
      <ref name="cartesianproduct"/>
    </choice>
  </define>
  <define name="ContExp" combine="choice">
    <ref name="nary-set.class"/>
  </define>
  <define name="union">
    <element name="union">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="intersect">
    <element name="intersect">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="cartesianproduct">
    <element name="cartesianproduct">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="binary-set.class">
    <choice>
      <ref name="in"/>
      <ref name="notin"/>
      <ref name="notsubset"/>
      <ref name="notprsubset"/>
      <ref name="setdiff"/>
    </choice>
  </define>
  <define name="ContExp" combine="choice">
    <ref name="binary-set.class"/>
  </define>
  <define name="in">
    <element name="in">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="notin">
    <element name="notin">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="notsubset">
    <element name="notsubset">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="notprsubset">
    <element name="notprsubset">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="setdiff">
    <element name="setdiff">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="nary-set-reln.class">
    <choice>
      <ref name="subset"/>
      <ref name="prsubset"/>
    </choice>
  </define>
  <define name="ContExp" combine="choice">
    <ref name="nary-set-reln.class"/>
  </define>
  <define name="subset">
    <element name="subset">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="prsubset">
    <element name="prsubset">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="unary-set.class">
    <ref name="card"/>
  </define>
  <define name="ContExp" combine="choice">
    <ref name="unary-set.class"/>
  </define>
  <define name="card">
    <element name="card">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="sum.class">
    <ref name="sum"/>
  </define>
  <define name="ContExp" combine="choice">
    <ref name="sum.class"/>
  </define>
  <define name="sum">
    <element name="sum">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="product.class">
    <ref name="product"/>
  </define>
  <define name="ContExp" combine="choice">
    <ref name="product.class"/>
  </define>
  <define name="product">
    <element name="product">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="limit.class">
    <ref name="limit"/>
  </define>
  <define name="ContExp" combine="choice">
    <ref name="limit.class"/>
  </define>
  <define name="limit">
    <element name="limit">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="unary-elementary.class">
    <choice>
      <ref name="sin"/>
      <ref name="cos"/>
      <ref name="tan"/>
      <ref name="sec"/>
      <ref name="csc"/>
      <ref name="cot"/>
      <ref name="sinh"/>
      <ref name="cosh"/>
      <ref name="tanh"/>
      <ref name="sech"/>
      <ref name="csch"/>
      <ref name="coth"/>
      <ref name="arcsin"/>
      <ref name="arccos"/>
      <ref name="arctan"/>
      <ref name="arccosh"/>
      <ref name="arccot"/>
      <ref name="arccoth"/>
      <ref name="arccsc"/>
      <ref name="arccsch"/>
      <ref name="arcsec"/>
      <ref name="arcsech"/>
      <ref name="arcsinh"/>
      <ref name="arctanh"/>
    </choice>
  </define>
  <define name="ContExp" combine="choice">
    <ref name="unary-elementary.class"/>
  </define>
  <define name="sin">
    <element name="sin">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="cos">
    <element name="cos">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="tan">
    <element name="tan">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="sec">
    <element name="sec">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="csc">
    <element name="csc">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="cot">
    <element name="cot">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="sinh">
    <element name="sinh">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="cosh">
    <element name="cosh">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="tanh">
    <element name="tanh">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="sech">
    <element name="sech">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="csch">
    <element name="csch">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="coth">
    <element name="coth">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="arcsin">
    <element name="arcsin">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="arccos">
    <element name="arccos">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="arctan">
    <element name="arctan">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="arccosh">
    <element name="arccosh">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="arccot">
    <element name="arccot">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="arccoth">
    <element name="arccoth">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="arccsc">
    <element name="arccsc">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="arccsch">
    <element name="arccsch">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="arcsec">
    <element name="arcsec">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="arcsech">
    <element name="arcsech">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="arcsinh">
    <element name="arcsinh">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="arctanh">
    <element name="arctanh">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="nary-stats.class">
    <choice>
      <ref name="mean"/>
      <ref name="sdev"/>
      <ref name="variance"/>
      <ref name="median"/>
      <ref name="mode"/>
    </choice>
  </define>
  <define name="ContExp" combine="choice">
    <ref name="nary-stats.class"/>
  </define>
  <define name="mean">
    <element name="mean">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="sdev">
    <element name="sdev">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="variance">
    <element name="variance">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="median">
    <element name="median">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="mode">
    <element name="mode">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="nary-constructor.class">
    <choice>
      <ref name="vector"/>
      <ref name="matrix"/>
      <ref name="matrixrow"/>
    </choice>
  </define>
  <define name="ContExp" combine="choice">
    <ref name="nary-constructor.class"/>
  </define>
  <define name="vector">
    <element name="vector">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <ref name="BvarQ"/>
      <ref name="DomainQ"/>
      <zeroOrMore>
        <ref name="ContExp"/>
      </zeroOrMore>
    </element>
  </define>
  <define name="matrix">
    <element name="matrix">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <ref name="BvarQ"/>
      <ref name="DomainQ"/>
      <zeroOrMore>
        <ref name="ContExp"/>
      </zeroOrMore>
    </element>
  </define>
  <define name="matrixrow">
    <element name="matrixrow">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <ref name="BvarQ"/>
      <ref name="DomainQ"/>
      <zeroOrMore>
        <ref name="ContExp"/>
      </zeroOrMore>
    </element>
  </define>
  <define name="unary-linalg.class">
    <choice>
      <ref name="determinant"/>
      <ref name="transpose"/>
    </choice>
  </define>
  <define name="ContExp" combine="choice">
    <ref name="unary-linalg.class"/>
  </define>
  <define name="determinant">
    <element name="determinant">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="transpose">
    <element name="transpose">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="nary-linalg.class">
    <ref name="selector"/>
  </define>
  <define name="ContExp" combine="choice">
    <ref name="nary-linalg.class"/>
  </define>
  <define name="selector">
    <element name="selector">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="binary-linalg.class">
    <choice>
      <ref name="vectorproduct"/>
      <ref name="scalarproduct"/>
      <ref name="outerproduct"/>
    </choice>
  </define>
  <define name="ContExp" combine="choice">
    <ref name="binary-linalg.class"/>
  </define>
  <define name="vectorproduct">
    <element name="vectorproduct">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="scalarproduct">
    <element name="scalarproduct">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="outerproduct">
    <element name="outerproduct">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="constant-set.class">
    <choice>
      <ref name="integers"/>
      <ref name="reals"/>
      <ref name="rationals"/>
      <ref name="naturalnumbers"/>
      <ref name="complexes"/>
      <ref name="primes"/>
      <ref name="emptyset"/>
    </choice>
  </define>
  <define name="ContExp" combine="choice">
    <ref name="constant-set.class"/>
  </define>
  <define name="integers">
    <element name="integers">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="reals">
    <element name="reals">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="rationals">
    <element name="rationals">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="naturalnumbers">
    <element name="naturalnumbers">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="complexes">
    <element name="complexes">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="primes">
    <element name="primes">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="emptyset">
    <element name="emptyset">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="constant-arith.class">
    <choice>
      <ref name="exponentiale"/>
      <ref name="imaginaryi"/>
      <ref name="notanumber"/>
      <ref name="true"/>
      <ref name="false"/>
      <ref name="pi"/>
      <ref name="eulergamma"/>
      <ref name="infinity"/>
    </choice>
  </define>
  <define name="ContExp" combine="choice">
    <ref name="constant-arith.class"/>
  </define>
  <define name="exponentiale">
    <element name="exponentiale">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="imaginaryi">
    <element name="imaginaryi">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="notanumber">
    <element name="notanumber">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="true">
    <element name="true">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="false">
    <element name="false">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="pi">
    <element name="pi">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="eulergamma">
    <element name="eulergamma">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="infinity">
    <element name="infinity">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>

    <a:documentation>Content  MathML</a:documentation>
  
  <!-- Inlined from mathml3-presentation.rng with overrides -->
<define name="MathExpression" combine="choice">
    <ref name="PresentationExpression"/>
  </define>
  <define name="ImpliedMrow">
    <zeroOrMore>
      <ref name="MathExpression"/>
    </zeroOrMore>
  </define>
  <define name="TableRowExpression">
    <choice>
      <ref name="mtr"/>
      <ref name="mlabeledtr"/>
    </choice>
  </define>
  <define name="TableCellExpression">
    <ref name="mtd"/>
  </define>
  <define name="MstackExpression">
    <choice>
      <ref name="MathExpression"/>
      <ref name="mscarries"/>
      <ref name="msline"/>
      <ref name="msrow"/>
      <ref name="msgroup"/>
    </choice>
  </define>
  <define name="MsrowExpression">
    <choice>
      <ref name="MathExpression"/>
      <ref name="none"/>
    </choice>
  </define>
  <define name="MultiScriptExpression">
    <choice>
      <ref name="MathExpression"/>
      <ref name="none"/>
    </choice>
    <choice>
      <ref name="MathExpression"/>
      <ref name="none"/>
    </choice>
  </define>
  <define name="mpadded-length">
    <data type="string">
      <param name="pattern">\\s*([\\+\\-]?[0-9]*([0-9]\\.?|\\.[0-9])[0-9]*\\s*((%?\\s*(height|depth|width)?)|e[mx]|in|cm|mm|p[xtc]|((negative)?((very){0,2}thi(n|ck)|medium)mathspace))?)\\s*</param>
    </data>
  </define>
  <define name="linestyle">
    <choice>
      <value>none</value>
      <value>solid</value>
      <value>dashed</value>
    </choice>
  </define>
  <define name="verticalalign">
    <choice>
      <value>top</value>
      <value>bottom</value>
      <value>center</value>
      <value>baseline</value>
      <value>axis</value>
    </choice>
  </define>
  <define name="columnalignstyle">
    <choice>
      <value>left</value>
      <value>center</value>
      <value>right</value>
    </choice>
  </define>
  <define name="notationstyle">
    <choice>
      <value>longdiv</value>
      <value>actuarial</value>
      <value>radical</value>
      <value>box</value>
      <value>roundedbox</value>
      <value>circle</value>
      <value>left</value>
      <value>right</value>
      <value>top</value>
      <value>bottom</value>
      <value>updiagonalstrike</value>
      <value>downdiagonalstrike</value>
      <value>verticalstrike</value>
      <value>horizontalstrike</value>
      <value>madruwb</value>
    </choice>
  </define>
  <define name="idref">
    <text/>
  </define>
  <define name="unsigned-integer">
    <data type="unsignedLong"/>
  </define>
  <define name="integer">
    <data type="integer"/>
  </define>
  <define name="number">
    <data type="decimal"/>
  </define>
  <define name="character">
    <data type="string">
      <param name="pattern">\\s*\\S\\s*</param>
    </data>
  </define>
  <define name="color">
    <data type="string">
      <param name="pattern">\\s*((#[0-9a-fA-F]{3}([0-9a-fA-F]{3})?)|[aA][qQ][uU][aA]|[bB][lL][aA][cC][kK]|[bB][lL][uU][eE]|[fF][uU][cC][hH][sS][iI][aA]|[gG][rR][aA][yY]|[gG][rR][eE][eE][nN]|[lL][iI][mM][eE]|[mM][aA][rR][oO][oO][nN]|[nN][aA][vV][yY]|[oO][lL][iI][vV][eE]|[pP][uU][rR][pP][lL][eE]|[rR][eE][dD]|[sS][iI][lL][vV][eE][rR]|[tT][eE][aA][lL]|[wW][hH][iI][tT][eE]|[yY][eE][lL][lL][oO][wW])\\s*</param>
    </data>
  </define>
  <define name="group-alignment">
    <choice>
      <value>left</value>
      <value>center</value>
      <value>right</value>
      <value>decimalpoint</value>
    </choice>
  </define>
  <define name="group-alignment-list">
    <list>
      <oneOrMore>
        <ref name="group-alignment"/>
      </oneOrMore>
    </list>
  </define>
  <define name="group-alignment-list-list">
    <data type="string">
      <param name="pattern">(\\s*\\{\\s*(left|center|right|decimalpoint)(\\s+(left|center|right|decimalpoint))*\\})*\\s*</param>
    </data>
  </define>
  <define name="positive-integer">
    <data type="positiveInteger"/>
  </define>
  <define name="TokenExpression">
    <choice>
      <ref name="mi"/>
      <ref name="mn"/>
      <ref name="mo"/>
      <ref name="mtext"/>
      <ref name="mspace"/>
      <ref name="ms"/>
    </choice>
  </define>
  <define name="token.content">
    <choice>
      <ref name="mglyph"/>
      <ref name="malignmark"/>
      <text/>
    </choice>
  </define>
  <define name="mi">
    <element name="mi">
      <ref name="mi.attributes"/>
      <zeroOrMore>
        <ref name="token.content"/>
      </zeroOrMore>
    </element>
  </define>
  <define name="mi.attributes">
    <ref name="CommonAtt"/>
    <ref name="CommonPresAtt"/>
    <ref name="TokenAtt"/>
  </define>
  <define name="mn">
    <element name="mn">
      <ref name="mn.attributes"/>
      <zeroOrMore>
        <ref name="token.content"/>
      </zeroOrMore>
    </element>
  </define>
  <define name="mn.attributes">
    <ref name="CommonAtt"/>
    <ref name="CommonPresAtt"/>
    <ref name="TokenAtt"/>
  </define>
  <define name="mo">
    <element name="mo">
      <ref name="mo.attributes"/>
      <zeroOrMore>
        <ref name="token.content"/>
      </zeroOrMore>
    </element>
  </define>
  <define name="mo.attributes">
    <ref name="CommonAtt"/>
    <ref name="CommonPresAtt"/>
    <ref name="TokenAtt"/>
    <optional>
      <attribute name="form">
        <choice>
          <value>prefix</value>
          <value>infix</value>
          <value>postfix</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="fence">
        <choice>
          <value>true</value>
          <value>false</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="separator">
        <choice>
          <value>true</value>
          <value>false</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="lspace">
        <ref name="length"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="rspace">
        <ref name="length"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="stretchy">
        <choice>
          <value>true</value>
          <value>false</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="symmetric">
        <choice>
          <value>true</value>
          <value>false</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="maxsize">
        <choice>
          <ref name="length"/>
          <value>infinity</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="minsize">
        <ref name="length"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="largeop">
        <choice>
          <value>true</value>
          <value>false</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="movablelimits">
        <choice>
          <value>true</value>
          <value>false</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="accent">
        <choice>
          <value>true</value>
          <value>false</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="linebreak">
        <choice>
          <value>auto</value>
          <value>newline</value>
          <value>nobreak</value>
          <value>goodbreak</value>
          <value>badbreak</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="lineleading">
        <ref name="length"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="linebreakstyle">
        <choice>
          <value>before</value>
          <value>after</value>
          <value>duplicate</value>
          <value>infixlinebreakstyle</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="linebreakmultchar"/>
    </optional>
    <optional>
      <attribute name="indentalign">
        <choice>
          <value>left</value>
          <value>center</value>
          <value>right</value>
          <value>auto</value>
          <value>id</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="indentshift">
        <ref name="length"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="indenttarget">
        <ref name="idref"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="indentalignfirst">
        <choice>
          <value>left</value>
          <value>center</value>
          <value>right</value>
          <value>auto</value>
          <value>id</value>
          <value>indentalign</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="indentshiftfirst">
        <choice>
          <ref name="length"/>
          <value>indentshift</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="indentalignlast">
        <choice>
          <value>left</value>
          <value>center</value>
          <value>right</value>
          <value>auto</value>
          <value>id</value>
          <value>indentalign</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="indentshiftlast">
        <choice>
          <ref name="length"/>
          <value>indentshift</value>
        </choice>
      </attribute>
    </optional>
  </define>
  <!--
    changed mtext content model to use mtext.content instead of generic
    token.content, because we want to handle mtext differently than other
    MathML "token elements" - - mike
  -->
  <define name="mtext">
    <element name="mtext">
      <ref name="mtext.attributes"/>
      <zeroOrMore>
        <ref name="mtext.content"/>
      </zeroOrMore>
    </element>
  </define>
  <define name="mtext.attributes">
    <ref name="CommonAtt"/>
    <ref name="CommonPresAtt"/>
    <ref name="TokenAtt"/>
  </define>
  <define name="mtext.content">
    <choice>
      <ref name="mglyph"/>
      <ref name="malignmark"/>
      <text/>
    </choice>
  </define>
  <define name="mspace">
    <element name="mspace">
      <ref name="mspace.attributes"/>
      <empty/>
    </element>
  </define>
  <define name="mspace.attributes">
    <ref name="CommonAtt"/>
    <ref name="CommonPresAtt"/>
    <ref name="TokenAtt"/>
    <optional>
      <attribute name="width">
        <ref name="length"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="height">
        <ref name="length"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="depth">
        <ref name="length"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="linebreak">
        <choice>
          <value>auto</value>
          <value>newline</value>
          <value>nobreak</value>
          <value>goodbreak</value>
          <value>badbreak</value>
          <value>indentingnewline</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="indentalign">
        <choice>
          <value>left</value>
          <value>center</value>
          <value>right</value>
          <value>auto</value>
          <value>id</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="indentshift">
        <ref name="length"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="indenttarget">
        <ref name="idref"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="indentalignfirst">
        <choice>
          <value>left</value>
          <value>center</value>
          <value>right</value>
          <value>auto</value>
          <value>id</value>
          <value>indentalign</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="indentshiftfirst">
        <choice>
          <ref name="length"/>
          <value>indentshift</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="indentalignlast">
        <choice>
          <value>left</value>
          <value>center</value>
          <value>right</value>
          <value>auto</value>
          <value>id</value>
          <value>indentalign</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="indentshiftlast">
        <choice>
          <ref name="length"/>
          <value>indentshift</value>
        </choice>
      </attribute>
    </optional>
  </define>
  <define name="ms">
    <element name="ms">
      <ref name="ms.attributes"/>
      <zeroOrMore>
        <ref name="token.content"/>
      </zeroOrMore>
    </element>
  </define>
  <define name="ms.attributes">
    <ref name="CommonAtt"/>
    <ref name="CommonPresAtt"/>
    <ref name="TokenAtt"/>
    <optional>
      <attribute name="lquote"/>
    </optional>
    <optional>
      <attribute name="rquote"/>
    </optional>
  </define>
  <define name="mglyph">
    <element name="mglyph">
      <ref name="mglyph.attributes"/>
      <ref name="mglyph.deprecatedattributes"/>
      <empty/>
    </element>
  </define>
  <define name="mglyph.attributes">
    <ref name="CommonAtt"/>
    <ref name="CommonPresAtt"/>
    <optional>
      <attribute name="src">
        <data type="anyURI"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="width">
        <ref name="length"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="height">
        <ref name="length"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="valign">
        <ref name="length"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="alt"/>
    </optional>
  </define>
  <define name="mglyph.deprecatedattributes">
    <optional>
      <attribute name="index">
        <ref name="integer"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="mathvariant">
        <choice>
          <value>normal</value>
          <value>bold</value>
          <value>italic</value>
          <value>bold-italic</value>
          <value>double-struck</value>
          <value>bold-fraktur</value>
          <value>script</value>
          <value>bold-script</value>
          <value>fraktur</value>
          <value>sans-serif</value>
          <value>bold-sans-serif</value>
          <value>sans-serif-italic</value>
          <value>sans-serif-bold-italic</value>
          <value>monospace</value>
          <value>initial</value>
          <value>tailed</value>
          <value>looped</value>
          <value>stretched</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="mathsize">
        <choice>
          <value>small</value>
          <value>normal</value>
          <value>big</value>
          <ref name="length"/>
        </choice>
      </attribute>
    </optional>
    <ref name="DeprecatedTokenAtt"/>
  </define>
  <define name="msline">
    <element name="msline">
      <ref name="msline.attributes"/>
      <empty/>
    </element>
  </define>
  <define name="msline.attributes">
    <ref name="CommonAtt"/>
    <ref name="CommonPresAtt"/>
    <optional>
      <attribute name="position">
        <ref name="integer"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="length">
        <ref name="unsigned-integer"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="leftoverhang">
        <ref name="length"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="rightoverhang">
        <ref name="length"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="mslinethickness">
        <choice>
          <ref name="length"/>
          <value>thin</value>
          <value>medium</value>
          <value>thick</value>
        </choice>
      </attribute>
    </optional>
  </define>
  <define name="none">
    <element name="none">
      <ref name="none.attributes"/>
      <empty/>
    </element>
  </define>
  <define name="none.attributes">
    <ref name="CommonAtt"/>
    <ref name="CommonPresAtt"/>
  </define>
  <define name="mprescripts">
    <element name="mprescripts">
      <ref name="mprescripts.attributes"/>
      <empty/>
    </element>
  </define>
  <define name="mprescripts.attributes">
    <ref name="CommonAtt"/>
    <ref name="CommonPresAtt"/>
  </define>
  <define name="CommonPresAtt">
    <optional>
      <attribute name="mathcolor">
        <ref name="color"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="mathbackground">
        <choice>
          <ref name="color"/>
          <value>transparent</value>
        </choice>
      </attribute>
    </optional>
  </define>
  <define name="TokenAtt">
    <optional>
      <attribute name="mathvariant">
        <choice>
          <value>normal</value>
          <value>bold</value>
          <value>italic</value>
          <value>bold-italic</value>
          <value>double-struck</value>
          <value>bold-fraktur</value>
          <value>script</value>
          <value>bold-script</value>
          <value>fraktur</value>
          <value>sans-serif</value>
          <value>bold-sans-serif</value>
          <value>sans-serif-italic</value>
          <value>sans-serif-bold-italic</value>
          <value>monospace</value>
          <value>initial</value>
          <value>tailed</value>
          <value>looped</value>
          <value>stretched</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="mathsize">
        <choice>
          <value>small</value>
          <value>normal</value>
          <value>big</value>
          <ref name="length"/>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="dir">
        <choice>
          <value>ltr</value>
          <value>rtl</value>
        </choice>
      </attribute>
    </optional>
    <ref name="DeprecatedTokenAtt"/>
  </define>
  <define name="DeprecatedTokenAtt">
    <optional>
      <attribute name="fontfamily"/>
    </optional>
    <optional>
      <attribute name="fontweight">
        <choice>
          <value>normal</value>
          <value>bold</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="fontstyle">
        <choice>
          <value>normal</value>
          <value>italic</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="fontsize">
        <ref name="length"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="color">
        <ref name="color"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="background">
        <choice>
          <ref name="color"/>
          <value>transparent</value>
        </choice>
      </attribute>
    </optional>
  </define>
  <define name="MalignExpression">
    <choice>
      <ref name="maligngroup"/>
      <ref name="malignmark"/>
    </choice>
  </define>
  <define name="malignmark">
    <element name="malignmark">
      <ref name="malignmark.attributes"/>
      <empty/>
    </element>
  </define>
  <define name="malignmark.attributes">
    <ref name="CommonAtt"/>
    <ref name="CommonPresAtt"/>
    <optional>
      <attribute name="edge">
        <choice>
          <value>left</value>
          <value>right</value>
        </choice>
      </attribute>
    </optional>
  </define>
  <define name="maligngroup">
    <element name="maligngroup">
      <ref name="maligngroup.attributes"/>
      <empty/>
    </element>
  </define>
  <define name="maligngroup.attributes">
    <ref name="CommonAtt"/>
    <ref name="CommonPresAtt"/>
    <optional>
      <attribute name="groupalign">
        <choice>
          <value>left</value>
          <value>center</value>
          <value>right</value>
          <value>decimalpoint</value>
        </choice>
      </attribute>
    </optional>
  </define>
  <define name="PresentationExpression">
    <choice>
      <ref name="TokenExpression"/>
      <ref name="MalignExpression"/>
      <ref name="mrow"/>
      <ref name="mfrac"/>
      <ref name="msqrt"/>
      <ref name="mroot"/>
      <ref name="mstyle"/>
      <ref name="merror"/>
      <ref name="mpadded"/>
      <ref name="mphantom"/>
      <ref name="mfenced"/>
      <ref name="menclose"/>
      <ref name="msub"/>
      <ref name="msup"/>
      <ref name="msubsup"/>
      <ref name="munder"/>
      <ref name="mover"/>
      <ref name="munderover"/>
      <ref name="mmultiscripts"/>
      <ref name="mtable"/>
      <ref name="mstack"/>
      <ref name="mlongdiv"/>
      <ref name="maction"/>
    </choice>
  </define>
  <define name="mrow">
    <element name="mrow">
      <ref name="mrow.attributes"/>
      <zeroOrMore>
        <ref name="MathExpression"/>
      </zeroOrMore>
    </element>
  </define>
  <define name="mrow.attributes">
    <ref name="CommonAtt"/>
    <ref name="CommonPresAtt"/>
    <optional>
      <attribute name="dir">
        <choice>
          <value>ltr</value>
          <value>rtl</value>
        </choice>
      </attribute>
    </optional>
  </define>
  <define name="mfrac">
    <element name="mfrac">
      <ref name="mfrac.attributes"/>
      <ref name="MathExpression"/>
      <ref name="MathExpression"/>
    </element>
  </define>
  <define name="mfrac.attributes">
    <ref name="CommonAtt"/>
    <ref name="CommonPresAtt"/>
    <optional>
      <attribute name="linethickness">
        <choice>
          <ref name="length"/>
          <value>thin</value>
          <value>medium</value>
          <value>thick</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="numalign">
        <choice>
          <value>left</value>
          <value>center</value>
          <value>right</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="denomalign">
        <choice>
          <value>left</value>
          <value>center</value>
          <value>right</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="bevelled">
        <choice>
          <value>true</value>
          <value>false</value>
        </choice>
      </attribute>
    </optional>
  </define>
  <define name="msqrt">
    <element name="msqrt">
      <ref name="msqrt.attributes"/>
      <ref name="ImpliedMrow"/>
    </element>
  </define>
  <define name="msqrt.attributes">
    <ref name="CommonAtt"/>
    <ref name="CommonPresAtt"/>
  </define>
  <define name="mroot">
    <element name="mroot">
      <ref name="mroot.attributes"/>
      <ref name="MathExpression"/>
      <ref name="MathExpression"/>
    </element>
  </define>
  <define name="mroot.attributes">
    <ref name="CommonAtt"/>
    <ref name="CommonPresAtt"/>
  </define>
  <define name="mstyle">
    <element name="mstyle">
      <ref name="mstyle.attributes"/>
      <ref name="ImpliedMrow"/>
    </element>
  </define>
  <define name="mstyle.attributes">
    <ref name="CommonAtt"/>
    <ref name="CommonPresAtt"/>
    <ref name="mstyle.specificattributes"/>
    <ref name="mstyle.generalattributes"/>
    <ref name="mstyle.deprecatedattributes"/>
  </define>
  <define name="mstyle.specificattributes">
    <optional>
      <attribute name="scriptlevel">
        <ref name="integer"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="displaystyle">
        <choice>
          <value>true</value>
          <value>false</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="scriptsizemultiplier">
        <ref name="number"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="scriptminsize">
        <ref name="length"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="infixlinebreakstyle">
        <choice>
          <value>before</value>
          <value>after</value>
          <value>duplicate</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="decimalpoint">
        <ref name="character"/>
      </attribute>
    </optional>
  </define>
  <define name="mstyle.generalattributes">
    <optional>
      <attribute name="accent">
        <choice>
          <value>true</value>
          <value>false</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="accentunder">
        <choice>
          <value>true</value>
          <value>false</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="align">
        <choice>
          <value>left</value>
          <value>right</value>
          <value>center</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="alignmentscope">
        <list>
          <oneOrMore>
            <choice>
              <value>true</value>
              <value>false</value>
            </choice>
          </oneOrMore>
        </list>
      </attribute>
    </optional>
    <optional>
      <attribute name="bevelled">
        <choice>
          <value>true</value>
          <value>false</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="charalign">
        <choice>
          <value>left</value>
          <value>center</value>
          <value>right</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="charspacing">
        <choice>
          <ref name="length"/>
          <value>loose</value>
          <value>medium</value>
          <value>tight</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="close"/>
    </optional>
    <optional>
      <attribute name="columnalign">
        <list>
          <oneOrMore>
            <ref name="columnalignstyle"/>
          </oneOrMore>
        </list>
      </attribute>
    </optional>
    <optional>
      <attribute name="columnlines">
        <list>
          <oneOrMore>
            <ref name="linestyle"/>
          </oneOrMore>
        </list>
      </attribute>
    </optional>
    <optional>
      <attribute name="columnspacing">
        <list>
          <oneOrMore>
            <ref name="length"/>
          </oneOrMore>
        </list>
      </attribute>
    </optional>
    <optional>
      <attribute name="columnspan">
        <ref name="positive-integer"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="columnwidth">
        <list>
          <oneOrMore>
            <choice>
              <value>auto</value>
              <ref name="length"/>
              <value>fit</value>
            </choice>
          </oneOrMore>
        </list>
      </attribute>
    </optional>
    <optional>
      <attribute name="crossout">
        <list>
          <zeroOrMore>
            <choice>
              <value>none</value>
              <value>updiagonalstrike</value>
              <value>downdiagonalstrike</value>
              <value>verticalstrike</value>
              <value>horizontalstrike</value>
            </choice>
          </zeroOrMore>
        </list>
      </attribute>
    </optional>
    <optional>
      <attribute name="denomalign">
        <choice>
          <value>left</value>
          <value>center</value>
          <value>right</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="depth">
        <ref name="length"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="dir">
        <choice>
          <value>ltr</value>
          <value>rtl</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="edge">
        <choice>
          <value>left</value>
          <value>right</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="equalcolumns">
        <choice>
          <value>true</value>
          <value>false</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="equalrows">
        <choice>
          <value>true</value>
          <value>false</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="fence">
        <choice>
          <value>true</value>
          <value>false</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="form">
        <choice>
          <value>prefix</value>
          <value>infix</value>
          <value>postfix</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="frame">
        <ref name="linestyle"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="framespacing">
        <list>
          <ref name="length"/>
          <ref name="length"/>
        </list>
      </attribute>
    </optional>
    <optional>
      <attribute name="groupalign">
        <ref name="group-alignment-list-list"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="height">
        <ref name="length"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="indentalign">
        <choice>
          <value>left</value>
          <value>center</value>
          <value>right</value>
          <value>auto</value>
          <value>id</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="indentalignfirst">
        <choice>
          <value>left</value>
          <value>center</value>
          <value>right</value>
          <value>auto</value>
          <value>id</value>
          <value>indentalign</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="indentalignlast">
        <choice>
          <value>left</value>
          <value>center</value>
          <value>right</value>
          <value>auto</value>
          <value>id</value>
          <value>indentalign</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="indentshift">
        <ref name="length"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="indentshiftfirst">
        <choice>
          <ref name="length"/>
          <value>indentshift</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="indentshiftlast">
        <choice>
          <ref name="length"/>
          <value>indentshift</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="indenttarget">
        <ref name="idref"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="largeop">
        <choice>
          <value>true</value>
          <value>false</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="leftoverhang">
        <ref name="length"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="length">
        <ref name="unsigned-integer"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="linebreak">
        <choice>
          <value>auto</value>
          <value>newline</value>
          <value>nobreak</value>
          <value>goodbreak</value>
          <value>badbreak</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="linebreakmultchar"/>
    </optional>
    <optional>
      <attribute name="linebreakstyle">
        <choice>
          <value>before</value>
          <value>after</value>
          <value>duplicate</value>
          <value>infixlinebreakstyle</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="lineleading">
        <ref name="length"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="linethickness">
        <choice>
          <ref name="length"/>
          <value>thin</value>
          <value>medium</value>
          <value>thick</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="location">
        <choice>
          <value>w</value>
          <value>nw</value>
          <value>n</value>
          <value>ne</value>
          <value>e</value>
          <value>se</value>
          <value>s</value>
          <value>sw</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="longdivstyle">
        <choice>
          <value>lefttop</value>
          <value>stackedrightright</value>
          <value>mediumstackedrightright</value>
          <value>shortstackedrightright</value>
          <value>righttop</value>
          <value>left/\\right</value>
          <value>left)(right</value>
          <value>:right=right</value>
          <value>stackedleftleft</value>
          <value>stackedleftlinetop</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="lquote"/>
    </optional>
    <optional>
      <attribute name="lspace">
        <ref name="length"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="mathsize">
        <choice>
          <value>small</value>
          <value>normal</value>
          <value>big</value>
          <ref name="length"/>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="mathvariant">
        <choice>
          <value>normal</value>
          <value>bold</value>
          <value>italic</value>
          <value>bold-italic</value>
          <value>double-struck</value>
          <value>bold-fraktur</value>
          <value>script</value>
          <value>bold-script</value>
          <value>fraktur</value>
          <value>sans-serif</value>
          <value>bold-sans-serif</value>
          <value>sans-serif-italic</value>
          <value>sans-serif-bold-italic</value>
          <value>monospace</value>
          <value>initial</value>
          <value>tailed</value>
          <value>looped</value>
          <value>stretched</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="maxsize">
        <choice>
          <ref name="length"/>
          <value>infinity</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="minlabelspacing">
        <ref name="length"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="minsize">
        <ref name="length"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="movablelimits">
        <choice>
          <value>true</value>
          <value>false</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="mslinethickness">
        <choice>
          <ref name="length"/>
          <value>thin</value>
          <value>medium</value>
          <value>thick</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="notation"/>
    </optional>
    <optional>
      <attribute name="numalign">
        <choice>
          <value>left</value>
          <value>center</value>
          <value>right</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="open"/>
    </optional>
    <optional>
      <attribute name="position">
        <ref name="integer"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="rightoverhang">
        <ref name="length"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="rowalign">
        <list>
          <oneOrMore>
            <ref name="verticalalign"/>
          </oneOrMore>
        </list>
      </attribute>
    </optional>
    <optional>
      <attribute name="rowlines">
        <list>
          <oneOrMore>
            <ref name="linestyle"/>
          </oneOrMore>
        </list>
      </attribute>
    </optional>
    <optional>
      <attribute name="rowspacing">
        <list>
          <oneOrMore>
            <ref name="length"/>
          </oneOrMore>
        </list>
      </attribute>
    </optional>
    <optional>
      <attribute name="rowspan">
        <ref name="positive-integer"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="rquote"/>
    </optional>
    <optional>
      <attribute name="rspace">
        <ref name="length"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="selection">
        <ref name="positive-integer"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="separator">
        <choice>
          <value>true</value>
          <value>false</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="separators"/>
    </optional>
    <optional>
      <attribute name="shift">
        <ref name="integer"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="side">
        <choice>
          <value>left</value>
          <value>right</value>
          <value>leftoverlap</value>
          <value>rightoverlap</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="stackalign">
        <choice>
          <value>left</value>
          <value>center</value>
          <value>right</value>
          <value>decimalpoint</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="stretchy">
        <choice>
          <value>true</value>
          <value>false</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="subscriptshift">
        <ref name="length"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="superscriptshift">
        <ref name="length"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="symmetric">
        <choice>
          <value>true</value>
          <value>false</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="valign">
        <ref name="length"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="width">
        <ref name="length"/>
      </attribute>
    </optional>
  </define>
  <define name="mstyle.deprecatedattributes">
    <ref name="DeprecatedTokenAtt"/>
    <optional>
      <attribute name="veryverythinmathspace">
        <ref name="length"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="verythinmathspace">
        <ref name="length"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="thinmathspace">
        <ref name="length"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="mediummathspace">
        <ref name="length"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="thickmathspace">
        <ref name="length"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="verythickmathspace">
        <ref name="length"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="veryverythickmathspace">
        <ref name="length"/>
      </attribute>
    </optional>
  </define>
  <define name="math.attributes" combine="interleave">
    <ref name="CommonPresAtt"/>
  </define>
  <define name="math.attributes" combine="interleave">
    <ref name="mstyle.specificattributes"/>
  </define>
  <define name="math.attributes" combine="interleave">
    <ref name="mstyle.generalattributes"/>
  </define>
  <define name="merror">
    <element name="merror">
      <ref name="merror.attributes"/>
      <ref name="ImpliedMrow"/>
    </element>
  </define>
  <define name="merror.attributes">
    <ref name="CommonAtt"/>
    <ref name="CommonPresAtt"/>
  </define>
  <define name="mpadded">
    <element name="mpadded">
      <ref name="mpadded.attributes"/>
      <ref name="ImpliedMrow"/>
    </element>
  </define>
  <define name="mpadded.attributes">
    <ref name="CommonAtt"/>
    <ref name="CommonPresAtt"/>
    <optional>
      <attribute name="height">
        <ref name="mpadded-length"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="depth">
        <ref name="mpadded-length"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="width">
        <ref name="mpadded-length"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="lspace">
        <ref name="mpadded-length"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="voffset">
        <ref name="mpadded-length"/>
      </attribute>
    </optional>
  </define>
  <define name="mphantom">
    <element name="mphantom">
      <ref name="mphantom.attributes"/>
      <ref name="ImpliedMrow"/>
    </element>
  </define>
  <define name="mphantom.attributes">
    <ref name="CommonAtt"/>
    <ref name="CommonPresAtt"/>
  </define>
  <define name="mfenced">
    <element name="mfenced">
      <ref name="mfenced.attributes"/>
      <zeroOrMore>
        <ref name="MathExpression"/>
      </zeroOrMore>
    </element>
  </define>
  <define name="mfenced.attributes">
    <ref name="CommonAtt"/>
    <ref name="CommonPresAtt"/>
    <optional>
      <attribute name="open"/>
    </optional>
    <optional>
      <attribute name="close"/>
    </optional>
    <optional>
      <attribute name="separators"/>
    </optional>
  </define>
  <define name="menclose">
    <element name="menclose">
      <ref name="menclose.attributes"/>
      <ref name="ImpliedMrow"/>
    </element>
  </define>
  <define name="menclose.attributes">
    <ref name="CommonAtt"/>
    <ref name="CommonPresAtt"/>
    <optional>
      <attribute name="notation"/>
    </optional>
  </define>
  <define name="msub">
    <element name="msub">
      <ref name="msub.attributes"/>
      <ref name="MathExpression"/>
      <ref name="MathExpression"/>
    </element>
  </define>
  <define name="msub.attributes">
    <ref name="CommonAtt"/>
    <ref name="CommonPresAtt"/>
    <optional>
      <attribute name="subscriptshift">
        <ref name="length"/>
      </attribute>
    </optional>
  </define>
  <define name="msup">
    <element name="msup">
      <ref name="msup.attributes"/>
      <ref name="MathExpression"/>
      <ref name="MathExpression"/>
    </element>
  </define>
  <define name="msup.attributes">
    <ref name="CommonAtt"/>
    <ref name="CommonPresAtt"/>
    <optional>
      <attribute name="superscriptshift">
        <ref name="length"/>
      </attribute>
    </optional>
  </define>
  <define name="msubsup">
    <element name="msubsup">
      <ref name="msubsup.attributes"/>
      <ref name="MathExpression"/>
      <ref name="MathExpression"/>
      <ref name="MathExpression"/>
    </element>
  </define>
  <define name="msubsup.attributes">
    <ref name="CommonAtt"/>
    <ref name="CommonPresAtt"/>
    <optional>
      <attribute name="subscriptshift">
        <ref name="length"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="superscriptshift">
        <ref name="length"/>
      </attribute>
    </optional>
  </define>
  <define name="munder">
    <element name="munder">
      <ref name="munder.attributes"/>
      <ref name="MathExpression"/>
      <ref name="MathExpression"/>
    </element>
  </define>
  <define name="munder.attributes">
    <ref name="CommonAtt"/>
    <ref name="CommonPresAtt"/>
    <optional>
      <attribute name="accentunder">
        <choice>
          <value>true</value>
          <value>false</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="align">
        <choice>
          <value>left</value>
          <value>right</value>
          <value>center</value>
        </choice>
      </attribute>
    </optional>
  </define>
  <define name="mover">
    <element name="mover">
      <ref name="mover.attributes"/>
      <ref name="MathExpression"/>
      <ref name="MathExpression"/>
    </element>
  </define>
  <define name="mover.attributes">
    <ref name="CommonAtt"/>
    <ref name="CommonPresAtt"/>
    <optional>
      <attribute name="accent">
        <choice>
          <value>true</value>
          <value>false</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="align">
        <choice>
          <value>left</value>
          <value>right</value>
          <value>center</value>
        </choice>
      </attribute>
    </optional>
  </define>
  <define name="munderover">
    <element name="munderover">
      <ref name="munderover.attributes"/>
      <ref name="MathExpression"/>
      <ref name="MathExpression"/>
      <ref name="MathExpression"/>
    </element>
  </define>
  <define name="munderover.attributes">
    <ref name="CommonAtt"/>
    <ref name="CommonPresAtt"/>
    <optional>
      <attribute name="accent">
        <choice>
          <value>true</value>
          <value>false</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="accentunder">
        <choice>
          <value>true</value>
          <value>false</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="align">
        <choice>
          <value>left</value>
          <value>right</value>
          <value>center</value>
        </choice>
      </attribute>
    </optional>
  </define>
  <define name="mmultiscripts">
    <element name="mmultiscripts">
      <ref name="mmultiscripts.attributes"/>
      <ref name="MathExpression"/>
      <zeroOrMore>
        <ref name="MultiScriptExpression"/>
      </zeroOrMore>
      <optional>
        <ref name="mprescripts"/>
        <zeroOrMore>
          <ref name="MultiScriptExpression"/>
        </zeroOrMore>
      </optional>
    </element>
  </define>
  <define name="mmultiscripts.attributes">
    <ref name="msubsup.attributes"/>
  </define>
  <define name="mtable">
    <element name="mtable">
      <ref name="mtable.attributes"/>
      <zeroOrMore>
        <ref name="TableRowExpression"/>
      </zeroOrMore>
    </element>
  </define>
  <define name="mtable.attributes">
    <ref name="CommonAtt"/>
    <ref name="CommonPresAtt"/>
    <optional>
      <attribute name="align">
        <data type="string">
          <param name="pattern">\\s*(top|bottom|center|baseline|axis)(\\s+-?[0-9]+)?\\s*</param>
        </data>
      </attribute>
    </optional>
    <optional>
      <attribute name="rowalign">
        <list>
          <oneOrMore>
            <ref name="verticalalign"/>
          </oneOrMore>
        </list>
      </attribute>
    </optional>
    <optional>
      <attribute name="columnalign">
        <list>
          <oneOrMore>
            <ref name="columnalignstyle"/>
          </oneOrMore>
        </list>
      </attribute>
    </optional>
    <optional>
      <attribute name="groupalign">
        <ref name="group-alignment-list-list"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="alignmentscope">
        <list>
          <oneOrMore>
            <choice>
              <value>true</value>
              <value>false</value>
            </choice>
          </oneOrMore>
        </list>
      </attribute>
    </optional>
    <optional>
      <attribute name="columnwidth">
        <list>
          <oneOrMore>
            <choice>
              <value>auto</value>
              <ref name="length"/>
              <value>fit</value>
            </choice>
          </oneOrMore>
        </list>
      </attribute>
    </optional>
    <optional>
      <attribute name="width">
        <choice>
          <value>auto</value>
          <ref name="length"/>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="rowspacing">
        <list>
          <oneOrMore>
            <ref name="length"/>
          </oneOrMore>
        </list>
      </attribute>
    </optional>
    <optional>
      <attribute name="columnspacing">
        <list>
          <oneOrMore>
            <ref name="length"/>
          </oneOrMore>
        </list>
      </attribute>
    </optional>
    <optional>
      <attribute name="rowlines">
        <list>
          <oneOrMore>
            <ref name="linestyle"/>
          </oneOrMore>
        </list>
      </attribute>
    </optional>
    <optional>
      <attribute name="columnlines">
        <list>
          <oneOrMore>
            <ref name="linestyle"/>
          </oneOrMore>
        </list>
      </attribute>
    </optional>
    <optional>
      <attribute name="frame">
        <ref name="linestyle"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="framespacing">
        <list>
          <ref name="length"/>
          <ref name="length"/>
        </list>
      </attribute>
    </optional>
    <optional>
      <attribute name="equalrows">
        <choice>
          <value>true</value>
          <value>false</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="equalcolumns">
        <choice>
          <value>true</value>
          <value>false</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="displaystyle">
        <choice>
          <value>true</value>
          <value>false</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="side">
        <choice>
          <value>left</value>
          <value>right</value>
          <value>leftoverlap</value>
          <value>rightoverlap</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="minlabelspacing">
        <ref name="length"/>
      </attribute>
    </optional>
  </define>
  <define name="mlabeledtr">
    <element name="mlabeledtr">
      <ref name="mlabeledtr.attributes"/>
      <oneOrMore>
        <ref name="TableCellExpression"/>
      </oneOrMore>
    </element>
  </define>
  <define name="mlabeledtr.attributes">
    <ref name="mtr.attributes"/>
  </define>
  <define name="mtr">
    <element name="mtr">
      <ref name="mtr.attributes"/>
      <zeroOrMore>
        <ref name="TableCellExpression"/>
      </zeroOrMore>
    </element>
  </define>
  <define name="mtr.attributes">
    <ref name="CommonAtt"/>
    <ref name="CommonPresAtt"/>
    <optional>
      <attribute name="rowalign">
        <choice>
          <value>top</value>
          <value>bottom</value>
          <value>center</value>
          <value>baseline</value>
          <value>axis</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="columnalign">
        <list>
          <oneOrMore>
            <ref name="columnalignstyle"/>
          </oneOrMore>
        </list>
      </attribute>
    </optional>
    <optional>
      <attribute name="groupalign">
        <ref name="group-alignment-list-list"/>
      </attribute>
    </optional>
  </define>
  <define name="mtd">
    <element name="mtd">
      <ref name="mtd.attributes"/>
      <ref name="ImpliedMrow"/>
    </element>
  </define>
  <define name="mtd.attributes">
    <ref name="CommonAtt"/>
    <ref name="CommonPresAtt"/>
    <optional>
      <attribute name="rowspan">
        <ref name="positive-integer"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="columnspan">
        <ref name="positive-integer"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="rowalign">
        <choice>
          <value>top</value>
          <value>bottom</value>
          <value>center</value>
          <value>baseline</value>
          <value>axis</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="columnalign">
        <ref name="columnalignstyle"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="groupalign">
        <ref name="group-alignment-list"/>
      </attribute>
    </optional>
  </define>
  <define name="mstack">
    <element name="mstack">
      <ref name="mstack.attributes"/>
      <zeroOrMore>
        <ref name="MstackExpression"/>
      </zeroOrMore>
    </element>
  </define>
  <define name="mstack.attributes">
    <ref name="CommonAtt"/>
    <ref name="CommonPresAtt"/>
    <optional>
      <attribute name="align">
        <data type="string">
          <param name="pattern">\\s*(top|bottom|center|baseline|axis)(\\s+-?[0-9]+)?\\s*</param>
        </data>
      </attribute>
    </optional>
    <optional>
      <attribute name="stackalign">
        <choice>
          <value>left</value>
          <value>center</value>
          <value>right</value>
          <value>decimalpoint</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="charalign">
        <choice>
          <value>left</value>
          <value>center</value>
          <value>right</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="charspacing">
        <choice>
          <ref name="length"/>
          <value>loose</value>
          <value>medium</value>
          <value>tight</value>
        </choice>
      </attribute>
    </optional>
  </define>
  <define name="mlongdiv">
    <element name="mlongdiv">
      <ref name="mlongdiv.attributes"/>
      <ref name="MstackExpression"/>
      <ref name="MstackExpression"/>
      <oneOrMore>
        <ref name="MstackExpression"/>
      </oneOrMore>
    </element>
  </define>
  <define name="mlongdiv.attributes">
    <ref name="msgroup.attributes"/>
    <optional>
      <attribute name="longdivstyle">
        <choice>
          <value>lefttop</value>
          <value>stackedrightright</value>
          <value>mediumstackedrightright</value>
          <value>shortstackedrightright</value>
          <value>righttop</value>
          <value>left/\\right</value>
          <value>left)(right</value>
          <value>:right=right</value>
          <value>stackedleftleft</value>
          <value>stackedleftlinetop</value>
        </choice>
      </attribute>
    </optional>
  </define>
  <define name="msgroup">
    <element name="msgroup">
      <ref name="msgroup.attributes"/>
      <zeroOrMore>
        <ref name="MstackExpression"/>
      </zeroOrMore>
    </element>
  </define>
  <define name="msgroup.attributes">
    <ref name="CommonAtt"/>
    <ref name="CommonPresAtt"/>
    <optional>
      <attribute name="position">
        <ref name="integer"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="shift">
        <ref name="integer"/>
      </attribute>
    </optional>
  </define>
  <define name="msrow">
    <element name="msrow">
      <ref name="msrow.attributes"/>
      <zeroOrMore>
        <ref name="MsrowExpression"/>
      </zeroOrMore>
    </element>
  </define>
  <define name="msrow.attributes">
    <ref name="CommonAtt"/>
    <ref name="CommonPresAtt"/>
    <optional>
      <attribute name="position">
        <ref name="integer"/>
      </attribute>
    </optional>
  </define>
  <define name="mscarries">
    <element name="mscarries">
      <ref name="mscarries.attributes"/>
      <zeroOrMore>
        <choice>
          <ref name="MsrowExpression"/>
          <ref name="mscarry"/>
        </choice>
      </zeroOrMore>
    </element>
  </define>
  <define name="mscarries.attributes">
    <ref name="CommonAtt"/>
    <ref name="CommonPresAtt"/>
    <optional>
      <attribute name="position">
        <ref name="integer"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="location">
        <choice>
          <value>w</value>
          <value>nw</value>
          <value>n</value>
          <value>ne</value>
          <value>e</value>
          <value>se</value>
          <value>s</value>
          <value>sw</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="crossout">
        <list>
          <zeroOrMore>
            <choice>
              <value>none</value>
              <value>updiagonalstrike</value>
              <value>downdiagonalstrike</value>
              <value>verticalstrike</value>
              <value>horizontalstrike</value>
            </choice>
          </zeroOrMore>
        </list>
      </attribute>
    </optional>
    <optional>
      <attribute name="scriptsizemultiplier">
        <ref name="number"/>
      </attribute>
    </optional>
  </define>
  <define name="mscarry">
    <element name="mscarry">
      <ref name="mscarry.attributes"/>
      <zeroOrMore>
        <ref name="MsrowExpression"/>
      </zeroOrMore>
    </element>
  </define>
  <define name="mscarry.attributes">
    <ref name="CommonAtt"/>
    <ref name="CommonPresAtt"/>
    <optional>
      <attribute name="location">
        <choice>
          <value>w</value>
          <value>nw</value>
          <value>n</value>
          <value>ne</value>
          <value>e</value>
          <value>se</value>
          <value>s</value>
          <value>sw</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="crossout">
        <list>
          <zeroOrMore>
            <choice>
              <value>none</value>
              <value>updiagonalstrike</value>
              <value>downdiagonalstrike</value>
              <value>verticalstrike</value>
              <value>horizontalstrike</value>
            </choice>
          </zeroOrMore>
        </list>
      </attribute>
    </optional>
  </define>
  <define name="maction">
    <element name="maction">
      <ref name="maction.attributes"/>
      <oneOrMore>
        <ref name="MathExpression"/>
      </oneOrMore>
    </element>
  </define>
  <define name="maction.attributes">
    <ref name="CommonAtt"/>
    <ref name="CommonPresAtt"/>
    <attribute name="actiontype"/>
    <optional>
      <attribute name="selection">
        <ref name="positive-integer"/>
      </attribute>
    </optional>
  </define>

    <a:documentation>Presentation MathML</a:documentation>
  
  <!-- Inlined from mathml3-common.rng with overrides -->
<define name="math">
    <element name="math">
      <ref name="math.attributes"/>
      <zeroOrMore>
        <ref name="MathExpression"/>
      </zeroOrMore>
    </element>
  </define>
  <define name="MathExpression">
    <ref name="semantics"/>
  </define>
  <define name="NonMathMLAtt">
    <attribute>
      <anyName>
        <except>
          <nsName ns=""/>
          <nsName/>
        </except>
      </anyName>
      <data type="string"/>
    </attribute>
  </define>
  <define name="CommonDeprecatedAtt">
    <optional>
      <attribute name="other"/>
    </optional>
  </define>
  <!-- changed datatype of id attr from ID to non-empty string -->
  <define name="CommonAtt">
    <optional>
      <attribute name="id">
        <data type="string">
          <param name="pattern">[^\\s]+</param>
        </data>
      </attribute>
    </optional>
    <optional>
      <attribute name="xref"/>
    </optional>
    <optional>
      <attribute name="class">
        <data type="NMTOKENS"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="style">
        <data type="string"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="href">
        <data type="anyURI"/>
      </attribute>
    </optional>
    <ref name="CommonDeprecatedAtt"/>
    <zeroOrMore>
      <ref name="NonMathMLAtt"/>
    </zeroOrMore>
  </define>
  <define name="math.attributes">
    <ref name="CommonAtt"/>
    <optional>
      <attribute name="display">
        <choice>
          <value>block</value>
          <value>inline</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="maxwidth">
        <ref name="length"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="overflow">
        <choice>
          <value>linebreak</value>
          <value>scroll</value>
          <value>elide</value>
          <value>truncate</value>
          <value>scale</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="altimg">
        <data type="anyURI"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="altimg-width">
        <ref name="length"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="altimg-height">
        <ref name="length"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="altimg-valign">
        <choice>
          <ref name="length"/>
          <value>top</value>
          <value>middle</value>
          <value>bottom</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="alttext"/>
    </optional>
    <optional>
      <attribute name="cdgroup">
        <data type="anyURI"/>
      </attribute>
    </optional>
    <ref name="math.deprecatedattributes"/>
  </define>
  <!--
    the mathml3-presentation schema  adds additional attributes
    to the math element, all those valid on mstyle
  -->
  <define name="math.deprecatedattributes">
    <optional>
      <attribute name="mode">
        <data type="string"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="macros">
        <data type="string"/>
      </attribute>
    </optional>
  </define>
  <define name="name">
    <attribute name="name">
      <data type="NCName"/>
    </attribute>
  </define>
  <define name="cd">
    <attribute name="cd">
      <data type="NCName"/>
    </attribute>
  </define>
  <define name="src">
    <optional>
      <attribute name="src">
        <data type="anyURI"/>
      </attribute>
    </optional>
  </define>
  <define name="annotation">
    <element name="annotation">
      <ref name="annotation.attributes"/>
      <text/>
    </element>
  </define>
  <!-- changed content model of annotation-xml - - mike -->
  <define name="annotation-xml">
    <choice>
      <ref name="annotation-xml.xhtml"/>
      <ref name="annotation-xml.svg"/>
      <ref name="annotation-xml.mathml"/>
    </choice>
  </define>
  <define name="annotation-xml.model">
    <zeroOrMore>
      <choice>
        <ref name="MathExpression"/>
        <ref name="anyElement"/>
      </choice>
    </zeroOrMore>
  </define>
  <define name="anyElement">
    <element>
      <anyName>
        <except>
          <nsName/>
        </except>
      </anyName>
      <zeroOrMore>
        <choice>
          <attribute>
            <anyName/>
          </attribute>
          <text/>
          <ref name="anyElement"/>
        </choice>
      </zeroOrMore>
    </element>
  </define>
  <define name="annotation-xml.xhtml">
    <element name="annotation-xml">
      <ref name="annotation-xml.model.xhtml"/>
      <ref name="annotation-xml.attributes"/>
      <optional>
        <ref name="att-encoding.xhtml"/>
      </optional>
    </element>
  </define>
  <define name="annotation-xml.model.xhtml">
    <notAllowed/>
  </define>
  <define name="att-encoding.xhtml">
    <attribute name="encoding">
      <choice>
        <value type="string" datatypeLibrary="">application/xhtml+xml</value>
        <value type="string" datatypeLibrary="">text/html</value>
      </choice>
    </attribute>
  </define>
  <define name="annotation-xml.svg">
    <element name="annotation-xml">
      <ref name="annotation-xml.model.svg"/>
      <ref name="annotation-xml.attributes"/>
      <optional>
        <ref name="att-encoding.svg"/>
      </optional>
    </element>
  </define>
  <define name="annotation-xml.model.svg">
    <notAllowed/>
  </define>
  <define name="att-encoding.svg">
    <attribute name="encoding">
      <value type="string" datatypeLibrary="">SVG1.1</value>
    </attribute>
  </define>
  <define name="annotation-xml.mathml">
    <element name="annotation-xml">
      <ref name="annotation-xml.model.mathml"/>
      <ref name="annotation-xml.attributes"/>
      <optional>
        <ref name="att-encoding.mathml"/>
      </optional>
    </element>
  </define>
  <define name="annotation-xml.model.mathml">
    <ref name="math"/>
  </define>
  <define name="att-encoding.mathml">
    <attribute name="encoding">
      <choice>
        <value type="string" datatypeLibrary="">MathML</value>
        <value type="string" datatypeLibrary="">MathML-Content</value>
        <value type="string" datatypeLibrary="">MathML-Presentation</value>
      </choice>
    </attribute>
  </define>
  <define name="annotation.attributes">
    <ref name="CommonAtt"/>
    <optional>
      <ref name="cd"/>
    </optional>
    <optional>
      <ref name="name"/>
    </optional>
    <ref name="DefEncAtt"/>
    <optional>
      <ref name="src"/>
    </optional>
  </define>
  <define name="annotation-xml.attributes">
    <ref name="CommonAtt"/>
    <optional>
      <ref name="cd"/>
    </optional>
    <optional>
      <ref name="name"/>
    </optional>
    <optional>
      <ref name="src"/>
    </optional>
  </define>
  <define name="DefEncAtt">
    <optional>
      <attribute name="encoding">
        <data type="string"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="definitionURL">
        <data type="anyURI"/>
      </attribute>
    </optional>
  </define>
  <define name="semantics">
    <element name="semantics">
      <ref name="semantics.attributes"/>
      <ref name="MathExpression"/>
      <zeroOrMore>
        <choice>
          <ref name="annotation"/>
          <ref name="annotation-xml"/>
        </choice>
      </zeroOrMore>
    </element>
  </define>
  <define name="semantics.attributes">
    <ref name="CommonAtt"/>
    <ref name="DefEncAtt"/>
    <optional>
      <ref name="cd"/>
    </optional>
    <optional>
      <ref name="name"/>
    </optional>
  </define>
  <define name="length">
    <data type="string">
      <param name="pattern">\\s*((-?[0-9]*([0-9]\\.?|\\.[0-9])[0-9]*(e[mx]|in|cm|mm|p[xtc]|%)?)|(negative)?((very){0,2}thi(n|ck)|medium)mathspace)\\s*</param>
    </data>
  </define>

    <a:documentation>math and semantics common to both Content and Presentation</a:documentation>

    <!-- extend to circumvent datatype collisions -->
    <define name="NonMathMLAtt">
      <attribute>
        <anyName>
          <except>
            <nsName ns=""/>
            <nsName/>
            <nsName ns="http://www.w3.org/XML/1998/namespace"/>
            <nsName ns="http://www.w3.org/1999/xhtml"/>
            <nsName ns="http://www.w3.org/2001/xml-events"/>
            <nsName ns="http://www.w3.org/2001/10/synthesis"/>
            <nsName ns="http://www.idpf.org/2007/ops"/>
          </except>
        </anyName>
        <ref name="datatype.string"/>
      </attribute>
    </define>
    <!-- as ops allows presentation mathml only at top level, kill the contribution to MathExpression -->
    <define name="MathExpression">
      <choice>
        <ref name="semantics"/>
        <ref name="PresentationExpression"/>
      </choice>
    </define>
    <!-- override annotation-xml with EPUB restrictions -->
    <define name="annotation-xml">
      <ref name="epub.annotation-xml"/>
    </define>
  
  <!--
    Common attribute extensions
    - epub:type
  -->
  <define name="CommonAtt" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <!-- - SSML attributes -->
  <define name="CommonAtt" combine="interleave">
    <optional>
      <ref name="epub.ssml.ph.attr"/>
    </optional>
  </define>
  <!-- - xml:base -->
  <define name="CommonAtt" combine="interleave">
    <optional>
      <ref name="common.attrs.xmlbase"/>
    </optional>
  </define>
  <!-- - ARIA -->
  <define name="CommonAtt" combine="interleave">
    <optional>
      <ref name="aria.global"/>
    </optional>
  </define>
  <define name="annotation-xml.model.xhtml" combine="choice">
    <ref name="common.inner.flow"/>
  </define>
  <define name="annotation-xml.model.svg" combine="choice">
    <ref name="svg"/>
  </define>
  <!--
    The following comes from validator.nus xhtml5-svg-mathml.rnc driver:
    in our integration, <mtext> is the only MathML "token element" that can
    contain HTML element content; the <mi>, <mn>, <mo> and <ms> elements
    cannot; see http://www.w3.org/Bugs/Public/show_bug.cgi?id=9859#c8 for a
    rationale
  -->
  <define name="mtext.content" combine="choice">
    <ref name="common.elem.phrasing"/>
  </define>
  <!-- EPUB very specific annotation-xml restrictions: -->
  <define name="epub.annotation-xml">
    <choice>
      <ref name="annotation-xml.xhtml"/>
      <ref name="annotation-xml.svg"/>
      <ref name="epub.annotation-xml.mathml.content"/>
      <ref name="epub.annotation-xml.mathml.presentation"/>
    </choice>
  </define>
  <define name="epub.annotation-xml.attributes">
    <ref name="CommonAtt"/>
    <optional>
      <ref name="cd"/>
    </optional>
    <optional>
      <ref name="src"/>
    </optional>
  </define>
  <define name="epub.annotation-xml.mathml.content">
    <element name="annotation-xml">
      <ref name="epub.annotation-xml.model.mathml.content"/>
      <ref name="epub.annotation-xml.attributes"/>
      <ref name="epub.att-encoding.mathml.content"/>
      <ref name="epub.att-name.mathml.content"/>
    </element>
  </define>
  <define name="epub.annotation-xml.model.mathml.content">
    <zeroOrMore>
      <ref name="ContExp"/>
    </zeroOrMore>
  </define>
  <define name="epub.att-encoding.mathml.content">
    <attribute name="encoding">
      <choice>
        <value type="string" datatypeLibrary="">MathML-Content</value>
        <value type="string" datatypeLibrary="">application/mathml-content+xml</value>
      </choice>
    </attribute>
  </define>
  <define name="epub.att-name.mathml.content">
    <attribute name="name">
      <value type="string" datatypeLibrary="">contentequiv</value>
    </attribute>
  </define>
  <define name="epub.annotation-xml.mathml.presentation">
    <element name="annotation-xml">
      <ref name="epub.annotation-xml.model.mathml.presentation"/>
      <ref name="epub.annotation-xml.attributes"/>
      <ref name="epub.att-encoding.mathml.presentation"/>
      <optional>
        <ref name="epub.att-name.mathml.presentation"/>
      </optional>
    </element>
  </define>
  <define name="epub.annotation-xml.model.mathml.presentation">
    <zeroOrMore>
      <ref name="MathExpression"/>
    </zeroOrMore>
  </define>
  <define name="epub.att-encoding.mathml.presentation">
    <attribute name="encoding">
      <choice>
        <value type="string" datatypeLibrary="">MathML</value>
        <value>MathML-Presentation</value>
        <value type="string" datatypeLibrary="">application/mathml-presentation+xml</value>
      </choice>
    </attribute>
  </define>
  <define name="epub.att-name.mathml.presentation">
    <attribute name="name">
      <data type="NCName"/>
    </attribute>
  </define>
  <!-- Inlined from epub-shared-inc.rng -->
<!-- ##################################################################### -->
  <!-- EPUB elements -->
  <!-- Inlined from epub-trigger.rng with overrides -->
<!-- ##################################################################### -->
  <define name="epub.trigger">
    <a:documentation> RELAX NG Schema for EPUB: EPUB trigger element                    #</a:documentation>
    <!-- ##################################################################### -->
    <a:documentation>\`epub:trigger\` element</a:documentation>
    <element name="epub:trigger">
      <interleave>
        <ref name="epub.trigger.attrs"/>
        <ref name="epub.trigger.inner"/>
      </interleave>
    </element>
  </define>
  <define name="epub.trigger.attrs">
    <interleave>
      <optional>
        <ref name="common.attrs.id"/>
      </optional>
      <ref name="epub.trigger.attrs.action"/>
      <ref name="epub.trigger.attrs.ref"/>
      <ref name="xml.events.attrs.event"/>
      <ref name="xml.events.attrs.observer"/>
      <optional>
        <ref name="xml.events.attrs.defaultAction"/>
      </optional>
      <optional>
        <ref name="xml.events.attrs.phase"/>
      </optional>
      <optional>
        <ref name="xml.events.attrs.propagate"/>
      </optional>
    </interleave>
  </define>
  <define name="epub.trigger.attrs.action">
    <attribute name="action">
      <choice>
        <value>show</value>
        <value>hide</value>
        <value>play</value>
        <value>pause</value>
        <value>resume</value>
        <value>mute</value>
        <value>unmute</value>
      </choice>
    </attribute>
  </define>
  <define name="epub.trigger.attrs.ref">
    <attribute name="ref">
      <ref name="datatype.IDREF"/>
    </attribute>
  </define>
  <define name="xml.events.attrs.event">
    <attribute name="ev:event">
      <ref name="datatype.NMTOKEN"/>
    </attribute>
  </define>
  <define name="xml.events.attrs.observer">
    <attribute name="ev:observer">
      <ref name="datatype.IDREF"/>
    </attribute>
  </define>
  <define name="xml.events.attrs.defaultAction">
    <attribute name="ev:defaultAction">
      <choice>
        <value>cancel</value>
        <value>perform</value>
      </choice>
    </attribute>
  </define>
  <define name="xml.events.attrs.phase">
    <attribute name="ev:phase">
      <choice>
        <value>capture</value>
        <value>default</value>
      </choice>
    </attribute>
  </define>
  <define name="xml.events.attrs.propagate">
    <attribute name="ev:propagate">
      <choice>
        <value>stop</value>
        <value>continue</value>
      </choice>
    </attribute>
  </define>
  <define name="epub.trigger.inner">
    <empty/>
  </define>

    <a:documentation> RELAX NG Schema for EPUB: shared definitions for inclusion        #</a:documentation>
    <!-- ##################################################################### -->
    <a:documentation>Includes</a:documentation>
  
  <!-- Inlined from epub-switch.rng -->
<!-- ##################################################################### -->
  <define name="epub.switch.flow">
    <a:documentation> RELAX NG Schema for EPUB: EPUB switch element                     #</a:documentation>
    <!-- ##################################################################### -->
    <a:documentation>\`epub:switch\` element</a:documentation>
    <element name="epub:switch">
      <ref name="epub.switch.attrs"/>
      <oneOrMore>
        <ref name="epub.switch.case.flow"/>
      </oneOrMore>
      <ref name="epub.switch.default.flow"/>
    </element>
  </define>
  <define name="epub.switch.phrasing">
    <element name="epub:switch">
      <ref name="epub.switch.attrs"/>
      <oneOrMore>
        <ref name="epub.switch.case.phrasing"/>
      </oneOrMore>
      <ref name="epub.switch.default.phrasing"/>
    </element>
  </define>
  <define name="epub.switch.case.flow">
    <element name="epub:case">
      <interleave>
        <ref name="epub.case.attrs"/>
        <ref name="epub.case.flow.inner"/>
      </interleave>
    </element>
  </define>
  <define name="epub.switch.case.phrasing">
    <element name="epub:case">
      <interleave>
        <ref name="epub.case.attrs"/>
        <ref name="epub.case.phrasing.inner"/>
      </interleave>
    </element>
  </define>
  <define name="epub.switch.default.flow">
    <element name="epub:default">
      <interleave>
        <ref name="epub.default.attrs"/>
        <ref name="epub.default.flow.inner"/>
      </interleave>
    </element>
  </define>
  <define name="epub.switch.default.phrasing">
    <element name="epub:default">
      <interleave>
        <ref name="epub.default.attrs"/>
        <ref name="epub.default.phrasing.inner"/>
      </interleave>
    </element>
  </define>
  <define name="epub.case.flow.inner">
    <ref name="epub.switch.any"/>
  </define>
  <define name="epub.case.phrasing.inner">
    <ref name="epub.switch.any"/>
  </define>
  <define name="epub.switch.any">
    <zeroOrMore>
      <choice>
        <ref name="common.elem.flow"/>
        <ref name="epub.switch.anyElement"/>
        <text/>
      </choice>
    </zeroOrMore>
  </define>
  <define name="epub.default.flow.inner">
    <ref name="common.inner.flow"/>
  </define>
  <define name="epub.default.phrasing.inner">
    <ref name="common.inner.phrasing"/>
  </define>
  <define name="epub.switch.attrs" combine="interleave">
    <optional>
      <ref name="common.attrs.id"/>
    </optional>
  </define>
  <define name="epub.case.attrs" combine="interleave">
    <interleave>
      <optional>
        <ref name="common.attrs.id"/>
      </optional>
      <ref name="epub.case.attrs.rn"/>
    </interleave>
  </define>
  <define name="epub.default.attrs" combine="interleave">
    <optional>
      <ref name="common.attrs.id"/>
    </optional>
  </define>
  <define name="epub.case.attrs.rn">
    <attribute name="required-namespace">
      <ref name="datatype.URI"/>
    </attribute>
  </define>
  <define name="epub.switch.anyElement">
    <element>
      <anyName>
        <except>
          <nsName ns="http://www.w3.org/1998/Math/MathML"/>
          <nsName/>
        </except>
      </anyName>
      <zeroOrMore>
        <choice>
          <attribute>
            <anyName/>
          </attribute>
          <text/>
          <ref name="epub.switch.anyElement"/>
          <ref name="common.elem.flow"/>
        </choice>
      </zeroOrMore>
    </element>
  </define>
  <!-- EPUB attributes -->
  <!-- Inlined from epub-prefix-attr.rng -->
<!-- ##################################################################### -->
  <define name="epub.prefix.attr">
    <a:documentation> RELAX NG Schema for EPUB: EPUB prefix attributes                  #</a:documentation>
    <!-- ##################################################################### -->
    <a:documentation>prefix attributes</a:documentation>
    <attribute name="prefix">
      <ref name="datatype.prefixdecl"/>
    </attribute>
  </define>
  <define name="epub.prefix.attr.ns">
    <attribute name="epub:prefix">
      <ref name="datatype.prefixdecl"/>
    </attribute>
  </define>
  <!-- Inlined from epub-ssml-attrs.rng -->
<!-- ##################################################################### -->
  <define name="epub.ssml.ph.attr">
    <a:documentation> RELAX NG Schema for EPUB: EPUB SSML attributes                    #</a:documentation>
    <!-- ##################################################################### -->
    <a:documentation>SSML attributes</a:documentation>
    <attribute name="ssml:ph">
      <ref name="datatype.ssml.PhoneticExpression"/>
    </attribute>
  </define>
  <define name="epub.ssml.alphabet.attr">
    <attribute name="ssml:alphabet">
      <ref name="datatype.ssml.PhoneticAlphabet"/>
    </attribute>
  </define>
  <!-- Inlined from epub-type-attr.rng -->
<!-- ##################################################################### -->
  <define name="epub.type.attr">
    <a:documentation> RELAX NG Schema for EPUB: \`epub:type\` attribute                   #</a:documentation>
    <!-- ##################################################################### -->
    <a:documentation>\`epub:type\` attribute</a:documentation>
    <attribute name="epub:type">
      <ref name="datatype.properties"/>
    </attribute>
  </define>
  <!-- EPUB integration logic -->
  <!-- Inlined from epub-xhtml-integration.rng -->
<!-- ##################################################################### -->
  <!--
    Allow \`epub:type\` on all elements except:
     - the \`head\` element
     - metadata content (base, link, meta, noscript, script, style, template, title)
    
    Note:
    We can't use a common category since none is defined
    for non-metadata content. So we add it for each element.
  -->
  <!-- from applications.rnc -->
  <define name="progress.attrs" combine="interleave">
    <a:documentation> RELAX NG Schema for EPUB: integration of EPUB specifics in HTML   #</a:documentation>
    <!-- #####################################################################     -->
    <a:documentation>combine \`epub:type\`</a:documentation>
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="dialog.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="menu.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="mli.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="canvas.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="details.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="summary.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <!-- from block.rnc -->
  <define name="p.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="hr.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="pre.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="ul.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="li.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="ol.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="oli.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="dl.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="dt.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="dd.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="div.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="legend.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <!-- from data.rnc -->
  <define name="time.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="time.datetime.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="data.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="meter.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <!-- from embed.rnc -->
  <define name="img.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="picture.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="embed.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="object.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="param.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="iframe.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="map.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="area.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <!-- from media.rnc -->
  <define name="source.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="video.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="audio.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="track.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="figure.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="figcaption.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <!-- from meta.rnc -->
  <define name="html.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="body.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <!-- from phrase.rnc -->
  <define name="a.href.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="a.nohref.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="em.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="strong.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="small.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="mark.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="abbr.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="dfn.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="i.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="b.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="s.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="u.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="code.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="var.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="samp.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="kbd.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="sup.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="sub.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="q.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="cite.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="span.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="bdo.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="bdi.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="br.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="wbr.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <!-- from revision.rnc -->
  <define name="ins.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="del.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <!-- from ruby.rnc -->
  <define name="ruby.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="rt.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="rp.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <!-- from sectional.rnc -->
  <define name="h1.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="h2.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="h3.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="h4.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="h5.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="h6.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="hgroup.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="address.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="blockquote.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <!-- from structural.rnc -->
  <define name="section.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="nav.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="article.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="aside.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="header.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="footer.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="main.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <!-- from tables.rnc -->
  <define name="table.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="caption.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="colgroup.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="thead.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="tfoot.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="tbody.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="tr.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="td.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="th.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <!-- from web-forms.rnc and web-forms2.rnc -->
  <define name="common-form.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="option.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="optgroup.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="form.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="label.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="output.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="datalist.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="html.attrs" combine="interleave">
    <a:documentation>combine prefix attributes</a:documentation>
    <optional>
      <ref name="epub.prefix.attr.ns"/>
    </optional>
  </define>
  <define name="common.attrs.other" combine="interleave">
    <a:documentation>combine SSML attributes</a:documentation>
    <interleave>
      <optional>
        <ref name="epub.ssml.ph.attr"/>
      </optional>
      <optional>
        <ref name="epub.ssml.alphabet.attr"/>
      </optional>
    </interleave>
  </define>
  <define name="common.elem.flow" combine="choice">
    <a:documentation>combine \`epub:switch\` element</a:documentation>
    <ref name="epub.switch.flow"/>
  </define>
  <define name="common.elem.phrasing" combine="choice">
    <ref name="epub.switch.phrasing"/>
  </define>
  <define name="common.elem.metadata" combine="choice">
    <a:documentation>combine \`epub:trigger\` element</a:documentation>
    <ref name="epub.trigger"/>
  </define>
  <define name="common.elem.flow" combine="choice">
    <ref name="epub.trigger"/>
  </define>
  <!--
    Note: the default HMTL schema does not define such a category, so we
    do our best to include what makes sense here
  -->
  <define name="common.inner.anyhtml">
    <a:documentation>Content model: HTML fragments</a:documentation>
    <choice>
      <ref name="html.elem"/>
      <ref name="body.elem"/>
      <ref name="common.inner.flow"/>
    </choice>
  </define>
  <define name="common.elem.phrasing" combine="choice">
    <ref name="svg"/>
  </define>
  <define name="common.elem.phrasing" combine="choice">
    <ref name="math"/>
  </define>

    <a:documentation> RELAX NG Schema for EPUB: EPUB XHTML (+ SVG, + MathML)            #</a:documentation>
  
</grammar>
`;

export const EPUB_XHTML_30_SCH = `<?xml version="1.0" encoding="UTF-8"?>
<schema xmlns="http://purl.oclc.org/dsdl/schematron" queryBinding="xslt2">

    <ns uri="http://www.w3.org/1999/xhtml" prefix="h"/>
    <ns uri="http://www.idpf.org/2007/ops" prefix="epub"/>
    <ns uri="http://www.w3.org/1998/Math/MathML" prefix="math"/>
    <ns uri="http://www.w3.org/2001/10/synthesis" prefix="ssml"/>
    <ns uri="http://www.w3.org/2001/xml-events" prefix="ev"/>
    <ns uri="http://www.w3.org/2000/svg" prefix="svg"/>

    <let name="id-set" value="//*[@id]"/>

    <pattern id="encoding.decl.state">
        <rule context="h:meta[lower-case(@http-equiv)='content-type']">
            <assert test="matches(normalize-space(@content),'text/html;\\s*charset=utf-8','i')">The
                meta element in encoding declaration state (http-equiv='content-type') must have the
                value "text/html; charset=utf-8"</assert>
            <assert test="empty(../h:meta[@charset])">A document must not contain both a meta element
                in encoding declaration state (http-equiv='content-type') and a meta element with
                the charset attribute present.</assert>
        </rule>
    </pattern>
  
    <pattern id="title.present">
      <rule context="h:head">
        <assert test="exists(h:title)"
          >WARNING: The "head" element should have a "title" child element.</assert>
      </rule>
    </pattern>
    
    <pattern id="title.non-empty">
        <rule context="h:title">
            <assert test="normalize-space(.)"
                >Element "title" must not be empty.</assert>
        </rule>
    </pattern>
    
    <pattern id="epub.switch.deprecated">
        <rule context="epub:switch">
            <report test="true()"
                >WARNING: The "epub:switch" element is deprecated.</report>
        </rule>
    </pattern>
    
    <pattern id="epub.trigger.deprecated">
        <rule context="epub:trigger">
            <report test="true()"
                >WARNING: The "epub:trigger" element is deprecated.</report>
        </rule>
    </pattern>

    <pattern id="ancestor-area-map" is-a="required-ancestor">
        <param name="descendant" value="h:area"/>
        <param name="ancestor" value="h:map"/>
    </pattern>

    <pattern id="ancestor-imgismap-ahref" is-a="required-ancestor">
        <param name="descendant" value="h:img[@ismap]"/>
        <param name="ancestor" value="h:a[@href]"/>
    </pattern>
    
    <pattern id="descendant-a-interactive" is-a="no-interactive-content-descendants">
        <param name="ancestor" value="h:a"/>
    </pattern>

    <pattern id="descendant-button-interactive" is-a="no-interactive-content-descendants">
        <param name="ancestor" value="h:button"/>
    </pattern>

    <pattern id="descendant-audio-audio" is-a="disallowed-descendants">
        <param name="ancestor" value="h:audio"/>
        <param name="descendant" value="h:audio"/>
    </pattern>

    <pattern id="descendant-audio-video" is-a="disallowed-descendants">
        <param name="ancestor" value="h:audio"/>
        <param name="descendant" value="h:video"/>
    </pattern>

    <pattern id="descendant-video-video" is-a="disallowed-descendants">
        <param name="ancestor" value="h:video"/>
        <param name="descendant" value="h:video"/>
    </pattern>

    <pattern id="descendant-video-audio" is-a="disallowed-descendants">
        <param name="ancestor" value="h:video"/>
        <param name="descendant" value="h:audio"/>
    </pattern>

    <pattern id="descendant-address-address" is-a="disallowed-descendants">
        <param name="ancestor" value="h:address"/>
        <param name="descendant" value="h:address"/>
    </pattern>

    <pattern id="descendant-address-header" is-a="disallowed-descendants">
        <param name="ancestor" value="h:address"/>
        <param name="descendant" value="h:header"/>
    </pattern>

    <pattern id="descendant-address-footer" is-a="disallowed-descendants">
        <param name="ancestor" value="h:address"/>
        <param name="descendant" value="h:footer"/>
    </pattern>

    <pattern id="descendant-form-form" is-a="disallowed-descendants">
        <param name="ancestor" value="h:form"/>
        <param name="descendant" value="h:form"/>
    </pattern>

    <pattern id="descendant-progress-progress" is-a="disallowed-descendants">
        <param name="ancestor" value="h:progress"/>
        <param name="descendant" value="h:progress"/>
    </pattern>

    <pattern id="descendant-meter-meter" is-a="disallowed-descendants">
        <param name="ancestor" value="h:meter"/>
        <param name="descendant" value="h:meter"/>
    </pattern>

    <pattern id="descendant-dfn-dfn" is-a="disallowed-descendants">
        <param name="ancestor" value="h:dfn"/>
        <param name="descendant" value="h:dfn"/>
    </pattern>

    <pattern id="descendant-caption-table" is-a="disallowed-descendants">
        <param name="ancestor" value="h:caption"/>
        <param name="descendant" value="h:table"/>
    </pattern>

    <pattern id="descendant-header-header" is-a="disallowed-descendants">
        <param name="ancestor" value="h:header"/>
        <param name="descendant" value="h:header"/>
    </pattern>

    <pattern id="descendant-header-footer" is-a="disallowed-descendants">
        <param name="ancestor" value="h:header"/>
        <param name="descendant" value="h:footer"/>
    </pattern>

    <pattern id="descendant-footer-footer" is-a="disallowed-descendants">
        <param name="ancestor" value="h:footer"/>
        <param name="descendant" value="h:footer"/>
    </pattern>

    <pattern id="descendant-footer-header" is-a="disallowed-descendants">
        <param name="ancestor" value="h:footer"/>
        <param name="descendant" value="h:header"/>
    </pattern>

    <pattern id="descendant-label-label" is-a="disallowed-descendants">
        <param name="ancestor" value="h:label"/>
        <param name="descendant" value="h:label"/>
    </pattern>

    <pattern id="bdo-dir" is-a="required-attr">
        <param name="elem" value="h:bdo"/>
        <param name="attr" value="dir"/>
    </pattern>

    <pattern id="idrefs-aria-describedby" is-a="idrefs-any">
        <param name="element" value="*"/>
        <param name="idrefs-attr-name" value="aria-describedby"/>
    </pattern>

    <pattern id="idrefs-output-for" is-a="idrefs-any">
        <param name="element" value="h:output"/>
        <param name="idrefs-attr-name" value="for"/>
    </pattern>

    <pattern id="idrefs-aria-flowto" is-a="idrefs-any">
        <param name="element" value="*"/>
        <param name="idrefs-attr-name" value="aria-flowto"/>
    </pattern>

    <pattern id="idrefs-aria-labelledby" is-a="idrefs-any">
        <param name="element" value="*"/>
        <param name="idrefs-attr-name" value="aria-labelledby"/>
    </pattern>

    <pattern id="idrefs-aria-owns" is-a="idrefs-any">
        <param name="element" value="*"/>
        <param name="idrefs-attr-name" value="aria-owns"/>
    </pattern>

    <pattern id="idrefs-aria-controls" is-a="idrefs-any">
        <param name="element" value="*"/>
        <param name="idrefs-attr-name" value="aria-controls"/>
    </pattern>

    <pattern id="idref-mathml-xref" is-a="idref-any">
        <param name="element" value="math:*"/>
        <param name="idref-attr-name" value="xref"/>
    </pattern>

    <pattern id="idref-mathml-indenttarget" is-a="idref-any">
        <param name="element" value="math:*"/>
        <param name="idref-attr-name" value="indenttarget"/>
    </pattern>

    <pattern id="idref-input-list" is-a="idref-named">
        <param name="element" value="h:input"/>
        <param name="idref-attr-name" value="list"/>
        <param name="target-name" value="h:datalist"/>
    </pattern>

    <pattern id="idref-forms-form" is-a="idref-named">
        <param name="element" value="h:*"/>
        <param name="idref-attr-name" value="form"/>
        <param name="target-name" value="h:form"/>
    </pattern>

    <pattern id="idref-aria-activedescendant">
        <rule context="*[@aria-activedescendant]">
            <assert test="descendant::*[@id = current()/@aria-activedescendant]">The
                aria-activedescendant attribute must refer to a descendant element.</assert>
        </rule>
    </pattern>

    <pattern id="idref-label-for">
        <rule context="h:label[@for]">
            <assert
                test="some $elem in $id-set satisfies $elem/@id eq current()/@for and 
                   (local-name($elem) eq 'button' 
                 or (local-name($elem) eq 'input' and not($elem/@type='hidden'))
                 or local-name($elem) eq 'meter'
                 or local-name($elem) eq 'output' 
                 or local-name($elem) eq 'progress' 
                 or local-name($elem) eq 'select' 
                 or local-name($elem) eq 'textarea')"
                >The for attribute does not refer to an allowed target element (expecting:
                button|meter|output|progress|select|textarea|input[not(@type='hidden')]).</assert>
        </rule>
    </pattern>

    <pattern id="idrefs-headers">
        <rule context="h:*[@headers]">
            <let name="table" value="ancestor::h:table"/>
            <assert
                test="every $idref in tokenize(normalize-space(@headers), '\\s+') satisfies (some $elem in $table//h:th satisfies ($elem/@id eq $idref))"
                >The headers attribute must refer to th elements in the same table.</assert>
        </rule>
    </pattern>

    <pattern id="idref-trigger-observer" is-a="idref-any">
        <param name="element" value="epub:trigger"/>
        <param name="idref-attr-name" value="ev:observer"/>
    </pattern>

    <pattern id="idref-trigger-ref" is-a="idref-any">
        <param name="element" value="epub:trigger"/>
        <param name="idref-attr-name" value="ref"/>
    </pattern>

    <pattern id="map.name">
        <rule context="h:map[@name]">
            <let name="name-set" value="//h:map[@name]"/>
            <assert test="count($name-set[@name = current()/@name]) = 1">Duplicate map name
                    "<value-of select="current()/@name"/>"</assert>
        </rule>
    </pattern>

    <pattern id="map.id">
        <rule context="h:map[@id and @name]">
            <assert test="@id = @name">The id attribute on the map element must have the same value
                as the name attribute.</assert>
        </rule>
    </pattern>

    <pattern id="lang-xmllang">
        <rule context="h:*[@lang and @xml:lang]">
            <assert test="lower-case(@xml:lang) = lower-case(@lang)">The lang and xml:lang
                attributes must have the same value.</assert>
        </rule>
    </pattern>

    <pattern id="id-unique">
        <rule context="*[@id]">
            <assert test="count($id-set[@id = current()/@id]) = 1">Duplicate ID "<value-of
                    select="current()/@id"/>"</assert>
        </rule>
    </pattern>

    <pattern id="select-multiple">
        <rule context="h:select[not(@multiple)]">
            <report test="count(descendant::h:option[@selected]) > 1">A select element whose
                multiple attribute is not specified must not have more than one descendant option
                element with its selected attribute set.</report>
        </rule>
    </pattern>

    <pattern id="track">
        <rule context="h:track">
            <report test="@label and normalize-space(@label) = ''">The track element label attribute
                value must not be the empty string.</report>
            <report test="@default and preceding-sibling::h:track[@default]">There must not be more
                than one track child of a media element element with the default attribute
                specified.</report>
        </rule>
    </pattern>

    <pattern id="ssml-ph">
        <rule context="*[@ssml:ph]">
            <report test="ancestor::*[@ssml:ph]">The ssml:ph attribute must not be specified on a
                descendant of an element that also carries this attribute.</report>
        </rule>
    </pattern>

    <pattern id="link-sizes">
        <rule context="h:link[@sizes]">
            <assert test="@rel='icon'">The sizes attribute must not be specified on link elements
                that do not have a rel attribute that specifies the icon keyword.</assert>
        </rule>
    </pattern>

    <pattern id="meta-charset">
        <rule context="h:meta[@charset]">
            <assert test="count(preceding-sibling::h:meta[@charset]) = 0">There must not be more
                than one meta element with a charset attribute per document.</assert>
        </rule>
    </pattern>

    <pattern id="md-a-area">
        <rule context="h:a[@itemprop] | h:area[@itemprop]">
            <assert test="@href">If the itemprop is specified on an a element, then the href
                attribute must also be specified.</assert>
        </rule>
    </pattern>

    <pattern id="md-iframe-embed-object">
        <rule context="h:iframe[@itemprop] | h:embed[@itemprop] | h:object[@itemprop]">
            <assert test="@data">If the itemprop is specified on an iframe, embed or object element,
                then the data attribute must also be specified.</assert>
        </rule>
    </pattern>

    <pattern id="md-media">
        <rule context="h:audio[@itemprop] | h:video[@itemprop]">
            <assert test="@src">If the itemprop is specified on an video or audio element, then the
                src attribute must also be specified.</assert>
        </rule>
    </pattern>

    <pattern abstract="true" id="idref-any">
        <rule context="$element[@$idref-attr-name]">
            <assert test="some $elem in $id-set satisfies $elem/@id eq current()/@$idref-attr-name"
                >The <name path="@$idref-attr-name"/> attribute must refer to an element in the same
                document (the ID "<value-of select="current()/@$idref-attr-name"/>" does not
                exist).</assert>
        </rule>
    </pattern>

    <pattern abstract="true" id="idrefs-any">
        <rule context="$element[@$idrefs-attr-name]">
            <assert
                test="every $idref in tokenize(normalize-space(@$idrefs-attr-name),'\\s+') satisfies (some $elem in $id-set satisfies ($elem/@id eq $idref))"
                >The <name path="@$idrefs-attr-name"/> attribute must refer to elements in the same
                document (target ID missing)</assert>
        </rule>
    </pattern>

    <pattern abstract="true" id="idref-named">
        <rule context="$element[@$idref-attr-name]">
            <assert test="//$target-name[@id = current()/@$idref-attr-name]">The <name
                    path="@$idref-attr-name"/> attribute does not refer to an allowed target element
                (expecting: <value-of select="replace('$target-name','h:','')"/>).</assert>
        </rule>
    </pattern>

    <pattern abstract="true" id="required-attr">
        <rule context="$elem">
            <assert test="@$attr">The <name/> element must have a <value-of select="'$attr'"/>
                attribute.</assert>
        </rule>
    </pattern>

    <pattern abstract="true" id="disallowed-descendants">
        <rule context="$descendant">
            <report test="ancestor::$ancestor">The <name/> element must not appear inside <value-of
                    select="local-name(ancestor::$ancestor)"/> elements.</report>
        </rule>
    </pattern>

    <pattern abstract="true" id="required-ancestor">
        <rule context="$descendant">
            <assert test="ancestor::$ancestor">The <value-of select="replace('$descendant','h:','')"
                /> element must have an ancestor <value-of select="replace('$ancestor','h:','')"/>
                element.</assert>
        </rule>
    </pattern>

    <pattern abstract="true" id="no-interactive-content-descendants">
        <rule
            context="h:a|h:audio[@controls]|h:button|h:details|h:embed|h:iframe|h:img[@usemap]|h:input[not(@type='hidden')]
            |h:label|h:menu|h:object[@usemap]|h:select|h:textarea|h:video[@controls]">
            <report test="ancestor::$ancestor">The <name/> element must not appear inside <value-of
                    select="local-name(ancestor::$ancestor)"/> elements.</report>
        </rule>
    </pattern>
    
    <pattern id="dpub-aria.doc-endnote.deprecated">
        <rule context="h:*[@role]">
            <report test="tokenize(@role,'\\s+')='doc-endnote'"
                >WARNING: The "doc-endnote" role is deprecated and should not be used.</report>
            <report test="tokenize(@role,'\\s+')='doc-biblioentry'"
                >WARNING: The "doc-biblioentry" role is deprecated and should not be used.</report>
        </rule>
    </pattern>

</schema>
`;

export const EPUB_XHTML_INC_RNG = `<?xml version="1.0" encoding="UTF-8"?>
<!-- Credit: integration adapted from the Nu Html Checker drivers -->
<grammar ns="http://www.w3.org/1999/xhtml" xmlns:a="http://relaxng.org/ns/compatibility/annotations/1.0" xmlns="http://relaxng.org/ns/structure/1.0" datatypeLibrary="http://www.w3.org/2001/XMLSchema-datatypes">
  <!-- ##################################################################### -->
  <include href="common.rng">
    <a:documentation> RELAX NG Schema for XHTML 5                                       #</a:documentation>
    <!--
      #####################################################################
      
       XHTML validation based on the schemas from the Nu Html Checker,
       with the following changes:
         - datatypes replaced to use the patterns in datatype.rnc
         - title element not required (a missing title element will be
           reported as a WARNING in Schematron
         - allows meta http-equiv in encoding declaration state
         - allows the border attribute on tables
         - allow EPUB extensions (epub:type, epub:switch, epub:trigger,
           ssml:* attributes, etc)
      
      #####################################################################
    -->
    <a:documentation>Schema Framework &amp; Parameters</a:documentation>
    <!-- XHTML flavor # -->
    <define name="XMLonly">
      <empty/>
    </define>
    <define name="HTMLonly">
      <notAllowed/>
    </define>
    <!-- HTML 4 compat # -->
    <define name="v5only">
      <empty/>
    </define>
  </include>
  <!-- ##################################################################### -->
  <start>
    <a:documentation>Language Definitions</a:documentation>
    <ref name="html.elem"/>
  </start>
  <!--
    Note: these are too simplistic. The Nu HTML Checker performs
    a significant part of the checking in its Java-based datatype
    library.
  -->
  <include href="datatypes.rng">
    <a:documentation>Static datatypes</a:documentation>
  </include>
  <include href="meta.rng">
    <a:documentation>Modules from the Nu HTML Checker</a:documentation>
    <!--
      make the title element optional, since one could see the publication title
      as defining a proper "higher-level protocol"
      the lack of \`title\` will however raise a WARNING in a Schematron rule 
    -->
    <define name="head.inner">
      <interleave>
        <optional>
          <ref name="title.elem"/>
        </optional>
        <optional>
          <ref name="base.elem"/>
        </optional>
        <!-- REVISIT need a non-schema checker or Schematron -->
        <ref name="common.inner.metadata"/>
      </interleave>
      <!-- Limit encoding decl position in Schematron -->
    </define>
    <!--
      Allow http-equiv in encoding declaration state in XHTML too
      (W3C allows that, but not WHATWG)
    -->
    <define name="meta.http-equiv.content-type.elem">
      <element name="meta">
        <interleave>
          <ref name="meta.inner"/>
          <ref name="meta.http-equiv.content-type.attrs"/>
        </interleave>
      </element>
    </define>
    <!--
      Make http-equiv case-insensitive
      This is an ugly hack. Case-insensitiveness would better be solved
      at parsing time.
    -->
    <define name="meta.http-equiv.attrs.http-equiv.content-type">
      <attribute name="http-equiv">
        <data type="string">
          <param name="pattern">[cC][oO][nN][tT][eE][nN][tT]-[tT][yY][pP][eE]</param>
        </data>
      </attribute>
    </define>
    <define name="meta.http-equiv.attrs.http-equiv.refresh">
      <attribute name="http-equiv">
        <data type="string">
          <param name="pattern">[rR][eE][fF][rR][eE][sS][hH]</param>
        </data>
      </attribute>
    </define>
    <define name="meta.http-equiv.attrs.http-equiv.default-style">
      <attribute name="http-equiv">
        <data type="string">
          <param name="pattern">[dD][eE][fF][aA][uU][lL][tT]-[sS][tT][yY][lL][eE]</param>
        </data>
      </attribute>
    </define>
    <define name="meta.http-equiv.attrs.http-equiv.content-security-policy">
      <attribute name="http-equiv">
        <data type="string">
          <param name="pattern">[cC][oO][nN][tT][eE][nN][tT]-[sS][eE][cC][uU][rR][iI][tT][yY]-[pP][oO][lL][iI][cC][yY]</param>
        </data>
      </attribute>
    </define>
    <define name="meta.http-equiv.attrs.http-equiv.x-ua-compatible">
      <attribute name="http-equiv">
        <data type="string">
          <param name="pattern">[xX]-[uU][aA]-[cC][oO][mM][pP][aA][tT][iI][bB][lL][eE]</param>
        </data>
      </attribute>
    </define>
  </include>
  <include href="phrase.rng"/>
  <include href="block.rng"/>
  <include href="sectional.rng"/>
  <include href="structural.rng"/>
  <include href="revision.rng"/>
  <include href="embed.rng"/>
  <include href="ruby.rng"/>
  <include href="media.rng"/>
  <include href="core-scripting.rng"/>
  <include href="tables.rng"/>
  <include href="form-datatypes.rng"/>
  <include href="web-forms.rng"/>
  <include href="web-forms2.rng"/>
  <include href="applications.rng"/>
  <include href="data.rng"/>
  <include href="aria.rng"/>
  <include href="microdata.rng"/>
  <include href="web-components.rng"/>
  <include href="rdfa.rng"/>
  <!-- More tweaks for W3C-allowed features -->
  <define name="table.attrs" combine="interleave">
    <optional>
      <attribute name="border">
        <choice>
          <value/>
          <value>1</value>
        </choice>
      </attribute>
    </optional>
  </define>
</grammar>
`;

export const EPUB_XHTML_INTEGRATION_RNG = `<?xml version="1.0" encoding="UTF-8"?>
<grammar xmlns:a="http://relaxng.org/ns/compatibility/annotations/1.0" xmlns="http://relaxng.org/ns/structure/1.0">
  <!-- ##################################################################### -->
  <!--
    Allow \`epub:type\` on all elements except:
     - the \`head\` element
     - metadata content (base, link, meta, noscript, script, style, template, title)
    
    Note:
    We can't use a common category since none is defined
    for non-metadata content. So we add it for each element.
  -->
  <!-- from applications.rnc -->
  <define name="progress.attrs" combine="interleave">
    <a:documentation> RELAX NG Schema for EPUB: integration of EPUB specifics in HTML   #</a:documentation>
    <!-- #####################################################################     -->
    <a:documentation>combine \`epub:type\`</a:documentation>
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="dialog.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="menu.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="mli.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="canvas.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="details.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="summary.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <!-- from block.rnc -->
  <define name="p.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="hr.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="pre.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="ul.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="li.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="ol.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="oli.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="dl.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="dt.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="dd.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="div.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="legend.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <!-- from data.rnc -->
  <define name="time.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="time.datetime.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="data.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="meter.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <!-- from embed.rnc -->
  <define name="img.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="picture.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="embed.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="object.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="param.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="iframe.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="map.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="area.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <!-- from media.rnc -->
  <define name="source.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="video.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="audio.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="track.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="figure.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="figcaption.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <!-- from meta.rnc -->
  <define name="html.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="body.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <!-- from phrase.rnc -->
  <define name="a.href.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="a.nohref.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="em.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="strong.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="small.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="mark.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="abbr.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="dfn.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="i.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="b.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="s.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="u.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="code.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="var.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="samp.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="kbd.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="sup.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="sub.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="q.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="cite.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="span.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="bdo.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="bdi.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="br.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="wbr.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <!-- from revision.rnc -->
  <define name="ins.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="del.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <!-- from ruby.rnc -->
  <define name="ruby.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="rt.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="rp.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <!-- from sectional.rnc -->
  <define name="h1.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="h2.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="h3.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="h4.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="h5.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="h6.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="hgroup.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="address.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="blockquote.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <!-- from structural.rnc -->
  <define name="section.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="nav.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="article.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="aside.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="header.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="footer.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="main.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <!-- from tables.rnc -->
  <define name="table.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="caption.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="colgroup.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="thead.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="tfoot.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="tbody.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="tr.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="td.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="th.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <!-- from web-forms.rnc and web-forms2.rnc -->
  <define name="common-form.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="option.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="optgroup.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="form.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="label.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="output.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="datalist.attrs" combine="interleave">
    <optional>
      <ref name="epub.type.attr"/>
    </optional>
  </define>
  <define name="html.attrs" combine="interleave">
    <a:documentation>combine prefix attributes</a:documentation>
    <optional>
      <ref name="epub.prefix.attr.ns"/>
    </optional>
  </define>
  <define name="common.attrs.other" combine="interleave">
    <a:documentation>combine SSML attributes</a:documentation>
    <interleave>
      <optional>
        <ref name="epub.ssml.ph.attr"/>
      </optional>
      <optional>
        <ref name="epub.ssml.alphabet.attr"/>
      </optional>
    </interleave>
  </define>
  <define name="common.elem.flow" combine="choice">
    <a:documentation>combine \`epub:switch\` element</a:documentation>
    <ref name="epub.switch.flow"/>
  </define>
  <define name="common.elem.phrasing" combine="choice">
    <ref name="epub.switch.phrasing"/>
  </define>
  <define name="common.elem.metadata" combine="choice">
    <a:documentation>combine \`epub:trigger\` element</a:documentation>
    <ref name="epub.trigger"/>
  </define>
  <define name="common.elem.flow" combine="choice">
    <ref name="epub.trigger"/>
  </define>
</grammar>
`;

export const EPUB_XHTML_SVG_MATHML_RNG = `<?xml version="1.0" encoding="UTF-8"?>
<grammar xmlns:a="http://relaxng.org/ns/compatibility/annotations/1.0" xmlns="http://relaxng.org/ns/structure/1.0">
  <!-- ##################################################################### -->
  <!-- ##################################################################### -->
  <include href="epub-xhtml-inc.rng">
    <a:documentation> RELAX NG Schema for EPUB: EPUB XHTML (+ SVG, + MathML)            #</a:documentation>
  </include>
  <include href="epub-svg-forgiving-inc.rng"/>
  <include href="epub-mathml3-inc.rng"/>
  <include href="epub-shared-inc.rng"/>
  <define name="common.elem.phrasing" combine="choice">
    <ref name="svg"/>
  </define>
  <define name="common.elem.phrasing" combine="choice">
    <ref name="math"/>
  </define>
</grammar>
`;

export const FORM_DATATYPES_RNG = `<?xml version="1.0" encoding="UTF-8"?>
<grammar xmlns:a="http://relaxng.org/ns/compatibility/annotations/1.0" xmlns="http://relaxng.org/ns/structure/1.0" datatypeLibrary="">
  <!-- ##################################################################### -->
  <define name="form.data.mimetypelist">
    <a:documentation> RELAX NG Schema for HTML 5: Datatypes related to forms            #</a:documentation>
    <!-- ##################################################################### -->
    <a:documentation>MIME types</a:documentation>
    <ref name="datatype.html5.forms.mimetypelist"/>
  </define>
  <define name="form.data.pattern">
    <a:documentation>ECMAScript Regular Expression</a:documentation>
    <data type="string"/>
  </define>
  <define name="form.data.datetime-local">
    <a:documentation>Temporal</a:documentation>
    <ref name="datatype.html5.datetime.local"/>
  </define>
  <define name="form.data.date">
    <ref name="datatype.html5.date"/>
  </define>
  <define name="form.data.month">
    <ref name="datatype.html5.month"/>
  </define>
  <define name="form.data.week">
    <ref name="datatype.html5.week"/>
  </define>
  <define name="form.data.time">
    <ref name="datatype.html5.time"/>
  </define>
  <define name="form.data.emailaddress">
    <a:documentation>Email</a:documentation>
    <ref name="datatype.html5.emailaddress"/>
  </define>
  <define name="form.data.emailaddresslist">
    <ref name="datatype.html5.emailaddresslist"/>
  </define>
  <define name="form.data.color">
    <a:documentation>Color</a:documentation>
    <ref name="datatype.html5.color"/>
  </define>
  <!--
    		xsd:string {
    			pattern = "#[a-fA-F0-9]{6}"
    		}
  -->
  <define name="form.data.stringwithoutlinebreaks">
    <a:documentation>Text without line breaks</a:documentation>
    <ref name="datatype.html5.forms.string.nolinebreaks"/>
  </define>
  <define name="form.data.nonemptystring">
    <a:documentation>Non-empty string</a:documentation>
    <ref name="datatype.string.nonempty"/>
  </define>
</grammar>
`;

export const MATHML3_COMMON_RNG = `<?xml version="1.0" encoding="UTF-8"?>
<!--
      This is the Mathematical Markup Language (MathML) 3.0, an XML
      application for describing mathematical notation and capturing
      both its structure and content.
  
      With additional changes for integration into the validator.nu
      service.
  
      With additional changes for integration into EPUBCheck. 
  
      Copyright 1998-2010 W3C (MIT, ERCIM, Keio)
      Copyright 2012 Mozilla Foundation
      Copyright 2014-2019 W3C (MIT, ERCIM, Keio, Beihang)
  
      Use and distribution of this code are permitted under the terms
      W3C Software Notice and License
      http://www.w3.org/Consortium/Legal/2002/copyright-software-20021231
-->
<grammar ns="http://www.w3.org/1998/Math/MathML" xmlns="http://relaxng.org/ns/structure/1.0" datatypeLibrary="http://www.w3.org/2001/XMLSchema-datatypes">
  <define name="math">
    <element name="math">
      <ref name="math.attributes"/>
      <zeroOrMore>
        <ref name="MathExpression"/>
      </zeroOrMore>
    </element>
  </define>
  <define name="MathExpression">
    <ref name="semantics"/>
  </define>
  <define name="NonMathMLAtt">
    <attribute>
      <anyName>
        <except>
          <nsName ns=""/>
          <nsName/>
        </except>
      </anyName>
      <data type="string"/>
    </attribute>
  </define>
  <define name="CommonDeprecatedAtt">
    <optional>
      <attribute name="other"/>
    </optional>
  </define>
  <!-- changed datatype of id attr from ID to non-empty string -->
  <define name="CommonAtt">
    <optional>
      <attribute name="id">
        <data type="string">
          <param name="pattern">[^\\s]+</param>
        </data>
      </attribute>
    </optional>
    <optional>
      <attribute name="xref"/>
    </optional>
    <optional>
      <attribute name="class">
        <data type="NMTOKENS"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="style">
        <data type="string"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="href">
        <data type="anyURI"/>
      </attribute>
    </optional>
    <ref name="CommonDeprecatedAtt"/>
    <zeroOrMore>
      <ref name="NonMathMLAtt"/>
    </zeroOrMore>
  </define>
  <define name="math.attributes">
    <ref name="CommonAtt"/>
    <optional>
      <attribute name="display">
        <choice>
          <value>block</value>
          <value>inline</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="maxwidth">
        <ref name="length"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="overflow">
        <choice>
          <value>linebreak</value>
          <value>scroll</value>
          <value>elide</value>
          <value>truncate</value>
          <value>scale</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="altimg">
        <data type="anyURI"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="altimg-width">
        <ref name="length"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="altimg-height">
        <ref name="length"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="altimg-valign">
        <choice>
          <ref name="length"/>
          <value>top</value>
          <value>middle</value>
          <value>bottom</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="alttext"/>
    </optional>
    <optional>
      <attribute name="cdgroup">
        <data type="anyURI"/>
      </attribute>
    </optional>
    <ref name="math.deprecatedattributes"/>
  </define>
  <!--
    the mathml3-presentation schema  adds additional attributes
    to the math element, all those valid on mstyle
  -->
  <define name="math.deprecatedattributes">
    <optional>
      <attribute name="mode">
        <data type="string"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="macros">
        <data type="string"/>
      </attribute>
    </optional>
  </define>
  <define name="name">
    <attribute name="name">
      <data type="NCName"/>
    </attribute>
  </define>
  <define name="cd">
    <attribute name="cd">
      <data type="NCName"/>
    </attribute>
  </define>
  <define name="src">
    <optional>
      <attribute name="src">
        <data type="anyURI"/>
      </attribute>
    </optional>
  </define>
  <define name="annotation">
    <element name="annotation">
      <ref name="annotation.attributes"/>
      <text/>
    </element>
  </define>
  <!-- changed content model of annotation-xml - - mike -->
  <define name="annotation-xml">
    <choice>
      <ref name="annotation-xml.xhtml"/>
      <ref name="annotation-xml.svg"/>
      <ref name="annotation-xml.mathml"/>
    </choice>
  </define>
  <define name="annotation-xml.model">
    <zeroOrMore>
      <choice>
        <ref name="MathExpression"/>
        <ref name="anyElement"/>
      </choice>
    </zeroOrMore>
  </define>
  <define name="anyElement">
    <element>
      <anyName>
        <except>
          <nsName/>
        </except>
      </anyName>
      <zeroOrMore>
        <choice>
          <attribute>
            <anyName/>
          </attribute>
          <text/>
          <ref name="anyElement"/>
        </choice>
      </zeroOrMore>
    </element>
  </define>
  <define name="annotation-xml.xhtml">
    <element name="annotation-xml">
      <ref name="annotation-xml.model.xhtml"/>
      <ref name="annotation-xml.attributes"/>
      <optional>
        <ref name="att-encoding.xhtml"/>
      </optional>
    </element>
  </define>
  <define name="annotation-xml.model.xhtml">
    <notAllowed/>
  </define>
  <define name="att-encoding.xhtml">
    <attribute name="encoding">
      <choice>
        <value type="string" datatypeLibrary="">application/xhtml+xml</value>
        <value type="string" datatypeLibrary="">text/html</value>
      </choice>
    </attribute>
  </define>
  <define name="annotation-xml.svg">
    <element name="annotation-xml">
      <ref name="annotation-xml.model.svg"/>
      <ref name="annotation-xml.attributes"/>
      <optional>
        <ref name="att-encoding.svg"/>
      </optional>
    </element>
  </define>
  <define name="annotation-xml.model.svg">
    <notAllowed/>
  </define>
  <define name="att-encoding.svg">
    <attribute name="encoding">
      <value type="string" datatypeLibrary="">SVG1.1</value>
    </attribute>
  </define>
  <define name="annotation-xml.mathml">
    <element name="annotation-xml">
      <ref name="annotation-xml.model.mathml"/>
      <ref name="annotation-xml.attributes"/>
      <optional>
        <ref name="att-encoding.mathml"/>
      </optional>
    </element>
  </define>
  <define name="annotation-xml.model.mathml">
    <ref name="math"/>
  </define>
  <define name="att-encoding.mathml">
    <attribute name="encoding">
      <choice>
        <value type="string" datatypeLibrary="">MathML</value>
        <value type="string" datatypeLibrary="">MathML-Content</value>
        <value type="string" datatypeLibrary="">MathML-Presentation</value>
      </choice>
    </attribute>
  </define>
  <define name="annotation.attributes">
    <ref name="CommonAtt"/>
    <optional>
      <ref name="cd"/>
    </optional>
    <optional>
      <ref name="name"/>
    </optional>
    <ref name="DefEncAtt"/>
    <optional>
      <ref name="src"/>
    </optional>
  </define>
  <define name="annotation-xml.attributes">
    <ref name="CommonAtt"/>
    <optional>
      <ref name="cd"/>
    </optional>
    <optional>
      <ref name="name"/>
    </optional>
    <optional>
      <ref name="src"/>
    </optional>
  </define>
  <define name="DefEncAtt">
    <optional>
      <attribute name="encoding">
        <data type="string"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="definitionURL">
        <data type="anyURI"/>
      </attribute>
    </optional>
  </define>
  <define name="semantics">
    <element name="semantics">
      <ref name="semantics.attributes"/>
      <ref name="MathExpression"/>
      <zeroOrMore>
        <choice>
          <ref name="annotation"/>
          <ref name="annotation-xml"/>
        </choice>
      </zeroOrMore>
    </element>
  </define>
  <define name="semantics.attributes">
    <ref name="CommonAtt"/>
    <ref name="DefEncAtt"/>
    <optional>
      <ref name="cd"/>
    </optional>
    <optional>
      <ref name="name"/>
    </optional>
  </define>
  <define name="length">
    <data type="string">
      <param name="pattern">\\s*((-?[0-9]*([0-9]\\.?|\\.[0-9])[0-9]*(e[mx]|in|cm|mm|p[xtc]|%)?)|(negative)?((very){0,2}thi(n|ck)|medium)mathspace)\\s*</param>
    </data>
  </define>
</grammar>
`;

export const MATHML3_CONTENT_RNG = `<?xml version="1.0" encoding="UTF-8"?>
<grammar xmlns="http://relaxng.org/ns/structure/1.0" datatypeLibrary="http://www.w3.org/2001/XMLSchema-datatypes">
  <!--
        This is the Mathematical Markup Language (MathML) 3.0, an XML
        application for describing mathematical notation and capturing
        both its structure and content.
    
        With additional changes for integration into the validator.nu
        service.
    
        Copyright 1998-2010 W3C (MIT, ERCIM, Keio)
        Copyright 2012 Mozilla Foundation
        Copyright 2014-2019 W3C (MIT, ERCIM, Keio, Beihang)
    
        Use and distribution of this code are permitted under the terms
        W3C Software Notice and License
        http://www.w3.org/Consortium/Legal/2002/copyright-software-20021231
  -->
  <include href="mathml3-strict-content.rng">
    <define name="cn.content">
      <zeroOrMore>
        <choice>
          <text/>
          <ref name="mglyph"/>
          <ref name="sep"/>
          <ref name="PresentationExpression"/>
        </choice>
      </zeroOrMore>
    </define>
    <define name="cn.attributes">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <optional>
        <attribute name="type"/>
      </optional>
      <optional>
        <ref name="math-base"/>
      </optional>
    </define>
    <define name="ci.attributes">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <optional>
        <ref name="ci.type"/>
      </optional>
    </define>
    <define name="ci.type">
      <attribute name="type"/>
    </define>
    <define name="ci.content">
      <zeroOrMore>
        <choice>
          <text/>
          <ref name="mglyph"/>
          <ref name="PresentationExpression"/>
        </choice>
      </zeroOrMore>
    </define>
    <define name="csymbol.attributes">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <optional>
        <attribute name="type"/>
      </optional>
      <optional>
        <ref name="cd"/>
      </optional>
    </define>
    <define name="csymbol.content">
      <zeroOrMore>
        <choice>
          <text/>
          <ref name="mglyph"/>
          <ref name="PresentationExpression"/>
        </choice>
      </zeroOrMore>
    </define>
    <define name="bvar">
      <element name="bvar">
        <ref name="CommonAtt"/>
        <interleave>
          <choice>
            <ref name="ci"/>
            <ref name="semantics-ci"/>
          </choice>
          <optional>
            <ref name="degree"/>
          </optional>
        </interleave>
      </element>
    </define>
    <define name="cbytes.attributes">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
    </define>
    <define name="cs.attributes">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
    </define>
    <define name="apply.content">
      <choice>
        <oneOrMore>
          <ref name="ContExp"/>
        </oneOrMore>
        <group>
          <ref name="ContExp"/>
          <ref name="BvarQ"/>
          <zeroOrMore>
            <ref name="Qualifier"/>
          </zeroOrMore>
          <zeroOrMore>
            <ref name="ContExp"/>
          </zeroOrMore>
        </group>
      </choice>
    </define>
    <define name="bind.content">
      <ref name="apply.content"/>
    </define>
  </include>
  <!-- changed pattern name to math-base to avoid name conflict - mike -->
  <define name="math-base">
    <attribute name="base"/>
  </define>
  <define name="sep">
    <element name="sep">
      <empty/>
    </element>
  </define>
  <define name="PresentationExpression" combine="choice">
    <notAllowed/>
  </define>
  <define name="DomainQ">
    <zeroOrMore>
      <choice>
        <ref name="domainofapplication"/>
        <ref name="condition"/>
        <ref name="interval"/>
        <group>
          <ref name="lowlimit"/>
          <optional>
            <ref name="uplimit"/>
          </optional>
        </group>
      </choice>
    </zeroOrMore>
  </define>
  <define name="domainofapplication">
    <element name="domainofapplication">
      <ref name="ContExp"/>
    </element>
  </define>
  <define name="condition">
    <element name="condition">
      <ref name="ContExp"/>
    </element>
  </define>
  <define name="uplimit">
    <element name="uplimit">
      <ref name="ContExp"/>
    </element>
  </define>
  <define name="lowlimit">
    <element name="lowlimit">
      <ref name="ContExp"/>
    </element>
  </define>
  <define name="Qualifier">
    <choice>
      <ref name="DomainQ"/>
      <ref name="degree"/>
      <ref name="momentabout"/>
      <ref name="logbase"/>
    </choice>
  </define>
  <define name="degree">
    <element name="degree">
      <ref name="ContExp"/>
    </element>
  </define>
  <define name="momentabout">
    <element name="momentabout">
      <ref name="ContExp"/>
    </element>
  </define>
  <define name="logbase">
    <element name="logbase">
      <ref name="ContExp"/>
    </element>
  </define>
  <define name="type">
    <attribute name="type"/>
  </define>
  <define name="order">
    <attribute name="order">
      <choice>
        <value>numeric</value>
        <value>lexicographic</value>
      </choice>
    </attribute>
  </define>
  <define name="closure">
    <attribute name="closure"/>
  </define>
  <define name="ContExp" combine="choice">
    <ref name="piecewise"/>
  </define>
  <define name="piecewise">
    <element name="piecewise">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <interleave>
        <zeroOrMore>
          <ref name="piece"/>
        </zeroOrMore>
        <optional>
          <ref name="otherwise"/>
        </optional>
      </interleave>
    </element>
  </define>
  <define name="piece">
    <element name="piece">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <ref name="ContExp"/>
      <ref name="ContExp"/>
    </element>
  </define>
  <define name="otherwise">
    <element name="otherwise">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <ref name="ContExp"/>
    </element>
  </define>
  <define name="DeprecatedContExp">
    <choice>
      <ref name="reln"/>
      <ref name="fn"/>
      <ref name="declare"/>
    </choice>
  </define>
  <define name="ContExp" combine="choice">
    <ref name="DeprecatedContExp"/>
  </define>
  <define name="reln">
    <element name="reln">
      <zeroOrMore>
        <ref name="ContExp"/>
      </zeroOrMore>
    </element>
  </define>
  <define name="fn">
    <element name="fn">
      <ref name="ContExp"/>
    </element>
  </define>
  <define name="declare">
    <element name="declare">
      <optional>
        <attribute name="type">
          <data type="string"/>
        </attribute>
      </optional>
      <optional>
        <attribute name="scope">
          <data type="string"/>
        </attribute>
      </optional>
      <optional>
        <attribute name="nargs">
          <data type="nonNegativeInteger"/>
        </attribute>
      </optional>
      <optional>
        <attribute name="occurrence">
          <choice>
            <value>prefix</value>
            <value>infix</value>
            <value>function-model</value>
          </choice>
        </attribute>
      </optional>
      <ref name="DefEncAtt"/>
      <oneOrMore>
        <ref name="ContExp"/>
      </oneOrMore>
    </element>
  </define>
  <define name="interval.class">
    <ref name="interval"/>
  </define>
  <define name="ContExp" combine="choice">
    <ref name="interval.class"/>
  </define>
  <define name="interval">
    <element name="interval">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <optional>
        <ref name="closure"/>
      </optional>
      <ref name="ContExp"/>
      <ref name="ContExp"/>
    </element>
  </define>
  <define name="unary-functional.class">
    <choice>
      <ref name="inverse"/>
      <ref name="ident"/>
      <ref name="domain"/>
      <ref name="codomain"/>
      <ref name="math-image"/>
      <ref name="ln"/>
      <ref name="log"/>
      <ref name="moment"/>
    </choice>
  </define>
  <define name="ContExp" combine="choice">
    <ref name="unary-functional.class"/>
  </define>
  <define name="inverse">
    <element name="inverse">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="ident">
    <element name="ident">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="domain">
    <element name="domain">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="codomain">
    <element name="codomain">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <!-- changed pattern name to math-image to avoid name conflict - mike -->
  <define name="math-image">
    <element name="image">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="ln">
    <element name="ln">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="log">
    <element name="log">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="moment">
    <element name="moment">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="lambda.class">
    <ref name="lambda"/>
  </define>
  <define name="ContExp" combine="choice">
    <ref name="lambda.class"/>
  </define>
  <define name="lambda">
    <element name="lambda">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <ref name="BvarQ"/>
      <ref name="DomainQ"/>
      <ref name="ContExp"/>
    </element>
  </define>
  <define name="nary-functional.class">
    <ref name="compose"/>
  </define>
  <define name="ContExp" combine="choice">
    <ref name="nary-functional.class"/>
  </define>
  <define name="compose">
    <element name="compose">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="binary-arith.class">
    <choice>
      <ref name="quotient"/>
      <ref name="divide"/>
      <ref name="minus"/>
      <ref name="power"/>
      <ref name="rem"/>
      <ref name="root"/>
    </choice>
  </define>
  <define name="ContExp" combine="choice">
    <ref name="binary-arith.class"/>
  </define>
  <define name="quotient">
    <element name="quotient">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="divide">
    <element name="divide">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="minus">
    <element name="minus">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="power">
    <element name="power">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="rem">
    <element name="rem">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="root">
    <element name="root">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="unary-arith.class">
    <choice>
      <ref name="factorial"/>
      <ref name="minus"/>
      <ref name="root"/>
      <ref name="abs"/>
      <ref name="conjugate"/>
      <ref name="arg"/>
      <ref name="real"/>
      <ref name="imaginary"/>
      <ref name="floor"/>
      <ref name="ceiling"/>
      <ref name="exp"/>
    </choice>
  </define>
  <define name="ContExp" combine="choice">
    <ref name="unary-arith.class"/>
  </define>
  <define name="factorial">
    <element name="factorial">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="abs">
    <element name="abs">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="conjugate">
    <element name="conjugate">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="arg">
    <element name="arg">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="real">
    <element name="real">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="imaginary">
    <element name="imaginary">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="floor">
    <element name="floor">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="ceiling">
    <element name="ceiling">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="exp">
    <element name="exp">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="nary-minmax.class">
    <choice>
      <ref name="max"/>
      <ref name="min"/>
    </choice>
  </define>
  <define name="ContExp" combine="choice">
    <ref name="nary-minmax.class"/>
  </define>
  <define name="max">
    <element name="max">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="min">
    <element name="min">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="nary-arith.class">
    <choice>
      <ref name="plus"/>
      <ref name="times"/>
      <ref name="gcd"/>
      <ref name="lcm"/>
    </choice>
  </define>
  <define name="ContExp" combine="choice">
    <ref name="nary-arith.class"/>
  </define>
  <define name="plus">
    <element name="plus">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="times">
    <element name="times">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="gcd">
    <element name="gcd">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="lcm">
    <element name="lcm">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="nary-logical.class">
    <choice>
      <ref name="and"/>
      <ref name="or"/>
      <ref name="xor"/>
    </choice>
  </define>
  <define name="ContExp" combine="choice">
    <ref name="nary-logical.class"/>
  </define>
  <define name="and">
    <element name="and">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="or">
    <element name="or">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="xor">
    <element name="xor">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="unary-logical.class">
    <ref name="not"/>
  </define>
  <define name="ContExp" combine="choice">
    <ref name="unary-logical.class"/>
  </define>
  <define name="not">
    <element name="not">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="binary-logical.class">
    <choice>
      <ref name="implies"/>
      <ref name="equivalent"/>
    </choice>
  </define>
  <define name="ContExp" combine="choice">
    <ref name="binary-logical.class"/>
  </define>
  <define name="implies">
    <element name="implies">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="equivalent">
    <element name="equivalent">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="quantifier.class">
    <choice>
      <ref name="forall"/>
      <ref name="exists"/>
    </choice>
  </define>
  <define name="ContExp" combine="choice">
    <ref name="quantifier.class"/>
  </define>
  <define name="forall">
    <element name="forall">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="exists">
    <element name="exists">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="nary-reln.class">
    <choice>
      <ref name="eq"/>
      <ref name="gt"/>
      <ref name="lt"/>
      <ref name="geq"/>
      <ref name="leq"/>
    </choice>
  </define>
  <define name="ContExp" combine="choice">
    <ref name="nary-reln.class"/>
  </define>
  <define name="eq">
    <element name="eq">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="gt">
    <element name="gt">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="lt">
    <element name="lt">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="geq">
    <element name="geq">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="leq">
    <element name="leq">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="binary-reln.class">
    <choice>
      <ref name="neq"/>
      <ref name="approx"/>
      <ref name="factorof"/>
      <ref name="tendsto"/>
    </choice>
  </define>
  <define name="ContExp" combine="choice">
    <ref name="binary-reln.class"/>
  </define>
  <define name="neq">
    <element name="neq">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="approx">
    <element name="approx">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="factorof">
    <element name="factorof">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="tendsto">
    <element name="tendsto">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <optional>
        <ref name="type"/>
      </optional>
      <empty/>
    </element>
  </define>
  <define name="int.class">
    <ref name="int"/>
  </define>
  <define name="ContExp" combine="choice">
    <ref name="int.class"/>
  </define>
  <define name="int">
    <element name="int">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="Differential-Operator.class">
    <ref name="diff"/>
  </define>
  <define name="ContExp" combine="choice">
    <ref name="Differential-Operator.class"/>
  </define>
  <define name="diff">
    <element name="diff">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="partialdiff.class">
    <ref name="partialdiff"/>
  </define>
  <define name="ContExp" combine="choice">
    <ref name="partialdiff.class"/>
  </define>
  <define name="partialdiff">
    <element name="partialdiff">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="unary-veccalc.class">
    <choice>
      <ref name="divergence"/>
      <ref name="grad"/>
      <ref name="curl"/>
      <ref name="laplacian"/>
    </choice>
  </define>
  <define name="ContExp" combine="choice">
    <ref name="unary-veccalc.class"/>
  </define>
  <define name="divergence">
    <element name="divergence">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="grad">
    <element name="grad">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="curl">
    <element name="curl">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="laplacian">
    <element name="laplacian">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="nary-setlist-constructor.class">
    <choice>
      <ref name="math-set"/>
      <ref name="list"/>
    </choice>
  </define>
  <define name="ContExp" combine="choice">
    <ref name="nary-setlist-constructor.class"/>
  </define>
  <!-- changed pattern name to math-set to avoid name conflict - mike -->
  <define name="math-set">
    <element name="set">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <optional>
        <ref name="type"/>
      </optional>
      <zeroOrMore>
        <ref name="BvarQ"/>
      </zeroOrMore>
      <zeroOrMore>
        <ref name="DomainQ"/>
      </zeroOrMore>
      <zeroOrMore>
        <ref name="ContExp"/>
      </zeroOrMore>
    </element>
  </define>
  <define name="list">
    <element name="list">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <optional>
        <ref name="order"/>
      </optional>
      <zeroOrMore>
        <ref name="BvarQ"/>
      </zeroOrMore>
      <zeroOrMore>
        <ref name="DomainQ"/>
      </zeroOrMore>
      <zeroOrMore>
        <ref name="ContExp"/>
      </zeroOrMore>
    </element>
  </define>
  <define name="nary-set.class">
    <choice>
      <ref name="union"/>
      <ref name="intersect"/>
      <ref name="cartesianproduct"/>
    </choice>
  </define>
  <define name="ContExp" combine="choice">
    <ref name="nary-set.class"/>
  </define>
  <define name="union">
    <element name="union">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="intersect">
    <element name="intersect">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="cartesianproduct">
    <element name="cartesianproduct">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="binary-set.class">
    <choice>
      <ref name="in"/>
      <ref name="notin"/>
      <ref name="notsubset"/>
      <ref name="notprsubset"/>
      <ref name="setdiff"/>
    </choice>
  </define>
  <define name="ContExp" combine="choice">
    <ref name="binary-set.class"/>
  </define>
  <define name="in">
    <element name="in">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="notin">
    <element name="notin">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="notsubset">
    <element name="notsubset">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="notprsubset">
    <element name="notprsubset">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="setdiff">
    <element name="setdiff">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="nary-set-reln.class">
    <choice>
      <ref name="subset"/>
      <ref name="prsubset"/>
    </choice>
  </define>
  <define name="ContExp" combine="choice">
    <ref name="nary-set-reln.class"/>
  </define>
  <define name="subset">
    <element name="subset">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="prsubset">
    <element name="prsubset">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="unary-set.class">
    <ref name="card"/>
  </define>
  <define name="ContExp" combine="choice">
    <ref name="unary-set.class"/>
  </define>
  <define name="card">
    <element name="card">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="sum.class">
    <ref name="sum"/>
  </define>
  <define name="ContExp" combine="choice">
    <ref name="sum.class"/>
  </define>
  <define name="sum">
    <element name="sum">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="product.class">
    <ref name="product"/>
  </define>
  <define name="ContExp" combine="choice">
    <ref name="product.class"/>
  </define>
  <define name="product">
    <element name="product">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="limit.class">
    <ref name="limit"/>
  </define>
  <define name="ContExp" combine="choice">
    <ref name="limit.class"/>
  </define>
  <define name="limit">
    <element name="limit">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="unary-elementary.class">
    <choice>
      <ref name="sin"/>
      <ref name="cos"/>
      <ref name="tan"/>
      <ref name="sec"/>
      <ref name="csc"/>
      <ref name="cot"/>
      <ref name="sinh"/>
      <ref name="cosh"/>
      <ref name="tanh"/>
      <ref name="sech"/>
      <ref name="csch"/>
      <ref name="coth"/>
      <ref name="arcsin"/>
      <ref name="arccos"/>
      <ref name="arctan"/>
      <ref name="arccosh"/>
      <ref name="arccot"/>
      <ref name="arccoth"/>
      <ref name="arccsc"/>
      <ref name="arccsch"/>
      <ref name="arcsec"/>
      <ref name="arcsech"/>
      <ref name="arcsinh"/>
      <ref name="arctanh"/>
    </choice>
  </define>
  <define name="ContExp" combine="choice">
    <ref name="unary-elementary.class"/>
  </define>
  <define name="sin">
    <element name="sin">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="cos">
    <element name="cos">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="tan">
    <element name="tan">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="sec">
    <element name="sec">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="csc">
    <element name="csc">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="cot">
    <element name="cot">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="sinh">
    <element name="sinh">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="cosh">
    <element name="cosh">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="tanh">
    <element name="tanh">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="sech">
    <element name="sech">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="csch">
    <element name="csch">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="coth">
    <element name="coth">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="arcsin">
    <element name="arcsin">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="arccos">
    <element name="arccos">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="arctan">
    <element name="arctan">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="arccosh">
    <element name="arccosh">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="arccot">
    <element name="arccot">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="arccoth">
    <element name="arccoth">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="arccsc">
    <element name="arccsc">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="arccsch">
    <element name="arccsch">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="arcsec">
    <element name="arcsec">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="arcsech">
    <element name="arcsech">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="arcsinh">
    <element name="arcsinh">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="arctanh">
    <element name="arctanh">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="nary-stats.class">
    <choice>
      <ref name="mean"/>
      <ref name="sdev"/>
      <ref name="variance"/>
      <ref name="median"/>
      <ref name="mode"/>
    </choice>
  </define>
  <define name="ContExp" combine="choice">
    <ref name="nary-stats.class"/>
  </define>
  <define name="mean">
    <element name="mean">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="sdev">
    <element name="sdev">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="variance">
    <element name="variance">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="median">
    <element name="median">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="mode">
    <element name="mode">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="nary-constructor.class">
    <choice>
      <ref name="vector"/>
      <ref name="matrix"/>
      <ref name="matrixrow"/>
    </choice>
  </define>
  <define name="ContExp" combine="choice">
    <ref name="nary-constructor.class"/>
  </define>
  <define name="vector">
    <element name="vector">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <ref name="BvarQ"/>
      <ref name="DomainQ"/>
      <zeroOrMore>
        <ref name="ContExp"/>
      </zeroOrMore>
    </element>
  </define>
  <define name="matrix">
    <element name="matrix">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <ref name="BvarQ"/>
      <ref name="DomainQ"/>
      <zeroOrMore>
        <ref name="ContExp"/>
      </zeroOrMore>
    </element>
  </define>
  <define name="matrixrow">
    <element name="matrixrow">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <ref name="BvarQ"/>
      <ref name="DomainQ"/>
      <zeroOrMore>
        <ref name="ContExp"/>
      </zeroOrMore>
    </element>
  </define>
  <define name="unary-linalg.class">
    <choice>
      <ref name="determinant"/>
      <ref name="transpose"/>
    </choice>
  </define>
  <define name="ContExp" combine="choice">
    <ref name="unary-linalg.class"/>
  </define>
  <define name="determinant">
    <element name="determinant">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="transpose">
    <element name="transpose">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="nary-linalg.class">
    <ref name="selector"/>
  </define>
  <define name="ContExp" combine="choice">
    <ref name="nary-linalg.class"/>
  </define>
  <define name="selector">
    <element name="selector">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="binary-linalg.class">
    <choice>
      <ref name="vectorproduct"/>
      <ref name="scalarproduct"/>
      <ref name="outerproduct"/>
    </choice>
  </define>
  <define name="ContExp" combine="choice">
    <ref name="binary-linalg.class"/>
  </define>
  <define name="vectorproduct">
    <element name="vectorproduct">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="scalarproduct">
    <element name="scalarproduct">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="outerproduct">
    <element name="outerproduct">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="constant-set.class">
    <choice>
      <ref name="integers"/>
      <ref name="reals"/>
      <ref name="rationals"/>
      <ref name="naturalnumbers"/>
      <ref name="complexes"/>
      <ref name="primes"/>
      <ref name="emptyset"/>
    </choice>
  </define>
  <define name="ContExp" combine="choice">
    <ref name="constant-set.class"/>
  </define>
  <define name="integers">
    <element name="integers">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="reals">
    <element name="reals">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="rationals">
    <element name="rationals">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="naturalnumbers">
    <element name="naturalnumbers">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="complexes">
    <element name="complexes">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="primes">
    <element name="primes">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="emptyset">
    <element name="emptyset">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="constant-arith.class">
    <choice>
      <ref name="exponentiale"/>
      <ref name="imaginaryi"/>
      <ref name="notanumber"/>
      <ref name="true"/>
      <ref name="false"/>
      <ref name="pi"/>
      <ref name="eulergamma"/>
      <ref name="infinity"/>
    </choice>
  </define>
  <define name="ContExp" combine="choice">
    <ref name="constant-arith.class"/>
  </define>
  <define name="exponentiale">
    <element name="exponentiale">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="imaginaryi">
    <element name="imaginaryi">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="notanumber">
    <element name="notanumber">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="true">
    <element name="true">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="false">
    <element name="false">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="pi">
    <element name="pi">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="eulergamma">
    <element name="eulergamma">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
  <define name="infinity">
    <element name="infinity">
      <ref name="CommonAtt"/>
      <ref name="DefEncAtt"/>
      <empty/>
    </element>
  </define>
</grammar>
`;

export const MATHML3_INC_RNG = `<?xml version="1.0" encoding="UTF-8"?>
<!--
      This is the Mathematical Markup Language (MathML) 3.0, an XML
      application for describing mathematical notation and capturing
      both its structure and content.
  
      With additional changes for integration into the validator.nu
      service.
  
      With additional changes for integration into EPUBCheck. 
  
      Copyright 1998-2010 W3C (MIT, ERCIM, Keio)
      Copyright 2012 Mozilla Foundation
      Copyright 2014-2019 W3C (MIT, ERCIM, Keio, Beihang)
  
      Use and distribution of this code are permitted under the terms
      W3C Software Notice and License
      http://www.w3.org/Consortium/Legal/2002/copyright-software-20021231
-->
<grammar ns="http://www.w3.org/1998/Math/MathML" xmlns:a="http://relaxng.org/ns/compatibility/annotations/1.0" xmlns:m="http://www.w3.org/1998/Math/MathML" xmlns="http://relaxng.org/ns/structure/1.0">
  <include href="mathml3-content.rng">
    <a:documentation>Content  MathML</a:documentation>
  </include>
  <include href="mathml3-presentation.rng">
    <a:documentation>Presentation MathML</a:documentation>
  </include>
  <include href="mathml3-common.rng">
    <a:documentation>math and semantics common to both Content and Presentation</a:documentation>
  </include>
</grammar>
`;

export const MATHML3_PRESENTATION_RNG = `<?xml version="1.0" encoding="UTF-8"?>
<!--
      This is the Mathematical Markup Language (MathML) 3.0, an XML
      application for describing mathematical notation and capturing
      both its structure and content.
  
      With additional changes for integration into the validator.nu
      service.
  
      Copyright 1998-2010 W3C (MIT, ERCIM, Keio)
      Copyright 2012 Mozilla Foundation
      Copyright 2014-2019 W3C (MIT, ERCIM, Keio, Beihang)
  
      Use and distribution of this code are permitted under the terms
      W3C Software Notice and License
      http://www.w3.org/Consortium/Legal/2002/copyright-software-20021231
-->
<grammar ns="http://www.w3.org/1998/Math/MathML" xmlns="http://relaxng.org/ns/structure/1.0" datatypeLibrary="http://www.w3.org/2001/XMLSchema-datatypes">
  <define name="MathExpression" combine="choice">
    <ref name="PresentationExpression"/>
  </define>
  <define name="ImpliedMrow">
    <zeroOrMore>
      <ref name="MathExpression"/>
    </zeroOrMore>
  </define>
  <define name="TableRowExpression">
    <choice>
      <ref name="mtr"/>
      <ref name="mlabeledtr"/>
    </choice>
  </define>
  <define name="TableCellExpression">
    <ref name="mtd"/>
  </define>
  <define name="MstackExpression">
    <choice>
      <ref name="MathExpression"/>
      <ref name="mscarries"/>
      <ref name="msline"/>
      <ref name="msrow"/>
      <ref name="msgroup"/>
    </choice>
  </define>
  <define name="MsrowExpression">
    <choice>
      <ref name="MathExpression"/>
      <ref name="none"/>
    </choice>
  </define>
  <define name="MultiScriptExpression">
    <choice>
      <ref name="MathExpression"/>
      <ref name="none"/>
    </choice>
    <choice>
      <ref name="MathExpression"/>
      <ref name="none"/>
    </choice>
  </define>
  <define name="mpadded-length">
    <data type="string">
      <param name="pattern">\\s*([\\+\\-]?[0-9]*([0-9]\\.?|\\.[0-9])[0-9]*\\s*((%?\\s*(height|depth|width)?)|e[mx]|in|cm|mm|p[xtc]|((negative)?((very){0,2}thi(n|ck)|medium)mathspace))?)\\s*</param>
    </data>
  </define>
  <define name="linestyle">
    <choice>
      <value>none</value>
      <value>solid</value>
      <value>dashed</value>
    </choice>
  </define>
  <define name="verticalalign">
    <choice>
      <value>top</value>
      <value>bottom</value>
      <value>center</value>
      <value>baseline</value>
      <value>axis</value>
    </choice>
  </define>
  <define name="columnalignstyle">
    <choice>
      <value>left</value>
      <value>center</value>
      <value>right</value>
    </choice>
  </define>
  <define name="notationstyle">
    <choice>
      <value>longdiv</value>
      <value>actuarial</value>
      <value>radical</value>
      <value>box</value>
      <value>roundedbox</value>
      <value>circle</value>
      <value>left</value>
      <value>right</value>
      <value>top</value>
      <value>bottom</value>
      <value>updiagonalstrike</value>
      <value>downdiagonalstrike</value>
      <value>verticalstrike</value>
      <value>horizontalstrike</value>
      <value>madruwb</value>
    </choice>
  </define>
  <define name="idref">
    <text/>
  </define>
  <define name="unsigned-integer">
    <data type="unsignedLong"/>
  </define>
  <define name="integer">
    <data type="integer"/>
  </define>
  <define name="number">
    <data type="decimal"/>
  </define>
  <define name="character">
    <data type="string">
      <param name="pattern">\\s*\\S\\s*</param>
    </data>
  </define>
  <define name="color">
    <data type="string">
      <param name="pattern">\\s*((#[0-9a-fA-F]{3}([0-9a-fA-F]{3})?)|[aA][qQ][uU][aA]|[bB][lL][aA][cC][kK]|[bB][lL][uU][eE]|[fF][uU][cC][hH][sS][iI][aA]|[gG][rR][aA][yY]|[gG][rR][eE][eE][nN]|[lL][iI][mM][eE]|[mM][aA][rR][oO][oO][nN]|[nN][aA][vV][yY]|[oO][lL][iI][vV][eE]|[pP][uU][rR][pP][lL][eE]|[rR][eE][dD]|[sS][iI][lL][vV][eE][rR]|[tT][eE][aA][lL]|[wW][hH][iI][tT][eE]|[yY][eE][lL][lL][oO][wW])\\s*</param>
    </data>
  </define>
  <define name="group-alignment">
    <choice>
      <value>left</value>
      <value>center</value>
      <value>right</value>
      <value>decimalpoint</value>
    </choice>
  </define>
  <define name="group-alignment-list">
    <list>
      <oneOrMore>
        <ref name="group-alignment"/>
      </oneOrMore>
    </list>
  </define>
  <define name="group-alignment-list-list">
    <data type="string">
      <param name="pattern">(\\s*\\{\\s*(left|center|right|decimalpoint)(\\s+(left|center|right|decimalpoint))*\\})*\\s*</param>
    </data>
  </define>
  <define name="positive-integer">
    <data type="positiveInteger"/>
  </define>
  <define name="TokenExpression">
    <choice>
      <ref name="mi"/>
      <ref name="mn"/>
      <ref name="mo"/>
      <ref name="mtext"/>
      <ref name="mspace"/>
      <ref name="ms"/>
    </choice>
  </define>
  <define name="token.content">
    <choice>
      <ref name="mglyph"/>
      <ref name="malignmark"/>
      <text/>
    </choice>
  </define>
  <define name="mi">
    <element name="mi">
      <ref name="mi.attributes"/>
      <zeroOrMore>
        <ref name="token.content"/>
      </zeroOrMore>
    </element>
  </define>
  <define name="mi.attributes">
    <ref name="CommonAtt"/>
    <ref name="CommonPresAtt"/>
    <ref name="TokenAtt"/>
  </define>
  <define name="mn">
    <element name="mn">
      <ref name="mn.attributes"/>
      <zeroOrMore>
        <ref name="token.content"/>
      </zeroOrMore>
    </element>
  </define>
  <define name="mn.attributes">
    <ref name="CommonAtt"/>
    <ref name="CommonPresAtt"/>
    <ref name="TokenAtt"/>
  </define>
  <define name="mo">
    <element name="mo">
      <ref name="mo.attributes"/>
      <zeroOrMore>
        <ref name="token.content"/>
      </zeroOrMore>
    </element>
  </define>
  <define name="mo.attributes">
    <ref name="CommonAtt"/>
    <ref name="CommonPresAtt"/>
    <ref name="TokenAtt"/>
    <optional>
      <attribute name="form">
        <choice>
          <value>prefix</value>
          <value>infix</value>
          <value>postfix</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="fence">
        <choice>
          <value>true</value>
          <value>false</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="separator">
        <choice>
          <value>true</value>
          <value>false</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="lspace">
        <ref name="length"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="rspace">
        <ref name="length"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="stretchy">
        <choice>
          <value>true</value>
          <value>false</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="symmetric">
        <choice>
          <value>true</value>
          <value>false</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="maxsize">
        <choice>
          <ref name="length"/>
          <value>infinity</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="minsize">
        <ref name="length"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="largeop">
        <choice>
          <value>true</value>
          <value>false</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="movablelimits">
        <choice>
          <value>true</value>
          <value>false</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="accent">
        <choice>
          <value>true</value>
          <value>false</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="linebreak">
        <choice>
          <value>auto</value>
          <value>newline</value>
          <value>nobreak</value>
          <value>goodbreak</value>
          <value>badbreak</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="lineleading">
        <ref name="length"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="linebreakstyle">
        <choice>
          <value>before</value>
          <value>after</value>
          <value>duplicate</value>
          <value>infixlinebreakstyle</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="linebreakmultchar"/>
    </optional>
    <optional>
      <attribute name="indentalign">
        <choice>
          <value>left</value>
          <value>center</value>
          <value>right</value>
          <value>auto</value>
          <value>id</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="indentshift">
        <ref name="length"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="indenttarget">
        <ref name="idref"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="indentalignfirst">
        <choice>
          <value>left</value>
          <value>center</value>
          <value>right</value>
          <value>auto</value>
          <value>id</value>
          <value>indentalign</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="indentshiftfirst">
        <choice>
          <ref name="length"/>
          <value>indentshift</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="indentalignlast">
        <choice>
          <value>left</value>
          <value>center</value>
          <value>right</value>
          <value>auto</value>
          <value>id</value>
          <value>indentalign</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="indentshiftlast">
        <choice>
          <ref name="length"/>
          <value>indentshift</value>
        </choice>
      </attribute>
    </optional>
  </define>
  <!--
    changed mtext content model to use mtext.content instead of generic
    token.content, because we want to handle mtext differently than other
    MathML "token elements" - - mike
  -->
  <define name="mtext">
    <element name="mtext">
      <ref name="mtext.attributes"/>
      <zeroOrMore>
        <ref name="mtext.content"/>
      </zeroOrMore>
    </element>
  </define>
  <define name="mtext.attributes">
    <ref name="CommonAtt"/>
    <ref name="CommonPresAtt"/>
    <ref name="TokenAtt"/>
  </define>
  <define name="mtext.content">
    <choice>
      <ref name="mglyph"/>
      <ref name="malignmark"/>
      <text/>
    </choice>
  </define>
  <define name="mspace">
    <element name="mspace">
      <ref name="mspace.attributes"/>
      <empty/>
    </element>
  </define>
  <define name="mspace.attributes">
    <ref name="CommonAtt"/>
    <ref name="CommonPresAtt"/>
    <ref name="TokenAtt"/>
    <optional>
      <attribute name="width">
        <ref name="length"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="height">
        <ref name="length"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="depth">
        <ref name="length"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="linebreak">
        <choice>
          <value>auto</value>
          <value>newline</value>
          <value>nobreak</value>
          <value>goodbreak</value>
          <value>badbreak</value>
          <value>indentingnewline</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="indentalign">
        <choice>
          <value>left</value>
          <value>center</value>
          <value>right</value>
          <value>auto</value>
          <value>id</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="indentshift">
        <ref name="length"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="indenttarget">
        <ref name="idref"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="indentalignfirst">
        <choice>
          <value>left</value>
          <value>center</value>
          <value>right</value>
          <value>auto</value>
          <value>id</value>
          <value>indentalign</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="indentshiftfirst">
        <choice>
          <ref name="length"/>
          <value>indentshift</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="indentalignlast">
        <choice>
          <value>left</value>
          <value>center</value>
          <value>right</value>
          <value>auto</value>
          <value>id</value>
          <value>indentalign</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="indentshiftlast">
        <choice>
          <ref name="length"/>
          <value>indentshift</value>
        </choice>
      </attribute>
    </optional>
  </define>
  <define name="ms">
    <element name="ms">
      <ref name="ms.attributes"/>
      <zeroOrMore>
        <ref name="token.content"/>
      </zeroOrMore>
    </element>
  </define>
  <define name="ms.attributes">
    <ref name="CommonAtt"/>
    <ref name="CommonPresAtt"/>
    <ref name="TokenAtt"/>
    <optional>
      <attribute name="lquote"/>
    </optional>
    <optional>
      <attribute name="rquote"/>
    </optional>
  </define>
  <define name="mglyph">
    <element name="mglyph">
      <ref name="mglyph.attributes"/>
      <ref name="mglyph.deprecatedattributes"/>
      <empty/>
    </element>
  </define>
  <define name="mglyph.attributes">
    <ref name="CommonAtt"/>
    <ref name="CommonPresAtt"/>
    <optional>
      <attribute name="src">
        <data type="anyURI"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="width">
        <ref name="length"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="height">
        <ref name="length"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="valign">
        <ref name="length"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="alt"/>
    </optional>
  </define>
  <define name="mglyph.deprecatedattributes">
    <optional>
      <attribute name="index">
        <ref name="integer"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="mathvariant">
        <choice>
          <value>normal</value>
          <value>bold</value>
          <value>italic</value>
          <value>bold-italic</value>
          <value>double-struck</value>
          <value>bold-fraktur</value>
          <value>script</value>
          <value>bold-script</value>
          <value>fraktur</value>
          <value>sans-serif</value>
          <value>bold-sans-serif</value>
          <value>sans-serif-italic</value>
          <value>sans-serif-bold-italic</value>
          <value>monospace</value>
          <value>initial</value>
          <value>tailed</value>
          <value>looped</value>
          <value>stretched</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="mathsize">
        <choice>
          <value>small</value>
          <value>normal</value>
          <value>big</value>
          <ref name="length"/>
        </choice>
      </attribute>
    </optional>
    <ref name="DeprecatedTokenAtt"/>
  </define>
  <define name="msline">
    <element name="msline">
      <ref name="msline.attributes"/>
      <empty/>
    </element>
  </define>
  <define name="msline.attributes">
    <ref name="CommonAtt"/>
    <ref name="CommonPresAtt"/>
    <optional>
      <attribute name="position">
        <ref name="integer"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="length">
        <ref name="unsigned-integer"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="leftoverhang">
        <ref name="length"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="rightoverhang">
        <ref name="length"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="mslinethickness">
        <choice>
          <ref name="length"/>
          <value>thin</value>
          <value>medium</value>
          <value>thick</value>
        </choice>
      </attribute>
    </optional>
  </define>
  <define name="none">
    <element name="none">
      <ref name="none.attributes"/>
      <empty/>
    </element>
  </define>
  <define name="none.attributes">
    <ref name="CommonAtt"/>
    <ref name="CommonPresAtt"/>
  </define>
  <define name="mprescripts">
    <element name="mprescripts">
      <ref name="mprescripts.attributes"/>
      <empty/>
    </element>
  </define>
  <define name="mprescripts.attributes">
    <ref name="CommonAtt"/>
    <ref name="CommonPresAtt"/>
  </define>
  <define name="CommonPresAtt">
    <optional>
      <attribute name="mathcolor">
        <ref name="color"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="mathbackground">
        <choice>
          <ref name="color"/>
          <value>transparent</value>
        </choice>
      </attribute>
    </optional>
  </define>
  <define name="TokenAtt">
    <optional>
      <attribute name="mathvariant">
        <choice>
          <value>normal</value>
          <value>bold</value>
          <value>italic</value>
          <value>bold-italic</value>
          <value>double-struck</value>
          <value>bold-fraktur</value>
          <value>script</value>
          <value>bold-script</value>
          <value>fraktur</value>
          <value>sans-serif</value>
          <value>bold-sans-serif</value>
          <value>sans-serif-italic</value>
          <value>sans-serif-bold-italic</value>
          <value>monospace</value>
          <value>initial</value>
          <value>tailed</value>
          <value>looped</value>
          <value>stretched</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="mathsize">
        <choice>
          <value>small</value>
          <value>normal</value>
          <value>big</value>
          <ref name="length"/>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="dir">
        <choice>
          <value>ltr</value>
          <value>rtl</value>
        </choice>
      </attribute>
    </optional>
    <ref name="DeprecatedTokenAtt"/>
  </define>
  <define name="DeprecatedTokenAtt">
    <optional>
      <attribute name="fontfamily"/>
    </optional>
    <optional>
      <attribute name="fontweight">
        <choice>
          <value>normal</value>
          <value>bold</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="fontstyle">
        <choice>
          <value>normal</value>
          <value>italic</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="fontsize">
        <ref name="length"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="color">
        <ref name="color"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="background">
        <choice>
          <ref name="color"/>
          <value>transparent</value>
        </choice>
      </attribute>
    </optional>
  </define>
  <define name="MalignExpression">
    <choice>
      <ref name="maligngroup"/>
      <ref name="malignmark"/>
    </choice>
  </define>
  <define name="malignmark">
    <element name="malignmark">
      <ref name="malignmark.attributes"/>
      <empty/>
    </element>
  </define>
  <define name="malignmark.attributes">
    <ref name="CommonAtt"/>
    <ref name="CommonPresAtt"/>
    <optional>
      <attribute name="edge">
        <choice>
          <value>left</value>
          <value>right</value>
        </choice>
      </attribute>
    </optional>
  </define>
  <define name="maligngroup">
    <element name="maligngroup">
      <ref name="maligngroup.attributes"/>
      <empty/>
    </element>
  </define>
  <define name="maligngroup.attributes">
    <ref name="CommonAtt"/>
    <ref name="CommonPresAtt"/>
    <optional>
      <attribute name="groupalign">
        <choice>
          <value>left</value>
          <value>center</value>
          <value>right</value>
          <value>decimalpoint</value>
        </choice>
      </attribute>
    </optional>
  </define>
  <define name="PresentationExpression">
    <choice>
      <ref name="TokenExpression"/>
      <ref name="MalignExpression"/>
      <ref name="mrow"/>
      <ref name="mfrac"/>
      <ref name="msqrt"/>
      <ref name="mroot"/>
      <ref name="mstyle"/>
      <ref name="merror"/>
      <ref name="mpadded"/>
      <ref name="mphantom"/>
      <ref name="mfenced"/>
      <ref name="menclose"/>
      <ref name="msub"/>
      <ref name="msup"/>
      <ref name="msubsup"/>
      <ref name="munder"/>
      <ref name="mover"/>
      <ref name="munderover"/>
      <ref name="mmultiscripts"/>
      <ref name="mtable"/>
      <ref name="mstack"/>
      <ref name="mlongdiv"/>
      <ref name="maction"/>
    </choice>
  </define>
  <define name="mrow">
    <element name="mrow">
      <ref name="mrow.attributes"/>
      <zeroOrMore>
        <ref name="MathExpression"/>
      </zeroOrMore>
    </element>
  </define>
  <define name="mrow.attributes">
    <ref name="CommonAtt"/>
    <ref name="CommonPresAtt"/>
    <optional>
      <attribute name="dir">
        <choice>
          <value>ltr</value>
          <value>rtl</value>
        </choice>
      </attribute>
    </optional>
  </define>
  <define name="mfrac">
    <element name="mfrac">
      <ref name="mfrac.attributes"/>
      <ref name="MathExpression"/>
      <ref name="MathExpression"/>
    </element>
  </define>
  <define name="mfrac.attributes">
    <ref name="CommonAtt"/>
    <ref name="CommonPresAtt"/>
    <optional>
      <attribute name="linethickness">
        <choice>
          <ref name="length"/>
          <value>thin</value>
          <value>medium</value>
          <value>thick</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="numalign">
        <choice>
          <value>left</value>
          <value>center</value>
          <value>right</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="denomalign">
        <choice>
          <value>left</value>
          <value>center</value>
          <value>right</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="bevelled">
        <choice>
          <value>true</value>
          <value>false</value>
        </choice>
      </attribute>
    </optional>
  </define>
  <define name="msqrt">
    <element name="msqrt">
      <ref name="msqrt.attributes"/>
      <ref name="ImpliedMrow"/>
    </element>
  </define>
  <define name="msqrt.attributes">
    <ref name="CommonAtt"/>
    <ref name="CommonPresAtt"/>
  </define>
  <define name="mroot">
    <element name="mroot">
      <ref name="mroot.attributes"/>
      <ref name="MathExpression"/>
      <ref name="MathExpression"/>
    </element>
  </define>
  <define name="mroot.attributes">
    <ref name="CommonAtt"/>
    <ref name="CommonPresAtt"/>
  </define>
  <define name="mstyle">
    <element name="mstyle">
      <ref name="mstyle.attributes"/>
      <ref name="ImpliedMrow"/>
    </element>
  </define>
  <define name="mstyle.attributes">
    <ref name="CommonAtt"/>
    <ref name="CommonPresAtt"/>
    <ref name="mstyle.specificattributes"/>
    <ref name="mstyle.generalattributes"/>
    <ref name="mstyle.deprecatedattributes"/>
  </define>
  <define name="mstyle.specificattributes">
    <optional>
      <attribute name="scriptlevel">
        <ref name="integer"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="displaystyle">
        <choice>
          <value>true</value>
          <value>false</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="scriptsizemultiplier">
        <ref name="number"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="scriptminsize">
        <ref name="length"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="infixlinebreakstyle">
        <choice>
          <value>before</value>
          <value>after</value>
          <value>duplicate</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="decimalpoint">
        <ref name="character"/>
      </attribute>
    </optional>
  </define>
  <define name="mstyle.generalattributes">
    <optional>
      <attribute name="accent">
        <choice>
          <value>true</value>
          <value>false</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="accentunder">
        <choice>
          <value>true</value>
          <value>false</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="align">
        <choice>
          <value>left</value>
          <value>right</value>
          <value>center</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="alignmentscope">
        <list>
          <oneOrMore>
            <choice>
              <value>true</value>
              <value>false</value>
            </choice>
          </oneOrMore>
        </list>
      </attribute>
    </optional>
    <optional>
      <attribute name="bevelled">
        <choice>
          <value>true</value>
          <value>false</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="charalign">
        <choice>
          <value>left</value>
          <value>center</value>
          <value>right</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="charspacing">
        <choice>
          <ref name="length"/>
          <value>loose</value>
          <value>medium</value>
          <value>tight</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="close"/>
    </optional>
    <optional>
      <attribute name="columnalign">
        <list>
          <oneOrMore>
            <ref name="columnalignstyle"/>
          </oneOrMore>
        </list>
      </attribute>
    </optional>
    <optional>
      <attribute name="columnlines">
        <list>
          <oneOrMore>
            <ref name="linestyle"/>
          </oneOrMore>
        </list>
      </attribute>
    </optional>
    <optional>
      <attribute name="columnspacing">
        <list>
          <oneOrMore>
            <ref name="length"/>
          </oneOrMore>
        </list>
      </attribute>
    </optional>
    <optional>
      <attribute name="columnspan">
        <ref name="positive-integer"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="columnwidth">
        <list>
          <oneOrMore>
            <choice>
              <value>auto</value>
              <ref name="length"/>
              <value>fit</value>
            </choice>
          </oneOrMore>
        </list>
      </attribute>
    </optional>
    <optional>
      <attribute name="crossout">
        <list>
          <zeroOrMore>
            <choice>
              <value>none</value>
              <value>updiagonalstrike</value>
              <value>downdiagonalstrike</value>
              <value>verticalstrike</value>
              <value>horizontalstrike</value>
            </choice>
          </zeroOrMore>
        </list>
      </attribute>
    </optional>
    <optional>
      <attribute name="denomalign">
        <choice>
          <value>left</value>
          <value>center</value>
          <value>right</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="depth">
        <ref name="length"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="dir">
        <choice>
          <value>ltr</value>
          <value>rtl</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="edge">
        <choice>
          <value>left</value>
          <value>right</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="equalcolumns">
        <choice>
          <value>true</value>
          <value>false</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="equalrows">
        <choice>
          <value>true</value>
          <value>false</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="fence">
        <choice>
          <value>true</value>
          <value>false</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="form">
        <choice>
          <value>prefix</value>
          <value>infix</value>
          <value>postfix</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="frame">
        <ref name="linestyle"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="framespacing">
        <list>
          <ref name="length"/>
          <ref name="length"/>
        </list>
      </attribute>
    </optional>
    <optional>
      <attribute name="groupalign">
        <ref name="group-alignment-list-list"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="height">
        <ref name="length"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="indentalign">
        <choice>
          <value>left</value>
          <value>center</value>
          <value>right</value>
          <value>auto</value>
          <value>id</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="indentalignfirst">
        <choice>
          <value>left</value>
          <value>center</value>
          <value>right</value>
          <value>auto</value>
          <value>id</value>
          <value>indentalign</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="indentalignlast">
        <choice>
          <value>left</value>
          <value>center</value>
          <value>right</value>
          <value>auto</value>
          <value>id</value>
          <value>indentalign</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="indentshift">
        <ref name="length"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="indentshiftfirst">
        <choice>
          <ref name="length"/>
          <value>indentshift</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="indentshiftlast">
        <choice>
          <ref name="length"/>
          <value>indentshift</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="indenttarget">
        <ref name="idref"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="largeop">
        <choice>
          <value>true</value>
          <value>false</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="leftoverhang">
        <ref name="length"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="length">
        <ref name="unsigned-integer"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="linebreak">
        <choice>
          <value>auto</value>
          <value>newline</value>
          <value>nobreak</value>
          <value>goodbreak</value>
          <value>badbreak</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="linebreakmultchar"/>
    </optional>
    <optional>
      <attribute name="linebreakstyle">
        <choice>
          <value>before</value>
          <value>after</value>
          <value>duplicate</value>
          <value>infixlinebreakstyle</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="lineleading">
        <ref name="length"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="linethickness">
        <choice>
          <ref name="length"/>
          <value>thin</value>
          <value>medium</value>
          <value>thick</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="location">
        <choice>
          <value>w</value>
          <value>nw</value>
          <value>n</value>
          <value>ne</value>
          <value>e</value>
          <value>se</value>
          <value>s</value>
          <value>sw</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="longdivstyle">
        <choice>
          <value>lefttop</value>
          <value>stackedrightright</value>
          <value>mediumstackedrightright</value>
          <value>shortstackedrightright</value>
          <value>righttop</value>
          <value>left/\\right</value>
          <value>left)(right</value>
          <value>:right=right</value>
          <value>stackedleftleft</value>
          <value>stackedleftlinetop</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="lquote"/>
    </optional>
    <optional>
      <attribute name="lspace">
        <ref name="length"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="mathsize">
        <choice>
          <value>small</value>
          <value>normal</value>
          <value>big</value>
          <ref name="length"/>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="mathvariant">
        <choice>
          <value>normal</value>
          <value>bold</value>
          <value>italic</value>
          <value>bold-italic</value>
          <value>double-struck</value>
          <value>bold-fraktur</value>
          <value>script</value>
          <value>bold-script</value>
          <value>fraktur</value>
          <value>sans-serif</value>
          <value>bold-sans-serif</value>
          <value>sans-serif-italic</value>
          <value>sans-serif-bold-italic</value>
          <value>monospace</value>
          <value>initial</value>
          <value>tailed</value>
          <value>looped</value>
          <value>stretched</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="maxsize">
        <choice>
          <ref name="length"/>
          <value>infinity</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="minlabelspacing">
        <ref name="length"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="minsize">
        <ref name="length"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="movablelimits">
        <choice>
          <value>true</value>
          <value>false</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="mslinethickness">
        <choice>
          <ref name="length"/>
          <value>thin</value>
          <value>medium</value>
          <value>thick</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="notation"/>
    </optional>
    <optional>
      <attribute name="numalign">
        <choice>
          <value>left</value>
          <value>center</value>
          <value>right</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="open"/>
    </optional>
    <optional>
      <attribute name="position">
        <ref name="integer"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="rightoverhang">
        <ref name="length"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="rowalign">
        <list>
          <oneOrMore>
            <ref name="verticalalign"/>
          </oneOrMore>
        </list>
      </attribute>
    </optional>
    <optional>
      <attribute name="rowlines">
        <list>
          <oneOrMore>
            <ref name="linestyle"/>
          </oneOrMore>
        </list>
      </attribute>
    </optional>
    <optional>
      <attribute name="rowspacing">
        <list>
          <oneOrMore>
            <ref name="length"/>
          </oneOrMore>
        </list>
      </attribute>
    </optional>
    <optional>
      <attribute name="rowspan">
        <ref name="positive-integer"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="rquote"/>
    </optional>
    <optional>
      <attribute name="rspace">
        <ref name="length"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="selection">
        <ref name="positive-integer"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="separator">
        <choice>
          <value>true</value>
          <value>false</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="separators"/>
    </optional>
    <optional>
      <attribute name="shift">
        <ref name="integer"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="side">
        <choice>
          <value>left</value>
          <value>right</value>
          <value>leftoverlap</value>
          <value>rightoverlap</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="stackalign">
        <choice>
          <value>left</value>
          <value>center</value>
          <value>right</value>
          <value>decimalpoint</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="stretchy">
        <choice>
          <value>true</value>
          <value>false</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="subscriptshift">
        <ref name="length"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="superscriptshift">
        <ref name="length"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="symmetric">
        <choice>
          <value>true</value>
          <value>false</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="valign">
        <ref name="length"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="width">
        <ref name="length"/>
      </attribute>
    </optional>
  </define>
  <define name="mstyle.deprecatedattributes">
    <ref name="DeprecatedTokenAtt"/>
    <optional>
      <attribute name="veryverythinmathspace">
        <ref name="length"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="verythinmathspace">
        <ref name="length"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="thinmathspace">
        <ref name="length"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="mediummathspace">
        <ref name="length"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="thickmathspace">
        <ref name="length"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="verythickmathspace">
        <ref name="length"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="veryverythickmathspace">
        <ref name="length"/>
      </attribute>
    </optional>
  </define>
  <define name="math.attributes" combine="interleave">
    <ref name="CommonPresAtt"/>
  </define>
  <define name="math.attributes" combine="interleave">
    <ref name="mstyle.specificattributes"/>
  </define>
  <define name="math.attributes" combine="interleave">
    <ref name="mstyle.generalattributes"/>
  </define>
  <define name="merror">
    <element name="merror">
      <ref name="merror.attributes"/>
      <ref name="ImpliedMrow"/>
    </element>
  </define>
  <define name="merror.attributes">
    <ref name="CommonAtt"/>
    <ref name="CommonPresAtt"/>
  </define>
  <define name="mpadded">
    <element name="mpadded">
      <ref name="mpadded.attributes"/>
      <ref name="ImpliedMrow"/>
    </element>
  </define>
  <define name="mpadded.attributes">
    <ref name="CommonAtt"/>
    <ref name="CommonPresAtt"/>
    <optional>
      <attribute name="height">
        <ref name="mpadded-length"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="depth">
        <ref name="mpadded-length"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="width">
        <ref name="mpadded-length"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="lspace">
        <ref name="mpadded-length"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="voffset">
        <ref name="mpadded-length"/>
      </attribute>
    </optional>
  </define>
  <define name="mphantom">
    <element name="mphantom">
      <ref name="mphantom.attributes"/>
      <ref name="ImpliedMrow"/>
    </element>
  </define>
  <define name="mphantom.attributes">
    <ref name="CommonAtt"/>
    <ref name="CommonPresAtt"/>
  </define>
  <define name="mfenced">
    <element name="mfenced">
      <ref name="mfenced.attributes"/>
      <zeroOrMore>
        <ref name="MathExpression"/>
      </zeroOrMore>
    </element>
  </define>
  <define name="mfenced.attributes">
    <ref name="CommonAtt"/>
    <ref name="CommonPresAtt"/>
    <optional>
      <attribute name="open"/>
    </optional>
    <optional>
      <attribute name="close"/>
    </optional>
    <optional>
      <attribute name="separators"/>
    </optional>
  </define>
  <define name="menclose">
    <element name="menclose">
      <ref name="menclose.attributes"/>
      <ref name="ImpliedMrow"/>
    </element>
  </define>
  <define name="menclose.attributes">
    <ref name="CommonAtt"/>
    <ref name="CommonPresAtt"/>
    <optional>
      <attribute name="notation"/>
    </optional>
  </define>
  <define name="msub">
    <element name="msub">
      <ref name="msub.attributes"/>
      <ref name="MathExpression"/>
      <ref name="MathExpression"/>
    </element>
  </define>
  <define name="msub.attributes">
    <ref name="CommonAtt"/>
    <ref name="CommonPresAtt"/>
    <optional>
      <attribute name="subscriptshift">
        <ref name="length"/>
      </attribute>
    </optional>
  </define>
  <define name="msup">
    <element name="msup">
      <ref name="msup.attributes"/>
      <ref name="MathExpression"/>
      <ref name="MathExpression"/>
    </element>
  </define>
  <define name="msup.attributes">
    <ref name="CommonAtt"/>
    <ref name="CommonPresAtt"/>
    <optional>
      <attribute name="superscriptshift">
        <ref name="length"/>
      </attribute>
    </optional>
  </define>
  <define name="msubsup">
    <element name="msubsup">
      <ref name="msubsup.attributes"/>
      <ref name="MathExpression"/>
      <ref name="MathExpression"/>
      <ref name="MathExpression"/>
    </element>
  </define>
  <define name="msubsup.attributes">
    <ref name="CommonAtt"/>
    <ref name="CommonPresAtt"/>
    <optional>
      <attribute name="subscriptshift">
        <ref name="length"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="superscriptshift">
        <ref name="length"/>
      </attribute>
    </optional>
  </define>
  <define name="munder">
    <element name="munder">
      <ref name="munder.attributes"/>
      <ref name="MathExpression"/>
      <ref name="MathExpression"/>
    </element>
  </define>
  <define name="munder.attributes">
    <ref name="CommonAtt"/>
    <ref name="CommonPresAtt"/>
    <optional>
      <attribute name="accentunder">
        <choice>
          <value>true</value>
          <value>false</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="align">
        <choice>
          <value>left</value>
          <value>right</value>
          <value>center</value>
        </choice>
      </attribute>
    </optional>
  </define>
  <define name="mover">
    <element name="mover">
      <ref name="mover.attributes"/>
      <ref name="MathExpression"/>
      <ref name="MathExpression"/>
    </element>
  </define>
  <define name="mover.attributes">
    <ref name="CommonAtt"/>
    <ref name="CommonPresAtt"/>
    <optional>
      <attribute name="accent">
        <choice>
          <value>true</value>
          <value>false</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="align">
        <choice>
          <value>left</value>
          <value>right</value>
          <value>center</value>
        </choice>
      </attribute>
    </optional>
  </define>
  <define name="munderover">
    <element name="munderover">
      <ref name="munderover.attributes"/>
      <ref name="MathExpression"/>
      <ref name="MathExpression"/>
      <ref name="MathExpression"/>
    </element>
  </define>
  <define name="munderover.attributes">
    <ref name="CommonAtt"/>
    <ref name="CommonPresAtt"/>
    <optional>
      <attribute name="accent">
        <choice>
          <value>true</value>
          <value>false</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="accentunder">
        <choice>
          <value>true</value>
          <value>false</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="align">
        <choice>
          <value>left</value>
          <value>right</value>
          <value>center</value>
        </choice>
      </attribute>
    </optional>
  </define>
  <define name="mmultiscripts">
    <element name="mmultiscripts">
      <ref name="mmultiscripts.attributes"/>
      <ref name="MathExpression"/>
      <zeroOrMore>
        <ref name="MultiScriptExpression"/>
      </zeroOrMore>
      <optional>
        <ref name="mprescripts"/>
        <zeroOrMore>
          <ref name="MultiScriptExpression"/>
        </zeroOrMore>
      </optional>
    </element>
  </define>
  <define name="mmultiscripts.attributes">
    <ref name="msubsup.attributes"/>
  </define>
  <define name="mtable">
    <element name="mtable">
      <ref name="mtable.attributes"/>
      <zeroOrMore>
        <ref name="TableRowExpression"/>
      </zeroOrMore>
    </element>
  </define>
  <define name="mtable.attributes">
    <ref name="CommonAtt"/>
    <ref name="CommonPresAtt"/>
    <optional>
      <attribute name="align">
        <data type="string">
          <param name="pattern">\\s*(top|bottom|center|baseline|axis)(\\s+-?[0-9]+)?\\s*</param>
        </data>
      </attribute>
    </optional>
    <optional>
      <attribute name="rowalign">
        <list>
          <oneOrMore>
            <ref name="verticalalign"/>
          </oneOrMore>
        </list>
      </attribute>
    </optional>
    <optional>
      <attribute name="columnalign">
        <list>
          <oneOrMore>
            <ref name="columnalignstyle"/>
          </oneOrMore>
        </list>
      </attribute>
    </optional>
    <optional>
      <attribute name="groupalign">
        <ref name="group-alignment-list-list"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="alignmentscope">
        <list>
          <oneOrMore>
            <choice>
              <value>true</value>
              <value>false</value>
            </choice>
          </oneOrMore>
        </list>
      </attribute>
    </optional>
    <optional>
      <attribute name="columnwidth">
        <list>
          <oneOrMore>
            <choice>
              <value>auto</value>
              <ref name="length"/>
              <value>fit</value>
            </choice>
          </oneOrMore>
        </list>
      </attribute>
    </optional>
    <optional>
      <attribute name="width">
        <choice>
          <value>auto</value>
          <ref name="length"/>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="rowspacing">
        <list>
          <oneOrMore>
            <ref name="length"/>
          </oneOrMore>
        </list>
      </attribute>
    </optional>
    <optional>
      <attribute name="columnspacing">
        <list>
          <oneOrMore>
            <ref name="length"/>
          </oneOrMore>
        </list>
      </attribute>
    </optional>
    <optional>
      <attribute name="rowlines">
        <list>
          <oneOrMore>
            <ref name="linestyle"/>
          </oneOrMore>
        </list>
      </attribute>
    </optional>
    <optional>
      <attribute name="columnlines">
        <list>
          <oneOrMore>
            <ref name="linestyle"/>
          </oneOrMore>
        </list>
      </attribute>
    </optional>
    <optional>
      <attribute name="frame">
        <ref name="linestyle"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="framespacing">
        <list>
          <ref name="length"/>
          <ref name="length"/>
        </list>
      </attribute>
    </optional>
    <optional>
      <attribute name="equalrows">
        <choice>
          <value>true</value>
          <value>false</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="equalcolumns">
        <choice>
          <value>true</value>
          <value>false</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="displaystyle">
        <choice>
          <value>true</value>
          <value>false</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="side">
        <choice>
          <value>left</value>
          <value>right</value>
          <value>leftoverlap</value>
          <value>rightoverlap</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="minlabelspacing">
        <ref name="length"/>
      </attribute>
    </optional>
  </define>
  <define name="mlabeledtr">
    <element name="mlabeledtr">
      <ref name="mlabeledtr.attributes"/>
      <oneOrMore>
        <ref name="TableCellExpression"/>
      </oneOrMore>
    </element>
  </define>
  <define name="mlabeledtr.attributes">
    <ref name="mtr.attributes"/>
  </define>
  <define name="mtr">
    <element name="mtr">
      <ref name="mtr.attributes"/>
      <zeroOrMore>
        <ref name="TableCellExpression"/>
      </zeroOrMore>
    </element>
  </define>
  <define name="mtr.attributes">
    <ref name="CommonAtt"/>
    <ref name="CommonPresAtt"/>
    <optional>
      <attribute name="rowalign">
        <choice>
          <value>top</value>
          <value>bottom</value>
          <value>center</value>
          <value>baseline</value>
          <value>axis</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="columnalign">
        <list>
          <oneOrMore>
            <ref name="columnalignstyle"/>
          </oneOrMore>
        </list>
      </attribute>
    </optional>
    <optional>
      <attribute name="groupalign">
        <ref name="group-alignment-list-list"/>
      </attribute>
    </optional>
  </define>
  <define name="mtd">
    <element name="mtd">
      <ref name="mtd.attributes"/>
      <ref name="ImpliedMrow"/>
    </element>
  </define>
  <define name="mtd.attributes">
    <ref name="CommonAtt"/>
    <ref name="CommonPresAtt"/>
    <optional>
      <attribute name="rowspan">
        <ref name="positive-integer"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="columnspan">
        <ref name="positive-integer"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="rowalign">
        <choice>
          <value>top</value>
          <value>bottom</value>
          <value>center</value>
          <value>baseline</value>
          <value>axis</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="columnalign">
        <ref name="columnalignstyle"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="groupalign">
        <ref name="group-alignment-list"/>
      </attribute>
    </optional>
  </define>
  <define name="mstack">
    <element name="mstack">
      <ref name="mstack.attributes"/>
      <zeroOrMore>
        <ref name="MstackExpression"/>
      </zeroOrMore>
    </element>
  </define>
  <define name="mstack.attributes">
    <ref name="CommonAtt"/>
    <ref name="CommonPresAtt"/>
    <optional>
      <attribute name="align">
        <data type="string">
          <param name="pattern">\\s*(top|bottom|center|baseline|axis)(\\s+-?[0-9]+)?\\s*</param>
        </data>
      </attribute>
    </optional>
    <optional>
      <attribute name="stackalign">
        <choice>
          <value>left</value>
          <value>center</value>
          <value>right</value>
          <value>decimalpoint</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="charalign">
        <choice>
          <value>left</value>
          <value>center</value>
          <value>right</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="charspacing">
        <choice>
          <ref name="length"/>
          <value>loose</value>
          <value>medium</value>
          <value>tight</value>
        </choice>
      </attribute>
    </optional>
  </define>
  <define name="mlongdiv">
    <element name="mlongdiv">
      <ref name="mlongdiv.attributes"/>
      <ref name="MstackExpression"/>
      <ref name="MstackExpression"/>
      <oneOrMore>
        <ref name="MstackExpression"/>
      </oneOrMore>
    </element>
  </define>
  <define name="mlongdiv.attributes">
    <ref name="msgroup.attributes"/>
    <optional>
      <attribute name="longdivstyle">
        <choice>
          <value>lefttop</value>
          <value>stackedrightright</value>
          <value>mediumstackedrightright</value>
          <value>shortstackedrightright</value>
          <value>righttop</value>
          <value>left/\\right</value>
          <value>left)(right</value>
          <value>:right=right</value>
          <value>stackedleftleft</value>
          <value>stackedleftlinetop</value>
        </choice>
      </attribute>
    </optional>
  </define>
  <define name="msgroup">
    <element name="msgroup">
      <ref name="msgroup.attributes"/>
      <zeroOrMore>
        <ref name="MstackExpression"/>
      </zeroOrMore>
    </element>
  </define>
  <define name="msgroup.attributes">
    <ref name="CommonAtt"/>
    <ref name="CommonPresAtt"/>
    <optional>
      <attribute name="position">
        <ref name="integer"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="shift">
        <ref name="integer"/>
      </attribute>
    </optional>
  </define>
  <define name="msrow">
    <element name="msrow">
      <ref name="msrow.attributes"/>
      <zeroOrMore>
        <ref name="MsrowExpression"/>
      </zeroOrMore>
    </element>
  </define>
  <define name="msrow.attributes">
    <ref name="CommonAtt"/>
    <ref name="CommonPresAtt"/>
    <optional>
      <attribute name="position">
        <ref name="integer"/>
      </attribute>
    </optional>
  </define>
  <define name="mscarries">
    <element name="mscarries">
      <ref name="mscarries.attributes"/>
      <zeroOrMore>
        <choice>
          <ref name="MsrowExpression"/>
          <ref name="mscarry"/>
        </choice>
      </zeroOrMore>
    </element>
  </define>
  <define name="mscarries.attributes">
    <ref name="CommonAtt"/>
    <ref name="CommonPresAtt"/>
    <optional>
      <attribute name="position">
        <ref name="integer"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="location">
        <choice>
          <value>w</value>
          <value>nw</value>
          <value>n</value>
          <value>ne</value>
          <value>e</value>
          <value>se</value>
          <value>s</value>
          <value>sw</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="crossout">
        <list>
          <zeroOrMore>
            <choice>
              <value>none</value>
              <value>updiagonalstrike</value>
              <value>downdiagonalstrike</value>
              <value>verticalstrike</value>
              <value>horizontalstrike</value>
            </choice>
          </zeroOrMore>
        </list>
      </attribute>
    </optional>
    <optional>
      <attribute name="scriptsizemultiplier">
        <ref name="number"/>
      </attribute>
    </optional>
  </define>
  <define name="mscarry">
    <element name="mscarry">
      <ref name="mscarry.attributes"/>
      <zeroOrMore>
        <ref name="MsrowExpression"/>
      </zeroOrMore>
    </element>
  </define>
  <define name="mscarry.attributes">
    <ref name="CommonAtt"/>
    <ref name="CommonPresAtt"/>
    <optional>
      <attribute name="location">
        <choice>
          <value>w</value>
          <value>nw</value>
          <value>n</value>
          <value>ne</value>
          <value>e</value>
          <value>se</value>
          <value>s</value>
          <value>sw</value>
        </choice>
      </attribute>
    </optional>
    <optional>
      <attribute name="crossout">
        <list>
          <zeroOrMore>
            <choice>
              <value>none</value>
              <value>updiagonalstrike</value>
              <value>downdiagonalstrike</value>
              <value>verticalstrike</value>
              <value>horizontalstrike</value>
            </choice>
          </zeroOrMore>
        </list>
      </attribute>
    </optional>
  </define>
  <define name="maction">
    <element name="maction">
      <ref name="maction.attributes"/>
      <oneOrMore>
        <ref name="MathExpression"/>
      </oneOrMore>
    </element>
  </define>
  <define name="maction.attributes">
    <ref name="CommonAtt"/>
    <ref name="CommonPresAtt"/>
    <attribute name="actiontype"/>
    <optional>
      <attribute name="selection">
        <ref name="positive-integer"/>
      </attribute>
    </optional>
  </define>
</grammar>
`;

export const MATHML3_STRICT_CONTENT_RNG = `<?xml version="1.0" encoding="UTF-8"?>
<!--
      This is the Mathematical Markup Language (MathML) 3.0, an XML
      application for describing mathematical notation and capturing
      both its structure and content.
  
      Copyright 1998-2014 W3C (MIT, ERCIM, Keio, Beihang)
  
      Use and distribution of this code are permitted under the terms
      W3C Software Notice and License
      http://www.w3.org/Consortium/Legal/2002/copyright-software-20021231
-->
<grammar ns="http://www.w3.org/1998/Math/MathML" xmlns="http://relaxng.org/ns/structure/1.0" datatypeLibrary="http://www.w3.org/2001/XMLSchema-datatypes">
  <define name="ContExp">
    <choice>
      <ref name="semantics-contexp"/>
      <ref name="cn"/>
      <ref name="ci"/>
      <ref name="csymbol"/>
      <ref name="apply"/>
      <ref name="bind"/>
      <ref name="share"/>
      <ref name="cerror"/>
      <ref name="cbytes"/>
      <ref name="cs"/>
    </choice>
  </define>
  <define name="cn">
    <element name="cn">
      <ref name="cn.attributes"/>
      <ref name="cn.content"/>
    </element>
  </define>
  <define name="cn.content">
    <text/>
  </define>
  <define name="cn.attributes">
    <ref name="CommonAtt"/>
    <attribute name="type">
      <choice>
        <value>integer</value>
        <value>real</value>
        <value>double</value>
        <value>hexdouble</value>
      </choice>
    </attribute>
  </define>
  <define name="semantics-ci">
    <element name="semantics">
      <ref name="semantics.attributes"/>
      <choice>
        <ref name="ci"/>
        <ref name="semantics-ci"/>
      </choice>
      <zeroOrMore>
        <choice>
          <ref name="annotation"/>
          <ref name="annotation-xml"/>
        </choice>
      </zeroOrMore>
    </element>
  </define>
  <define name="semantics-contexp">
    <element name="semantics">
      <ref name="semantics.attributes"/>
      <ref name="ContExp"/>
      <zeroOrMore>
        <choice>
          <ref name="annotation"/>
          <ref name="annotation-xml"/>
        </choice>
      </zeroOrMore>
    </element>
  </define>
  <define name="ci">
    <element name="ci">
      <ref name="ci.attributes"/>
      <ref name="ci.content"/>
    </element>
  </define>
  <define name="ci.attributes">
    <ref name="CommonAtt"/>
    <optional>
      <ref name="ci.type"/>
    </optional>
  </define>
  <define name="ci.type">
    <attribute name="type">
      <choice>
        <value>integer</value>
        <value>rational</value>
        <value>real</value>
        <value>complex</value>
        <value>complex-polar</value>
        <value>complex-cartesian</value>
        <value>constant</value>
        <value>function</value>
        <value>vector</value>
        <value>list</value>
        <value>set</value>
        <value>matrix</value>
      </choice>
    </attribute>
  </define>
  <define name="ci.content">
    <text/>
  </define>
  <define name="csymbol">
    <element name="csymbol">
      <ref name="csymbol.attributes"/>
      <ref name="csymbol.content"/>
    </element>
  </define>
  <define name="SymbolName">
    <data type="NCName"/>
  </define>
  <define name="csymbol.attributes">
    <ref name="CommonAtt"/>
    <ref name="cd"/>
  </define>
  <define name="csymbol.content">
    <ref name="SymbolName"/>
  </define>
  <define name="BvarQ">
    <zeroOrMore>
      <ref name="bvar"/>
    </zeroOrMore>
  </define>
  <define name="bvar">
    <element name="bvar">
      <ref name="CommonAtt"/>
      <choice>
        <ref name="ci"/>
        <ref name="semantics-ci"/>
      </choice>
    </element>
  </define>
  <define name="apply">
    <element name="apply">
      <ref name="CommonAtt"/>
      <ref name="apply.content"/>
    </element>
  </define>
  <define name="apply.content">
    <oneOrMore>
      <ref name="ContExp"/>
    </oneOrMore>
  </define>
  <define name="bind">
    <element name="bind">
      <ref name="CommonAtt"/>
      <ref name="bind.content"/>
    </element>
  </define>
  <define name="bind.content">
    <ref name="ContExp"/>
    <zeroOrMore>
      <ref name="bvar"/>
    </zeroOrMore>
    <ref name="ContExp"/>
  </define>
  <define name="share">
    <element name="share">
      <ref name="CommonAtt"/>
      <ref name="src"/>
      <empty/>
    </element>
  </define>
  <define name="cerror">
    <element name="cerror">
      <ref name="cerror.attributes"/>
      <ref name="csymbol"/>
      <zeroOrMore>
        <ref name="ContExp"/>
      </zeroOrMore>
    </element>
  </define>
  <define name="cerror.attributes">
    <ref name="CommonAtt"/>
  </define>
  <define name="cbytes">
    <element name="cbytes">
      <ref name="cbytes.attributes"/>
      <ref name="base64"/>
    </element>
  </define>
  <define name="cbytes.attributes">
    <ref name="CommonAtt"/>
  </define>
  <define name="base64">
    <data type="base64Binary"/>
  </define>
  <define name="cs">
    <element name="cs">
      <ref name="cs.attributes"/>
      <text/>
    </element>
  </define>
  <define name="cs.attributes">
    <ref name="CommonAtt"/>
  </define>
  <define name="MathExpression" combine="choice">
    <ref name="ContExp"/>
  </define>
</grammar>
`;

export const MEDIA_RNG = `<?xml version="1.0" encoding="UTF-8"?>
<grammar xmlns:a="http://relaxng.org/ns/compatibility/annotations/1.0" xmlns="http://relaxng.org/ns/structure/1.0" datatypeLibrary="">
  <!-- ##################################################################### -->
  <!-- src not included -->
  <define name="media.attrs">
    <a:documentation> RELAX NG Schema for HTML 5: Advanced Embedded Content             #</a:documentation>
    <!-- ##################################################################### -->
    <a:documentation>Attributes Common to Media Elements</a:documentation>
    <interleave>
      <optional>
        <ref name="media.attrs.autoplay"/>
      </optional>
      <optional>
        <ref name="media.attrs.preload"/>
      </optional>
      <optional>
        <ref name="media.attrs.controls"/>
      </optional>
      <optional>
        <ref name="media.attrs.loop"/>
      </optional>
      <optional>
        <ref name="media.attrs.muted"/>
      </optional>
      <optional>
        <ref name="embedded.content.attrs.crossorigin"/>
      </optional>
    </interleave>
  </define>
  <define name="media.attrs.autoplay">
    <attribute name="autoplay">
      <choice>
        <value>autoplay</value>
        <value/>
      </choice>
    </attribute>
  </define>
  <define name="media.attrs.preload">
    <attribute name="preload">
      <choice>
        <value>none</value>
        <value>metadata</value>
        <value>auto</value>
        <value/>
      </choice>
    </attribute>
  </define>
  <define name="media.attrs.controls">
    <attribute name="controls">
      <choice>
        <value>controls</value>
        <value/>
      </choice>
    </attribute>
  </define>
  <define name="media.attrs.loop">
    <attribute name="loop">
      <choice>
        <value>loop</value>
        <value/>
      </choice>
    </attribute>
  </define>
  <define name="media.attrs.muted">
    <attribute name="muted">
      <choice>
        <value>muted</value>
        <value/>
      </choice>
    </attribute>
  </define>
  <define name="source.elem">
    <a:documentation>Source: &lt;source&gt;</a:documentation>
    <element name="source">
      <interleave>
        <ref name="source.inner"/>
        <ref name="source.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="source.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <ref name="source.attrs.src"/>
      <optional>
        <ref name="source.attrs.type"/>
      </optional>
    </interleave>
  </define>
  <define name="source.attrs.src">
    <attribute name="src">
      <ref name="common.data.uri.non-empty"/>
    </attribute>
  </define>
  <define name="source.attrs.type">
    <attribute name="type">
      <ref name="common.data.mimetype"/>
    </attribute>
  </define>
  <define name="source.inner">
    <empty/>
  </define>
  <define name="media.source">
    <a:documentation>Media Source</a:documentation>
    <choice>
      <ref name="media.attrs.src"/>
      <zeroOrMore>
        <ref name="source.elem"/>
      </zeroOrMore>
    </choice>
  </define>
  <define name="media.attrs.src">
    <attribute name="src">
      <ref name="common.data.uri.non-empty"/>
    </attribute>
  </define>
  <define name="video.elem.flow">
    <a:documentation>Video: &lt;video&gt;</a:documentation>
    <element name="video">
      <interleave>
        <ref name="video.inner.flow"/>
        <ref name="video.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="video.elem.phrasing">
    <element name="video">
      <interleave>
        <ref name="video.inner.phrasing"/>
        <ref name="video.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="video.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <ref name="media.attrs"/>
      <optional>
        <ref name="video.attrs.poster"/>
      </optional>
      <optional>
        <ref name="video.attrs.height"/>
      </optional>
      <optional>
        <ref name="video.attrs.width"/>
      </optional>
      <optional>
        <ref name="video.attrs.playsinline"/>
      </optional>
      <optional>
        <ref name="common.attrs.aria.role.application"/>
      </optional>
    </interleave>
  </define>
  <define name="video.attrs.poster">
    <attribute name="poster">
      <ref name="common.data.uri.non-empty"/>
    </attribute>
  </define>
  <define name="video.attrs.height">
    <attribute name="height">
      <ref name="common.data.integer.non-negative"/>
    </attribute>
  </define>
  <define name="video.attrs.width">
    <attribute name="width">
      <ref name="common.data.integer.non-negative"/>
    </attribute>
  </define>
  <define name="video.attrs.playsinline">
    <attribute name="playsinline">
      <choice>
        <value>playsinline</value>
        <value/>
      </choice>
    </attribute>
  </define>
  <define name="video.inner.flow">
    <ref name="media.source"/>
    <zeroOrMore>
      <ref name="track.elem"/>
    </zeroOrMore>
    <ref name="common.inner.transparent.flow"/>
  </define>
  <define name="video.inner.phrasing">
    <ref name="media.source"/>
    <zeroOrMore>
      <ref name="track.elem"/>
    </zeroOrMore>
    <ref name="common.inner.phrasing"/>
  </define>
  <define name="common.elem.flow" combine="choice">
    <ref name="video.elem.flow"/>
  </define>
  <define name="common.elem.phrasing" combine="choice">
    <ref name="video.elem.phrasing"/>
  </define>
  <define name="audio.elem.flow">
    <a:documentation>Audio: &lt;audio&gt;</a:documentation>
    <element name="audio">
      <interleave>
        <ref name="audio.inner.flow"/>
        <ref name="audio.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="audio.elem.phrasing">
    <element name="audio">
      <interleave>
        <ref name="audio.inner.phrasing"/>
        <ref name="audio.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="audio.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <ref name="media.attrs"/>
      <optional>
        <ref name="common.attrs.aria.role.application"/>
      </optional>
    </interleave>
  </define>
  <define name="audio.inner.flow">
    <ref name="media.source"/>
    <zeroOrMore>
      <ref name="track.elem"/>
    </zeroOrMore>
    <ref name="common.inner.transparent.flow"/>
  </define>
  <define name="audio.inner.phrasing">
    <ref name="media.source"/>
    <zeroOrMore>
      <ref name="track.elem"/>
    </zeroOrMore>
    <ref name="common.inner.phrasing"/>
  </define>
  <define name="common.elem.flow" combine="choice">
    <ref name="audio.elem.flow"/>
  </define>
  <define name="common.elem.phrasing" combine="choice">
    <ref name="audio.elem.phrasing"/>
  </define>
  <!---->
  <define name="track.elem">
    <a:documentation>supplementary media track: &lt;track&gt;</a:documentation>
    <element name="track">
      <interleave>
        <ref name="track.inner"/>
        <ref name="track.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="track.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <ref name="track.attrs.kind"/>
      </optional>
      <ref name="track.attrs.src"/>
      <optional>
        <ref name="track.attrs.srclang"/>
      </optional>
      <optional>
        <ref name="track.attrs.label"/>
      </optional>
      <optional>
        <ref name="track.attrs.default"/>
      </optional>
    </interleave>
  </define>
  <define name="track.attrs.kind">
    <attribute name="kind">
      <choice>
        <value>subtitles</value>
        <value>captions</value>
        <value>descriptions</value>
        <value>chapters</value>
        <value>metadata</value>
      </choice>
    </attribute>
  </define>
  <define name="track.attrs.src">
    <attribute name="src">
      <ref name="common.data.uri.non-empty"/>
    </attribute>
  </define>
  <define name="track.attrs.srclang">
    <attribute name="srclang">
      <ref name="common.data.langcode"/>
    </attribute>
  </define>
  <define name="track.attrs.label">
    <attribute name="label">
      <data type="string"/>
      <!-- must be non-empty value; check is in assertions code -->
    </attribute>
  </define>
  <define name="track.attrs.default">
    <attribute name="default">
      <choice>
        <value>default</value>
        <value/>
      </choice>
    </attribute>
  </define>
  <define name="track.inner">
    <empty/>
  </define>
  <define name="figure.elem">
    <a:documentation>Captioned Content: &lt;figure&gt;</a:documentation>
    <element name="figure">
      <interleave>
        <ref name="figure.inner"/>
        <ref name="figure.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="figure.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <choice>
          <ref name="common.attrs.aria.implicit.figure"/>
          <optional>
            <ref name="common.attrs.aria"/>
          </optional>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="figure.inner">
    <choice>
      <group>
        <optional>
          <ref name="figcaption.elem"/>
        </optional>
        <ref name="common.inner.flow"/>
      </group>
      <group>
        <ref name="common.inner.flow"/>
        <optional>
          <ref name="figcaption.elem"/>
        </optional>
      </group>
    </choice>
  </define>
  <define name="common.elem.flow" combine="choice">
    <ref name="figure.elem"/>
  </define>
  <define name="figcaption.elem">
    <a:documentation>Figure caption: &lt;figcaption&gt;</a:documentation>
    <element name="figcaption">
      <interleave>
        <ref name="figcaption.inner"/>
        <ref name="figcaption.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="figcaption.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <choice>
          <ref name="common.attrs.aria.role.presentation"/>
          <ref name="common.attrs.aria.role.group"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="figcaption.inner">
    <ref name="common.inner.flow"/>
  </define>
</grammar>
`;

export const META_RNG = `<?xml version="1.0" encoding="UTF-8"?>
<grammar xmlns:a="http://relaxng.org/ns/compatibility/annotations/1.0" xmlns="http://relaxng.org/ns/structure/1.0" datatypeLibrary="http://www.w3.org/2001/XMLSchema-datatypes">
  <!-- ##################################################################### -->
  <define name="html.elem">
    <a:documentation> RELAX NG Schema for HTML 5: Global Structure &amp; Metadata          #</a:documentation>
    <!-- ##################################################################### -->
    <a:documentation>Root Element: &lt;html&gt;</a:documentation>
    <element name="html">
      <interleave>
        <ref name="html.inner"/>
        <ref name="html.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="html.attrs">
    <ref name="common.attrs"/>
  </define>
  <define name="html.inner">
    <ref name="head.elem"/>
    <ref name="body.elem"/>
  </define>
  <define name="head.elem">
    <a:documentation>Metadata Container: &lt;head&gt;</a:documentation>
    <element name="head">
      <interleave>
        <ref name="head.inner"/>
        <ref name="head.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="head.attrs">
    <ref name="common.attrs"/>
    <!-- 		&	head.attrs.profile? -->
  </define>
  <!--
    		head.attrs.profile =
    			attribute profile {
    				common.data.uris #REVISIT should these be absolute (zero or more)
    			}
  -->
  <define name="head.inner">
    <interleave>
      <ref name="title.elem"/>
      <optional>
        <ref name="base.elem"/>
      </optional>
      <!-- REVISIT need a non-schema checker or Schematron -->
      <ref name="common.inner.metadata"/>
    </interleave>
    <!-- Limit encoding decl position in Schematron -->
  </define>
  <!--
    	head.inner =
    		(	meta.elem.encoding?
    		,	(	title.elem
    			&	base.elem? # REVISIT need a non-schema checker or Schematron
    			&	common.inner.metadata
    			)
    		)
  -->
  <define name="body.elem">
    <a:documentation>Content Container: &lt;body&gt;</a:documentation>
    <element name="body">
      <interleave>
        <ref name="body.inner"/>
        <ref name="body.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="body.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <choice>
          <ref name="common.attrs.aria.role.application"/>
          <ref name="common.attrs.aria.landmark.document"/>
          <ref name="common.attrs.aria.role.presentation"/>
          <ref name="common.attrs.aria.implicit.document"/>
        </choice>
      </optional>
      <optional>
        <ref name="body.attrs.onafterprint"/>
      </optional>
      <optional>
        <ref name="body.attrs.onbeforeprint"/>
      </optional>
      <optional>
        <ref name="body.attrs.onbeforeunload"/>
      </optional>
      <optional>
        <ref name="body.attrs.onhashchange"/>
      </optional>
      <optional>
        <ref name="body.attrs.onlanguagechange"/>
      </optional>
      <optional>
        <ref name="body.attrs.onmessage"/>
      </optional>
      <optional>
        <ref name="body.attrs.onmessageerror"/>
      </optional>
      <optional>
        <ref name="body.attrs.onoffline"/>
      </optional>
      <optional>
        <ref name="body.attrs.ononline"/>
      </optional>
      <optional>
        <ref name="body.attrs.onpagehide"/>
      </optional>
      <optional>
        <ref name="body.attrs.onpageshow"/>
      </optional>
      <optional>
        <ref name="body.attrs.onpopstate"/>
      </optional>
      <optional>
        <ref name="body.attrs.onrejectionhandled"/>
      </optional>
      <optional>
        <ref name="body.attrs.onstorage"/>
      </optional>
      <optional>
        <ref name="body.attrs.onunhandledrejection"/>
      </optional>
      <optional>
        <ref name="body.attrs.onunload"/>
      </optional>
    </interleave>
  </define>
  <define name="body.inner">
    <ref name="common.inner.flow"/>
  </define>
  <define name="body.attrs.onafterprint">
    <attribute name="onafterprint">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="body.attrs.onbeforeprint">
    <attribute name="onbeforeprint">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="body.attrs.onbeforeunload">
    <attribute name="onbeforeunload">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="body.attrs.onhashchange">
    <attribute name="onhashchange">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="body.attrs.onlanguagechange">
    <attribute name="onlanguagechange">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="body.attrs.onmessage">
    <attribute name="onmessage">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="body.attrs.onmessageerror">
    <attribute name="onmessageerror">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="body.attrs.onoffline">
    <attribute name="onoffline">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="body.attrs.ononline">
    <attribute name="ononline">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="body.attrs.onpagehide">
    <attribute name="onpagehide">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="body.attrs.onpageshow">
    <attribute name="onpageshow">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="body.attrs.onpopstate">
    <attribute name="onpopstate">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="body.attrs.onrejectionhandled">
    <attribute name="onrejectionhandled">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="body.attrs.onstorage">
    <attribute name="onstorage">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="body.attrs.onunhandledrejection">
    <attribute name="onunhandledrejection">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="body.attrs.onunload">
    <attribute name="onunload">
      <ref name="common.data.functionbody"/>
    </attribute>
  </define>
  <define name="title.elem">
    <a:documentation>Document Title: &lt;title&gt;</a:documentation>
    <element name="title">
      <interleave>
        <ref name="title.inner"/>
        <ref name="title.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="title.attrs">
    <ref name="common.attrs"/>
  </define>
  <define name="title.inner">
    <text/>
  </define>
  <define name="base.elem">
    <a:documentation>Base URI: &lt;base&gt;</a:documentation>
    <element name="base">
      <interleave>
        <ref name="base.inner"/>
        <ref name="base.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="base.attrs">
    <interleave>
      <ref name="common.attrs.basic"/>
      <ref name="common.attrs.i18n"/>
      <ref name="common.attrs.present"/>
      <ref name="common.attrs.other"/>
      <choice>
        <interleave>
          <ref name="base.attrs.href"/>
          <optional>
            <ref name="base.attrs.target"/>
          </optional>
        </interleave>
        <ref name="base.attrs.target"/>
      </choice>
    </interleave>
  </define>
  <define name="base.attrs.href">
    <attribute name="href">
      <ref name="common.data.uri"/>
    </attribute>
  </define>
  <define name="base.attrs.target">
    <attribute name="target">
      <ref name="common.data.browsing-context-or-keyword"/>
    </attribute>
  </define>
  <define name="base.inner">
    <empty/>
  </define>
  <define name="link.elem">
    <a:documentation>Global Relationships: &lt;link&gt;</a:documentation>
    <element name="link">
      <interleave>
        <ref name="link.inner"/>
        <ref name="link.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="link.attrs">
    <interleave>
      <ref name="common.attrs.basic"/>
      <ref name="common.attrs.i18n"/>
      <ref name="common.attrs.present"/>
      <ref name="common.attrs.other"/>
      <ref name="link.attrs.rel"/>
      <optional>
        <ref name="link.attrs.href"/>
      </optional>
      <optional>
        <ref name="link.attrs.as"/>
      </optional>
      <optional>
        <ref name="link.attrs.integrity"/>
      </optional>
      <optional>
        <ref name="shared-hyperlink.attrs.hreflang"/>
      </optional>
      <optional>
        <ref name="shared-hyperlink.attrs.media"/>
      </optional>
      <optional>
        <ref name="shared-hyperlink.attrs.type"/>
      </optional>
      <optional>
        <ref name="referrerpolicy"/>
      </optional>
      <optional>
        <ref name="link.attrs.sizes"/>
      </optional>
      <optional>
        <ref name="link.attrs.color"/>
      </optional>
      <optional>
        <ref name="link.attrs.disabled"/>
      </optional>
      <optional>
        <ref name="link.attrs.scope"/>
      </optional>
      <optional>
        <ref name="link.attrs.updateviacache"/>
      </optional>
      <optional>
        <ref name="link.attrs.workertype"/>
      </optional>
      <optional>
        <ref name="link.attrs.imagesrcset"/>
      </optional>
      <optional>
        <ref name="link.attrs.imagesizes"/>
      </optional>
      <optional>
        <ref name="common.attrs.fetchpriority"/>
      </optional>
      <optional>
        <!-- 	link.attrs.title included in common.attrs -->
        <ref name="embedded.content.attrs.crossorigin"/>
      </optional>
      <optional>
        <ref name="common.attrs.blocking"/>
      </optional>
      <optional>
        <ref name="common.attrs.aria.role.link"/>
      </optional>
    </interleave>
  </define>
  <define name="link.attrs.href">
    <attribute name="href">
      <ref name="common.data.uri.non-empty"/>
    </attribute>
  </define>
  <define name="link.attrs.rel">
    <attribute name="rel">
      <data type="string" datatypeLibrary=""/>
    </attribute>
  </define>
  <define name="link.attrs.as">
    <attribute name="as">
      <choice>
        <value type="string" datatypeLibrary=""/>
        <value type="string" datatypeLibrary="">audio</value>
        <value type="string" datatypeLibrary="">audioworklet</value>
        <value type="string" datatypeLibrary="">document</value>
        <value type="string" datatypeLibrary="">embed</value>
        <value type="string" datatypeLibrary="">fetch</value>
        <value type="string" datatypeLibrary="">font</value>
        <value type="string" datatypeLibrary="">image</value>
        <value type="string" datatypeLibrary="">manifest</value>
        <value type="string" datatypeLibrary="">object</value>
        <value type="string" datatypeLibrary="">paintworklet</value>
        <value type="string" datatypeLibrary="">report</value>
        <value type="string" datatypeLibrary="">script</value>
        <value type="string" datatypeLibrary="">serviceworker</value>
        <value type="string" datatypeLibrary="">sharedworker</value>
        <value type="string" datatypeLibrary="">style</value>
        <value type="string" datatypeLibrary="">track</value>
        <value type="string" datatypeLibrary="">video</value>
        <value type="string" datatypeLibrary="">worker</value>
        <value type="string" datatypeLibrary="">xslt</value>
      </choice>
    </attribute>
  </define>
  <define name="link.attrs.integrity">
    <attribute name="integrity">
      <ref name="common.data.integrity"/>
    </attribute>
  </define>
  <define name="link.attrs.sizes">
    <attribute name="sizes">
      <choice>
        <value>any</value>
        <ref name="common.data.sizes"/>
      </choice>
    </attribute>
  </define>
  <define name="link.attrs.color">
    <attribute name="color">
      <ref name="common.data.color"/>
    </attribute>
  </define>
  <define name="link.attrs.disabled">
    <attribute name="disabled">
      <choice>
        <value>disabled</value>
        <value/>
      </choice>
    </attribute>
  </define>
  <define name="link.attrs.scope">
    <attribute name="scope">
      <ref name="common.data.uri"/>
    </attribute>
  </define>
  <define name="link.attrs.updateviacache">
    <attribute name="updateviacache">
      <choice>
        <value type="string" datatypeLibrary="">imports</value>
        <value type="string" datatypeLibrary="">all</value>
        <value type="string" datatypeLibrary="">none</value>
      </choice>
    </attribute>
  </define>
  <define name="link.attrs.workertype">
    <attribute name="workertype">
      <choice>
        <value type="string" datatypeLibrary="">classic</value>
        <value type="string" datatypeLibrary="">module</value>
      </choice>
    </attribute>
  </define>
  <define name="link.attrs.imagesrcset">
    <interleave>
      <attribute name="imagesrcset">
        <data type="string" datatypeLibrary=""/>
      </attribute>
      <ref name="v5only"/>
    </interleave>
  </define>
  <define name="link.attrs.imagesizes">
    <interleave>
      <attribute name="imagesizes">
        <ref name="common.data.source.size.list"/>
      </attribute>
      <ref name="v5only"/>
    </interleave>
  </define>
  <define name="link.inner">
    <empty/>
  </define>
  <define name="common.elem.metadata" combine="choice">
    <ref name="link.elem"/>
  </define>
  <define name="common.elem.phrasing" combine="choice">
    <ref name="link.elem"/>
  </define>
  <define name="common.elem.flow" combine="choice">
    <ref name="link.elem"/>
  </define>
  <define name="style.elem">
    <a:documentation>Global Style: &lt;style&gt;</a:documentation>
    <element name="style">
      <interleave>
        <ref name="style.inner"/>
        <ref name="style.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="style.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <ref name="style.attrs.type"/>
      </optional>
      <optional>
        <ref name="style.attrs.media"/>
      </optional>
      <optional>
        <ref name="common.attrs.blocking"/>
      </optional>
    </interleave>
    <!-- 	style.attrs.title included in common.attrs -->
  </define>
  <define name="style.attrs.type">
    <attribute name="type"/>
  </define>
  <define name="style.attrs.media">
    <attribute name="media">
      <ref name="common.data.mediaquery"/>
    </attribute>
  </define>
  <define name="style.inner">
    <ref name="common.inner.anything"/>
  </define>
  <define name="common.elem.metadata" combine="choice">
    <ref name="style.elem"/>
  </define>
  <define name="meta.name.elem">
    <a:documentation>Name-Value Metadata: &lt;meta name&gt;</a:documentation>
    <element name="meta">
      <interleave>
        <ref name="meta.inner"/>
        <ref name="meta.name.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="meta.name.attrs">
    <interleave>
      <ref name="common.attrs.basic"/>
      <ref name="common.attrs.i18n"/>
      <ref name="common.attrs.present"/>
      <ref name="common.attrs.other"/>
      <ref name="meta.name.attrs.name"/>
      <ref name="meta.name.attrs.content"/>
      <optional>
        <ref name="common.attrs.microdata.itemref"/>
      </optional>
      <optional>
        <ref name="common.attrs.microdata.itemscope"/>
      </optional>
      <optional>
        <ref name="common.attrs.microdata.itemtype"/>
      </optional>
      <optional>
        <ref name="common.attrs.microdata.itemid"/>
      </optional>
      <optional>
        <ref name="shared-hyperlink.attrs.media"/>
      </optional>
    </interleave>
  </define>
  <define name="meta.name.attrs.name">
    <attribute name="name">
      <ref name="datatype.string.nonempty"/>
    </attribute>
  </define>
  <define name="meta.name.attrs.content">
    <attribute name="content">
      <data type="string" datatypeLibrary=""/>
    </attribute>
  </define>
  <define name="meta.inner">
    <empty/>
  </define>
  <define name="common.elem.metadata" combine="choice">
    <ref name="meta.name.elem"/>
  </define>
  <define name="meta.http-equiv.refresh.elem">
    <a:documentation>"refresh" pragma directive: &lt;meta http-equiv='refresh'&gt;</a:documentation>
    <element name="meta">
      <interleave>
        <ref name="meta.inner"/>
        <ref name="meta.http-equiv.refresh.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="meta.http-equiv.refresh.attrs">
    <interleave>
      <ref name="common.attrs.basic"/>
      <ref name="common.attrs.i18n"/>
      <ref name="common.attrs.present"/>
      <ref name="common.attrs.other"/>
      <ref name="meta.http-equiv.attrs.http-equiv.refresh"/>
      <ref name="meta.http-equiv.attrs.content.refresh"/>
    </interleave>
  </define>
  <define name="meta.http-equiv.attrs.http-equiv.refresh">
    <attribute name="http-equiv">
      <value>refresh</value>
    </attribute>
  </define>
  <define name="meta.http-equiv.attrs.content.refresh">
    <attribute name="content">
      <ref name="common.data.refresh"/>
    </attribute>
  </define>
  <define name="common.elem.metadata" combine="choice">
    <ref name="meta.http-equiv.refresh.elem"/>
  </define>
  <!--
    not quite right per spec
    if the definition is 
    reused in another language
  -->
  <define name="meta.http-equiv.default-style.elem">
    <a:documentation>"default-style" pragma directive: &lt;meta http-equiv='default-style'&gt;</a:documentation>
    <element name="meta">
      <interleave>
        <ref name="meta.inner"/>
        <ref name="meta.http-equiv.default-style.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="meta.http-equiv.default-style.attrs">
    <interleave>
      <ref name="common.attrs.basic"/>
      <ref name="common.attrs.i18n"/>
      <ref name="common.attrs.present"/>
      <ref name="common.attrs.other"/>
      <ref name="meta.http-equiv.attrs.http-equiv.default-style"/>
      <ref name="meta.http-equiv.attrs.content.default-style"/>
    </interleave>
  </define>
  <define name="meta.http-equiv.attrs.http-equiv.default-style">
    <attribute name="http-equiv">
      <value>default-style</value>
    </attribute>
  </define>
  <define name="meta.http-equiv.attrs.content.default-style">
    <attribute name="content">
      <ref name="common.data.default-style"/>
    </attribute>
  </define>
  <define name="common.elem.metadata" combine="choice">
    <ref name="meta.http-equiv.default-style.elem"/>
  </define>
  <!--
    not quite right per spec
    if the definition is 
    reused in another language
  -->
  <define name="meta.http-equiv.content-security-policy.elem">
    <a:documentation>Content Security Policy pragma directive: &lt;meta http-equiv='content-security-policy'&gt;</a:documentation>
    <element name="meta">
      <interleave>
        <ref name="meta.inner"/>
        <ref name="meta.http-equiv.content-security-policy.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="meta.http-equiv.content-security-policy.attrs">
    <interleave>
      <ref name="common.attrs.basic"/>
      <ref name="common.attrs.i18n"/>
      <ref name="common.attrs.present"/>
      <ref name="common.attrs.other"/>
      <ref name="meta.http-equiv.attrs.http-equiv.content-security-policy"/>
      <ref name="meta.http-equiv.attrs.content.content-security-policy"/>
    </interleave>
  </define>
  <define name="meta.http-equiv.attrs.http-equiv.content-security-policy">
    <attribute name="http-equiv">
      <value>content-security-policy</value>
    </attribute>
  </define>
  <define name="meta.http-equiv.attrs.content.content-security-policy">
    <attribute name="content">
      <ref name="common.data.content-security-policy"/>
    </attribute>
  </define>
  <define name="common.elem.metadata" combine="choice">
    <ref name="meta.http-equiv.content-security-policy.elem"/>
  </define>
  <define name="meta.http-equiv.x-ua-compatible.elem">
    <a:documentation>"x-ua-compatible" pragma directive: &lt;meta http-equiv='x-ua-compatible'&gt;</a:documentation>
    <element name="meta">
      <interleave>
        <ref name="meta.inner"/>
        <ref name="meta.http-equiv.x-ua-compatible.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="meta.http-equiv.x-ua-compatible.attrs">
    <interleave>
      <ref name="common.attrs.basic"/>
      <ref name="common.attrs.i18n"/>
      <ref name="common.attrs.present"/>
      <ref name="common.attrs.other"/>
      <ref name="meta.http-equiv.attrs.http-equiv.x-ua-compatible"/>
      <ref name="meta.http-equiv.attrs.content.x-ua-compatible"/>
    </interleave>
  </define>
  <define name="meta.http-equiv.attrs.http-equiv.x-ua-compatible">
    <attribute name="http-equiv">
      <value>x-ua-compatible</value>
    </attribute>
  </define>
  <define name="meta.http-equiv.attrs.content.x-ua-compatible">
    <attribute name="content">
      <ref name="common.data.x-ua-compatible"/>
    </attribute>
  </define>
  <define name="common.elem.metadata" combine="choice">
    <ref name="meta.http-equiv.x-ua-compatible.elem"/>
  </define>
  <define name="meta.charset.elem">
    <a:documentation>Inline Character Encoding Statement for HTML: &lt;meta charset&gt;</a:documentation>
    <element name="meta">
      <interleave>
        <ref name="meta.inner"/>
        <ref name="meta.charset.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="meta.charset.attrs">
    <interleave>
      <ref name="common.attrs.basic"/>
      <ref name="common.attrs.i18n"/>
      <ref name="common.attrs.present"/>
      <ref name="common.attrs.other"/>
      <ref name="meta.charset.attrs.charset"/>
    </interleave>
  </define>
  <define name="meta.charset.attrs.charset">
    <attribute name="charset">
      <choice>
        <interleave>
          <data type="string" datatypeLibrary=""/>
          <ref name="HTMLonly"/>
        </interleave>
        <interleave>
          <data type="string">
            <param name="pattern">[uU][tT][fF]-8</param>
          </data>
          <ref name="XMLonly"/>
        </interleave>
      </choice>
    </attribute>
  </define>
  <define name="meta.http-equiv.content-type.elem">
    <a:documentation>Inline Character Encoding Statement for HTML: &lt;meta http-equiv='content-type'&gt;</a:documentation>
    <interleave>
      <element name="meta">
        <interleave>
          <ref name="meta.inner"/>
          <ref name="meta.http-equiv.content-type.attrs"/>
        </interleave>
      </element>
      <ref name="HTMLonly"/>
    </interleave>
  </define>
  <define name="meta.http-equiv.content-type.attrs">
    <interleave>
      <ref name="common.attrs.basic"/>
      <ref name="common.attrs.i18n"/>
      <ref name="common.attrs.present"/>
      <ref name="common.attrs.other"/>
      <ref name="meta.http-equiv.attrs.http-equiv.content-type"/>
      <ref name="meta.http-equiv.attrs.content.content-type"/>
    </interleave>
  </define>
  <define name="meta.http-equiv.attrs.http-equiv.content-type">
    <attribute name="http-equiv">
      <value>content-type</value>
    </attribute>
  </define>
  <define name="meta.http-equiv.attrs.content.content-type">
    <attribute name="content">
      <ref name="common.data.meta-charset"/>
    </attribute>
  </define>
  <define name="common.elem.metadata" combine="choice">
    <choice>
      <ref name="meta.charset.elem"/>
      <ref name="meta.http-equiv.content-type.elem"/>
    </choice>
  </define>
</grammar>
`;

export const MICRODATA_RNG = `<?xml version="1.0" encoding="UTF-8"?>
<grammar xmlns:a="http://relaxng.org/ns/compatibility/annotations/1.0" xmlns="http://relaxng.org/ns/structure/1.0" datatypeLibrary="">
  <!-- ##################################################################### -->
  <!-- ##################################################################### -->
  <define name="common.attrs.microdata">
    <a:documentation> RELAX NG Schema for HTML 5: Microdata                             #</a:documentation>
    <interleave>
      <optional>
        <ref name="common.attrs.microdata.itemref"/>
      </optional>
      <optional>
        <ref name="common.attrs.microdata.itemprop"/>
      </optional>
      <optional>
        <ref name="common.attrs.microdata.itemscope"/>
      </optional>
      <optional>
        <ref name="common.attrs.microdata.itemtype"/>
      </optional>
      <optional>
        <ref name="common.attrs.microdata.itemid"/>
      </optional>
    </interleave>
  </define>
  <define name="common.attrs.microdata.itemref">
    <attribute name="itemref">
      <ref name="common.data.idrefs"/>
    </attribute>
  </define>
  <define name="common.attrs.microdata.itemprop">
    <attribute name="itemprop">
      <ref name="common.data.microdata-properties"/>
    </attribute>
  </define>
  <define name="common.attrs.microdata.itemscope">
    <attribute name="itemscope">
      <choice>
        <value>itemscope</value>
        <value/>
      </choice>
    </attribute>
  </define>
  <define name="common.attrs.microdata.itemtype">
    <attribute name="itemtype">
      <list>
        <oneOrMore>
          <ref name="common.data.uri.absolute"/>
        </oneOrMore>
      </list>
    </attribute>
  </define>
  <define name="common.attrs.microdata.itemid">
    <attribute name="itemid">
      <ref name="common.data.uri"/>
    </attribute>
  </define>
  <define name="common.attrs" combine="interleave">
    <ref name="common.attrs.microdata"/>
  </define>
  <define name="a.attrs" combine="interleave">
    <ref name="common.attrs.microdata"/>
  </define>
  <define name="area.attrs" combine="interleave">
    <ref name="common.attrs.microdata"/>
  </define>
  <define name="base.attrs" combine="interleave">
    <ref name="common.attrs.microdata"/>
  </define>
  <define name="link.elem.phrasing">
    <a:documentation>URL-valued Property Metadata: &lt;link itemprop&gt;</a:documentation>
    <element name="link">
      <interleave>
        <ref name="link.inner"/>
        <ref name="link.phrasing.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="link.phrasing.attrs">
    <interleave>
      <ref name="common.attrs.basic"/>
      <ref name="common.attrs.i18n"/>
      <ref name="common.attrs.present"/>
      <ref name="common.attrs.other"/>
      <ref name="common.attrs.microdata.itemprop"/>
      <optional>
        <ref name="common.attrs.microdata.itemref"/>
      </optional>
      <optional>
        <ref name="common.attrs.microdata.itemscope"/>
      </optional>
      <optional>
        <ref name="common.attrs.microdata.itemtype"/>
      </optional>
      <optional>
        <ref name="common.attrs.microdata.itemid"/>
      </optional>
      <ref name="shared-hyperlink.attrs.href"/>
      <optional>
        <ref name="shared-hyperlink.attrs.hreflang"/>
      </optional>
      <optional>
        <ref name="shared-hyperlink.attrs.media"/>
      </optional>
      <optional>
        <ref name="shared-hyperlink.attrs.type"/>
      </optional>
      <optional>
        <ref name="link.attrs.sizes"/>
      </optional>
      <optional>
        <!-- 	link.attrs.title included in common.attrs -->
        <ref name="embedded.content.attrs.crossorigin"/>
      </optional>
      <optional>
        <choice>
          <ref name="common.attrs.aria.role.link"/>
          <ref name="common.attrs.aria.role.presentation"/>
          <ref name="common.attrs.aria.role.menuitem"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="common.elem.phrasing" combine="choice">
    <ref name="link.elem.phrasing"/>
  </define>
  <define name="link.attrs.rel" combine="choice">
    <a:documentation>&lt;link&gt; element in head, extensions</a:documentation>
    <ref name="common.attrs.microdata.itemprop"/>
  </define>
  <define name="link.attrs" combine="interleave">
    <optional>
      <ref name="common.attrs.microdata.itemref"/>
    </optional>
  </define>
  <define name="link.attrs" combine="interleave">
    <optional>
      <ref name="common.attrs.microdata.itemscope"/>
    </optional>
  </define>
  <define name="link.attrs" combine="interleave">
    <optional>
      <ref name="common.attrs.microdata.itemtype"/>
    </optional>
  </define>
  <define name="link.attrs" combine="interleave">
    <optional>
      <ref name="common.attrs.microdata.itemid"/>
    </optional>
  </define>
  <define name="meta.itemprop.elem">
    <a:documentation>Property Metadata: &lt;meta itemprop&gt;</a:documentation>
    <element name="meta">
      <interleave>
        <ref name="meta.inner"/>
        <ref name="meta.itemprop.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="meta.itemprop.attrs">
    <interleave>
      <ref name="common.attrs.basic"/>
      <ref name="common.attrs.i18n"/>
      <ref name="common.attrs.present"/>
      <ref name="common.attrs.other"/>
      <ref name="common.attrs.microdata.itemprop"/>
      <optional>
        <ref name="common.attrs.microdata.itemref"/>
      </optional>
      <optional>
        <ref name="common.attrs.microdata.itemscope"/>
      </optional>
      <optional>
        <ref name="common.attrs.microdata.itemtype"/>
      </optional>
      <optional>
        <ref name="common.attrs.microdata.itemid"/>
      </optional>
      <ref name="meta.itemprop.attrs.content"/>
    </interleave>
  </define>
  <define name="meta.itemprop.attrs.content">
    <attribute name="content">
      <data type="string"/>
    </attribute>
  </define>
  <define name="common.elem.metadata" combine="choice">
    <ref name="meta.itemprop.elem"/>
  </define>
  <define name="common.elem.phrasing" combine="choice">
    <ref name="meta.itemprop.elem"/>
  </define>
</grammar>
`;

export const NCX_RNG = `<?xml version="1.0"?>
<grammar xmlns="http://relaxng.org/ns/structure/1.0"
         ns="http://www.daisy.org/z3986/2005/ncx/"
         datatypeLibrary="http://www.w3.org/2001/XMLSchema-datatypes">
         
	<!--
    Revision history:    
    	20080107: mgylling: defined i18n attr group, referenced this from 
    		elements ncx, docTitle, docAuthor, navLabel, navInfo
    	20080523: mgylling: navList @class and @id made individually optional
    	20131030: tfischer: change all @id attributes to correct <data type="ID"/> instead of <text/>
    
    --> 
         
	<start>
		<element name="ncx">
			<attribute name="version">
				<value>2005-1</value>
			</attribute>
			<ref name="i18n"/>
			<element name="head">
				<oneOrMore>
					<ref name="meta"/>
				</oneOrMore>
			</element>
			<element name="docTitle">
				<optional>
					<attribute name="id">
						<!-- checks lexical constraints only -->
						<!-- uniqueness check is done in saxhandler, as the NCX schematron impl uses 1.5, which does not have value-of in reports -->
						<data type="ID"/>
					</attribute>
				</optional>
				<ref name="text"/>
				<optional>
					<ref name="img"/>
				</optional>
				<ref name="i18n"/>
			</element>
			<zeroOrMore>
				<element name="docAuthor">
					<optional>
						<attribute name="id">
							<data type="ID"/>
						</attribute>
					</optional>
					<ref name="text"/>
					<optional>
						<ref name="img"/>
					</optional>
					<ref name="i18n"/>
				</element>
			</zeroOrMore>
			<element name="navMap">
				<optional>
					<attribute name="id">
						<data type="ID"/>
					</attribute>
				</optional>
				<zeroOrMore>
					<ref name="navInfo"/>
				</zeroOrMore>
				<zeroOrMore>
					<ref name="navLabel"/>
				</zeroOrMore>
      			<oneOrMore>
					<ref name="navPoint"/>
      			</oneOrMore>
      		</element>
			<optional>
				<ref name="pageList"/>
			</optional>
			<zeroOrMore>
				<ref name="navList"/>
			</zeroOrMore>
    		</element>
   	</start>

	<define name="text">
		<element name="text">
			<optional>
				<attribute name="id">
					<data type="ID"/>
				</attribute>
				<attribute name="class">
					<text/>
				</attribute>
			</optional>
			<text/>
		</element>
	</define>

	<define name="img">
		<element name="img">
			<optional>
				<attribute name="id">
					<data type="ID"/>
				</attribute>
				<attribute name="class">
					<text/>
				</attribute>
			</optional>
			<attribute name="src">
				<text/>
			</attribute>
		</element>
	</define>

	<define name="content">
		<element name="content">
			<optional>
				<attribute name="id">
					<data type="ID"/>
				</attribute>
			</optional>
			<attribute name="src">
				<text/>
			</attribute>
		</element>
	</define>

	<define name="navInfo">
		<element name="navInfo">
			<ref name="text"/>
			<optional>
				<ref name="img"/>
			</optional>
			<ref name="i18n"/>
		</element>
	</define>

	<define name="navLabel">
		<element name="navLabel">
			<ref name="text"/>
			<optional>
				<ref name="img"/>
			</optional>
			<ref name="i18n"/>
		</element>
	</define>

   	<define name="navPoint">
		<element name="navPoint">
			<attribute name="id">
				<data type="ID"/>
			</attribute>
			<optional>
				<attribute name="class">
					<text/>
				</attribute>
			</optional>
			<optional>
				<attribute name="playOrder">
					<text/>
				</attribute>
			</optional>	
			<oneOrMore>
				<ref name="navLabel"/>
			</oneOrMore>
			<ref name="content"/>
			<zeroOrMore>
				<ref name="navPoint"/>
			</zeroOrMore>
		</element>
   	</define>

	<define name="pageList">
		<element name="pageList">
			<optional>
				<attribute name="id">
					<data type="ID"/>
				</attribute>
				<attribute name="class">
					<text/>
				</attribute>
			</optional>
			<optional>
				<ref name="navLabel"/>
			</optional>
			<optional>
				<ref name="navInfo"/>
			</optional>
			<oneOrMore>
				<ref name="pageTarget"/>
			</oneOrMore>
		</element>
	</define>

	<define name="navList">
		<element name="navList">
			<optional>
				<attribute name="id">
					<data type="ID"/>
				</attribute>
			</optional>
			<optional>
				<attribute name="class">
					<text/>
				</attribute>
			</optional>
			<zeroOrMore>
				<ref name="navInfo"/>
			</zeroOrMore>
			<oneOrMore>
				<ref name="navLabel"/>				
			</oneOrMore>
			<oneOrMore>
				<ref name="navTarget"/>
			</oneOrMore>
		</element>
	</define>

	<define name="pageTarget">
		<element name="pageTarget">
			<optional>
				<attribute name="id">
					<data type="ID"/>
				</attribute>
			</optional>
			<optional>			
				<attribute name="value">
					<text/>
				</attribute>
			</optional>
			<attribute name="type">
				<choice>
					<value>front</value>
					<value>normal</value>
					<value>special</value>
				</choice>
			</attribute>
			<optional>
				<attribute name="class">
					<text/>
				</attribute>
			</optional>
			<optional>
				<attribute name="playOrder">
					<text/>
				</attribute>
			</optional>
			<oneOrMore>
				<ref name="navLabel"/>
			</oneOrMore>
			<ref name="content"/>
		</element>
	</define>

	<define name="navTarget">
		<element name="navTarget">
			<attribute name="id">
				<data type="ID"/>
			</attribute>
			<optional>
				<attribute name="class">
					<text/>
				</attribute>
			</optional>			
			<optional>
				<attribute name="value">
					<text/>
				</attribute>
			</optional>
			<optional>
				<attribute name="playOrder">
					<text/>
				</attribute>
			</optional>	
			<oneOrMore>
				<ref name="navLabel"/>
			</oneOrMore>
			<ref name="content"/>
		</element>
	</define>

   	<define name="meta">
		<element name="meta">
			<attribute name="name">
				<text/>
			</attribute>
			<attribute name="content">
				<text/>
			</attribute>
			<optional>
				<attribute name="scheme">
					<text/>
				</attribute>
			</optional>
		</element>
	</define>
	
	<define name="i18n">
		<optional>
        	<attribute name="lang" ns="http://www.w3.org/XML/1998/namespace">
      			<data type="language"/>
			</attribute>
		</optional>
     	<optional>
       		<attribute name="dir">
         		<choice>
           			<value>ltr</value>
           			<value>rtl</value>
         		</choice>
       		</attribute>
     	</optional>
    </define>
    
</grammar>`;

export const OCF_CONTAINER_30_RNC = `   default namespace = "urn:oasis:names:tc:opendocument:xmlns:container"
   include "./mod/datatypes.rnc"
   include "./multiple-renditions/container.rnc"

   start = ocf.container 
      
   ocf.container = 
      element container { ocf.container.attlist & ocf.container.content }
   ocf.container.attlist =
      attribute version { '1.0' }
   ocf.container.content = ocf.rootfiles, ocf.links?

   ocf.rootfiles = 
      element rootfiles { ocf.rootfiles.attlist & ocf.rootfiles.content  }
   ocf.rootfiles.attlist = empty
   ocf.rootfiles.content = ocf.rootfile+

   ocf.rootfile  =
      element rootfile {ocf.rootfile.attlist & ocf.rootfile.content  }
   ocf.rootfile.attlist = 
      attribute full-path { datatype.URI } &
      attribute media-type { 'application/oebps-package+xml' }
   ocf.rootfile.content = empty

   ocf.links = 
      element links { ocf.links.attlist & ocf.links.content  }
   ocf.links.attlist = empty
   ocf.links.content = ocf.link+
   
   ocf.link = 
      element link { ocf.link.attlist & ocf.link.content  }
   ocf.link.attlist = 
        attribute href { datatype.URI } &
        attribute rel { datatype.space.separated.tokens } &
        attribute media-type { datatype.mimetype }?
   ocf.link.content = empty

`;

export const OCF_CONTAINER_30_RNG = `<?xml version="1.0" encoding="UTF-8"?>
<grammar datatypeLibrary="http://www.w3.org/2001/XMLSchema-datatypes" ns="urn:oasis:names:tc:opendocument:xmlns:container" xmlns="http://relaxng.org/ns/structure/1.0" xmlns:rendition="http://www.idpf.org/2013/rendition">
  
<!-- Inlined from datatypes.rng -->

  <div xml:id="datatypes-common">
    <define name="datatype.ID">
      <ref name="datatype.ID.lexical"/>
    </define>
    <define name="datatype.IDREF">
      <ref name="datatype.IDREF.lexical"/>
    </define>
    <define name="datatype.IDREFS">
      <ref name="datatype.IDREFS.lexical"/>
    </define>
    <define name="datatype.languagecode">
      <ref name="datatype.BCP47"/>
    </define>
    <!-- http://www.w3.org/TR/xmlschema11-2/#language -->
    <define name="datatype.BCP47">
      <data type="language"/>
    </define>
    <!-- http://www.w3.org/TR/xmlschema11-2/#ID  -->
    <define name="datatype.ID.xsd">
      <data type="ID"/>
    </define>
    <!-- http://www.w3.org/TR/xmlschema11-2/#NCName -->
    <define name="datatype.IDREF.lexical">
      <data type="NCName"/>
    </define>
    <define name="datatype.IDREFS.lexical">
      <list>
        <oneOrMore>
          <ref name="datatype.IDREF.lexical"/>
        </oneOrMore>
      </list>
    </define>
    <define name="datatype.ID.lexical">
      <data type="NCName"/>
    </define>
    <!-- http://www.w3.org/TR/xmlschema11-2/#IDREF -->
    <define name="datatype.IDREF.xsd">
      <data type="IDREF"/>
    </define>
    <!-- http://www.w3.org/TR/xmlschema11-2/#IDREFS -->
    <define name="datatype.IDREFS.xsd">
      <data type="IDREFS"/>
    </define>
    <!-- http://www.w3.org/TR/xmlschema11-2/#NMTOKEN -->
    <define name="datatype.NMTOKEN">
      <data type="NMTOKEN"/>
    </define>
    <!-- http://www.w3.org/TR/xmlschema11-2/#NMTOKENS  -->
    <define name="datatype.NMTOKENS">
      <data type="NMTOKENS"/>
    </define>
    <!-- http://www.w3.org/TR/xmlschema11-2/#string -->
    <define name="datatype.string">
      <data type="string"/>
    </define>
    <define name="datatype.string.nonempty">
      <data type="token">
        <param name="minLength">1</param>
      </data>
    </define>
    <define name="datatype.text">
      <text/>
    </define>
    <!-- http://www.w3.org/TR/xmlschema11-2/#nt-dateRep -->
    <define name="datatype.date">
      <data type="date"/>
    </define>
    <!-- http://www.w3.org/TR/xmlschema11-2/#nt-dateTimeRep -->
    <define name="datatype.dateTime">
      <data type="dateTime"/>
    </define>
    <!-- http://www.w3.org/TR/xmlschema11-2/#nt-timeRep -->
    <define name="datatype.date.or.dateTime">
      <choice>
        <ref name="datatype.date"/>
        <ref name="datatype.dateTime"/>
      </choice>
    </define>
    <define name="datatype.LEIRI">
      <data type="anyURI"/>
    </define>
    <!--
      http://www.w3.org/TR/xmlschema11-2/#anyURI
      http://tools.ietf.org/html/rfc3986#appendix-B
      http://www.w3.org/TR/html5/urls.html#valid-url-potentially-surrounded-by-spaces  
    -->
    <define name="datatype.URI">
      <data type="anyURI"/>
    </define>
    <define name="datatype.URI.absolute">
      <data type="anyURI"/>
    </define>
    <define name="datatype.IRI">
      <ref name="datatype.URI"/>
    </define>
    <define name="datatype.character.encoding">
      <ref name="datatype.iana.charset"/>
    </define>
    <define name="datatype.iana.charset">
      <data type="NMTOKEN"/>
    </define>
    <!--
      http://www.w3.org/TR/html5/infrastructure.html#valid-mime-type
      http://tools.ietf.org/html/rfc4288#section-4.2
      http://tools.ietf.org/html/rfc2616#section-3.7
    -->
    <define name="datatype.mimetype">
      <data type="string">
        <param name="pattern">[a-zA-Z0-9!#$&amp;+\\-\\^_]+/[a-zA-Z0-9!#$&amp;+\\-\\^_]+.*</param>
      </data>
    </define>
    <define name="datatype.mimetype.nocharset">
      <ref name="datatype.mimetype"/>
    </define>
    <!--
      http://www.w3.org/TR/xmlschema11-2/#nonNegativeInteger
      http://www.w3.org/TR/html5/common-microsyntaxes.html#non-negative-integers
    -->
    <define name="datatype.non-negative.integer">
      <data type="nonNegativeInteger"/>
    </define>
    <!-- http://www.w3.org/TR/xmlschema11-2/#positiveInteger -->
    <define name="datatype.positive.integer">
      <data type="positiveInteger"/>
    </define>
    <!-- http://www.w3.org/TR/xmlschema11-2/#integer  -->
    <define name="datatype.integer">
      <data type="integer"/>
    </define>
    <!--
      http://www.w3.org/TR/xmlschema11-2/#nt-floatRep
      http://www.w3.org/TR/html5/common-microsyntaxes.html#real-numbers
    -->
    <define name="datatype.float">
      <data type="float"/>
    </define>
    <define name="datatype.float.positive">
      <data type="float">
        <param name="minExclusive">0</param>
      </data>
    </define>
    <define name="datatype.float.non-negative">
      <data type="float">
        <param name="minInclusive">0</param>
      </data>
    </define>
    <define name="datatype.token">
      <data type="string">
        <param name="pattern">[^\\s]+</param>
      </data>
    </define>
    <define name="datatype.space.separated.tokens">
      <list>
        <zeroOrMore>
          <ref name="datatype.token"/>
        </zeroOrMore>
      </list>
    </define>
  </div>
  <div xml:id="datatypes-smil">
    <!--
      http://www.w3.org/TR/smil/smil-timing.html#TimingSyntax-Full-clock-value
      http://www.w3.org/TR/smil/smil-timing.html#TimingSyntax-Partial-clock-value
      http://www.w3.org/TR/smil/smil-timing.html#TimingSyntax-Timecount-value
    -->
    <define name="datatype.smil.npt">
      <choice>
        <data type="string">
          <param name="pattern">(\\s*)[0-9]+:[0-5][0-9]:[0-5][0-9](\\.[0-9]+)?(\\s*)</param>
        </data>
        <data type="string">
          <param name="pattern">(\\s*)[0-5][0-9]:[0-5][0-9](\\.[0-9]+)?(\\s*)</param>
        </data>
        <data type="string">
          <param name="pattern">(\\s*)[0-9]+(\\.[0-9]+)?(h|min|s|ms)?(\\s*)</param>
        </data>
      </choice>
    </define>
  </div>
  <div xml:id="datatypes-vocab">
    <define name="datatype.property">
      <data type="NMTOKEN"/>
    </define>
    <define name="datatype.properties">
      <data type="NMTOKENS"/>
    </define>
    <define name="datatype.prefixdecl">
      <text/>
    </define>
    <!-- \\s*([\\i-[:]][\\c-[:]]*: +[^ ]+)(\\s+[\\i-[:]][\\c-[:]]*: +[^ ]+)*\\s* -->
  </div>
  <div xml:id="datatypes-ssml">
    <!-- http://www.w3.org/TR/speech-synthesis11/#edef_phoneme -->
    <define name="datatype.ssml.PhoneticExpression">
      <data type="string"/>
    </define>
    <define name="datatype.ssml.PhoneticAlphabet">
      <data type="string">
        <param name="pattern">(ipa|x-.+)</param>
      </data>
    </define>
  </div>
  <div xml:id="datatypes-html5">
    <define name="datatype.html5.browsing.context.name.or.keyword">
      <data type="string">
        <param name="pattern">()|([^_].*)|(_[bB][lL][aA][nN][kK])|(_[sS][eE][lL][fF])|(_[pP][aA][rR][eE][nN][tT])|(_[tT][oO][pP])</param>
      </data>
    </define>
    <define name="datatype.html5.browsing.context.name">
      <data type="string">
        <param name="pattern">()|([^_].*)</param>
      </data>
    </define>
    <define name="datatype.html5.token">
      <data type="string">
        <param name="pattern">[^\\s]+</param>
      </data>
    </define>
    <!-- http://www.w3.org/TR/html5/common-microsyntaxes.html#space-separated-tokens -->
    <define name="datatype.html5.space.separated.tokens">
      <list>
        <zeroOrMore>
          <ref name="datatype.html5.token"/>
        </zeroOrMore>
      </list>
    </define>
    <define name="datatype.html5.ordered.set.unique.tokens">
      <ref name="datatype.html5.space.separated.tokens"/>
    </define>
    <define name="datatype.html5.URL.spaces">
      <ref name="datatype.URI"/>
    </define>
    <!--
      http://dev.w3.org/csswg/css3-mediaqueries/#syntax
      http://www.w3.org/TR/html5/common-microsyntaxes.html#mq
    -->
    <define name="datatype.html5.media.query">
      <data type="string"/>
    </define>
    <define name="datatype.html5.name">
      <data type="string"/>
    </define>
    <define name="datatype.html5.name.reference">
      <data type="string">
        <param name="pattern">#.+</param>
      </data>
    </define>
    <define name="datatype.html5.year">
      <data type="token">
        <param name="pattern">[0-9]{4}</param>
      </data>
    </define>
    <define name="datatype.html5.yearless">
      <data type="token">
        <param name="pattern">(--)?(0[0-9]|1[0-2])-(0[0-9]|[1-2][0-9]|3[0-1])</param>
      </data>
    </define>
    <define name="datatype.html5.duration">
      <data type="token">
        <param name="pattern">(((P[0-9]+D)|(P([0-9]+D)?T((([0-9]+H)([0-9]+M)?([0-9]+(\\.[0-9]{1,3})?S)?)|(([0-9]+H)?([0-9]+M)([0-9]+(\\.[0-9]{1,3})?S)?)|(([0-9]+H)?([0-9]+M)?([0-9]+(\\.[0-9]{1,3})?S)))))|( *(([0-9]+ *[WDHM])|([0-9]+(\\.[0-9]{1,3})? *S)) *)+)</param>
      </data>
    </define>
    <!-- http://www.w3.org/TR/html5/common-microsyntaxes.html#months -->
    <define name="datatype.html5.month">
      <data type="token">
        <param name="pattern">([0-9]{4,})-([0-9]{2})</param>
      </data>
    </define>
    <!-- http://www.w3.org/TR/html5/common-microsyntaxes.html#dates -->
    <define name="datatype.html5.date">
      <data type="token">
        <param name="pattern">([0-9]{4,})-([0-9]{2})-([0-9]{2})</param>
      </data>
    </define>
    <!-- http://www.w3.org/TR/html5/common-microsyntaxes.html#times -->
    <define name="datatype.html5.time">
      <data type="token">
        <param name="pattern">([0-9]{2}):([0-9]{2})(:[0-9]{2}(\\.[0-9]{1,3})?)?</param>
      </data>
    </define>
    <!-- http://www.w3.org/TR/html5/common-microsyntaxes.html#local-dates-and-times -->
    <define name="datatype.html5.datetime.local">
      <data type="token">
        <param name="pattern">([0-9]{4,})-([0-9]{2})-([0-9]{2})([T ])([0-9]{2}):([0-9]{2})(:[0-9]{2}(\\.[0-9]{1,3})?)?</param>
      </data>
    </define>
    <!-- http://www.w3.org/TR/html5/common-microsyntaxes.html#global-dates-and-times -->
    <define name="datatype.html5.datetime.global">
      <data type="token">
        <param name="pattern">([0-9]{4,})-([0-9]{2})-([0-9]{2})([T ])([0-9]{2}):([0-9]{2})(:[0-9]{2}(\\.[0-9]{1,3})?)?(Z|((\\+|-)([0-9]{2}):?([0-9]{2})))?</param>
      </data>
    </define>
    <define name="datatype.html5.datetime">
      <ref name="datatype.html5.datetime.global"/>
    </define>
    <!-- http://www.w3.org/TR/html5/common-microsyntaxes.html#vaguer-moments-in-time -->
    <define name="datatype.html5.date.or.time">
      <choice>
        <ref name="datatype.html5.year"/>
        <ref name="datatype.html5.yearless"/>
        <ref name="datatype.html5.week"/>
        <ref name="datatype.html5.date"/>
        <ref name="datatype.html5.month"/>
        <ref name="datatype.html5.time"/>
        <ref name="datatype.html5.datetime.global"/>
        <ref name="datatype.html5.duration"/>
      </choice>
    </define>
    <!-- http://www.w3.org/TR/html5/common-microsyntaxes.html#vaguer-moments-in-time -->
    <define name="datatype.html5.date.optional.time">
      <choice>
        <ref name="datatype.html5.date"/>
        <ref name="datatype.html5.datetime.global"/>
      </choice>
    </define>
    <define name="datatype.html5.week">
      <data type="token">
        <param name="pattern">([0-9]{4,})-W([0-9]{2})</param>
      </data>
    </define>
    <define name="datatype.html5.accesskey">
      <ref name="datatype.html5.ordered.set.unique.tokens"/>
    </define>
    <define name="datatype.html5.coords.rectangle">
      <data type="token">
        <param name="pattern">-?[0-9]+,-?[0-9]+,-?[0-9]+,-?[0-9]+</param>
      </data>
    </define>
    <define name="datatype.html5.coords.circle">
      <data type="token">
        <param name="pattern">-?[0-9]+,-?[0-9]+,[0-9]+</param>
      </data>
    </define>
    <define name="datatype.html5.coords.poly">
      <data type="token">
        <param name="pattern">-?[0-9]+,-?[0-9]+,-?[0-9]+,-?[0-9]+,-?[0-9]+,-?[0-9]+(,-?[0-9]+,-?[0-9]+)*</param>
      </data>
    </define>
    <define name="datatype.html5.js">
      <data type="string"/>
    </define>
    <define name="datatype.html5.script">
      <data type="string"/>
    </define>
    <define name="datatype.html5.script.documentation">
      <data type="string"/>
    </define>
    <define name="datatype.html5.iframe.srcdoc.xml">
      <data type="string"/>
    </define>
    <define name="datatype.style">
      <data type="string"/>
    </define>
    <define name="datatype.html5.sizes">
      <list>
        <oneOrMore>
          <data type="string">
            <param name="pattern">[1-9][0-9]*x[1-9][0-9]*</param>
          </data>
        </oneOrMore>
      </list>
    </define>
    <define name="datatype.html5.emailaddress">
      <data type="string">
        <param name="pattern">[^@]+@[^@]+</param>
      </data>
    </define>
    <define name="datatype.html5.emailaddresslist">
      <data type="string">
        <param name="pattern">([^@]+@[^@]+,)*([^@]+@[^@]+)</param>
      </data>
    </define>
    <!-- http://www.w3.org/TR/html5/common-microsyntaxes.html#colors -->
    <define name="datatype.html5.color">
      <data type="string">
        <param name="pattern">#([A-Fa-f0-9]{6})</param>
      </data>
    </define>
  </div>
  <div xml:id="datatypes-html5forms">
    <define name="datatype.html5.forms.mimetypelist">
      <data type="string"/>
    </define>
    <!-- http://www.w3.org/TR/html5/forms.html#attr-form-accept-charset -->
    <define name="datatype.html5.forms.charsetlist">
      <list>
        <oneOrMore>
          <ref name="datatype.character.encoding"/>
        </oneOrMore>
      </list>
    </define>
    <define name="datatype.html5.forms.pattern">
      <data type="string"/>
    </define>
    <define name="datatype.html5.forms.string.nolinebreaks">
      <data type="string"/>
    </define>
  </div>


  
<!-- Inlined from container.rng -->

  <define name="ocf.rootfile.attlist" combine="interleave">
    <interleave>
      <optional>
        <ref name="mr.rendition.attr"/>
      </optional>
      <optional>
        <ref name="mr.layout.attr"/>
      </optional>
      <optional>
        <ref name="mr.language.attr"/>
      </optional>
      <optional>
        <ref name="mr.accessMode.attr"/>
      </optional>
      <optional>
        <ref name="mr.label.attr"/>
      </optional>
    </interleave>
  </define>
  <define name="mr.rendition.attr">
    <attribute name="rendition:media">
      <data type="string">
        <param name="pattern">\\s*(((only|not)\\s+)?all|\\([^&gt;)]+\\))(\\s+and\\s+\\([^&gt;)]+\\))*\\s*(,\\s*(((only|not)\\s+)?all|\\([^&gt;)]+\\))(\\s+and\\s+\\([^&gt;)]+\\))*\\s*)*</param>
      </data>
    </attribute>
  </define>
  <define name="mr.layout.attr">
    <attribute name="rendition:layout">
      <choice>
        <value>reflowable</value>
        <value>pre-paginated</value>
      </choice>
    </attribute>
  </define>
  <define name="mr.language.attr">
    <attribute name="rendition:language">
      <ref name="datatype.languagecode"/>
    </attribute>
  </define>
  <define name="mr.accessMode.attr">
    <attribute name="rendition:accessMode">
      <list>
        <oneOrMore>
          <choice>
            <value>auditory</value>
            <value>tactile</value>
            <value>textual</value>
            <value>visual</value>
          </choice>
        </oneOrMore>
      </list>
    </attribute>
  </define>
  <define name="mr.label.attr">
    <attribute name="rendition:label"/>
  </define>


  <start>
    <ref name="ocf.container"/>
  </start>
  <define name="ocf.container">
    <element name="container">
      <interleave>
        <ref name="ocf.container.attlist"/>
        <ref name="ocf.container.content"/>
      </interleave>
    </element>
  </define>
  <define name="ocf.container.attlist">
    <attribute name="version">
      <value>1.0</value>
    </attribute>
  </define>
  <define name="ocf.container.content">
    <ref name="ocf.rootfiles"/>
    <optional>
      <ref name="ocf.links"/>
    </optional>
  </define>
  <define name="ocf.rootfiles">
    <element name="rootfiles">
      <interleave>
        <ref name="ocf.rootfiles.attlist"/>
        <ref name="ocf.rootfiles.content"/>
      </interleave>
    </element>
  </define>
  <define name="ocf.rootfiles.attlist">
    <empty/>
  </define>
  <define name="ocf.rootfiles.content">
    <oneOrMore>
      <ref name="ocf.rootfile"/>
    </oneOrMore>
  </define>
  <define name="ocf.rootfile">
    <element name="rootfile">
      <interleave>
        <ref name="ocf.rootfile.attlist"/>
        <ref name="ocf.rootfile.content"/>
      </interleave>
    </element>
  </define>
  <define name="ocf.rootfile.attlist">
    <interleave>
      <attribute name="full-path">
        <ref name="datatype.URI"/>
      </attribute>
      <attribute name="media-type">
        <value>application/oebps-package+xml</value>
      </attribute>
    </interleave>
  </define>
  <define name="ocf.rootfile.content">
    <empty/>
  </define>
  <define name="ocf.links">
    <element name="links">
      <interleave>
        <ref name="ocf.links.attlist"/>
        <ref name="ocf.links.content"/>
      </interleave>
    </element>
  </define>
  <define name="ocf.links.attlist">
    <empty/>
  </define>
  <define name="ocf.links.content">
    <oneOrMore>
      <ref name="ocf.link"/>
    </oneOrMore>
  </define>
  <define name="ocf.link">
    <element name="link">
      <interleave>
        <ref name="ocf.link.attlist"/>
        <ref name="ocf.link.content"/>
      </interleave>
    </element>
  </define>
  <define name="ocf.link.attlist">
    <interleave>
      <attribute name="href">
        <ref name="datatype.URI"/>
      </attribute>
      <attribute name="rel">
        <ref name="datatype.space.separated.tokens"/>
      </attribute>
      <optional>
        <attribute name="media-type">
          <ref name="datatype.mimetype"/>
        </attribute>
      </optional>
    </interleave>
  </define>
  <define name="ocf.link.content">
    <empty/>
  </define>
</grammar>
`;

export const OPF_RNG = `<?xml version="1.0"?>
<grammar xmlns="http://relaxng.org/ns/structure/1.0"
         datatypeLibrary="http://www.w3.org/2001/XMLSchema-datatypes">
         
<include href="opf20.rng"/>
<include href="opf12.rng"/>

<start>
  <choice>
    <ref name="OPF20.package-element"/>
    <ref name="OPF12.package-element"/>
  </choice>
</start>
	
</grammar>`;

export const OPF20_RNG = `<?xml version="1.0"?>
<grammar xmlns="http://relaxng.org/ns/structure/1.0" ns="http://www.idpf.org/2007/opf"
         datatypeLibrary="http://www.w3.org/2001/XMLSchema-datatypes">

<!--
Title:
    Relax NG Schema for the Open Packaging
     Format (OPF) version 2.0

Version:
    2.0

Revision:
    20070222

Authors:
    This Version 2.0 :
         Peter Sorotokin <psorotok@adobe.com>
-->

<start>
  <ref name="OPF20.package-element"/>
</start>

<define name="OPF20.optional-id-attribute">
  <optional>
    <attribute name="id">
      <data type="ID"/>
    </attribute>
  </optional>
</define>

<define name="OPF20.optional-xml-lang-attribute">
  <optional>
    <attribute name="lang" ns="http://www.w3.org/XML/1998/namespace">
      <text/>
    </attribute>
  </optional>
</define>

<define name="OPF20.optional-file-as-attribute">
  <optional>
    <attribute name="file-as" ns="http://www.idpf.org/2007/opf">
      <text/>
    </attribute>
  </optional>
</define>

<define name="OPF20.optional-role-attribute">
  <optional>
    <attribute name="role" ns="http://www.idpf.org/2007/opf">
      <text/>
    </attribute>
  </optional>
</define>

<define name="OPF20.optional-scheme-attribute">
  <optional>
    <attribute name="scheme" ns="http://www.idpf.org/2007/opf">
      <text/>
    </attribute>
  </optional>
</define>

<define name="OPF20.optional-event-attribute">
  <optional>
    <attribute name="event" ns="http://www.idpf.org/2007/opf">
      <text/>
    </attribute>
  </optional>
</define>

<define name="OPF20.optional-xsi-type">
  <optional>
    <attribute name="type" ns="http://www.w3.org/2001/XMLSchema-instance">
      <text/>
    </attribute>
  </optional>
</define>

<define name="OPF20.package-element">
  <element name="package">
    <attribute name="version">
      <value>2.0</value>
    </attribute>
    <attribute name="unique-identifier">
      <data type="IDREF"/>
    </attribute>
    <ref name="OPF20.optional-id-attribute"/>
    <ref name="OPF20.package-content"/>
  </element>
</define>

<define name="OPF20.package-content">
  <ref name="OPF20.metadata-element"/>
  <ref name="OPF20.manifest-element"/>
  <ref name="OPF20.spine-element"/>
  <optional>
    <ref name="OPF20.tours-element"/>
  </optional>
  <optional>
    <ref name="OPF20.guide-element"/>
  </optional>
</define>

<define name="OPF20.metadata-element">
  <element name="metadata">
    <ref name="OPF20.optional-id-attribute"/>
    <ref name="OPF20.metadata-content"/>
  </element>
</define>

<define name="OPF20.metadata-content">
  <choice>
    <interleave>
      <ref name="OPF20.dc-metadata-element"/>
      <optional>
        <ref name="OPF20.x-metadata-element"/>
      </optional>
    </interleave>
    <interleave>
      <oneOrMore>
        <ref name="DC.title-element"/>
      </oneOrMore>
      <oneOrMore>
        <ref name="DC.language-element"/>
      </oneOrMore>
      <oneOrMore>
        <ref name="DC.identifier-element"/>
      </oneOrMore>
      <zeroOrMore>
        <ref name="DC.optional-metadata-element"/>
      </zeroOrMore>
      <zeroOrMore>
        <ref name="OPF20.meta-element"/>
      </zeroOrMore>
      <zeroOrMore>
        <ref name="OPF20.any-other-element"/>
      </zeroOrMore>
    </interleave>
  </choice>
</define>

<define name="OPF20.dc-metadata-element">
  <element name="dc-metadata">
    <ref name="OPF20.optional-id-attribute"/>
    <ref name="OPF20.dc-metadata-content"/>
  </element>
</define>

<define name="OPF20.dc-metadata-content">
  <interleave>
    <oneOrMore>
      <ref name="DC.title-element"/>
    </oneOrMore>
    <oneOrMore>
      <ref name="DC.language-element"/>
    </oneOrMore>
    <oneOrMore>
      <ref name="DC.identifier-element"/>
    </oneOrMore>
    <zeroOrMore>
      <ref name="DC.optional-metadata-element"/>
    </zeroOrMore>
  </interleave>
</define>

<define name="DC.identifier-element" ns="http://purl.org/dc/elements/1.1/">
  <element name="identifier">
    <optional>
    <attribute name="id">
      <data type="ID"/>
    </attribute>
    </optional>
    <ref name="OPF20.optional-xsi-type"/>
    <ref name="OPF20.optional-scheme-attribute"/>
    <!-- <ref name="DC.metadata-common-content"/>
    MG 20111024, see epubcheck Issue 114
    -->
    <ref name="DC.metadata-required-content"/>    
  </element>
</define>

<define name="DC.title-element" ns="http://purl.org/dc/elements/1.1/">
  <element name="title">
    <ref name="OPF20.optional-id-attribute"/>
    <ref name="OPF20.optional-xml-lang-attribute"/>
    <ref name="DC.metadata-common-content"/>
  </element>
</define>

<define name="DC.language-element" ns="http://purl.org/dc/elements/1.1/">
  <element name="language">
    <ref name="OPF20.optional-id-attribute"/>
    <ref name="OPF20.optional-xsi-type"/>
    <ref name="DC.metadata-common-content"/>
  </element>
</define>

<define name="DC.optional-metadata-element" ns="http://purl.org/dc/elements/1.1/">
  <choice>
    <element name="contributor">
      <ref name="OPF20.optional-id-attribute"/>
      <ref name="OPF20.optional-xml-lang-attribute"/>
      <ref name="OPF20.optional-file-as-attribute"/>
      <ref name="OPF20.optional-role-attribute"/>
      <ref name="DC.metadata-common-content"/>
    </element>
    <element name="coverage">
      <ref name="OPF20.optional-id-attribute"/>
      <ref name="OPF20.optional-xml-lang-attribute"/>
      <ref name="DC.metadata-common-content"/>
    </element>
    <element name="creator">
      <ref name="OPF20.optional-id-attribute"/>
      <ref name="OPF20.optional-xml-lang-attribute"/>
      <ref name="OPF20.optional-file-as-attribute"/>
      <ref name="OPF20.optional-role-attribute"/>
      <ref name="DC.metadata-common-content"/>
    </element>
    <element name="date">
      <ref name="OPF20.optional-id-attribute"/>
      <ref name="OPF20.optional-xsi-type"/>
      <ref name="OPF20.optional-event-attribute"/>
      <ref name="DC.metadata-common-content"/>
    </element>
    <element name="description">
      <ref name="OPF20.optional-id-attribute"/>
      <ref name="OPF20.optional-xml-lang-attribute"/>
      <ref name="DC.metadata-common-content"/>
    </element>
    <element name="format">
      <ref name="OPF20.optional-id-attribute"/>
      <ref name="OPF20.optional-xsi-type"/>
      <ref name="DC.metadata-common-content"/>
    </element>
    <element name="publisher">
      <ref name="OPF20.optional-id-attribute"/>
      <ref name="OPF20.optional-xml-lang-attribute"/>
      <ref name="DC.metadata-common-content"/>
    </element>
    <element name="relation">
      <ref name="OPF20.optional-id-attribute"/>
      <ref name="OPF20.optional-xml-lang-attribute"/>
      <ref name="DC.metadata-common-content"/>
    </element>
    <element name="rights">
      <ref name="OPF20.optional-id-attribute"/>
      <ref name="OPF20.optional-xml-lang-attribute"/>
      <ref name="DC.metadata-common-content"/>
    </element>
    <element name="source">
      <ref name="OPF20.optional-id-attribute"/>
      <ref name="OPF20.optional-xml-lang-attribute"/>
      <ref name="DC.metadata-common-content"/>
    </element>
    <element name="subject">
      <ref name="OPF20.optional-id-attribute"/>
      <ref name="OPF20.optional-xml-lang-attribute"/>
      <ref name="DC.metadata-common-content"/>
    </element>
    <element name="type">
      <ref name="OPF20.optional-id-attribute"/>
      <ref name="OPF20.optional-xsi-type"/>
      <ref name="DC.metadata-common-content"/>
    </element>
  </choice>
</define>

<define name="DC.metadata-common-content">
  <text/>
</define>

  <define name="DC.metadata-required-content">
    <data type="token">
      <param name="minLength">1</param>
    </data>
  </define>

<define name="OPF20.x-metadata-element">
  <element name="x-metadata">
    <ref name="OPF20.optional-id-attribute"/>
    <ref name="OPF20.x-metadata-content"/>
  </element>
</define>

<define name="OPF20.x-metadata-content">
  <interleave>
    <zeroOrMore>
      <ref name="OPF20.meta-element"/>
    </zeroOrMore>
    <zeroOrMore>
      <ref name="OPF20.any-other-element"/>
    </zeroOrMore>
  </interleave>
</define>

<define name="OPF20.meta-element">
  <element name="meta">
    <ref name="OPF20.optional-id-attribute"/>
    <ref name="OPF20.optional-xml-lang-attribute"/>
    <attribute name="name">
      <text/>
    </attribute>
    <attribute name="content">
      <text/>
    </attribute>
    <optional>
      <attribute name="scheme">
        <text/>
      </attribute>
    </optional>
    <ref name="OPF20.meta-content"/>
  </element>
</define>

<define name="OPF20.meta-content">
  <empty/>
</define>

<define name="OPF20.manifest-element">
  <element name="manifest">
    <ref name="OPF20.optional-id-attribute"/>
    <ref name="OPF20.manifest-content"/>
  </element>
</define>

<define name="OPF20.manifest-content">
  <oneOrMore>
    <ref name="OPF20.item-element"/>
  </oneOrMore>
</define>

<define name="OPF20.item-element">
  <element name="item">
    <attribute name="id">
      <data type="ID"/>
    </attribute>
    <attribute name="href">
      <data type="anyURI"/>
    </attribute>
    <attribute name="media-type">
      <text/>
    </attribute>
    <optional>
      <attribute name="fallback">
        <data type="IDREF"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="fallback-style">
        <data type="IDREF"/>
      </attribute>
    </optional>
    <optional>
      <attribute name="required-namespace">
        <text/>
      </attribute>
      <optional>
        <attribute name="required-modules">
          <text/>
        </attribute>
      </optional>
    </optional>
    <ref name="OPF20.item-content"/>
  </element>
</define>

<define name="OPF20.item-content">
  <empty/>
</define>

<define name="OPF20.spine-element">
  <element name="spine">
    <ref name="OPF20.optional-id-attribute"/>
      <attribute name="toc">
        <data type="IDREF"/>
      </attribute>
        <ref name="OPF20.spine-content"/>
  </element>
</define>

<define name="OPF20.spine-content">
  <oneOrMore>
	<ref name="OPF20.itemref-element"/>
  </oneOrMore>
</define>

<define name="OPF20.itemref-element">
  <element name="itemref">
    <ref name="OPF20.optional-id-attribute"/>
    <attribute name="idref">
      <data type="IDREF"/>
    </attribute>
    <optional>
      <attribute name="linear">
        <choice>
          <value>yes</value>
          <value>no</value>
        </choice>
      </attribute>
    </optional>
    <ref name="OPF20.itemref-content"/>
  </element>
</define>

<define name="OPF20.itemref-content">
  <empty/>
</define>

<define name="OPF20.tours-element">
  <element name="tours">
    <ref name="OPF20.optional-id-attribute"/>
    <ref name="OPF20.tours-content"/>
  </element>
</define>

<define name="OPF20.tours-content">
  <oneOrMore>
    <ref name="OPF20.tour-element"/>
  </oneOrMore>
</define>

<define name="OPF20.tour-element">
  <element name="tour">
    <ref name="OPF20.optional-id-attribute"/>
    <attribute name="title">
      <text/>
    </attribute>
    <ref name="OPF20.tour-content"/>
  </element>
</define>

<define name="OPF20.tour-content">
  <oneOrMore>
	<ref name="OPF20.site-element"/>
  </oneOrMore>
</define>

<define name="OPF20.site-element">
  <element name="site">
    <ref name="OPF20.optional-id-attribute"/>
    <attribute name="title">
      <text/>
    </attribute>
    <attribute name="href">
      <data type="anyURI"/>
    </attribute>
    <ref name="OPF20.site-content"/>
  </element>
</define>

<define name="OPF20.site-content">
  <empty/>
</define>

<define name="OPF20.guide-element">
  <element name="guide">
    <ref name="OPF20.optional-id-attribute"/>
    <ref name="OPF20.guide-content"/>
  </element>
</define>

<define name="OPF20.guide-content">
  <oneOrMore>
    <ref name="OPF20.reference-element"/>
  </oneOrMore>
</define>

<define name="OPF20.reference-element">
  <element name="reference">
    <ref name="OPF20.optional-id-attribute"/>
    <attribute name="type">
      <text/>
    </attribute>
    <optional>
    <attribute name="title">
      <text/>
    </attribute>
    </optional>
    <attribute name="href">
      <data type="anyURI"/>
    </attribute>
    <ref name="OPF20.reference-content"/>
  </element>
</define>

<define name="OPF20.reference-content">
  <empty/>
</define>

<define name="OPF20.any-other-element">
  <element>
    <anyName>
      <except>
        <nsName ns="http://www.idpf.org/2007/opf"/>
        <nsName ns="http://openebook.org/namespaces/oeb-package/1.0/"/>
        <nsName ns="http://purl.org/dc/elements/1.1/"/>
      </except>
    </anyName>
    <zeroOrMore>
      <choice>
        <attribute>
          <anyName/>
        </attribute>
        <text/>
        <ref name="OPF20.any-other-element"/>
      </choice>
    </zeroOrMore>
  </element>
</define>

</grammar>
`;

export const PACKAGE_30_RNC = `
      
   default namespace = "http://www.idpf.org/2007/opf"
   namespace opf = "http://www.idpf.org/2007/opf"
   namespace dc = "http://purl.org/dc/elements/1.1/"
   
   include "./mod/datatypes.rnc"
   include "./mod/epub-prefix-attr.rnc"
   
      
   start = element package { opf.package.attlist & opf.package.content }
   
   opf.package.attlist &= opf.version.attr & opf.unique.identifier.attr & opf.id.attr? & epub.prefix.attr? & opf.i18n.attrs            
   opf.version.attr = attribute version { '3.0' }
   opf.unique.identifier.attr = attribute unique-identifier { datatype.IDREF }
   
   opf.package.content = opf.metadata, opf.manifest, opf.spine, opf.guide?, opf.bindings?, opf.collection*

   opf.metadata = element metadata { opf.id.attr? & opf.i18n.attrs & opf.metadata.content }
   opf.metadata.content = opf.dc.elems & opf.meta* & opf.link* 
   
   opf.meta = element meta { 
      opf.epub3.meta.content | opf.epub2.meta.content
   }
   
   opf.epub3.meta.content = (opf.property.attr & opf.refines.attr? & opf.id.attr? & opf.scheme.attr? & opf.i18n.attrs & datatype.string.nonempty)
   opf.epub2.meta.content = (attribute name { text } & attribute content { text })  #legacy
   
   opf.link = element link { opf.href.attr & opf.hreflang.attr? & opf.rel.attr & opf.id.attr? & opf.refines.attr? & opf.media-type.attr? & opf.properties.attr? }         
      
   opf.property.attr = attribute property { datatype.property }
   opf.rel.attr = attribute rel { datatype.properties }
   opf.hreflang.attr = attribute hreflang { "" | datatype.languagecode }
   opf.scheme.attr = attribute scheme { datatype.property }
   opf.refines.attr = attribute refines { datatype.URI }
   
   opf.dc.identifier = element dc:identifier { opf.id.attr? & datatype.string.nonempty } 
   opf.dc.title = element dc:title { opf.dc.attlist & datatype.string.nonempty }
   opf.dc.language = element dc:language { opf.id.attr? & datatype.string.nonempty }
   opf.dc.date = element dc:date { opf.id.attr? & datatype.string.nonempty }
   opf.dc.source = element dc:source { opf.dc.attlist & datatype.string.nonempty }
   opf.dc.type = element dc:type { opf.id.attr? & datatype.string.nonempty }
   opf.dc.format = element dc:format { opf.id.attr? & datatype.string.nonempty }
   opf.dc.creator = element dc:creator { opf.dc.attlist & datatype.string.nonempty }
   opf.dc.subject = element dc:subject { opf.dc.attlist & datatype.string.nonempty }
   opf.dc.description = element dc:description { opf.dc.attlist & datatype.string.nonempty }
   opf.dc.publisher = element dc:publisher { opf.dc.attlist & datatype.string.nonempty }
   opf.dc.contributor = element dc:contributor { opf.dc.attlist & datatype.string.nonempty }
   opf.dc.relation = element dc:relation { opf.dc.attlist & datatype.string.nonempty }
   opf.dc.coverage = element dc:coverage { opf.dc.attlist & datatype.string.nonempty }
   opf.dc.rights = element dc:rights { opf.dc.attlist & datatype.string.nonempty }
   
   opf.dc.elems = opf.dc.identifier+
                & opf.dc.title+
                & opf.dc.language+
                & opf.dc.date?
                & opf.dc.source*
                & opf.dc.type*
                & opf.dc.format*
                & opf.dc.creator*
                & opf.dc.subject*
                & opf.dc.description*
                & opf.dc.publisher*
                & opf.dc.contributor*
                & opf.dc.relation*
                & opf.dc.coverage*
                & opf.dc.rights*

   opf.dc.attlist = opf.id.attr? & opf.i18n.attrs
      
   opf.manifest = element manifest { opf.manifest.attlist & opf.manifest.content }
   opf.manifest.attlist &= opf.id.attr?
   opf.manifest.content = opf.item+
   
   
   opf.item = element item { opf.item.attlist }
   opf.item.attlist &= opf.id.attr & opf.href.attr & opf.media-type.attr & opf.fallback.attr? & opf.media-overlay.attr? & opf.properties.attr?  
   
   opf.fallback.attr = attribute fallback { datatype.IDREF }
   opf.media-overlay.attr = attribute media-overlay { datatype.IDREF }   
   opf.properties.attr = attribute properties { datatype.properties }
   
   
   opf.spine = element spine { opf.spine.attlist & opf.spine.content }
   opf.spine.attlist &= opf.id.attr? & opf.spine.toc.attr? & opf.ppd.attr?
   opf.spine.toc.attr = attribute toc { datatype.IDREF }
   opf.ppd.attr = attribute page-progression-direction { 'ltr' | 'rtl' | 'default'}
   opf.spine.content = opf.itemref+
   
   
   opf.itemref = element itemref { opf.itemref.attlist }
   opf.itemref.attlist &= opf.itemref.idref.attr & opf.itemref.linear.attr? & opf.id.attr? & opf.properties.attr?
   opf.itemref.idref.attr = attribute idref { datatype.IDREF }
   opf.itemref.linear.attr = attribute linear { 'yes' | 'no' }
   
    
   opf.guide = element guide { opf.reference+ }
   opf.reference = element reference { opf.href.attr & attribute type { datatype.text } & attribute title { datatype.text }?}
   
   opf.bindings = element bindings { opf.bindings.mediaType+ }
   opf.bindings.mediaType = element mediaType { opf.bindings.mediaType.attlist }
   opf.bindings.mediaType.attlist &= opf.media-type.attr & attribute handler { datatype.IDREF }
   
   opf.collection = element collection { opf.collection.attlist, opf.collection.content }
   opf.collection.attlist &= opf.id.attr? & opf.dir.attr? & opf.xml.lang.attr? & opf.collection.role.attr
   opf.collection.role.attr = attribute role { datatype.space.separated.tokens }
   opf.collection.content = opf.collection.metadata?, (opf.collection+ | (opf.collection*, opf.collection.link+))
   opf.collection.metadata = element metadata { opf.id.attr? & opf.i18n.attrs & opf.collection.metadata.content }
   opf.collection.metadata.content = opf.collection.dc.elems & opf.collection.meta* & opf.link*
   opf.collection.dc.elems = opf.dc.identifier*
                           & opf.dc.title*
                           & opf.dc.language*
                           & opf.dc.date*
                           & opf.dc.source*
                           & opf.dc.type* 
                           & opf.dc.format* 
                           & opf.dc.creator*
                           & opf.dc.subject*
                           & opf.dc.description*
                           & opf.dc.publisher*
                           & opf.dc.contributor*
                           & opf.dc.relation*
                           & opf.dc.coverage*
                           & opf.dc.rights*
   opf.collection.meta = element meta { opf.epub3.meta.content }
   opf.collection.link = element link { opf.href.attr & opf.rel.attr? & opf.id.attr? & opf.media-type.attr? }
   
   opf.media-type.attr = attribute media-type { datatype.mimetype }
   opf.href.attr = attribute href { datatype.URI }
   opf.id.attr = attribute id { datatype.ID }
   opf.i18n.attrs = opf.xml.lang.attr? & opf.dir.attr?
   opf.xml.lang.attr = attribute xml:lang { "" | datatype.languagecode }
   opf.dir.attr = attribute dir { 'ltr' | 'rtl' | 'auto' }
`;

export const PACKAGE_30_RNG = `<?xml version="1.0" encoding="UTF-8"?>
<grammar datatypeLibrary="http://www.w3.org/2001/XMLSchema-datatypes" ns="http://www.idpf.org/2007/opf" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns="http://relaxng.org/ns/structure/1.0" xmlns:a="http://relaxng.org/ns/compatibility/annotations/1.0" xmlns:epub="http://www.idpf.org/2007/ops">
  
<!-- Inlined from datatypes.rng -->

  <div xml:id="datatypes-common">
    <define name="datatype.ID">
      <ref name="datatype.ID.lexical"/>
    </define>
    <define name="datatype.IDREF">
      <ref name="datatype.IDREF.lexical"/>
    </define>
    <define name="datatype.IDREFS">
      <ref name="datatype.IDREFS.lexical"/>
    </define>
    <define name="datatype.languagecode">
      <ref name="datatype.BCP47"/>
    </define>
    <!-- http://www.w3.org/TR/xmlschema11-2/#language -->
    <define name="datatype.BCP47">
      <data type="language"/>
    </define>
    <!-- http://www.w3.org/TR/xmlschema11-2/#ID  -->
    <define name="datatype.ID.xsd">
      <data type="ID"/>
    </define>
    <!-- http://www.w3.org/TR/xmlschema11-2/#NCName -->
    <define name="datatype.IDREF.lexical">
      <data type="NCName"/>
    </define>
    <define name="datatype.IDREFS.lexical">
      <list>
        <oneOrMore>
          <ref name="datatype.IDREF.lexical"/>
        </oneOrMore>
      </list>
    </define>
    <define name="datatype.ID.lexical">
      <data type="NCName"/>
    </define>
    <!-- http://www.w3.org/TR/xmlschema11-2/#IDREF -->
    <define name="datatype.IDREF.xsd">
      <data type="IDREF"/>
    </define>
    <!-- http://www.w3.org/TR/xmlschema11-2/#IDREFS -->
    <define name="datatype.IDREFS.xsd">
      <data type="IDREFS"/>
    </define>
    <!-- http://www.w3.org/TR/xmlschema11-2/#NMTOKEN -->
    <define name="datatype.NMTOKEN">
      <data type="NMTOKEN"/>
    </define>
    <!-- http://www.w3.org/TR/xmlschema11-2/#NMTOKENS  -->
    <define name="datatype.NMTOKENS">
      <data type="NMTOKENS"/>
    </define>
    <!-- http://www.w3.org/TR/xmlschema11-2/#string -->
    <define name="datatype.string">
      <data type="string"/>
    </define>
    <define name="datatype.string.nonempty">
      <data type="token">
        <param name="minLength">1</param>
      </data>
    </define>
    <define name="datatype.text">
      <text/>
    </define>
    <!-- http://www.w3.org/TR/xmlschema11-2/#nt-dateRep -->
    <define name="datatype.date">
      <data type="date"/>
    </define>
    <!-- http://www.w3.org/TR/xmlschema11-2/#nt-dateTimeRep -->
    <define name="datatype.dateTime">
      <data type="dateTime"/>
    </define>
    <!-- http://www.w3.org/TR/xmlschema11-2/#nt-timeRep -->
    <define name="datatype.date.or.dateTime">
      <choice>
        <ref name="datatype.date"/>
        <ref name="datatype.dateTime"/>
      </choice>
    </define>
    <define name="datatype.LEIRI">
      <data type="anyURI"/>
    </define>
    <!--
      http://www.w3.org/TR/xmlschema11-2/#anyURI
      http://tools.ietf.org/html/rfc3986#appendix-B
      http://www.w3.org/TR/html5/urls.html#valid-url-potentially-surrounded-by-spaces  
    -->
    <define name="datatype.URI">
      <data type="anyURI"/>
    </define>
    <define name="datatype.URI.absolute">
      <data type="anyURI"/>
    </define>
    <define name="datatype.IRI">
      <ref name="datatype.URI"/>
    </define>
    <define name="datatype.character.encoding">
      <ref name="datatype.iana.charset"/>
    </define>
    <define name="datatype.iana.charset">
      <data type="NMTOKEN"/>
    </define>
    <!--
      http://www.w3.org/TR/html5/infrastructure.html#valid-mime-type
      http://tools.ietf.org/html/rfc4288#section-4.2
      http://tools.ietf.org/html/rfc2616#section-3.7
    -->
    <define name="datatype.mimetype">
      <data type="string">
        <param name="pattern">[a-zA-Z0-9!#$&amp;+\\-\\^_]+/[a-zA-Z0-9!#$&amp;+\\-\\^_]+.*</param>
      </data>
    </define>
    <define name="datatype.mimetype.nocharset">
      <ref name="datatype.mimetype"/>
    </define>
    <!--
      http://www.w3.org/TR/xmlschema11-2/#nonNegativeInteger
      http://www.w3.org/TR/html5/common-microsyntaxes.html#non-negative-integers
    -->
    <define name="datatype.non-negative.integer">
      <data type="nonNegativeInteger"/>
    </define>
    <!-- http://www.w3.org/TR/xmlschema11-2/#positiveInteger -->
    <define name="datatype.positive.integer">
      <data type="positiveInteger"/>
    </define>
    <!-- http://www.w3.org/TR/xmlschema11-2/#integer  -->
    <define name="datatype.integer">
      <data type="integer"/>
    </define>
    <!--
      http://www.w3.org/TR/xmlschema11-2/#nt-floatRep
      http://www.w3.org/TR/html5/common-microsyntaxes.html#real-numbers
    -->
    <define name="datatype.float">
      <data type="float"/>
    </define>
    <define name="datatype.float.positive">
      <data type="float">
        <param name="minExclusive">0</param>
      </data>
    </define>
    <define name="datatype.float.non-negative">
      <data type="float">
        <param name="minInclusive">0</param>
      </data>
    </define>
    <define name="datatype.token">
      <data type="string">
        <param name="pattern">[^\\s]+</param>
      </data>
    </define>
    <define name="datatype.space.separated.tokens">
      <list>
        <zeroOrMore>
          <ref name="datatype.token"/>
        </zeroOrMore>
      </list>
    </define>
  </div>
  <div xml:id="datatypes-smil">
    <!--
      http://www.w3.org/TR/smil/smil-timing.html#TimingSyntax-Full-clock-value
      http://www.w3.org/TR/smil/smil-timing.html#TimingSyntax-Partial-clock-value
      http://www.w3.org/TR/smil/smil-timing.html#TimingSyntax-Timecount-value
    -->
    <define name="datatype.smil.npt">
      <choice>
        <data type="string">
          <param name="pattern">(\\s*)[0-9]+:[0-5][0-9]:[0-5][0-9](\\.[0-9]+)?(\\s*)</param>
        </data>
        <data type="string">
          <param name="pattern">(\\s*)[0-5][0-9]:[0-5][0-9](\\.[0-9]+)?(\\s*)</param>
        </data>
        <data type="string">
          <param name="pattern">(\\s*)[0-9]+(\\.[0-9]+)?(h|min|s|ms)?(\\s*)</param>
        </data>
      </choice>
    </define>
  </div>
  <div xml:id="datatypes-vocab">
    <define name="datatype.property">
      <data type="NMTOKEN"/>
    </define>
    <define name="datatype.properties">
      <data type="NMTOKENS"/>
    </define>
    <define name="datatype.prefixdecl">
      <text/>
    </define>
    <!-- \\s*([\\i-[:]][\\c-[:]]*: +[^ ]+)(\\s+[\\i-[:]][\\c-[:]]*: +[^ ]+)*\\s* -->
  </div>
  <div xml:id="datatypes-ssml">
    <!-- http://www.w3.org/TR/speech-synthesis11/#edef_phoneme -->
    <define name="datatype.ssml.PhoneticExpression">
      <data type="string"/>
    </define>
    <define name="datatype.ssml.PhoneticAlphabet">
      <data type="string">
        <param name="pattern">(ipa|x-.+)</param>
      </data>
    </define>
  </div>
  <div xml:id="datatypes-html5">
    <define name="datatype.html5.browsing.context.name.or.keyword">
      <data type="string">
        <param name="pattern">()|([^_].*)|(_[bB][lL][aA][nN][kK])|(_[sS][eE][lL][fF])|(_[pP][aA][rR][eE][nN][tT])|(_[tT][oO][pP])</param>
      </data>
    </define>
    <define name="datatype.html5.browsing.context.name">
      <data type="string">
        <param name="pattern">()|([^_].*)</param>
      </data>
    </define>
    <define name="datatype.html5.token">
      <data type="string">
        <param name="pattern">[^\\s]+</param>
      </data>
    </define>
    <!-- http://www.w3.org/TR/html5/common-microsyntaxes.html#space-separated-tokens -->
    <define name="datatype.html5.space.separated.tokens">
      <list>
        <zeroOrMore>
          <ref name="datatype.html5.token"/>
        </zeroOrMore>
      </list>
    </define>
    <define name="datatype.html5.ordered.set.unique.tokens">
      <ref name="datatype.html5.space.separated.tokens"/>
    </define>
    <define name="datatype.html5.URL.spaces">
      <ref name="datatype.URI"/>
    </define>
    <!--
      http://dev.w3.org/csswg/css3-mediaqueries/#syntax
      http://www.w3.org/TR/html5/common-microsyntaxes.html#mq
    -->
    <define name="datatype.html5.media.query">
      <data type="string"/>
    </define>
    <define name="datatype.html5.name">
      <data type="string"/>
    </define>
    <define name="datatype.html5.name.reference">
      <data type="string">
        <param name="pattern">#.+</param>
      </data>
    </define>
    <define name="datatype.html5.year">
      <data type="token">
        <param name="pattern">[0-9]{4}</param>
      </data>
    </define>
    <define name="datatype.html5.yearless">
      <data type="token">
        <param name="pattern">(--)?(0[0-9]|1[0-2])-(0[0-9]|[1-2][0-9]|3[0-1])</param>
      </data>
    </define>
    <define name="datatype.html5.duration">
      <data type="token">
        <param name="pattern">(((P[0-9]+D)|(P([0-9]+D)?T((([0-9]+H)([0-9]+M)?([0-9]+(\\.[0-9]{1,3})?S)?)|(([0-9]+H)?([0-9]+M)([0-9]+(\\.[0-9]{1,3})?S)?)|(([0-9]+H)?([0-9]+M)?([0-9]+(\\.[0-9]{1,3})?S)))))|( *(([0-9]+ *[WDHM])|([0-9]+(\\.[0-9]{1,3})? *S)) *)+)</param>
      </data>
    </define>
    <!-- http://www.w3.org/TR/html5/common-microsyntaxes.html#months -->
    <define name="datatype.html5.month">
      <data type="token">
        <param name="pattern">([0-9]{4,})-([0-9]{2})</param>
      </data>
    </define>
    <!-- http://www.w3.org/TR/html5/common-microsyntaxes.html#dates -->
    <define name="datatype.html5.date">
      <data type="token">
        <param name="pattern">([0-9]{4,})-([0-9]{2})-([0-9]{2})</param>
      </data>
    </define>
    <!-- http://www.w3.org/TR/html5/common-microsyntaxes.html#times -->
    <define name="datatype.html5.time">
      <data type="token">
        <param name="pattern">([0-9]{2}):([0-9]{2})(:[0-9]{2}(\\.[0-9]{1,3})?)?</param>
      </data>
    </define>
    <!-- http://www.w3.org/TR/html5/common-microsyntaxes.html#local-dates-and-times -->
    <define name="datatype.html5.datetime.local">
      <data type="token">
        <param name="pattern">([0-9]{4,})-([0-9]{2})-([0-9]{2})([T ])([0-9]{2}):([0-9]{2})(:[0-9]{2}(\\.[0-9]{1,3})?)?</param>
      </data>
    </define>
    <!-- http://www.w3.org/TR/html5/common-microsyntaxes.html#global-dates-and-times -->
    <define name="datatype.html5.datetime.global">
      <data type="token">
        <param name="pattern">([0-9]{4,})-([0-9]{2})-([0-9]{2})([T ])([0-9]{2}):([0-9]{2})(:[0-9]{2}(\\.[0-9]{1,3})?)?(Z|((\\+|-)([0-9]{2}):?([0-9]{2})))?</param>
      </data>
    </define>
    <define name="datatype.html5.datetime">
      <ref name="datatype.html5.datetime.global"/>
    </define>
    <!-- http://www.w3.org/TR/html5/common-microsyntaxes.html#vaguer-moments-in-time -->
    <define name="datatype.html5.date.or.time">
      <choice>
        <ref name="datatype.html5.year"/>
        <ref name="datatype.html5.yearless"/>
        <ref name="datatype.html5.week"/>
        <ref name="datatype.html5.date"/>
        <ref name="datatype.html5.month"/>
        <ref name="datatype.html5.time"/>
        <ref name="datatype.html5.datetime.global"/>
        <ref name="datatype.html5.duration"/>
      </choice>
    </define>
    <!-- http://www.w3.org/TR/html5/common-microsyntaxes.html#vaguer-moments-in-time -->
    <define name="datatype.html5.date.optional.time">
      <choice>
        <ref name="datatype.html5.date"/>
        <ref name="datatype.html5.datetime.global"/>
      </choice>
    </define>
    <define name="datatype.html5.week">
      <data type="token">
        <param name="pattern">([0-9]{4,})-W([0-9]{2})</param>
      </data>
    </define>
    <define name="datatype.html5.accesskey">
      <ref name="datatype.html5.ordered.set.unique.tokens"/>
    </define>
    <define name="datatype.html5.coords.rectangle">
      <data type="token">
        <param name="pattern">-?[0-9]+,-?[0-9]+,-?[0-9]+,-?[0-9]+</param>
      </data>
    </define>
    <define name="datatype.html5.coords.circle">
      <data type="token">
        <param name="pattern">-?[0-9]+,-?[0-9]+,[0-9]+</param>
      </data>
    </define>
    <define name="datatype.html5.coords.poly">
      <data type="token">
        <param name="pattern">-?[0-9]+,-?[0-9]+,-?[0-9]+,-?[0-9]+,-?[0-9]+,-?[0-9]+(,-?[0-9]+,-?[0-9]+)*</param>
      </data>
    </define>
    <define name="datatype.html5.js">
      <data type="string"/>
    </define>
    <define name="datatype.html5.script">
      <data type="string"/>
    </define>
    <define name="datatype.html5.script.documentation">
      <data type="string"/>
    </define>
    <define name="datatype.html5.iframe.srcdoc.xml">
      <data type="string"/>
    </define>
    <define name="datatype.style">
      <data type="string"/>
    </define>
    <define name="datatype.html5.sizes">
      <list>
        <oneOrMore>
          <data type="string">
            <param name="pattern">[1-9][0-9]*x[1-9][0-9]*</param>
          </data>
        </oneOrMore>
      </list>
    </define>
    <define name="datatype.html5.emailaddress">
      <data type="string">
        <param name="pattern">[^@]+@[^@]+</param>
      </data>
    </define>
    <define name="datatype.html5.emailaddresslist">
      <data type="string">
        <param name="pattern">([^@]+@[^@]+,)*([^@]+@[^@]+)</param>
      </data>
    </define>
    <!-- http://www.w3.org/TR/html5/common-microsyntaxes.html#colors -->
    <define name="datatype.html5.color">
      <data type="string">
        <param name="pattern">#([A-Fa-f0-9]{6})</param>
      </data>
    </define>
  </div>
  <div xml:id="datatypes-html5forms">
    <define name="datatype.html5.forms.mimetypelist">
      <data type="string"/>
    </define>
    <!-- http://www.w3.org/TR/html5/forms.html#attr-form-accept-charset -->
    <define name="datatype.html5.forms.charsetlist">
      <list>
        <oneOrMore>
          <ref name="datatype.character.encoding"/>
        </oneOrMore>
      </list>
    </define>
    <define name="datatype.html5.forms.pattern">
      <data type="string"/>
    </define>
    <define name="datatype.html5.forms.string.nolinebreaks">
      <data type="string"/>
    </define>
  </div>


  
<!-- Inlined from epub-prefix-attr.rng -->

  <!-- ##################################################################### -->
  <define name="epub.prefix.attr">
    <a:documentation> RELAX NG Schema for EPUB: EPUB prefix attributes                  #</a:documentation>
    <!-- ##################################################################### -->
    <a:documentation>prefix attributes</a:documentation>
    <attribute name="prefix">
      <ref name="datatype.prefixdecl"/>
    </attribute>
  </define>
  <define name="epub.prefix.attr.ns">
    <attribute name="prefix" ns="http://www.idpf.org/2007/ops">
      <ref name="datatype.prefixdecl"/>
    </attribute>
  </define>


  <start>
    <element name="package">
      <interleave>
        <ref name="opf.package.attlist"/>
        <ref name="opf.package.content"/>
      </interleave>
    </element>
  </start>
  <define name="opf.package.attlist" combine="interleave">
    <interleave>
      <ref name="opf.version.attr"/>
      <ref name="opf.unique.identifier.attr"/>
      <optional>
        <ref name="opf.id.attr"/>
      </optional>
      <optional>
        <ref name="epub.prefix.attr"/>
      </optional>
      <ref name="opf.i18n.attrs"/>
    </interleave>
  </define>
  <define name="opf.version.attr">
    <attribute name="version">
      <value>3.0</value>
    </attribute>
  </define>
  <define name="opf.unique.identifier.attr">
    <attribute name="unique-identifier">
      <ref name="datatype.IDREF"/>
    </attribute>
  </define>
  <define name="opf.package.content">
    <ref name="opf.metadata"/>
    <ref name="opf.manifest"/>
    <ref name="opf.spine"/>
    <optional>
      <ref name="opf.guide"/>
    </optional>
    <optional>
      <ref name="opf.bindings"/>
    </optional>
    <zeroOrMore>
      <ref name="opf.collection"/>
    </zeroOrMore>
  </define>
  <define name="opf.metadata">
    <element name="metadata">
      <interleave>
        <optional>
          <ref name="opf.id.attr"/>
        </optional>
        <ref name="opf.i18n.attrs"/>
        <ref name="opf.metadata.content"/>
      </interleave>
    </element>
  </define>
  <define name="opf.metadata.content">
    <interleave>
      <ref name="opf.dc.elems"/>
      <zeroOrMore>
        <ref name="opf.meta"/>
      </zeroOrMore>
      <zeroOrMore>
        <ref name="opf.link"/>
      </zeroOrMore>
    </interleave>
  </define>
  <define name="opf.meta">
    <element name="meta">
      <choice>
        <ref name="opf.epub3.meta.content"/>
        <ref name="opf.epub2.meta.content"/>
      </choice>
    </element>
  </define>
  <define name="opf.epub3.meta.content">
    <interleave>
      <ref name="opf.property.attr"/>
      <optional>
        <ref name="opf.refines.attr"/>
      </optional>
      <optional>
        <ref name="opf.id.attr"/>
      </optional>
      <optional>
        <ref name="opf.scheme.attr"/>
      </optional>
      <ref name="opf.i18n.attrs"/>
      <ref name="datatype.string.nonempty"/>
    </interleave>
  </define>
  <define name="opf.epub2.meta.content">
    <interleave>
      <attribute name="name"/>
      <attribute name="content"/>
    </interleave>
  </define>
  <!-- legacy -->
  <define name="opf.link">
    <element name="link">
      <interleave>
        <ref name="opf.href.attr"/>
        <optional>
          <ref name="opf.hreflang.attr"/>
        </optional>
        <ref name="opf.rel.attr"/>
        <optional>
          <ref name="opf.id.attr"/>
        </optional>
        <optional>
          <ref name="opf.refines.attr"/>
        </optional>
        <optional>
          <ref name="opf.media-type.attr"/>
        </optional>
        <optional>
          <ref name="opf.properties.attr"/>
        </optional>
      </interleave>
    </element>
  </define>
  <define name="opf.property.attr">
    <attribute name="property">
      <ref name="datatype.property"/>
    </attribute>
  </define>
  <define name="opf.rel.attr">
    <attribute name="rel">
      <ref name="datatype.properties"/>
    </attribute>
  </define>
  <define name="opf.hreflang.attr">
    <attribute name="hreflang">
      <choice>
        <value/>
        <ref name="datatype.languagecode"/>
      </choice>
    </attribute>
  </define>
  <define name="opf.scheme.attr">
    <attribute name="scheme">
      <ref name="datatype.property"/>
    </attribute>
  </define>
  <define name="opf.refines.attr">
    <attribute name="refines">
      <ref name="datatype.URI"/>
    </attribute>
  </define>
  <define name="opf.dc.identifier">
    <element name="dc:identifier">
      <interleave>
        <optional>
          <ref name="opf.id.attr"/>
        </optional>
        <ref name="datatype.string.nonempty"/>
      </interleave>
    </element>
  </define>
  <define name="opf.dc.title">
    <element name="dc:title">
      <interleave>
        <ref name="opf.dc.attlist"/>
        <ref name="datatype.string.nonempty"/>
      </interleave>
    </element>
  </define>
  <define name="opf.dc.language">
    <element name="dc:language">
      <interleave>
        <optional>
          <ref name="opf.id.attr"/>
        </optional>
        <ref name="datatype.string.nonempty"/>
      </interleave>
    </element>
  </define>
  <define name="opf.dc.date">
    <element name="dc:date">
      <interleave>
        <optional>
          <ref name="opf.id.attr"/>
        </optional>
        <ref name="datatype.string.nonempty"/>
      </interleave>
    </element>
  </define>
  <define name="opf.dc.source">
    <element name="dc:source">
      <interleave>
        <ref name="opf.dc.attlist"/>
        <ref name="datatype.string.nonempty"/>
      </interleave>
    </element>
  </define>
  <define name="opf.dc.type">
    <element name="dc:type">
      <interleave>
        <optional>
          <ref name="opf.id.attr"/>
        </optional>
        <ref name="datatype.string.nonempty"/>
      </interleave>
    </element>
  </define>
  <define name="opf.dc.format">
    <element name="dc:format">
      <interleave>
        <optional>
          <ref name="opf.id.attr"/>
        </optional>
        <ref name="datatype.string.nonempty"/>
      </interleave>
    </element>
  </define>
  <define name="opf.dc.creator">
    <element name="dc:creator">
      <interleave>
        <ref name="opf.dc.attlist"/>
        <ref name="datatype.string.nonempty"/>
      </interleave>
    </element>
  </define>
  <define name="opf.dc.subject">
    <element name="dc:subject">
      <interleave>
        <ref name="opf.dc.attlist"/>
        <ref name="datatype.string.nonempty"/>
      </interleave>
    </element>
  </define>
  <define name="opf.dc.description">
    <element name="dc:description">
      <interleave>
        <ref name="opf.dc.attlist"/>
        <ref name="datatype.string.nonempty"/>
      </interleave>
    </element>
  </define>
  <define name="opf.dc.publisher">
    <element name="dc:publisher">
      <interleave>
        <ref name="opf.dc.attlist"/>
        <ref name="datatype.string.nonempty"/>
      </interleave>
    </element>
  </define>
  <define name="opf.dc.contributor">
    <element name="dc:contributor">
      <interleave>
        <ref name="opf.dc.attlist"/>
        <ref name="datatype.string.nonempty"/>
      </interleave>
    </element>
  </define>
  <define name="opf.dc.relation">
    <element name="dc:relation">
      <interleave>
        <ref name="opf.dc.attlist"/>
        <ref name="datatype.string.nonempty"/>
      </interleave>
    </element>
  </define>
  <define name="opf.dc.coverage">
    <element name="dc:coverage">
      <interleave>
        <ref name="opf.dc.attlist"/>
        <ref name="datatype.string.nonempty"/>
      </interleave>
    </element>
  </define>
  <define name="opf.dc.rights">
    <element name="dc:rights">
      <interleave>
        <ref name="opf.dc.attlist"/>
        <ref name="datatype.string.nonempty"/>
      </interleave>
    </element>
  </define>
  <define name="opf.dc.elems">
    <interleave>
      <oneOrMore>
        <ref name="opf.dc.identifier"/>
      </oneOrMore>
      <oneOrMore>
        <ref name="opf.dc.title"/>
      </oneOrMore>
      <oneOrMore>
        <ref name="opf.dc.language"/>
      </oneOrMore>
      <optional>
        <ref name="opf.dc.date"/>
      </optional>
      <zeroOrMore>
        <ref name="opf.dc.source"/>
      </zeroOrMore>
      <zeroOrMore>
        <ref name="opf.dc.type"/>
      </zeroOrMore>
      <zeroOrMore>
        <ref name="opf.dc.format"/>
      </zeroOrMore>
      <zeroOrMore>
        <ref name="opf.dc.creator"/>
      </zeroOrMore>
      <zeroOrMore>
        <ref name="opf.dc.subject"/>
      </zeroOrMore>
      <zeroOrMore>
        <ref name="opf.dc.description"/>
      </zeroOrMore>
      <zeroOrMore>
        <ref name="opf.dc.publisher"/>
      </zeroOrMore>
      <zeroOrMore>
        <ref name="opf.dc.contributor"/>
      </zeroOrMore>
      <zeroOrMore>
        <ref name="opf.dc.relation"/>
      </zeroOrMore>
      <zeroOrMore>
        <ref name="opf.dc.coverage"/>
      </zeroOrMore>
      <zeroOrMore>
        <ref name="opf.dc.rights"/>
      </zeroOrMore>
    </interleave>
  </define>
  <define name="opf.dc.attlist">
    <interleave>
      <optional>
        <ref name="opf.id.attr"/>
      </optional>
      <ref name="opf.i18n.attrs"/>
    </interleave>
  </define>
  <define name="opf.manifest">
    <element name="manifest">
      <interleave>
        <ref name="opf.manifest.attlist"/>
        <ref name="opf.manifest.content"/>
      </interleave>
    </element>
  </define>
  <define name="opf.manifest.attlist" combine="interleave">
    <optional>
      <ref name="opf.id.attr"/>
    </optional>
  </define>
  <define name="opf.manifest.content">
    <oneOrMore>
      <ref name="opf.item"/>
    </oneOrMore>
  </define>
  <define name="opf.item">
    <element name="item">
      <ref name="opf.item.attlist"/>
    </element>
  </define>
  <define name="opf.item.attlist" combine="interleave">
    <interleave>
      <ref name="opf.id.attr"/>
      <ref name="opf.href.attr"/>
      <ref name="opf.media-type.attr"/>
      <optional>
        <ref name="opf.fallback.attr"/>
      </optional>
      <optional>
        <ref name="opf.media-overlay.attr"/>
      </optional>
      <optional>
        <ref name="opf.properties.attr"/>
      </optional>
    </interleave>
  </define>
  <define name="opf.fallback.attr">
    <attribute name="fallback">
      <ref name="datatype.IDREF"/>
    </attribute>
  </define>
  <define name="opf.media-overlay.attr">
    <attribute name="media-overlay">
      <ref name="datatype.IDREF"/>
    </attribute>
  </define>
  <define name="opf.properties.attr">
    <attribute name="properties">
      <ref name="datatype.properties"/>
    </attribute>
  </define>
  <define name="opf.spine">
    <element name="spine">
      <interleave>
        <ref name="opf.spine.attlist"/>
        <ref name="opf.spine.content"/>
      </interleave>
    </element>
  </define>
  <define name="opf.spine.attlist" combine="interleave">
    <interleave>
      <optional>
        <ref name="opf.id.attr"/>
      </optional>
      <optional>
        <ref name="opf.spine.toc.attr"/>
      </optional>
      <optional>
        <ref name="opf.ppd.attr"/>
      </optional>
    </interleave>
  </define>
  <define name="opf.spine.toc.attr">
    <attribute name="toc">
      <ref name="datatype.IDREF"/>
    </attribute>
  </define>
  <define name="opf.ppd.attr">
    <attribute name="page-progression-direction">
      <choice>
        <value>ltr</value>
        <value>rtl</value>
        <value>default</value>
      </choice>
    </attribute>
  </define>
  <define name="opf.spine.content">
    <oneOrMore>
      <ref name="opf.itemref"/>
    </oneOrMore>
  </define>
  <define name="opf.itemref">
    <element name="itemref">
      <ref name="opf.itemref.attlist"/>
    </element>
  </define>
  <define name="opf.itemref.attlist" combine="interleave">
    <interleave>
      <ref name="opf.itemref.idref.attr"/>
      <optional>
        <ref name="opf.itemref.linear.attr"/>
      </optional>
      <optional>
        <ref name="opf.id.attr"/>
      </optional>
      <optional>
        <ref name="opf.properties.attr"/>
      </optional>
    </interleave>
  </define>
  <define name="opf.itemref.idref.attr">
    <attribute name="idref">
      <ref name="datatype.IDREF"/>
    </attribute>
  </define>
  <define name="opf.itemref.linear.attr">
    <attribute name="linear">
      <choice>
        <value>yes</value>
        <value>no</value>
      </choice>
    </attribute>
  </define>
  <define name="opf.guide">
    <element name="guide">
      <oneOrMore>
        <ref name="opf.reference"/>
      </oneOrMore>
    </element>
  </define>
  <define name="opf.reference">
    <element name="reference">
      <interleave>
        <ref name="opf.href.attr"/>
        <attribute name="type">
          <ref name="datatype.text"/>
        </attribute>
        <optional>
          <attribute name="title">
            <ref name="datatype.text"/>
          </attribute>
        </optional>
      </interleave>
    </element>
  </define>
  <define name="opf.bindings">
    <element name="bindings">
      <oneOrMore>
        <ref name="opf.bindings.mediaType"/>
      </oneOrMore>
    </element>
  </define>
  <define name="opf.bindings.mediaType">
    <element name="mediaType">
      <ref name="opf.bindings.mediaType.attlist"/>
    </element>
  </define>
  <define name="opf.bindings.mediaType.attlist" combine="interleave">
    <interleave>
      <ref name="opf.media-type.attr"/>
      <attribute name="handler">
        <ref name="datatype.IDREF"/>
      </attribute>
    </interleave>
  </define>
  <define name="opf.collection">
    <element name="collection">
      <ref name="opf.collection.attlist"/>
      <ref name="opf.collection.content"/>
    </element>
  </define>
  <define name="opf.collection.attlist" combine="interleave">
    <interleave>
      <optional>
        <ref name="opf.id.attr"/>
      </optional>
      <optional>
        <ref name="opf.dir.attr"/>
      </optional>
      <optional>
        <ref name="opf.xml.lang.attr"/>
      </optional>
      <ref name="opf.collection.role.attr"/>
    </interleave>
  </define>
  <define name="opf.collection.role.attr">
    <attribute name="role">
      <ref name="datatype.space.separated.tokens"/>
    </attribute>
  </define>
  <define name="opf.collection.content">
    <optional>
      <ref name="opf.collection.metadata"/>
    </optional>
    <choice>
      <oneOrMore>
        <ref name="opf.collection"/>
      </oneOrMore>
      <group>
        <zeroOrMore>
          <ref name="opf.collection"/>
        </zeroOrMore>
        <oneOrMore>
          <ref name="opf.collection.link"/>
        </oneOrMore>
      </group>
    </choice>
  </define>
  <define name="opf.collection.metadata">
    <element name="metadata">
      <interleave>
        <optional>
          <ref name="opf.id.attr"/>
        </optional>
        <ref name="opf.i18n.attrs"/>
        <ref name="opf.collection.metadata.content"/>
      </interleave>
    </element>
  </define>
  <define name="opf.collection.metadata.content">
    <interleave>
      <ref name="opf.collection.dc.elems"/>
      <zeroOrMore>
        <ref name="opf.collection.meta"/>
      </zeroOrMore>
      <zeroOrMore>
        <ref name="opf.link"/>
      </zeroOrMore>
    </interleave>
  </define>
  <define name="opf.collection.dc.elems">
    <interleave>
      <zeroOrMore>
        <ref name="opf.dc.identifier"/>
      </zeroOrMore>
      <zeroOrMore>
        <ref name="opf.dc.title"/>
      </zeroOrMore>
      <zeroOrMore>
        <ref name="opf.dc.language"/>
      </zeroOrMore>
      <zeroOrMore>
        <ref name="opf.dc.date"/>
      </zeroOrMore>
      <zeroOrMore>
        <ref name="opf.dc.source"/>
      </zeroOrMore>
      <zeroOrMore>
        <ref name="opf.dc.type"/>
      </zeroOrMore>
      <zeroOrMore>
        <ref name="opf.dc.format"/>
      </zeroOrMore>
      <zeroOrMore>
        <ref name="opf.dc.creator"/>
      </zeroOrMore>
      <zeroOrMore>
        <ref name="opf.dc.subject"/>
      </zeroOrMore>
      <zeroOrMore>
        <ref name="opf.dc.description"/>
      </zeroOrMore>
      <zeroOrMore>
        <ref name="opf.dc.publisher"/>
      </zeroOrMore>
      <zeroOrMore>
        <ref name="opf.dc.contributor"/>
      </zeroOrMore>
      <zeroOrMore>
        <ref name="opf.dc.relation"/>
      </zeroOrMore>
      <zeroOrMore>
        <ref name="opf.dc.coverage"/>
      </zeroOrMore>
      <zeroOrMore>
        <ref name="opf.dc.rights"/>
      </zeroOrMore>
    </interleave>
  </define>
  <define name="opf.collection.meta">
    <element name="meta">
      <ref name="opf.epub3.meta.content"/>
    </element>
  </define>
  <define name="opf.collection.link">
    <element name="link">
      <interleave>
        <ref name="opf.href.attr"/>
        <optional>
          <ref name="opf.rel.attr"/>
        </optional>
        <optional>
          <ref name="opf.id.attr"/>
        </optional>
        <optional>
          <ref name="opf.media-type.attr"/>
        </optional>
      </interleave>
    </element>
  </define>
  <define name="opf.media-type.attr">
    <attribute name="media-type">
      <ref name="datatype.mimetype"/>
    </attribute>
  </define>
  <define name="opf.href.attr">
    <attribute name="href">
      <ref name="datatype.URI"/>
    </attribute>
  </define>
  <define name="opf.id.attr">
    <attribute name="id">
      <ref name="datatype.ID"/>
    </attribute>
  </define>
  <define name="opf.i18n.attrs">
    <interleave>
      <optional>
        <ref name="opf.xml.lang.attr"/>
      </optional>
      <optional>
        <ref name="opf.dir.attr"/>
      </optional>
    </interleave>
  </define>
  <define name="opf.xml.lang.attr">
    <attribute name="xml:lang">
      <choice>
        <value/>
        <ref name="datatype.languagecode"/>
      </choice>
    </attribute>
  </define>
  <define name="opf.dir.attr">
    <attribute name="dir">
      <choice>
        <value>ltr</value>
        <value>rtl</value>
        <value>auto</value>
      </choice>
    </attribute>
  </define>
</grammar>
`;

export const PACKAGE_30_SCH = `<?xml version="1.0" encoding="UTF-8"?>
<schema xmlns="http://purl.oclc.org/dsdl/schematron" queryBinding="xslt2">

    <ns uri="http://www.idpf.org/2007/opf" prefix="opf"/>
    <ns uri="http://purl.org/dc/elements/1.1/" prefix="dc"/>
    
    <!-- Unique ID checks -->

    <pattern id="opf.uid">
        <rule context="opf:package[@unique-identifier]">
            <let name="uid" value="./normalize-space(@unique-identifier)"/>
            <assert test="/opf:package/opf:metadata/dc:identifier[normalize-space(@id) = $uid]">package element
                unique-identifier attribute does not resolve to a dc:identifier element (given
                reference was "<value-of select="$uid"/>")</assert>
        </rule>
    </pattern>

    <pattern id="opf.dcterms.modified">
        <rule context="opf:package/opf:metadata">
            <assert test="count(opf:meta[normalize-space(@property)='dcterms:modified' and not(@refines)]) = 1"
                >package dcterms:modified meta element must occur exactly once</assert>
        </rule>
    </pattern>

    <pattern id="opf.dcterms.modified.syntax">
        <rule context="opf:meta[normalize-space(@property)='dcterms:modified'][not(ancestor::opf:collection)]">
            <assert
                test="matches(normalize-space(.), '^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2}):([0-9]{2})Z$')"
                >dcterms:modified illegal syntax (expecting: "CCYY-MM-DDThh:mm:ssZ")</assert>
        </rule>
    </pattern>
    
    <!-- Link checks -->
    
    <pattern id="opf.link.record">
        <rule context="opf:link[tokenize(@rel,'\\s+')='record']">
            <!--<assert test="exists(@media-type)">**checked in java**</assert>-->
            <assert test="empty(@refines)">"record" links only applies to the Publication (must not
                have a "refines" attribute).</assert>
        </rule>
    </pattern>
    
    <pattern id="opf.link.voicing">
        <rule context="opf:link[tokenize(@rel,'\\s+')='voicing']">
            <!--<assert test="starts-with(normalize-space(@media-type),'audio/')">**checked in java**</assert>-->
            <assert test="exists(@refines)">"voicing" links must have a "refines" attribute.</assert>
        </rule>
    </pattern>
    
    <!-- Metadata checks -->

    <pattern id="opf.refines.relative">
        <rule context="*[not(ancestor::opf:collection)][@refines]">
            <report test="matches(@refines,'[a-zA-Z]([a-zA-Z0-9]|\\+|\\-|\\.)*:')">@refines must be a relative URL</report>
        </rule>
    </pattern>
    <pattern id="opf.refines.by-fragment">
        <rule context="*[not(ancestor::opf:collection)][@refines]">
            <let name="refines-url" value="resolve-uri(@refines)"/>
            <let name="item" value="//opf:manifest/opf:item[resolve-uri(normalize-space(@href))=$refines-url]"/>
            <report test="$item">WARNING: @refines should instead refer to "<value-of
                select="@refines"/>" using a fragment identifier pointing to its manifest item ("#<value-of
                    select="$item/@id"/>")
            </report>
        </rule>
    </pattern>
    <pattern id="opf.refines.fragment-exists">
        <rule context="*[not(ancestor::opf:collection)][@refines and starts-with(normalize-space(@refines),'#')]">
        	<let name="refines-target-id" value="substring(normalize-space(@refines), 2)"/>
            <assert test="//*[normalize-space(@id)=$refines-target-id]">@refines missing target id: "<value-of
                    select="$refines-target-id"/>"</assert>
        </rule>
    </pattern>
    
    <pattern id="opf.dc.subject.authority-term">
        <rule context="opf:metadata/dc:subject">
            <let name="id" value="normalize-space(./@id)"/>
            <let name="authority" value="//opf:meta[normalize-space(@property)='authority'][substring(normalize-space(@refines), 2) = $id]"/>
            <let name="term" value="//opf:meta[normalize-space(@property)='term'][substring(normalize-space(@refines), 2) = $id]"/>
            <report test="(count($authority) = 1 and count($term) = 0)">A term property must be associated with a dc:subject when an authority is specified</report>
            <report test="(count($authority) = 0 and count($term) = 1)">An authority property must be associated with a dc:subject when a term is specified</report>
            <report test="(count($authority) &gt; 1 or count($term) &gt; 1)">Only one pair of authority and term properties can be associated with a dc:subject</report>
        </rule>
    </pattern>
    
    <pattern id="opf.meta.authority">
        <rule context="opf:meta[normalize-space(@property)='authority']">
            <assert test="exists(../dc:subject[concat('#',normalize-space(@id)) = normalize-space(current()/@refines)])"
                >Property "authority" must refine a "subject" property.</assert>
            <!-- Cardinality is checked in opf.dc.subject.authority-term -->
        </rule>
    </pattern>

    <pattern id="opf.meta.belongs-to-collection">
    	<rule context="opf:meta[normalize-space(@property)='belongs-to-collection']">
            <assert
            	test="empty(@refines) or exists(../opf:meta[normalize-space(@id)=substring(normalize-space(current()/@refines),2)][normalize-space(@property)='belongs-to-collection'])"
                >Property "belongs-to-collection" can only refine other "belongs-to-collection"
                properties.</assert>
        </rule>
    </pattern>
    
    <pattern id="opf.meta.collection-type">
        <rule context="opf:meta[normalize-space(@property)='collection-type']">
            <assert
            	test="exists(../opf:meta[normalize-space(@id)=substring(normalize-space(current()/@refines),2)][normalize-space(@property)='belongs-to-collection'])"
                >Property "collection-type" must refine a "belongs-to-collection" property.</assert>
            <report test="exists(preceding-sibling::opf:meta[normalize-space(@property) = normalize-space(current()/@property)][normalize-space(@refines) = normalize-space(current()/@refines)])"
                >Property "collection-type" cannot be declared more than once to refine the same "belongs-to-collection" expression.</report>
        </rule>
    </pattern>
    
    <pattern id="opf.meta.display-seq">
        <rule context="opf:meta[normalize-space(@property)='display-seq']">
            <report test="exists(preceding-sibling::opf:meta[normalize-space(@property) = normalize-space(current()/@property)][normalize-space(@refines) = normalize-space(current()/@refines)])"
                >Property "display-seq" cannot be declared more than once to refine the same expression.</report>
        </rule>
    </pattern>
    
    <pattern id="opf.meta.file-as">
        <rule context="opf:meta[normalize-space(@property)='file-as']">
            <report test="exists(preceding-sibling::opf:meta[normalize-space(@property) = normalize-space(current()/@property)][normalize-space(@refines) = normalize-space(current()/@refines)])"
                >Property "file-as" cannot be declared more than once to refine the same expression.</report>
        </rule>
    </pattern>
    
    <pattern id="opf.meta.group-position">
        <rule context="opf:meta[normalize-space(@property)='group-position']">
            <report test="exists(preceding-sibling::opf:meta[normalize-space(@property) = normalize-space(current()/@property)][normalize-space(@refines) = normalize-space(current()/@refines)])"
                >Property "group-position" cannot be declared more than once to refine the same expression.</report>
        </rule>
    </pattern>
    
    <pattern id="opf.meta.identifier-type">
        <rule context="opf:meta[normalize-space(@property)='identifier-type']">
            <assert test="exists(../(dc:identifier|dc:source)[concat('#',normalize-space(@id)) = normalize-space(current()/@refines)])"
                >Property "identifier-type" must refine an "identifier" or "source" property.</assert>
            <report test="exists(preceding-sibling::opf:meta[normalize-space(@property) = normalize-space(current()/@property)][normalize-space(@refines) = normalize-space(current()/@refines)])"
                >Property "identifier-type" cannot be declared more than once to refine the same expression.</report>
        </rule>
    </pattern>
    
    <pattern id="opf.meta.role">
        <rule context="opf:meta[normalize-space(@property)='role']">
            <assert test="exists(../(dc:creator|dc:contributor|dc:publisher)[concat('#',normalize-space(@id)) = normalize-space(current()/@refines)])"
                >Property "role" must refine a "creator", "contributor", or "publisher" property.</assert>
        </rule>
    </pattern>
    
    <pattern id="opf.meta.source-of">
        <rule context="opf:meta[normalize-space(@property)='source-of']">
            <assert test="normalize-space(.) eq 'pagination'">The "source-of" property must have the
                value "pagination"</assert>
            <assert
                test="exists(@refines) and exists(../dc:source[normalize-space(@id)=substring(normalize-space(current()/@refines),2)])"
                >The "source-of" property must refine a "source" property.</assert>
            <report test="exists(preceding-sibling::opf:meta[normalize-space(@property) = normalize-space(current()/@property)][normalize-space(@refines) = normalize-space(current()/@refines)])"
                >Property "source-of" cannot be declared more than once to refine the same "source" expression.</report>
        </rule>
    </pattern>
    
    <pattern id="opf.meta.term">
        <rule context="opf:meta[normalize-space(@property)='term']">
            <assert test="exists(../dc:subject[concat('#',normalize-space(@id)) = normalize-space(current()/@refines)])"
                >Property "term" must refine a "subject" property.</assert>
            <!-- Cardinality is checked in opf.dc.subject.authority-term -->
        </rule>
    </pattern>
    
    <pattern id="opf.meta.title-type">
        <rule context="opf:meta[normalize-space(@property)='title-type']">
            <assert test="exists(../dc:title[concat('#',normalize-space(@id)) = normalize-space(current()/@refines)])"
                >Property "title-type" must refine a "title" property.</assert>
            <report test="exists(preceding-sibling::opf:meta[normalize-space(@property) = normalize-space(current()/@property)][normalize-space(@refines) = normalize-space(current()/@refines)])"
                >Property "title-type" cannot be declared more than once to refine the same "title" expression.</report>
        </rule>
    </pattern>
    
    <!-- Item checks -->

    <pattern id="opf.itemref">
        <rule context="opf:spine/opf:itemref[@idref]">
            <let name="ref" value="./normalize-space(@idref)"/>
            <let name="item" value="//opf:manifest/opf:item[normalize-space(@id) = $ref]"/>
            <assert test="$item">itemref element idref attribute does not resolve to a manifest item
                element</assert>
        </rule>
    </pattern>

    <pattern id="opf.toc.ncx">
        <rule context="opf:spine[@toc]">
            <let name="ref" value="./normalize-space(@toc)"/>
            <let name="item" value="/opf:package/opf:manifest/opf:item[normalize-space(@id) = $ref]"/>
        	<let name="item-media-type" value="normalize-space($item/@media-type)"/>
            <assert test="$item-media-type = 'application/x-dtbncx+xml'">spine element toc attribute
                must reference the NCX manifest item (referenced media type was "<value-of
                    select="$item-media-type"/>")</assert>
        </rule>
    </pattern>

    <pattern id="opf.toc.ncx.2">
    	<rule context="opf:item[normalize-space(@media-type)='application/x-dtbncx+xml']">
            <assert test="//opf:spine[@toc]">spine element toc attribute must be set when an NCX is
                included in the publication</assert>
        </rule>
    </pattern>

    <pattern id="opf.nav.prop">
        <rule context="opf:manifest">
            <let name="item"
                value="//opf:manifest/opf:item[@properties and tokenize(@properties,'\\s+') = 'nav']"/>
            <assert test="count($item) = 1">Exactly one manifest item must declare the "nav"
                property (number of "nav" items: <value-of select="count($item)"/>).</assert>
        </rule>
    </pattern>

    <pattern id="opf.nav.type">
        <rule
            context="opf:manifest/opf:item[@properties and tokenize(@properties,'\\s+') = 'nav']">
            <assert test="@media-type = 'application/xhtml+xml'">The manifest item representing the
                Navigation Document must be of the "application/xhtml+xml" type (given type was
                    "<value-of select="@media-type"/>")</assert>
        </rule>
    </pattern>
    
    <pattern id="opf.datanav.prop">
        <rule context="opf:manifest">
            <let name="item" value="opf:item[tokenize(@properties, '\\s+') = 'data-nav']"/>
            <assert test="count($item) le 1">Found <value-of select="count($item)"/> "data-nav" items. The manifest must not include more than one Data Navigation Document.</assert>
        </rule>
    </pattern>
    
    <pattern id="opf.cover-image">
        <rule context="opf:manifest">
            <let name="item"
                value="//opf:manifest/opf:item[@properties and tokenize(@properties,'\\s+')='cover-image']"/>
            <assert test="count($item) &lt; 2">Multiple occurrences of the "cover-image" property
                (number of "cover-image" items: <value-of select="count($item)"/>).</assert>
        </rule>
    </pattern>
    
    <!-- Rendition properties checks -->

    <pattern id="opf.rendition.globals">
        <rule context="opf:package/opf:metadata">
        	<assert test="count(opf:meta[normalize-space(@property)='rendition:flow']) le 1">The "rendition:flow"
                property must not occur more than one time in the package metadata.</assert>
        	<assert test="count(opf:meta[normalize-space(@property)='rendition:layout']) le 1">The "rendition:layout"
                property must not occur more than one time in the package metadata.</assert>
        	<assert test="count(opf:meta[normalize-space(@property)='rendition:orientation']) le 1">The
                "rendition:orientation" property must not occur more than one time in the package
                metadata.</assert>
        	<assert test="count(opf:meta[normalize-space(@property)='rendition:spread']) le 1">The "rendition:spread"
                property must not occur more than one time in the package metadata.</assert>
        	<assert test="count(opf:meta[normalize-space(@property)='rendition:viewport'][empty(@refines)]) le 1">The
                "rendition:viewport" property must not occur more than one time as a global value in
                the package metadata.</assert>
        </rule>
    	<rule context="opf:meta[not(ancestor::opf:collection)][normalize-space(@property)='rendition:flow']">
            <assert test="empty(@refines)">The "rendition:flow" property must not be set on elements
                with a "refines" attribute</assert>
            <assert
                test="normalize-space()=('paginated','scrolled-continuous','scrolled-doc','auto')"
                >The value of the "rendition:flow" property must be either "paginated",
                "scrolled-continuous", "scrolled-doc", or "auto"</assert>
        </rule>
    	<rule context="opf:meta[not(ancestor::opf:collection)][normalize-space(@property)=('rendition:layout')]">
            <assert test="empty(@refines)">The "rendition:layout" property must not be set on
                elements with a "refines" attribute</assert>
            <assert test="normalize-space()=('reflowable','pre-paginated')">The value of the
                "rendition:layout" property must be either "reflowable" or "pre-paginated"</assert>
        </rule>
    	<rule context="opf:meta[not(ancestor::opf:collection)][normalize-space(@property)='rendition:orientation']">
            <assert test="empty(@refines)">The "rendition:orientation" property must not be set on
                elements with a "refines" attribute</assert>
            <assert test="normalize-space()=('landscape','portrait','auto')">The value of the
                "rendition:orientation" property must be either "landscape", "portrait" or
                "auto"</assert>
        </rule>
    	<rule context="opf:meta[not(ancestor::opf:collection)][normalize-space(@property)='rendition:spread']">
            <assert test="empty(@refines)">The "rendition:spread" property must not be set on
                elements with a "refines" attribute</assert>
            <assert test="normalize-space()=('none','landscape','portrait','both','auto')">The value
                of the "rendition:spread" property must be either "none", "landscape", "portrait",
                "both" or "auto"</assert>
        </rule>
    	<rule context="opf:meta[not(ancestor::opf:collection)][normalize-space(@property)='rendition:spread']">
            <assert test="empty(@refines)">The "rendition:spread" property must not be set on
                elements with a "refines" attribute</assert>
            <assert test="normalize-space()=('none','landscape','portrait','both','auto')">The value
                of the "rendition:spread" property must be either "none", "landscape", "portrait",
                "both" or "auto"</assert>
        </rule>
    	<rule context="opf:meta[not(ancestor::opf:collection)][normalize-space(@property)='rendition:viewport']">
            <assert
                test="matches(normalize-space(),'^((width=\\d+,\\s*height=\\d+)|(height=\\d+,\\s*width=\\d+))$')"
                >The value of the "rendition:viewport" property must be of the form "width=x,
                height=y"</assert>
        </rule>
    </pattern>

    <pattern id="opf.rendition.overrides">
        <rule context="opf:itemref">
            <assert
                test="count(tokenize(@properties,'\\s+')[.=('rendition:flow-paginated','rendition:flow-scrolled-continuous','rendition:flow-scrolled-doc','rendition:flow-auto')]) le 1"
                >Properties "rendition:flow-paginated", "rendition:flow-scrolled-continuous",
                "rendition:flow-scrolled-doc" and "rendition:flow-auto" are mutually
                exclusive</assert>
            <assert
                test="count(tokenize(@properties,'\\s+')[.=('rendition:layout-reflowable','rendition:layout-pre-paginated')]) le 1"
                >Properties "rendition:layout-reflowable" and "rendition:layout-pre-paginated" are
                mutually exclusive</assert>
            <assert
                test="count(tokenize(@properties,'\\s+')[.=('rendition:orientation-landscape','rendition:orientation-portrait','rendition:orientation-auto')]) le 1"
                >Properties "rendition:orientation-landscape", "rendition:orientation-portrait" and
                "rendition:orientation-auto" are mutually exclusive</assert>
            <assert
                test="count(tokenize(@properties,'\\s+')[.=('page-spread-right','page-spread-left','rendition:page-spread-center')]) le 1"
                >Properties "page-spread-right", "page-spread-left" and
                "rendition:page-spread-center" are mutually exclusive</assert>
            <assert
                test="count(tokenize(@properties,'\\s+')[.=('rendition:spread-portrait','rendition:spread-landscape','rendition:spread-both','rendition:spread-none','rendition:spread-auto')]) le 1"
                >Properties "rendition:spread-portrait", "rendition:spread-landscape",
                "rendition:spread-both", "rendition:spread-none" and "rendition:spread-auto" are
                mutually exclusive</assert>
        </rule>
    </pattern>

    <pattern id="opf.collection.refines-restriction">
        <rule context="opf:collection/opf:metadata/*[@refines]">
        	<let name="refines-target-id" value="substring(normalize-space(@refines), 2)"/>
            <assert
            	test="starts-with(normalize-space(@refines),'#') and ancestor::opf:collection[not(ancestor::opf:collection)]//*[normalize-space(@id)=$refines-target-id]"
                > @refines must point to an element within the current collection </assert>
        </rule>
    </pattern>
    
    <pattern id="opf_guideReferenceUnique">
        <!-- guide/reference element should be unique (#493) -->
        <rule context="opf:reference">
            <let name="current_type_normalized" value="normalize-space(lower-case(@type))"/>
            <let name="current_href_normalized" value="normalize-space(lower-case(@href))"/>
            <assert test="
                count(//opf:reference[
                    normalize-space(lower-case(@type)) = $current_type_normalized and
                    normalize-space(lower-case(@href)) = $current_href_normalized
                ]) le 1">WARNING: Duplicate "reference" elements with the same "type" and "href" attributes</assert>
        </rule>
    </pattern>
    
    <include href="./mod/id-unique.sch"/>
	
	<!-- Media overlay checks -->
	
	<pattern id="opf.duration.metadata.item">
		<rule context="opf:meta[normalize-space(@property)='media:duration']">
			<assert
				test="matches(normalize-space(),'^(([0-9]+:[0-5][0-9]:[0-5][0-9](\\.[0-9]+)?)|((\\s*)[0-5][0-9]:[0-5][0-9](\\.[0-9]+)?(\\s*))|((\\s*)[0-9]+(\\.[0-9]+)?(h|min|s|ms)?(\\s*)))$')"
				>The value of the media:duration property must be a valid SMIL3 clock value</assert>
		</rule>
	</pattern>
	
	<pattern id="opf.media.overlay">
		<rule context="opf:item[@media-overlay]">
			<let name="ref" value="./normalize-space(@media-overlay)"/>
			<let name="item" value="//opf:manifest/opf:item[normalize-space(@id) = $ref]"/>
			<let name="item-media-type" value="normalize-space($item/@media-type)"/>
            <let name="media-type" value="normalize-space(@media-type)"/>
			<assert test="$item-media-type = 'application/smil+xml'">media overlay items must be of
				the "application/smil+xml" type (given type was "<value-of select="$item-media-type"
				/>")</assert>
            <assert test="$media-type='application/xhtml+xml' or $media-type='image/svg+xml'"
                >The media-overlay attribute is only allowed on XHTML and SVG content documents.</assert>
		</rule>
	</pattern>
	
	<pattern id="opf.media.overlay.metadata.global">
		<rule context="opf:manifest[opf:item[@media-overlay]]">
			<assert test="//opf:meta[normalize-space(@property)='media:duration' and not (@refines)]">global
				media:duration meta element not set</assert>
		</rule>
	</pattern>
	
	<pattern id="opf.media.overlay.metadata.item">
		<rule context="opf:manifest/opf:item[@media-overlay]">
			<let name="mo-idref" value="normalize-space(@media-overlay)"/>
			<let name="mo-item" value="//opf:item[normalize-space(@id) = $mo-idref]"/>
			<let name="mo-item-id" value="$mo-item/normalize-space(@id)"/>
			<let name="mo-item-uri" value="concat('#', $mo-item-id)"/>
			<assert test="//opf:meta[normalize-space(@property)='media:duration' and normalize-space(@refines) = $mo-item-uri ]">item
				media:duration meta element not set (expecting: meta property='media:duration'
				refines='<value-of select="$mo-item-uri"/>')</assert>
		</rule>
	</pattern>
	
	<pattern id="opf.media.overlay.metadata.active-class">
	  <rule context="opf:package/opf:metadata">
	    <assert test="count(opf:meta[normalize-space(@property)='media:active-class']) le 1">The 'active-class' property must not occur more than one time in the package
	          metadata.</assert>
	  </rule>
		<rule context="opf:meta[normalize-space(@property)='media:active-class']">
			<report test="@refines"> @refines must not be used with the media:active-class property</report>
		  <report test="contains(normalize-space(.),' ')">the 'active-class' property must define a single class name</report>
		</rule>
	</pattern>
	
	<pattern id="opf.media.overlay.metadata.playback-active-class">
    <rule context="opf:package/opf:metadata">
      <assert test="count(opf:meta[normalize-space(@property)='media:playback-active-class']) le 1">The 'playback-active-class' property must not occur more than one time in the package
           metadata.</assert>
    </rule>
		<rule context="opf:meta[normalize-space(@property)='media:playback-active-class']">
			<report test="@refines"> @refines must not be used with the media:playback-active-class property</report>
		  <report test="contains(normalize-space(.),' ')">the 'playback-active-class' property must define a single class name</report>
		</rule>
    </pattern>

	
	
	<!-- EPUB 3.2 New Checks -->
	
	<pattern id="opf.spine.duplicate.refs">
		<rule context="opf:itemref">
			<report test="normalize-space(./@idref) = preceding-sibling::opf:itemref/normalize-space(@idref)">Itemref refers to the same manifest entry as a previous itemref</report>
		</rule>
	</pattern>
	
	<!-- EPUB 3.2 Deprecated Features -->
	
	<pattern id="opf.bindings.deprecated">
		<rule context="opf:package/opf:bindings">
			<report test=".">WARNING: Use of the bindings element is deprecated</report>
		</rule>
	</pattern>
	

  <!--FIXME deprecation should be in vocab-->
	<pattern id="opf.meta.meta-auth.deprecated">
		<rule context="opf:metadata/opf:meta[normalize-space(@property)='meta-auth']">
			<report test=".">WARNING: Use of the meta-auth property is deprecated</report>
		</rule>
	</pattern>
	
</schema>`;

export const PHRASE_RNG = `<?xml version="1.0" encoding="UTF-8"?>
<grammar xmlns:a="http://relaxng.org/ns/compatibility/annotations/1.0" xmlns="http://relaxng.org/ns/structure/1.0" datatypeLibrary="">
  <!-- ##################################################################### -->
  <define name="a.elem.phrasing">
    <a:documentation> RELAX NG Schema for HTML 5: Phrase Markup                         #</a:documentation>
    <!-- ##################################################################### -->
    <a:documentation>Contextual Hyperlink: &lt;a&gt;</a:documentation>
    <choice>
      <ref name="a.href.elem.phrasing"/>
      <ref name="a.nohref.elem.phrasing"/>
    </choice>
  </define>
  <define name="a.elem.flow">
    <choice>
      <ref name="a.href.elem.flow"/>
      <ref name="a.nohref.elem.flow"/>
    </choice>
  </define>
  <define name="a.href.elem.phrasing">
    <element name="a">
      <interleave>
        <ref name="a.inner.phrasing"/>
        <ref name="a.href.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="a.href.elem.flow">
    <element name="a">
      <interleave>
        <ref name="a.inner.flow"/>
        <ref name="a.href.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="a.nohref.elem.phrasing">
    <element name="a">
      <interleave>
        <ref name="a.inner.phrasing"/>
        <ref name="a.nohref.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="a.nohref.elem.flow">
    <element name="a">
      <interleave>
        <ref name="a.inner.flow"/>
        <ref name="a.nohref.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="a.href.attrs">
    <interleave>
      <ref name="a.attrs"/>
      <ref name="shared-hyperlink.attrs.href"/>
      <optional>
        <choice>
          <ref name="common.attrs.aria.implicit.link"/>
          <ref name="common.attrs.aria.role.button"/>
          <ref name="common.attrs.aria.role.checkbox"/>
          <ref name="common.attrs.aria.role.link"/>
          <ref name="common.attrs.aria.role.menuitem"/>
          <ref name="common.attrs.aria.role.menuitemcheckbox"/>
          <ref name="common.attrs.aria.role.menuitemradio"/>
          <ref name="common.attrs.aria.role.option"/>
          <ref name="common.attrs.aria.role.radio"/>
          <ref name="common.attrs.aria.role.switch"/>
          <ref name="common.attrs.aria.role.tab"/>
          <ref name="common.attrs.aria.role.treeitem"/>
          <ref name="common.attrs.aria.role.doc-backlink"/>
          <ref name="common.attrs.aria.role.doc-biblioref"/>
          <ref name="common.attrs.aria.role.doc-glossref"/>
          <ref name="common.attrs.aria.role.doc-noteref"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="a.nohref.attrs">
    <interleave>
      <ref name="common.attrs.basic"/>
      <ref name="common.attrs.i18n"/>
      <ref name="common.attrs.present"/>
      <ref name="common.attrs.other"/>
      <optional>
        <ref name="a.attrs.name"/>
      </optional>
      <optional>
        <ref name="common.attrs.aria"/>
      </optional>
    </interleave>
  </define>
  <define name="a.attrs">
    <interleave>
      <ref name="common.attrs.basic"/>
      <ref name="common.attrs.i18n"/>
      <ref name="common.attrs.present"/>
      <ref name="common.attrs.other"/>
      <optional>
        <ref name="a.attrs.name"/>
      </optional>
      <optional>
        <ref name="shared-hyperlink.attrs.download"/>
      </optional>
      <optional>
        <ref name="shared-hyperlink.attrs.target"/>
      </optional>
      <optional>
        <ref name="shared-hyperlink.attrs.rel"/>
      </optional>
      <optional>
        <ref name="shared-hyperlink.attrs.hreflang"/>
      </optional>
      <optional>
        <ref name="shared-hyperlink.attrs.type"/>
      </optional>
      <optional>
        <ref name="shared-hyperlink.attrs.ping"/>
      </optional>
      <optional>
        <ref name="referrerpolicy"/>
      </optional>
    </interleave>
  </define>
  <define name="a.attrs.name">
    <attribute name="name">
      <ref name="common.data.id"/>
      <!-- XXX not what the spec says -->
    </attribute>
  </define>
  <define name="a.inner.phrasing">
    <ref name="common.inner.phrasing"/>
  </define>
  <define name="a.inner.flow">
    <ref name="common.inner.transparent.flow"/>
  </define>
  <define name="common.elem.phrasing" combine="choice">
    <ref name="a.elem.phrasing"/>
  </define>
  <define name="common.elem.flow" combine="choice">
    <ref name="a.elem.flow"/>
  </define>
  <define name="shared-hyperlink.attrs.download">
    <a:documentation>Shared hyperlink attributes</a:documentation>
    <attribute name="download">
      <data type="string"/>
    </attribute>
  </define>
  <define name="shared-hyperlink.attrs.href">
    <attribute name="href">
      <ref name="common.data.uri"/>
    </attribute>
  </define>
  <define name="shared-hyperlink.attrs.target">
    <attribute name="target">
      <ref name="common.data.browsing-context-or-keyword"/>
    </attribute>
  </define>
  <define name="shared-hyperlink.attrs.rel">
    <attribute name="rel">
      <data type="string"/>
    </attribute>
  </define>
  <define name="shared-hyperlink.attrs.hreflang">
    <attribute name="hreflang">
      <ref name="common.data.langcode"/>
    </attribute>
  </define>
  <define name="shared-hyperlink.attrs.media">
    <attribute name="media">
      <ref name="common.data.mediaquery"/>
    </attribute>
  </define>
  <define name="shared-hyperlink.attrs.type">
    <attribute name="type">
      <ref name="common.data.mimetype"/>
    </attribute>
  </define>
  <define name="shared-hyperlink.attrs.ping">
    <interleave>
      <attribute name="ping">
        <ref name="common.data.uris.http.or.https"/>
      </attribute>
      <ref name="v5only"/>
    </interleave>
  </define>
  <define name="referrerpolicy">
    <interleave>
      <attribute name="referrerpolicy">
        <choice>
          <value type="string"/>
          <value type="string">no-referrer</value>
          <value type="string">no-referrer-when-downgrade</value>
          <value type="string">same-origin</value>
          <value type="string">origin</value>
          <value type="string">strict-origin</value>
          <value type="string">origin-when-cross-origin</value>
          <value type="string">strict-origin-when-cross-origin</value>
          <value type="string">unsafe-url</value>
        </choice>
      </attribute>
      <ref name="v5only"/>
    </interleave>
  </define>
  <define name="em.elem">
    <a:documentation>Emphatic Stress: &lt;em&gt;</a:documentation>
    <element name="em">
      <interleave>
        <ref name="em.inner"/>
        <ref name="em.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="em.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <ref name="common.attrs.aria"/>
      </optional>
    </interleave>
  </define>
  <define name="em.inner">
    <ref name="common.inner.phrasing"/>
  </define>
  <define name="common.elem.phrasing" combine="choice">
    <ref name="em.elem"/>
  </define>
  <define name="strong.elem">
    <a:documentation>Strong Importance: &lt;strong&gt;</a:documentation>
    <element name="strong">
      <interleave>
        <ref name="strong.inner"/>
        <ref name="strong.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="strong.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <ref name="common.attrs.aria"/>
      </optional>
    </interleave>
  </define>
  <define name="strong.inner">
    <ref name="common.inner.phrasing"/>
  </define>
  <define name="common.elem.phrasing" combine="choice">
    <ref name="strong.elem"/>
  </define>
  <define name="small.elem">
    <a:documentation>Small Print and Side Comments: &lt;small&gt;</a:documentation>
    <element name="small">
      <interleave>
        <ref name="small.inner"/>
        <ref name="small.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="small.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <ref name="common.attrs.aria"/>
      </optional>
    </interleave>
  </define>
  <define name="small.inner">
    <ref name="common.inner.phrasing"/>
  </define>
  <define name="common.elem.phrasing" combine="choice">
    <ref name="small.elem"/>
  </define>
  <define name="mark.elem">
    <a:documentation>Marked (Highlighted) Text: &lt;mark&gt;</a:documentation>
    <interleave>
      <element name="mark">
        <interleave>
          <ref name="mark.inner"/>
          <ref name="mark.attrs"/>
        </interleave>
      </element>
      <ref name="v5only"/>
    </interleave>
  </define>
  <define name="mark.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <ref name="common.attrs.aria"/>
      </optional>
    </interleave>
  </define>
  <define name="mark.inner">
    <ref name="common.inner.phrasing"/>
  </define>
  <define name="common.elem.phrasing" combine="choice">
    <ref name="mark.elem"/>
  </define>
  <define name="abbr.elem">
    <a:documentation>Abbreviation: &lt;abbr&gt;</a:documentation>
    <element name="abbr">
      <interleave>
        <ref name="abbr.inner"/>
        <ref name="abbr.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="abbr.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <!-- 	abbr.attrs.title included in common.attrs -->
        <ref name="common.attrs.aria"/>
      </optional>
    </interleave>
  </define>
  <define name="abbr.inner">
    <ref name="common.inner.phrasing"/>
  </define>
  <define name="common.elem.phrasing" combine="choice">
    <ref name="abbr.elem"/>
  </define>
  <define name="dfn.elem">
    <a:documentation>Defining Instance: &lt;dfn&gt;</a:documentation>
    <element name="dfn">
      <interleave>
        <ref name="dfn.inner"/>
        <ref name="dfn.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="dfn.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <!-- 	dfn.attrs.title included in common.attrs -->
        <ref name="common.attrs.aria"/>
      </optional>
    </interleave>
  </define>
  <define name="dfn.inner">
    <ref name="common.inner.phrasing"/>
  </define>
  <define name="common.elem.phrasing" combine="choice">
    <ref name="dfn.elem"/>
  </define>
  <define name="i.elem">
    <a:documentation>Italic: &lt;i&gt;</a:documentation>
    <element name="i">
      <interleave>
        <ref name="i.inner"/>
        <ref name="i.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="i.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <ref name="common.attrs.aria"/>
      </optional>
    </interleave>
  </define>
  <define name="i.inner">
    <ref name="common.inner.phrasing"/>
  </define>
  <define name="common.elem.phrasing" combine="choice">
    <ref name="i.elem"/>
  </define>
  <define name="b.elem">
    <a:documentation>Bold: &lt;b&gt;</a:documentation>
    <element name="b">
      <interleave>
        <ref name="b.inner"/>
        <ref name="b.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="b.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <ref name="common.attrs.aria"/>
      </optional>
    </interleave>
  </define>
  <define name="b.inner">
    <ref name="common.inner.phrasing"/>
  </define>
  <define name="common.elem.phrasing" combine="choice">
    <ref name="b.elem"/>
  </define>
  <define name="s.elem">
    <a:documentation>Struck Text: &lt;s&gt;</a:documentation>
    <element name="s">
      <interleave>
        <ref name="s.inner"/>
        <ref name="s.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="s.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <ref name="common.attrs.aria"/>
      </optional>
    </interleave>
  </define>
  <define name="s.inner">
    <ref name="common.inner.phrasing"/>
  </define>
  <define name="common.elem.phrasing" combine="choice">
    <ref name="s.elem"/>
  </define>
  <define name="u.elem">
    <a:documentation>Underline: &lt;u&gt;</a:documentation>
    <element name="u">
      <interleave>
        <ref name="u.inner"/>
        <ref name="u.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="u.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <ref name="common.attrs.aria"/>
      </optional>
    </interleave>
  </define>
  <define name="u.inner">
    <ref name="common.inner.phrasing"/>
  </define>
  <define name="common.elem.phrasing" combine="choice">
    <ref name="u.elem"/>
  </define>
  <define name="code.elem">
    <a:documentation>Code Fragment: &lt;code&gt;</a:documentation>
    <element name="code">
      <interleave>
        <ref name="code.inner"/>
        <ref name="code.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="code.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <ref name="common.attrs.aria"/>
      </optional>
    </interleave>
  </define>
  <define name="code.inner">
    <ref name="common.inner.phrasing"/>
  </define>
  <define name="common.elem.phrasing" combine="choice">
    <ref name="code.elem"/>
  </define>
  <define name="var.elem">
    <a:documentation>Variable or Placeholder: &lt;var&gt;</a:documentation>
    <element name="var">
      <interleave>
        <ref name="var.inner"/>
        <ref name="var.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="var.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <ref name="common.attrs.aria"/>
      </optional>
    </interleave>
  </define>
  <define name="var.inner">
    <ref name="common.inner.phrasing"/>
  </define>
  <define name="common.elem.phrasing" combine="choice">
    <ref name="var.elem"/>
  </define>
  <define name="samp.elem">
    <a:documentation>(Sample) Output: &lt;samp&gt;</a:documentation>
    <element name="samp">
      <interleave>
        <ref name="samp.inner"/>
        <ref name="samp.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="samp.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <ref name="common.attrs.aria"/>
      </optional>
    </interleave>
  </define>
  <define name="samp.inner">
    <ref name="common.inner.phrasing"/>
  </define>
  <define name="common.elem.phrasing" combine="choice">
    <ref name="samp.elem"/>
  </define>
  <define name="kbd.elem">
    <a:documentation>User Input: &lt;kbd&gt;</a:documentation>
    <element name="kbd">
      <interleave>
        <ref name="kbd.inner"/>
        <ref name="kbd.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="kbd.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <ref name="common.attrs.aria"/>
      </optional>
    </interleave>
  </define>
  <define name="kbd.inner">
    <ref name="common.inner.phrasing"/>
  </define>
  <define name="common.elem.phrasing" combine="choice">
    <ref name="kbd.elem"/>
  </define>
  <define name="sup.elem">
    <a:documentation>Superscript: &lt;sup&gt;</a:documentation>
    <element name="sup">
      <interleave>
        <ref name="sup.inner"/>
        <ref name="sup.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="sup.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <ref name="common.attrs.aria"/>
      </optional>
    </interleave>
  </define>
  <define name="sup.inner">
    <ref name="common.inner.phrasing"/>
  </define>
  <define name="common.elem.phrasing" combine="choice">
    <ref name="sup.elem"/>
  </define>
  <define name="sub.elem">
    <a:documentation>Subscript: &lt;sub&gt;</a:documentation>
    <element name="sub">
      <interleave>
        <ref name="sub.inner"/>
        <ref name="sub.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="sub.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <ref name="common.attrs.aria"/>
      </optional>
    </interleave>
  </define>
  <define name="sub.inner">
    <ref name="common.inner.phrasing"/>
  </define>
  <define name="common.elem.phrasing" combine="choice">
    <ref name="sub.elem"/>
  </define>
  <define name="q.elem">
    <a:documentation>Quotation: &lt;q&gt;</a:documentation>
    <element name="q">
      <interleave>
        <ref name="q.inner"/>
        <ref name="q.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="q.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <ref name="q.attrs.cite"/>
      </optional>
      <optional>
        <ref name="common.attrs.aria"/>
      </optional>
    </interleave>
  </define>
  <define name="q.attrs.cite">
    <attribute name="cite">
      <ref name="common.data.uri"/>
    </attribute>
  </define>
  <define name="q.inner">
    <ref name="common.inner.phrasing"/>
  </define>
  <define name="common.elem.phrasing" combine="choice">
    <ref name="q.elem"/>
  </define>
  <define name="cite.elem">
    <a:documentation>Title of Work: &lt;cite&gt;</a:documentation>
    <element name="cite">
      <interleave>
        <ref name="cite.inner"/>
        <ref name="cite.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="cite.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <ref name="common.attrs.aria"/>
      </optional>
    </interleave>
  </define>
  <define name="cite.inner">
    <ref name="common.inner.phrasing"/>
  </define>
  <define name="common.elem.phrasing" combine="choice">
    <ref name="cite.elem"/>
  </define>
  <define name="span.elem">
    <a:documentation>Generic Span: &lt;span&gt;</a:documentation>
    <element name="span">
      <interleave>
        <ref name="span.inner"/>
        <ref name="span.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="span.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <ref name="common.attrs.aria"/>
      </optional>
    </interleave>
  </define>
  <define name="span.inner">
    <ref name="common.inner.phrasing"/>
  </define>
  <!-- REVISIT allow ol and ul? -->
  <define name="common.elem.phrasing" combine="choice">
    <ref name="span.elem"/>
  </define>
  <define name="bdo.elem">
    <a:documentation>Bidirectional Override: &lt;bdo&gt;</a:documentation>
    <element name="bdo">
      <interleave>
        <ref name="bdo.inner"/>
        <ref name="bdo.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="bdo.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <ref name="common.attrs.aria"/>
      </optional>
    </interleave>
  </define>
  <define name="bdo.inner">
    <ref name="common.inner.phrasing"/>
  </define>
  <define name="common.elem.phrasing" combine="choice">
    <ref name="bdo.elem"/>
  </define>
  <define name="bdi.elem">
    <a:documentation>Bidirectional Isolate: &lt;bdi&gt;</a:documentation>
    <element name="bdi">
      <interleave>
        <ref name="bdi.inner"/>
        <ref name="bdi.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="bdi.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <ref name="common.attrs.aria"/>
      </optional>
    </interleave>
  </define>
  <define name="bdi.inner">
    <ref name="common.inner.phrasing"/>
  </define>
  <define name="common.elem.phrasing" combine="choice">
    <ref name="bdi.elem"/>
  </define>
  <define name="br.elem">
    <a:documentation>Line Break: &lt;br&gt;</a:documentation>
    <element name="br">
      <interleave>
        <ref name="br.inner"/>
        <ref name="br.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="br.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <ref name="common.attrs.aria.role.presentation"/>
      </optional>
    </interleave>
  </define>
  <define name="br.inner">
    <empty/>
  </define>
  <define name="common.elem.phrasing" combine="choice">
    <ref name="br.elem"/>
  </define>
  <define name="wbr.elem">
    <a:documentation>Line-break opportunity: &lt;wbr&gt;</a:documentation>
    <element name="wbr">
      <interleave>
        <ref name="wbr.inner"/>
        <ref name="wbr.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="wbr.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <ref name="common.attrs.aria.role.presentation"/>
      </optional>
    </interleave>
  </define>
  <define name="wbr.inner">
    <empty/>
  </define>
  <define name="common.elem.phrasing" combine="choice">
    <ref name="wbr.elem"/>
  </define>
</grammar>
`;

export const RDFA_RNG = `<?xml version="1.0" encoding="UTF-8"?>
<grammar xmlns:a="http://relaxng.org/ns/compatibility/annotations/1.0" xmlns="http://relaxng.org/ns/structure/1.0" datatypeLibrary="http://www.w3.org/2001/XMLSchema-datatypes">
  <define name="nonRDFaLite">
    <empty/>
  </define>
  <!-- ##################################################################### -->
  <!-- ##################################################################### -->
  <define name="common.data.rdfa.safecurie">
    <a:documentation> RELAX NG Schema for HTML 5: RDFa 1.1 and RDFa Lite 1.1            #</a:documentation>
    <!-- ##################################################################### -->
    <!-- ##################################################################### -->
    <a:documentation> RDFa Datatypes                                                    #</a:documentation>
    <data type="string">
      <param name="pattern">\\[(([\\i-[:]][\\c-[:]]*)?:?)[^\\s]*\\]</param>
      <param name="minLength">2</param>
    </data>
  </define>
  <define name="common.data.rdfa.curie">
    <data type="string">
      <param name="pattern">(([\\i-[:]][\\c-[:]]*)?:)[^\\s]*</param>
      <param name="minLength">1</param>
    </data>
  </define>
  <define name="common.data.rdfa.term">
    <data type="string">
      <param name="pattern">[\\i-[:]][/\\c-[:]]*</param>
    </data>
  </define>
  <!-- ##################################################################### -->
  <!-- ##################################################################### -->
  <define name="common.attrs.rdfa" combine="interleave">
    <a:documentation> RDFa Attributes                                                   #</a:documentation>
    <interleave>
      <optional>
        <ref name="common.attrs.rdfa.about"/>
      </optional>
      <optional>
        <ref name="common.attrs.rdfa.prefix"/>
      </optional>
      <optional>
        <ref name="common.attrs.rdfa.property"/>
      </optional>
      <optional>
        <ref name="common.attrs.rdfa.typeof"/>
      </optional>
      <optional>
        <ref name="common.attrs.rdfa.vocab"/>
      </optional>
      <optional>
        <ref name="common.attrs.rdfa.content"/>
      </optional>
      <optional>
        <ref name="common.attrs.rdfa.datatype"/>
      </optional>
      <optional>
        <ref name="common.attrs.rdfa.rel"/>
      </optional>
      <optional>
        <ref name="common.attrs.rdfa.resource"/>
      </optional>
      <optional>
        <ref name="common.attrs.rdfa.rev"/>
      </optional>
      <optional>
        <ref name="common.attrs.rdfa.inlist"/>
      </optional>
    </interleave>
  </define>
  <define name="common.attrs.rdfa.prefix">
    <attribute name="prefix">
      <choice>
        <data type="string">
          <param name="pattern">\\s*([\\i-[:]][\\c-[:]]*: [^ ]+)(\\s+[\\i-[:]][\\c-[:]]*: [^ ]+)*\\s*</param>
        </data>
        <value type="string" datatypeLibrary=""/>
      </choice>
    </attribute>
  </define>
  <define name="common.attrs.rdfa.property">
    <attribute name="property">
      <choice>
        <list>
          <oneOrMore>
            <choice>
              <ref name="common.data.rdfa.term"/>
              <ref name="common.data.rdfa.curie"/>
              <ref name="common.data.uri.absolute"/>
            </choice>
          </oneOrMore>
        </list>
        <value type="string" datatypeLibrary=""/>
      </choice>
    </attribute>
  </define>
  <define name="common.attrs.rdfa.resource">
    <attribute name="resource">
      <choice>
        <ref name="common.data.rdfa.safecurie"/>
        <ref name="common.data.rdfa.curie"/>
        <ref name="common.data.uri"/>
      </choice>
    </attribute>
  </define>
  <define name="common.attrs.rdfa.typeof">
    <attribute name="typeof">
      <choice>
        <list>
          <oneOrMore>
            <choice>
              <ref name="common.data.rdfa.term"/>
              <ref name="common.data.rdfa.curie"/>
              <ref name="common.data.uri.absolute"/>
            </choice>
          </oneOrMore>
        </list>
        <value type="string" datatypeLibrary=""/>
      </choice>
    </attribute>
  </define>
  <define name="common.attrs.rdfa.vocab">
    <attribute name="vocab">
      <choice>
        <ref name="common.data.uri.absolute"/>
        <value type="string" datatypeLibrary=""/>
      </choice>
    </attribute>
  </define>
  <define name="common.attrs.rdfa.about">
    <interleave>
      <attribute name="about">
        <choice>
          <ref name="common.data.rdfa.safecurie"/>
          <ref name="common.data.rdfa.curie"/>
          <ref name="common.data.uri"/>
        </choice>
      </attribute>
      <ref name="nonRDFaLite"/>
    </interleave>
  </define>
  <define name="common.attrs.rdfa.content">
    <interleave>
      <attribute name="content">
        <data type="string" datatypeLibrary=""/>
      </attribute>
      <ref name="nonRDFaLite"/>
    </interleave>
  </define>
  <define name="common.attrs.rdfa.datatype">
    <interleave>
      <attribute name="datatype">
        <choice>
          <ref name="common.data.rdfa.term"/>
          <ref name="common.data.rdfa.curie"/>
          <ref name="common.data.uri.absolute"/>
          <value type="string" datatypeLibrary=""/>
        </choice>
      </attribute>
      <ref name="nonRDFaLite"/>
    </interleave>
  </define>
  <define name="common.attrs.rdfa.rel">
    <interleave>
      <attribute name="rel">
        <choice>
          <list>
            <oneOrMore>
              <choice>
                <ref name="common.data.rdfa.term"/>
                <ref name="common.data.rdfa.curie"/>
                <ref name="common.data.uri.absolute"/>
              </choice>
            </oneOrMore>
          </list>
          <value type="string" datatypeLibrary=""/>
        </choice>
      </attribute>
      <ref name="nonRDFaLite"/>
    </interleave>
  </define>
  <define name="common.attrs.rdfa.rev">
    <interleave>
      <attribute name="rev">
        <choice>
          <list>
            <oneOrMore>
              <choice>
                <ref name="common.data.rdfa.term"/>
                <ref name="common.data.rdfa.curie"/>
                <ref name="common.data.uri.absolute"/>
              </choice>
            </oneOrMore>
          </list>
          <value type="string" datatypeLibrary=""/>
        </choice>
      </attribute>
      <ref name="nonRDFaLite"/>
    </interleave>
  </define>
  <define name="common.attrs.rdfa.inlist">
    <interleave>
      <attribute name="inlist">
        <data type="string" datatypeLibrary=""/>
      </attribute>
      <ref name="nonRDFaLite"/>
    </interleave>
  </define>
  <define name="common.attrs.rdfa.no-rel" combine="interleave">
    <interleave>
      <optional>
        <ref name="common.attrs.rdfa.about"/>
      </optional>
      <optional>
        <ref name="common.attrs.rdfa.prefix"/>
      </optional>
      <optional>
        <ref name="common.attrs.rdfa.property"/>
      </optional>
      <optional>
        <ref name="common.attrs.rdfa.typeof"/>
      </optional>
      <optional>
        <ref name="common.attrs.rdfa.vocab"/>
      </optional>
      <optional>
        <ref name="common.attrs.rdfa.content"/>
      </optional>
      <optional>
        <ref name="common.attrs.rdfa.datatype"/>
      </optional>
      <optional>
        <ref name="common.attrs.rdfa.resource"/>
      </optional>
      <optional>
        <ref name="common.attrs.rdfa.rev"/>
      </optional>
      <optional>
        <ref name="common.attrs.rdfa.inlist"/>
      </optional>
    </interleave>
  </define>
  <define name="common.attrs.rdfa.no-rel-rev" combine="interleave">
    <interleave>
      <optional>
        <ref name="common.attrs.rdfa.about"/>
      </optional>
      <optional>
        <ref name="common.attrs.rdfa.prefix"/>
      </optional>
      <optional>
        <ref name="common.attrs.rdfa.property"/>
      </optional>
      <optional>
        <ref name="common.attrs.rdfa.typeof"/>
      </optional>
      <optional>
        <ref name="common.attrs.rdfa.vocab"/>
      </optional>
      <optional>
        <ref name="common.attrs.rdfa.content"/>
      </optional>
      <optional>
        <ref name="common.attrs.rdfa.datatype"/>
      </optional>
      <optional>
        <ref name="common.attrs.rdfa.resource"/>
      </optional>
      <optional>
        <ref name="common.attrs.rdfa.inlist"/>
      </optional>
    </interleave>
  </define>
  <define name="common.attrs.rdfa.no-content-noproperty" combine="interleave">
    <interleave>
      <optional>
        <ref name="common.attrs.rdfa.about"/>
      </optional>
      <optional>
        <ref name="common.attrs.rdfa.prefix"/>
      </optional>
      <optional>
        <ref name="common.attrs.rdfa.typeof"/>
      </optional>
      <optional>
        <ref name="common.attrs.rdfa.vocab"/>
      </optional>
      <optional>
        <ref name="common.attrs.rdfa.datatype"/>
      </optional>
      <optional>
        <ref name="common.attrs.rdfa.resource"/>
      </optional>
      <optional>
        <ref name="common.attrs.rdfa.inlist"/>
      </optional>
    </interleave>
  </define>
  <define name="common.attrs" combine="interleave">
    <ref name="common.attrs.rdfa"/>
  </define>
  <define name="a.attrs" combine="interleave">
    <ref name="common.attrs.rdfa.no-rel-rev"/>
  </define>
  <define name="area.attrs" combine="interleave">
    <ref name="common.attrs.rdfa.no-rel"/>
  </define>
  <define name="base.attrs" combine="interleave">
    <ref name="common.attrs.rdfa.no-rel"/>
  </define>
  <define name="link.rdfa.elem.metadata">
    <element name="link">
      <interleave>
        <ref name="link.inner"/>
        <ref name="link.rdfa.attrs.metadata"/>
      </interleave>
    </element>
  </define>
  <define name="link.rdfa.elem.phrasing">
    <element name="link">
      <interleave>
        <ref name="link.inner"/>
        <ref name="link.rdfa.attrs.phrasing"/>
      </interleave>
    </element>
  </define>
  <define name="link.rdfa.attrs.metadata">
    <interleave>
      <ref name="common.attrs.basic"/>
      <ref name="common.attrs.i18n"/>
      <ref name="common.attrs.present"/>
      <ref name="common.attrs.other"/>
      <choice>
        <interleave>
          <ref name="common.attrs.rdfa.property"/>
          <optional>
            <ref name="link.attrs.rel"/>
          </optional>
        </interleave>
        <interleave>
          <optional>
            <ref name="common.attrs.rdfa.property"/>
          </optional>
          <ref name="link.attrs.rel"/>
        </interleave>
      </choice>
      <optional>
        <ref name="common.attrs.rdfa.about"/>
      </optional>
      <optional>
        <ref name="common.attrs.rdfa.prefix"/>
      </optional>
      <optional>
        <ref name="common.attrs.rdfa.typeof"/>
      </optional>
      <optional>
        <ref name="common.attrs.rdfa.vocab"/>
      </optional>
      <optional>
        <ref name="common.attrs.rdfa.content"/>
      </optional>
      <optional>
        <ref name="common.attrs.rdfa.datatype"/>
      </optional>
      <choice>
        <interleave>
          <ref name="common.attrs.rdfa.resource"/>
          <optional>
            <ref name="link.attrs.href"/>
          </optional>
        </interleave>
        <interleave>
          <optional>
            <ref name="common.attrs.rdfa.resource"/>
          </optional>
          <ref name="link.attrs.href"/>
        </interleave>
      </choice>
      <optional>
        <ref name="common.attrs.rdfa.rev"/>
      </optional>
      <optional>
        <ref name="common.attrs.rdfa.inlist"/>
      </optional>
      <optional>
        <ref name="shared-hyperlink.attrs.hreflang"/>
      </optional>
      <optional>
        <ref name="shared-hyperlink.attrs.media"/>
      </optional>
      <optional>
        <ref name="shared-hyperlink.attrs.type"/>
      </optional>
      <optional>
        <ref name="link.attrs.sizes"/>
      </optional>
      <optional>
        <ref name="link.attrs.as"/>
      </optional>
      <optional>
        <!-- 	link.attrs.title included in common.attrs -->
        <ref name="embedded.content.attrs.crossorigin"/>
      </optional>
      <optional>
        <choice>
          <ref name="common.attrs.aria.role.link"/>
          <ref name="common.attrs.aria.role.presentation"/>
          <ref name="common.attrs.aria.role.menuitem"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="link.rdfa.attrs.phrasing">
    <interleave>
      <ref name="common.attrs.basic"/>
      <ref name="common.attrs.i18n"/>
      <ref name="common.attrs.present"/>
      <ref name="common.attrs.other"/>
      <ref name="common.attrs.rdfa.property"/>
      <optional>
        <ref name="link.attrs.rel"/>
      </optional>
      <choice>
        <interleave>
          <ref name="common.attrs.rdfa.resource"/>
          <optional>
            <ref name="link.attrs.href"/>
          </optional>
        </interleave>
        <interleave>
          <optional>
            <ref name="common.attrs.rdfa.resource"/>
          </optional>
          <ref name="link.attrs.href"/>
        </interleave>
      </choice>
      <optional>
        <ref name="common.attrs.rdfa.about"/>
      </optional>
      <optional>
        <ref name="common.attrs.rdfa.prefix"/>
      </optional>
      <optional>
        <ref name="common.attrs.rdfa.typeof"/>
      </optional>
      <optional>
        <ref name="common.attrs.rdfa.vocab"/>
      </optional>
      <optional>
        <ref name="common.attrs.rdfa.content"/>
      </optional>
      <optional>
        <ref name="common.attrs.rdfa.datatype"/>
      </optional>
      <optional>
        <ref name="common.attrs.rdfa.rev"/>
      </optional>
      <optional>
        <ref name="common.attrs.rdfa.inlist"/>
      </optional>
      <optional>
        <ref name="shared-hyperlink.attrs.hreflang"/>
      </optional>
      <optional>
        <ref name="shared-hyperlink.attrs.media"/>
      </optional>
      <optional>
        <ref name="shared-hyperlink.attrs.type"/>
      </optional>
      <optional>
        <ref name="link.attrs.sizes"/>
      </optional>
      <optional>
        <!-- 	link.attrs.title included in common.attrs -->
        <ref name="embedded.content.attrs.crossorigin"/>
      </optional>
      <optional>
        <choice>
          <ref name="common.attrs.aria.role.link"/>
          <ref name="common.attrs.aria.role.presentation"/>
          <ref name="common.attrs.aria.role.menuitem"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="common.elem.metadata" combine="choice">
    <ref name="link.rdfa.elem.metadata"/>
  </define>
  <define name="common.elem.phrasing" combine="choice">
    <ref name="link.rdfa.elem.phrasing"/>
  </define>
  <define name="meta.property.elem">
    <a:documentation>&lt;meta property=foo content=bar&gt; in head ("name" attribute optional)</a:documentation>
    <element name="meta">
      <interleave>
        <ref name="meta.inner"/>
        <ref name="meta.property.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="meta.property.attrs">
    <interleave>
      <ref name="common.attrs.basic"/>
      <ref name="common.attrs.i18n"/>
      <ref name="common.attrs.present"/>
      <ref name="common.attrs.other"/>
      <optional>
        <ref name="meta.name.attrs.name"/>
      </optional>
      <ref name="common.attrs.rdfa.property"/>
      <ref name="meta.name.attrs.content"/>
    </interleave>
  </define>
  <define name="common.elem.metadata" combine="choice">
    <ref name="meta.property.elem"/>
  </define>
  <define name="meta.property-no-name.elem">
    <a:documentation>&lt;meta property=foo content=bar&gt; in body ("name" attribute disallowed)</a:documentation>
    <element name="meta">
      <interleave>
        <ref name="meta.inner"/>
        <ref name="meta.property-no-name.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="meta.property-no-name.attrs">
    <interleave>
      <ref name="common.attrs.basic"/>
      <ref name="common.attrs.i18n"/>
      <ref name="common.attrs.present"/>
      <ref name="common.attrs.other"/>
      <ref name="common.attrs.rdfa.property"/>
      <ref name="meta.name.attrs.content"/>
      <optional>
        <choice>
          <ref name="common.attrs.aria.role.presentation"/>
          <ref name="common.attrs.aria.role.menuitem"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="common.elem.phrasing" combine="choice">
    <ref name="meta.property-no-name.elem"/>
  </define>
  <define name="meta.property.attrs" combine="interleave">
    <ref name="common.attrs.rdfa.no-content-noproperty"/>
  </define>
  <define name="meta.property-no-name.attrs" combine="interleave">
    <ref name="common.attrs.rdfa.no-content-noproperty"/>
  </define>
  <define name="meta.name.attrs" combine="interleave">
    <ref name="common.attrs.rdfa.no-content-noproperty"/>
  </define>
</grammar>
`;

export const REVISION_RNG = `<?xml version="1.0" encoding="UTF-8"?>
<grammar xmlns:a="http://relaxng.org/ns/compatibility/annotations/1.0" xmlns="http://relaxng.org/ns/structure/1.0">
  <!-- ##################################################################### -->
  <define name="edit.attrs.cite">
    <a:documentation> RELAX NG Schema for HTML 5: Revision Annotations                  #</a:documentation>
    <!-- ##################################################################### -->
    <a:documentation>Common Attributes</a:documentation>
    <attribute name="cite">
      <ref name="common.data.uri"/>
    </attribute>
  </define>
  <define name="edit.attrs.datetime">
    <attribute name="datetime">
      <choice>
        <ref name="common.data.datetime"/>
        <ref name="common.data.date"/>
      </choice>
    </attribute>
  </define>
  <define name="ins.elem.flow">
    <a:documentation>Inserts: &lt;ins&gt;</a:documentation>
    <element name="ins">
      <interleave>
        <ref name="ins.inner.flow"/>
        <ref name="ins.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="ins.elem.phrasing">
    <element name="ins">
      <interleave>
        <ref name="ins.inner.phrasing"/>
        <ref name="ins.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="ins.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <ref name="edit.attrs.cite"/>
      </optional>
      <optional>
        <ref name="edit.attrs.datetime"/>
      </optional>
      <optional>
        <ref name="common.attrs.aria"/>
      </optional>
    </interleave>
  </define>
  <define name="ins.inner.flow">
    <ref name="common.inner.transparent.flow"/>
  </define>
  <define name="ins.inner.phrasing">
    <ref name="common.inner.phrasing"/>
  </define>
  <define name="common.elem.flow" combine="choice">
    <ref name="ins.elem.flow"/>
  </define>
  <define name="common.elem.phrasing" combine="choice">
    <ref name="ins.elem.phrasing"/>
  </define>
  <define name="del.elem.flow">
    <a:documentation>Deletions: &lt;del&gt;</a:documentation>
    <element name="del">
      <interleave>
        <ref name="del.inner.flow"/>
        <ref name="del.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="del.elem.phrasing">
    <element name="del">
      <interleave>
        <ref name="del.inner.phrasing"/>
        <ref name="del.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="del.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <ref name="edit.attrs.cite"/>
      </optional>
      <optional>
        <ref name="edit.attrs.datetime"/>
      </optional>
      <optional>
        <ref name="common.attrs.aria"/>
      </optional>
    </interleave>
  </define>
  <define name="del.inner.flow">
    <ref name="common.inner.transparent.flow"/>
  </define>
  <define name="del.inner.phrasing">
    <ref name="common.inner.phrasing"/>
  </define>
  <define name="common.elem.flow" combine="choice">
    <ref name="del.elem.flow"/>
  </define>
  <define name="common.elem.phrasing" combine="choice">
    <ref name="del.elem.phrasing"/>
  </define>
</grammar>
`;

export const RUBY_RNG = `<?xml version="1.0" encoding="UTF-8"?>
<grammar xmlns:a="http://relaxng.org/ns/compatibility/annotations/1.0" xmlns="http://relaxng.org/ns/structure/1.0">
  <!-- ##################################################################### -->
  <define name="ruby.elem">
    <a:documentation> RELAX NG Schema for HTML 5: Ruby                                  #</a:documentation>
    <!-- ##################################################################### -->
    <a:documentation/>
    <a:documentation>Ruby Annotation: &lt;ruby&gt;</a:documentation>
    <element name="ruby">
      <interleave>
        <ref name="ruby.inner"/>
        <ref name="ruby.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="ruby.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <ref name="common.attrs.aria"/>
      </optional>
    </interleave>
  </define>
  <define name="ruby.inner">
    <oneOrMore>
      <oneOrMore>
        <choice>
          <ref name="common.inner.phrasing"/>
          <ref name="rb.elem"/>
        </choice>
      </oneOrMore>
      <choice>
        <oneOrMore>
          <choice>
            <ref name="rt.elem"/>
            <ref name="rtc.elem"/>
          </choice>
        </oneOrMore>
        <group>
          <ref name="rp.elem"/>
          <oneOrMore>
            <choice>
              <ref name="rt.elem"/>
              <ref name="rtc.elem"/>
            </choice>
            <ref name="rp.elem"/>
          </oneOrMore>
        </group>
      </choice>
    </oneOrMore>
  </define>
  <define name="common.elem.phrasing" combine="choice">
    <ref name="ruby.elem"/>
  </define>
  <define name="rt.elem">
    <a:documentation>Ruby Text: &lt;rt&gt;</a:documentation>
    <element name="rt">
      <interleave>
        <ref name="rt.inner"/>
        <ref name="rt.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="rt.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <ref name="common.attrs.aria"/>
      </optional>
    </interleave>
  </define>
  <define name="rt.inner">
    <ref name="common.inner.phrasing"/>
  </define>
  <define name="rtc.elem">
    <a:documentation>Ruby Text Container: &lt;rtc&gt;</a:documentation>
    <element name="rtc">
      <interleave>
        <ref name="rtc.inner"/>
        <ref name="rtc.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="rtc.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <ref name="common.attrs.aria"/>
      </optional>
    </interleave>
  </define>
  <define name="rtc.inner">
    <zeroOrMore>
      <choice>
        <ref name="common.inner.phrasing"/>
        <ref name="rt.elem"/>
        <ref name="rp.elem"/>
      </choice>
    </zeroOrMore>
  </define>
  <define name="rb.elem">
    <a:documentation>Ruby Base: &lt;rb&gt;</a:documentation>
    <element name="rb">
      <interleave>
        <ref name="rb.inner"/>
        <ref name="rb.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="rb.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <ref name="common.attrs.aria"/>
      </optional>
    </interleave>
  </define>
  <define name="rb.inner">
    <ref name="common.inner.phrasing"/>
  </define>
  <define name="rp.elem">
    <a:documentation>Ruby Parenthesis: &lt;rp&gt;</a:documentation>
    <element name="rp">
      <interleave>
        <ref name="rp.inner"/>
        <ref name="rp.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="rp.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <ref name="common.attrs.aria"/>
      </optional>
    </interleave>
  </define>
  <define name="rp.inner">
    <text/>
  </define>
</grammar>
`;

export const SECTIONAL_RNG = `<?xml version="1.0" encoding="UTF-8"?>
<grammar xmlns:a="http://relaxng.org/ns/compatibility/annotations/1.0" xmlns="http://relaxng.org/ns/structure/1.0">
  <!-- ##################################################################### -->
  <define name="h1.elem">
    <a:documentation> RELAX NG Schema for HTML 5: Sectioning Markup                     #</a:documentation>
    <!-- ##################################################################### -->
    <!-- ##################################################################### -->
    <a:documentation>Headings</a:documentation>
    <a:documentation>Heading (Rank 1): &lt;h1&gt;</a:documentation>
    <element name="h1">
      <interleave>
        <ref name="h1.inner"/>
        <ref name="h1.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="h1.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <choice>
          <ref name="common.attrs.aria.implicit.heading"/>
          <ref name="common.attrs.aria.role.heading"/>
          <ref name="common.attrs.aria.role.tab"/>
          <ref name="common.attrs.aria.role.presentation"/>
          <ref name="common.attrs.aria.role.doc-subtitle"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="h1.inner">
    <ref name="common.inner.phrasing"/>
  </define>
  <define name="common.elem.flow" combine="choice">
    <ref name="h1.elem"/>
  </define>
  <define name="h2.elem">
    <a:documentation>Heading (Rank 2): &lt;h2&gt;</a:documentation>
    <element name="h2">
      <interleave>
        <ref name="h2.inner"/>
        <ref name="h2.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="h2.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <choice>
          <ref name="common.attrs.aria.implicit.heading"/>
          <ref name="common.attrs.aria.role.heading"/>
          <ref name="common.attrs.aria.role.tab"/>
          <ref name="common.attrs.aria.role.presentation"/>
          <ref name="common.attrs.aria.role.doc-subtitle"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="h2.inner">
    <ref name="common.inner.phrasing"/>
  </define>
  <define name="common.elem.flow" combine="choice">
    <ref name="h2.elem"/>
  </define>
  <define name="h3.elem">
    <a:documentation>Heading (Rank 3): &lt;h3&gt;</a:documentation>
    <element name="h3">
      <interleave>
        <ref name="h3.inner"/>
        <ref name="h3.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="h3.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <choice>
          <ref name="common.attrs.aria.implicit.heading"/>
          <ref name="common.attrs.aria.role.heading"/>
          <ref name="common.attrs.aria.role.tab"/>
          <ref name="common.attrs.aria.role.presentation"/>
          <ref name="common.attrs.aria.role.doc-subtitle"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="h3.inner">
    <ref name="common.inner.phrasing"/>
  </define>
  <define name="common.elem.flow" combine="choice">
    <ref name="h3.elem"/>
  </define>
  <define name="h4.elem">
    <a:documentation>Heading (Rank 4): &lt;h4&gt;</a:documentation>
    <element name="h4">
      <interleave>
        <ref name="h4.inner"/>
        <ref name="h4.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="h4.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <choice>
          <ref name="common.attrs.aria.implicit.heading"/>
          <ref name="common.attrs.aria.role.heading"/>
          <ref name="common.attrs.aria.role.tab"/>
          <ref name="common.attrs.aria.role.presentation"/>
          <ref name="common.attrs.aria.role.doc-subtitle"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="h4.inner">
    <ref name="common.inner.phrasing"/>
  </define>
  <define name="common.elem.flow" combine="choice">
    <ref name="h4.elem"/>
  </define>
  <define name="h5.elem">
    <a:documentation>Heading (Rank 5): &lt;h5&gt;</a:documentation>
    <element name="h5">
      <interleave>
        <ref name="h5.inner"/>
        <ref name="h5.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="h5.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <choice>
          <ref name="common.attrs.aria.implicit.heading"/>
          <ref name="common.attrs.aria.role.heading"/>
          <ref name="common.attrs.aria.role.tab"/>
          <ref name="common.attrs.aria.role.presentation"/>
          <ref name="common.attrs.aria.role.doc-subtitle"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="h5.inner">
    <ref name="common.inner.phrasing"/>
  </define>
  <define name="common.elem.flow" combine="choice">
    <ref name="h5.elem"/>
  </define>
  <define name="h6.elem">
    <a:documentation>Heading (Rank 6): &lt;h6&gt;</a:documentation>
    <element name="h6">
      <interleave>
        <ref name="h6.inner"/>
        <ref name="h6.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="h6.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <choice>
          <ref name="common.attrs.aria.implicit.heading"/>
          <ref name="common.attrs.aria.role.heading"/>
          <ref name="common.attrs.aria.role.tab"/>
          <ref name="common.attrs.aria.role.presentation"/>
          <ref name="common.attrs.aria.role.doc-subtitle"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="h6.inner">
    <ref name="common.inner.phrasing"/>
  </define>
  <define name="common.elem.flow" combine="choice">
    <ref name="h6.elem"/>
  </define>
  <define name="hgroup.elem">
    <a:documentation>Heading Group: &lt;hgroup&gt;</a:documentation>
    <element name="hgroup">
      <interleave>
        <ref name="hgroup.inner"/>
        <ref name="hgroup.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="hgroup.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <ref name="common.attrs.aria"/>
      </optional>
    </interleave>
  </define>
  <define name="hgroup.inner">
    <interleave>
      <choice>
        <ref name="h1.elem"/>
        <ref name="h2.elem"/>
        <ref name="h3.elem"/>
        <ref name="h4.elem"/>
        <ref name="h5.elem"/>
        <ref name="h6.elem"/>
      </choice>
      <zeroOrMore>
        <ref name="p.elem"/>
      </zeroOrMore>
      <zeroOrMore>
        <ref name="common.elem.script-supporting"/>
      </zeroOrMore>
    </interleave>
  </define>
  <define name="common.elem.flow" combine="choice">
    <ref name="hgroup.elem"/>
  </define>
  <!-- ##################################################################### -->
  <define name="address.elem">
    <a:documentation>Section Meta</a:documentation>
    <a:documentation>Contact Info: &lt;address&gt;</a:documentation>
    <element name="address">
      <interleave>
        <ref name="address.inner"/>
        <ref name="address.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="address.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <ref name="common.attrs.aria"/>
      </optional>
    </interleave>
  </define>
  <define name="address.inner">
    <ref name="common.inner.flow"/>
  </define>
  <define name="common.elem.flow" combine="choice">
    <ref name="address.elem"/>
  </define>
  <!-- ##################################################################### -->
  <define name="blockquote.elem">
    <a:documentation>Quotations	</a:documentation>
    <a:documentation>Block Quotes: &lt;blockquote&gt;</a:documentation>
    <element name="blockquote">
      <interleave>
        <ref name="blockquote.inner"/>
        <ref name="blockquote.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="blockquote.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <ref name="blockquote.attrs.cite"/>
      </optional>
      <optional>
        <ref name="common.attrs.aria"/>
      </optional>
    </interleave>
  </define>
  <define name="blockquote.attrs.cite">
    <attribute name="cite">
      <ref name="common.data.uri"/>
    </attribute>
  </define>
  <define name="blockquote.inner">
    <ref name="common.inner.flow"/>
  </define>
  <define name="common.elem.flow" combine="choice">
    <ref name="blockquote.elem"/>
  </define>
</grammar>
`;

export const STRUCTURAL_RNG = `<?xml version="1.0" encoding="UTF-8"?>
<grammar xmlns:a="http://relaxng.org/ns/compatibility/annotations/1.0" xmlns="http://relaxng.org/ns/structure/1.0">
  <!-- ##################################################################### -->
  <define name="section.elem">
    <a:documentation> RELAX NG Schema for HTML 5: Block Markup Added in HTML5           #</a:documentation>
    <!-- ##################################################################### -->
    <a:documentation>Section: &lt;section&gt;</a:documentation>
    <element name="section">
      <interleave>
        <ref name="section.inner"/>
        <ref name="section.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="section.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <choice>
          <ref name="common.attrs.aria.implicit.region"/>
          <ref name="common.attrs.aria.role.alert"/>
          <ref name="common.attrs.aria.role.alertdialog"/>
          <ref name="common.attrs.aria.role.application"/>
          <ref name="common.attrs.aria.role.dialog"/>
          <ref name="common.attrs.aria.role.feed"/>
          <ref name="common.attrs.aria.role.group"/>
          <ref name="common.attrs.aria.role.log"/>
          <ref name="common.attrs.aria.role.marquee"/>
          <ref name="common.attrs.aria.role.presentation"/>
          <ref name="common.attrs.aria.role.region"/>
          <ref name="common.attrs.aria.role.status"/>
          <ref name="common.attrs.aria.role.tabpanel"/>
          <ref name="common.attrs.aria.landmark.banner"/>
          <ref name="common.attrs.aria.landmark.complementary"/>
          <ref name="common.attrs.aria.landmark.contentinfo"/>
          <ref name="common.attrs.aria.landmark.document"/>
          <ref name="common.attrs.aria.landmark.main"/>
          <ref name="common.attrs.aria.landmark.navigation"/>
          <ref name="common.attrs.aria.landmark.note"/>
          <ref name="common.attrs.aria.landmark.search"/>
          <ref name="common.attrs.aria.role.doc-abstract"/>
          <ref name="common.attrs.aria.role.doc-acknowledgments"/>
          <ref name="common.attrs.aria.role.doc-afterword"/>
          <ref name="common.attrs.aria.role.doc-appendix"/>
          <ref name="common.attrs.aria.role.doc-bibliography"/>
          <ref name="common.attrs.aria.role.doc-chapter"/>
          <ref name="common.attrs.aria.role.doc-colophon"/>
          <ref name="common.attrs.aria.role.doc-conclusion"/>
          <ref name="common.attrs.aria.role.doc-credit"/>
          <ref name="common.attrs.aria.role.doc-credits"/>
          <ref name="common.attrs.aria.role.doc-dedication"/>
          <ref name="common.attrs.aria.role.doc-endnotes"/>
          <ref name="common.attrs.aria.role.doc-epigraph"/>
          <ref name="common.attrs.aria.role.doc-epilogue"/>
          <ref name="common.attrs.aria.role.doc-errata"/>
          <ref name="common.attrs.aria.role.doc-example"/>
          <ref name="common.attrs.aria.role.doc-foreword"/>
          <ref name="common.attrs.aria.role.doc-glossary"/>
          <ref name="common.attrs.aria.role.doc-index"/>
          <ref name="common.attrs.aria.role.doc-introduction"/>
          <ref name="common.attrs.aria.role.doc-notice"/>
          <ref name="common.attrs.aria.role.doc-pagelist"/>
          <ref name="common.attrs.aria.role.doc-part"/>
          <ref name="common.attrs.aria.role.doc-preface"/>
          <ref name="common.attrs.aria.role.doc-prologue"/>
          <ref name="common.attrs.aria.role.doc-pullquote"/>
          <ref name="common.attrs.aria.role.doc-qna"/>
          <ref name="common.attrs.aria.role.doc-toc"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="section.inner">
    <ref name="common.inner.flow"/>
  </define>
  <define name="common.elem.flow" combine="choice">
    <ref name="section.elem"/>
  </define>
  <define name="nav.elem">
    <a:documentation>Navigational Links: &lt;nav&gt;</a:documentation>
    <element name="nav">
      <interleave>
        <ref name="nav.inner"/>
        <ref name="nav.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="nav.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <choice>
          <ref name="common.attrs.aria.implicit.navigation"/>
          <ref name="common.attrs.aria.landmark.navigation"/>
          <ref name="common.attrs.aria.role.doc-index"/>
          <ref name="common.attrs.aria.role.doc-pagelist"/>
          <ref name="common.attrs.aria.role.doc-toc"/>
          <ref name="common.attrs.aria.role.menu"/>
          <ref name="common.attrs.aria.role.menubar"/>
          <ref name="common.attrs.aria.role.none"/>
          <ref name="common.attrs.aria.role.presentation"/>
          <ref name="common.attrs.aria.role.tablist"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="nav.inner">
    <ref name="common.inner.flow"/>
  </define>
  <define name="common.elem.flow" combine="choice">
    <ref name="nav.elem"/>
  </define>
  <define name="article.elem">
    <a:documentation>Article: &lt;article&gt;</a:documentation>
    <element name="article">
      <interleave>
        <ref name="article.inner"/>
        <ref name="article.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="article.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <choice>
          <ref name="common.attrs.aria.implicit.article"/>
          <ref name="common.attrs.aria.landmark.article"/>
          <ref name="common.attrs.aria.landmark.document"/>
          <ref name="common.attrs.aria.role.application"/>
          <ref name="common.attrs.aria.landmark.main"/>
          <ref name="common.attrs.aria.role.feed"/>
          <ref name="common.attrs.aria.role.region"/>
          <ref name="common.attrs.aria.role.presentation"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="article.inner">
    <ref name="common.inner.flow"/>
  </define>
  <define name="common.elem.flow" combine="choice">
    <ref name="article.elem"/>
  </define>
  <define name="aside.elem">
    <a:documentation>Tangential Aside: &lt;aside&gt;</a:documentation>
    <element name="aside">
      <interleave>
        <ref name="aside.inner"/>
        <ref name="aside.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="aside.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <choice>
          <ref name="common.attrs.aria.implicit.complementary"/>
          <ref name="common.attrs.aria.landmark.note"/>
          <ref name="common.attrs.aria.landmark.complementary"/>
          <ref name="common.attrs.aria.landmark.search"/>
          <ref name="common.attrs.aria.role.feed"/>
          <ref name="common.attrs.aria.role.region"/>
          <ref name="common.attrs.aria.role.presentation"/>
          <ref name="common.attrs.aria.role.doc-dedication"/>
          <ref name="common.attrs.aria.role.doc-example"/>
          <ref name="common.attrs.aria.role.doc-footnote"/>
          <ref name="common.attrs.aria.role.doc-glossary"/>
          <ref name="common.attrs.aria.role.doc-pullquote"/>
          <ref name="common.attrs.aria.role.doc-tip"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="aside.inner">
    <ref name="common.inner.flow"/>
  </define>
  <define name="common.elem.flow" combine="choice">
    <ref name="aside.elem"/>
  </define>
  <define name="header.elem">
    <a:documentation>Header: &lt;header&gt;</a:documentation>
    <element name="header">
      <interleave>
        <ref name="header.inner"/>
        <ref name="header.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="header.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <choice>
          <ref name="common.attrs.aria.implicit.banner"/>
          <ref name="common.attrs.aria.landmark.banner"/>
          <ref name="common.attrs.aria.role.group"/>
          <ref name="common.attrs.aria.role.presentation"/>
          <ref name="common.attrs.aria.role.doc-footnote"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="header.inner">
    <ref name="common.inner.flow"/>
  </define>
  <define name="common.elem.flow" combine="choice">
    <ref name="header.elem"/>
  </define>
  <define name="footer.elem">
    <a:documentation>Footer: &lt;footer&gt;</a:documentation>
    <element name="footer">
      <interleave>
        <ref name="footer.inner"/>
        <ref name="footer.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="footer.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <choice>
          <ref name="common.attrs.aria.implicit.contentinfo"/>
          <ref name="common.attrs.aria.landmark.contentinfo"/>
          <ref name="common.attrs.aria.role.group"/>
          <ref name="common.attrs.aria.role.presentation"/>
          <ref name="common.attrs.aria.role.doc-footnote"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="footer.inner">
    <ref name="common.inner.flow"/>
  </define>
  <define name="common.elem.flow" combine="choice">
    <ref name="footer.elem"/>
  </define>
  <define name="main.elem">
    <a:documentation>main content: &lt;main&gt;</a:documentation>
    <element name="main">
      <interleave>
        <ref name="main.inner"/>
        <ref name="main.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="main.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <choice>
          <ref name="common.attrs.aria.implicit.main"/>
          <ref name="common.attrs.aria.landmark.main"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="main.inner">
    <ref name="common.inner.flow"/>
  </define>
  <define name="common.elem.flow" combine="choice">
    <ref name="main.elem"/>
  </define>
  <define name="search.elem">
    <a:documentation>Search: &lt;search&gt;</a:documentation>
    <element name="search">
      <interleave>
        <ref name="search.inner"/>
        <ref name="search.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="search.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <choice>
          <ref name="common.attrs.aria.implicit.search"/>
          <ref name="common.attrs.aria.landmark.search"/>
          <ref name="common.attrs.aria.landmark.form"/>
          <ref name="common.attrs.aria.role.group"/>
          <ref name="common.attrs.aria.role.none"/>
          <ref name="common.attrs.aria.role.presentation"/>
          <ref name="common.attrs.aria.role.region"/>
          <ref name="common.attrs.aria.role.search"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="search.inner">
    <ref name="common.inner.flow"/>
  </define>
  <define name="common.elem.flow" combine="choice">
    <ref name="search.elem"/>
  </define>
</grammar>
`;

export const TABLES_RNG = `<?xml version="1.0" encoding="UTF-8"?>
<grammar xmlns:a="http://relaxng.org/ns/compatibility/annotations/1.0" xmlns="http://relaxng.org/ns/structure/1.0" datatypeLibrary="http://www.w3.org/2001/XMLSchema-datatypes">
  <!-- ##################################################################### -->
  <define name="tables.attrs.alignment">
    <a:documentation> RELAX NG Schema for HTML 5: Tables                                #</a:documentation>
    <!-- ##################################################################### -->
    <!-- ##################################################################### -->
    <a:documentation>Table Envelope</a:documentation>
    <a:documentation>Table Datatypes</a:documentation>
    <!--
      	tables.data.multilen =
      		(	common.data.integer.positive
      		|	common.data.percent
      		|	xsd:token { pattern = "[0-9]+\\*" } #REVISIT should this one be string? 
      		)
    -->
    <a:documentation>Table Alignment Attributes</a:documentation>
    <interleave>
      <optional>
        <ref name="tables.attrs.align"/>
      </optional>
      <optional>
        <ref name="tables.attrs.char"/>
      </optional>
      <optional>
        <ref name="tables.attrs.valign"/>
      </optional>
    </interleave>
  </define>
  <define name="tables.attrs.align">
    <attribute name="align">
      <choice>
        <value>left</value>
        <value>center</value>
        <value>right</value>
        <value>justify</value>
        <value>char</value>
      </choice>
    </attribute>
  </define>
  <define name="tables.attrs.char">
    <attribute name="char">
      <data type="string">
        <param name="pattern">.</param>
      </data>
    </attribute>
  </define>
  <define name="tables.attrs.valign">
    <attribute name="valign">
      <choice>
        <value>top</value>
        <value>middle</value>
        <value>bottom</value>
        <value>baseline</value>
      </choice>
    </attribute>
  </define>
  <define name="table.elem">
    <a:documentation>Data Table: &lt;table&gt;</a:documentation>
    <element name="table">
      <interleave>
        <ref name="table.inner"/>
        <ref name="table.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="table.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <choice>
          <ref name="common.attrs.aria.implicit.table"/>
          <ref name="common.attrs.aria"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="table.inner">
    <optional>
      <ref name="caption.elem"/>
    </optional>
    <zeroOrMore>
      <ref name="common.elem.script-supporting"/>
    </zeroOrMore>
    <zeroOrMore>
      <ref name="colgroup.elem"/>
    </zeroOrMore>
    <zeroOrMore>
      <ref name="common.elem.script-supporting"/>
    </zeroOrMore>
    <optional>
      <ref name="thead.elem"/>
    </optional>
    <zeroOrMore>
      <ref name="common.elem.script-supporting"/>
    </zeroOrMore>
    <group>
      <choice>
        <zeroOrMore>
          <ref name="tbody.elem"/>
        </zeroOrMore>
        <oneOrMore>
          <ref name="tr.elem"/>
        </oneOrMore>
      </choice>
      <zeroOrMore>
        <ref name="common.elem.script-supporting"/>
      </zeroOrMore>
      <optional>
        <ref name="tfoot.elem"/>
      </optional>
    </group>
  </define>
  <define name="common.elem.flow" combine="choice">
    <ref name="table.elem"/>
  </define>
  <define name="caption.elem">
    <a:documentation>Table Caption: &lt;caption&gt;</a:documentation>
    <element name="caption">
      <interleave>
        <ref name="caption.inner"/>
        <ref name="caption.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="caption.attrs">
    <ref name="common.attrs"/>
  </define>
  <define name="caption.inner">
    <ref name="common.inner.flow"/>
  </define>
  <!-- ##################################################################### -->
  <define name="colgroup.elem">
    <a:documentation>Table Super Structure</a:documentation>
    <a:documentation>Table Column Group: &lt;colgroup&gt;</a:documentation>
    <element name="colgroup">
      <interleave>
        <ref name="colgroup.inner"/>
        <ref name="colgroup.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="colgroup.attrs">
    <ref name="common.attrs"/>
  </define>
  <define name="colgroup.attrs.span">
    <attribute name="span">
      <ref name="common.data.integer.positive"/>
    </attribute>
  </define>
  <define name="colgroup.inner">
    <choice>
      <interleave>
        <zeroOrMore>
          <ref name="col.elem"/>
        </zeroOrMore>
        <zeroOrMore>
          <ref name="common.elem.script-supporting"/>
        </zeroOrMore>
      </interleave>
      <optional>
        <ref name="colgroup.attrs.span"/>
      </optional>
    </choice>
  </define>
  <define name="col.elem">
    <a:documentation>Table Column: &lt;col&gt;</a:documentation>
    <element name="col">
      <interleave>
        <ref name="col.inner"/>
        <ref name="col.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="col.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <ref name="col.attrs.span"/>
      </optional>
    </interleave>
  </define>
  <define name="col.attrs.span">
    <attribute name="span">
      <ref name="common.data.integer.positive"/>
    </attribute>
  </define>
  <define name="col.inner">
    <empty/>
  </define>
  <define name="thead.elem">
    <a:documentation>Table Header Row Group</a:documentation>
    <element name="thead">
      <interleave>
        <ref name="thead.inner"/>
        <ref name="thead.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="thead.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <choice>
          <ref name="common.attrs.aria.implicit.rowgroup"/>
          <ref name="common.attrs.aria"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="thead.inner">
    <interleave>
      <zeroOrMore>
        <ref name="tr.elem"/>
      </zeroOrMore>
      <zeroOrMore>
        <ref name="common.elem.script-supporting"/>
      </zeroOrMore>
    </interleave>
  </define>
  <define name="tfoot.elem">
    <a:documentation>Table Footer Row Group</a:documentation>
    <element name="tfoot">
      <interleave>
        <ref name="tfoot.inner"/>
        <ref name="tfoot.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="tfoot.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <choice>
          <ref name="common.attrs.aria.implicit.rowgroup"/>
          <ref name="common.attrs.aria"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="tfoot.inner">
    <interleave>
      <zeroOrMore>
        <ref name="tr.elem"/>
      </zeroOrMore>
      <zeroOrMore>
        <ref name="common.elem.script-supporting"/>
      </zeroOrMore>
    </interleave>
  </define>
  <define name="tbody.elem">
    <a:documentation>Table Row Group</a:documentation>
    <element name="tbody">
      <interleave>
        <ref name="tbody.inner"/>
        <ref name="tbody.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="tbody.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <choice>
          <ref name="common.attrs.aria.implicit.rowgroup"/>
          <ref name="common.attrs.aria"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="tbody.inner">
    <interleave>
      <zeroOrMore>
        <ref name="tr.elem"/>
      </zeroOrMore>
      <zeroOrMore>
        <ref name="common.elem.script-supporting"/>
      </zeroOrMore>
    </interleave>
  </define>
  <!-- ##################################################################### -->
  <define name="tr.elem">
    <a:documentation>Cell Structure</a:documentation>
    <a:documentation>Table Row</a:documentation>
    <element name="tr">
      <interleave>
        <ref name="tr.inner"/>
        <ref name="tr.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="tr.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <choice>
          <ref name="common.attrs.aria.implicit.row"/>
          <ref name="common.attrs.aria"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="tr.inner">
    <zeroOrMore>
      <choice>
        <ref name="td.elem"/>
        <ref name="th.elem"/>
        <ref name="common.elem.script-supporting"/>
      </choice>
    </zeroOrMore>
  </define>
  <define name="tables.attrs.cell-structure">
    <a:documentation>Common Table Cell Attributes</a:documentation>
    <interleave>
      <optional>
        <ref name="tables.attrs.colspan"/>
      </optional>
      <optional>
        <ref name="tables.attrs.rowspan"/>
      </optional>
    </interleave>
  </define>
  <define name="tables.attrs.colspan">
    <attribute name="colspan">
      <ref name="common.data.integer.positive"/>
    </attribute>
  </define>
  <define name="tables.attrs.rowspan">
    <attribute name="rowspan">
      <ref name="common.data.integer.non-negative"/>
    </attribute>
  </define>
  <define name="tables.attrs.access-headers">
    <optional>
      <ref name="tables.attrs.headers"/>
    </optional>
  </define>
  <define name="tables.attrs.headers">
    <attribute name="headers">
      <ref name="common.data.idrefs"/>
    </attribute>
  </define>
  <define name="tables.attrs.define-headers">
    <optional>
      <ref name="tables.attrs.scope"/>
    </optional>
  </define>
  <define name="tables.attrs.scope">
    <attribute name="scope">
      <choice>
        <value>row</value>
        <value>col</value>
        <value>rowgroup</value>
        <value>colgroup</value>
      </choice>
    </attribute>
  </define>
  <define name="tables.attrs.abbr">
    <attribute name="abbr"/>
  </define>
  <define name="td.elem">
    <a:documentation>Table Data Cell: &lt;td&gt;</a:documentation>
    <element name="td">
      <interleave>
        <ref name="td.inner"/>
        <ref name="td.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="td.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <ref name="tables.attrs.cell-structure"/>
      <optional>
        <ref name="tables.attrs.headers"/>
      </optional>
      <optional>
        <!-- 		&	tables.attrs.alignment -->
        <choice>
          <ref name="common.attrs.aria.implicit.cell"/>
          <ref name="common.attrs.aria"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="td.inner">
    <ref name="common.inner.flow"/>
  </define>
  <define name="th.elem">
    <a:documentation>Table Header Cells: &lt;th&gt;</a:documentation>
    <element name="th">
      <interleave>
        <ref name="th.inner"/>
        <ref name="th.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="th.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <ref name="tables.attrs.cell-structure"/>
      <optional>
        <ref name="tables.attrs.scope"/>
      </optional>
      <optional>
        <ref name="tables.attrs.headers"/>
      </optional>
      <!-- 		&	tables.attrs.alignment -->
      <choice>
        <optional>
          <ref name="common.attrs.aria"/>
        </optional>
        <ref name="common.attrs.aria.implicit.column-or-row-header"/>
      </choice>
    </interleave>
  </define>
  <define name="th.inner">
    <ref name="common.inner.flow"/>
  </define>
</grammar>
`;

export const WEB_COMPONENTS_RNG = `<?xml version="1.0" encoding="UTF-8"?>
<grammar xmlns:a="http://relaxng.org/ns/compatibility/annotations/1.0" xmlns:c="http://n.validator.nu/custom-elements/" xmlns="http://relaxng.org/ns/structure/1.0" datatypeLibrary="">
  <!-- ##################################################################### -->
  <define name="template.elem">
    <a:documentation> RELAX NG Schema for HTML 5: Web Components</a:documentation>
    <!-- ##################################################################### -->
    <a:documentation>Templates: &lt;template&gt;</a:documentation>
    <element name="template">
      <interleave>
        <ref name="template.inner"/>
        <ref name="template.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="template.attrs">
    <ref name="common.attrs"/>
  </define>
  <define name="template.attrs.shadowrootmode">
    <attribute name="shadowrootmode">
      <choice>
        <value>open</value>
        <value>closed</value>
      </choice>
    </attribute>
  </define>
  <define name="template.attrs.shadowrootdelegatesfocus">
    <attribute name="shadowrootdelegatesfocus">
      <choice>
        <value>true</value>
        <value>false</value>
      </choice>
    </attribute>
  </define>
  <define name="template.attrs.shadowrootclonable">
    <attribute name="shadowrootclonable">
      <choice>
        <value>true</value>
        <value>false</value>
      </choice>
    </attribute>
  </define>
  <define name="template.attrs.shadowrootserializable">
    <attribute name="shadowrootserializable">
      <choice>
        <value>true</value>
        <value>false</value>
      </choice>
    </attribute>
  </define>
  <define name="template.attrs.shadowrootcustomelementregistry">
    <attribute name="shadowrootcustomelementregistry">
      <choice>
        <value>true</value>
        <value>false</value>
      </choice>
    </attribute>
  </define>
  <define name="template.inner">
    <choice>
      <ref name="common.inner.metadata"/>
      <ref name="common.inner.flow"/>
      <ref name="ol.inner"/>
      <ref name="ul.inner"/>
      <ref name="dl.inner"/>
      <ref name="figure.inner"/>
      <ref name="ruby.inner"/>
      <ref name="object.inner.flow"/>
      <ref name="object.inner.phrasing"/>
      <ref name="video.inner.flow"/>
      <ref name="video.inner.phrasing"/>
      <ref name="audio.inner.flow"/>
      <ref name="audio.inner.phrasing"/>
      <ref name="table.inner"/>
      <ref name="colgroup.inner"/>
      <ref name="thead.inner"/>
      <ref name="tbody.inner"/>
      <ref name="tfoot.inner"/>
      <ref name="tr.inner"/>
      <ref name="fieldset.inner"/>
      <ref name="select.inner"/>
      <ref name="details.inner"/>
    </choice>
  </define>
  <define name="common.elem.metadata" combine="choice">
    <ref name="template.elem"/>
  </define>
  <define name="common.elem.phrasing" combine="choice">
    <ref name="template.elem"/>
  </define>
  <define name="common.elem.script-supporting" combine="choice">
    <ref name="template.elem"/>
  </define>
  <!-- also allow <script> wherever <template> is allowed -->
  <define name="common.elem.script-supporting" combine="choice">
    <ref name="script.elem"/>
  </define>
  <define name="common.elem.flow" combine="choice">
    <a:documentation>Custom elements: &lt;foo-bar&gt;</a:documentation>
    <element>
      <nsName ns="http://n.validator.nu/custom-elements/"/>
      <interleave>
        <ref name="common.inner.transparent.flow"/>
        <zeroOrMore>
          <ref name="attr.any"/>
        </zeroOrMore>
      </interleave>
    </element>
  </define>
  <define name="common.elem.phrasing" combine="choice">
    <element>
      <nsName ns="http://n.validator.nu/custom-elements/"/>
      <interleave>
        <ref name="common.inner.phrasing"/>
        <zeroOrMore>
          <ref name="attr.any"/>
        </zeroOrMore>
      </interleave>
    </element>
  </define>
  <define name="attr.any">
    <attribute>
      <anyName/>
    </attribute>
  </define>
  <define name="common.attrs.other" combine="interleave">
    <a:documentation>The "is" attribute</a:documentation>
    <optional>
      <attribute name="is">
        <ref name="common.data.custom.element.name"/>
      </attribute>
    </optional>
  </define>
  <define name="slot.elem.flow">
    <a:documentation>Slot: &lt;slot&gt;</a:documentation>
    <element name="slot">
      <interleave>
        <ref name="slot.inner.flow"/>
        <ref name="slot.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="slot.elem.phrasing">
    <element name="slot">
      <interleave>
        <ref name="slot.inner.phrasing"/>
        <ref name="slot.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="slot.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <ref name="slot.attrs.name"/>
      </optional>
      <optional>
        <ref name="common.attrs.aria"/>
      </optional>
    </interleave>
  </define>
  <define name="slot.attrs.name">
    <attribute name="name">
      <data type="string"/>
    </attribute>
  </define>
  <define name="slot.inner.flow">
    <ref name="common.inner.transparent.flow"/>
  </define>
  <define name="slot.inner.phrasing">
    <ref name="common.inner.phrasing"/>
  </define>
  <define name="common.elem.flow" combine="choice">
    <ref name="slot.elem.flow"/>
  </define>
  <define name="common.elem.phrasing" combine="choice">
    <ref name="slot.elem.phrasing"/>
  </define>
  <define name="common.attrs.other" combine="interleave">
    <a:documentation>The "slot" attribute</a:documentation>
    <optional>
      <attribute name="slot"/>
    </optional>
  </define>
</grammar>
`;

export const WEB_FORMS_RNG = `<?xml version="1.0" encoding="UTF-8"?>
<grammar xmlns:a="http://relaxng.org/ns/compatibility/annotations/1.0" xmlns="http://relaxng.org/ns/structure/1.0" datatypeLibrary="">
  <!-- ##################################################################### -->
  <define name="common-form.attrs">
    <a:documentation> RELAX NG Schema for HTML 5: Web Forms 1.0 markup                  #</a:documentation>
    <!-- ##################################################################### -->
    <a:documentation>Shared attributes for form controls</a:documentation>
    <interleave>
      <optional>
        <ref name="common-form.attrs.name"/>
      </optional>
      <optional>
        <ref name="common-form.attrs.disabled"/>
      </optional>
    </interleave>
  </define>
  <define name="common-form.attrs.name">
    <attribute name="name">
      <ref name="form.data.nonemptystring"/>
    </attribute>
  </define>
  <define name="common-form.attrs.disabled">
    <attribute name="disabled">
      <choice>
        <value>disabled</value>
        <value/>
      </choice>
    </attribute>
  </define>
  <define name="shared-form.attrs.readonly">
    <attribute name="readonly">
      <choice>
        <value>readonly</value>
        <value/>
      </choice>
    </attribute>
  </define>
  <define name="shared-form.attrs.maxlength">
    <attribute name="maxlength">
      <ref name="common.data.integer.non-negative"/>
    </attribute>
  </define>
  <define name="shared-form.attrs.size">
    <attribute name="size">
      <ref name="common.data.integer.positive"/>
    </attribute>
  </define>
  <!-- REVISIT tabindex goes in common.attrs -->
  <define name="input.attrs.checked">
    <a:documentation>Shared attributes for &lt;input&gt;</a:documentation>
    <attribute name="checked">
      <choice>
        <value>checked</value>
        <value/>
      </choice>
    </attribute>
  </define>
  <define name="input.text.elem">
    <a:documentation>Text Field: &lt;input type='text'&gt;</a:documentation>
    <element name="input">
      <ref name="input.text.attrs"/>
    </element>
  </define>
  <define name="input.text.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <ref name="common-form.attrs"/>
      <optional>
        <ref name="input.text.attrs.type"/>
      </optional>
      <optional>
        <ref name="shared-form.attrs.maxlength"/>
      </optional>
      <optional>
        <ref name="shared-form.attrs.readonly"/>
      </optional>
      <optional>
        <ref name="shared-form.attrs.size"/>
      </optional>
      <optional>
        <ref name="input.text.attrs.value"/>
      </optional>
      <optional>
        <choice>
          <ref name="common.attrs.aria.implicit.textbox"/>
          <ref name="common.attrs.aria.role.textbox"/>
          <ref name="common.attrs.aria.role.combobox"/>
          <ref name="common.attrs.aria.role.searchbox"/>
          <ref name="common.attrs.aria.role.spinbutton"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="input.text.attrs.type">
    <attribute name="type">
      <value>text</value>
    </attribute>
  </define>
  <define name="input.text.attrs.value">
    <attribute name="value">
      <ref name="form.data.stringwithoutlinebreaks"/>
    </attribute>
  </define>
  <define name="input.elem">
    <ref name="input.text.elem"/>
  </define>
  <define name="input.password.elem">
    <a:documentation>Password Field: &lt;input type='password'&gt;</a:documentation>
    <element name="input">
      <ref name="input.password.attrs"/>
    </element>
  </define>
  <define name="input.password.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <ref name="common-form.attrs"/>
      <ref name="input.password.attrs.type"/>
      <optional>
        <ref name="shared-form.attrs.maxlength"/>
      </optional>
      <optional>
        <ref name="shared-form.attrs.readonly"/>
      </optional>
      <optional>
        <ref name="shared-form.attrs.size"/>
      </optional>
      <optional>
        <ref name="input.password.attrs.value"/>
      </optional>
    </interleave>
  </define>
  <define name="input.password.attrs.type">
    <attribute name="type">
      <value>password</value>
    </attribute>
  </define>
  <define name="input.password.attrs.value">
    <attribute name="value">
      <ref name="form.data.stringwithoutlinebreaks"/>
    </attribute>
  </define>
  <define name="input.elem" combine="choice">
    <ref name="input.password.elem"/>
  </define>
  <define name="input.checkbox.elem">
    <a:documentation>Checkbox: &lt;input type='checkbox'&gt;</a:documentation>
    <element name="input">
      <ref name="input.checkbox.attrs"/>
    </element>
  </define>
  <define name="input.checkbox.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <ref name="common-form.attrs"/>
      <ref name="input.checkbox.attrs.type"/>
      <optional>
        <ref name="input.attrs.checked"/>
      </optional>
      <optional>
        <ref name="input.checkbox.attrs.value"/>
      </optional>
      <optional>
        <choice>
          <ref name="common.attrs.aria.implicit.checkbox"/>
          <ref name="common.attrs.aria.role.checkbox"/>
          <ref name="common.attrs.aria.role.button"/>
          <ref name="common.attrs.aria.role.menuitemcheckbox-checked-not-required"/>
          <ref name="common.attrs.aria.role.option"/>
          <ref name="common.attrs.aria.role.switch-checked-not-required"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="input.checkbox.attrs.type">
    <attribute name="type">
      <value>checkbox</value>
    </attribute>
  </define>
  <define name="input.checkbox.attrs.value">
    <attribute name="value">
      <data type="string"/>
      <!-- REVISIT require non-empty value? -->
    </attribute>
  </define>
  <define name="input.elem" combine="choice">
    <ref name="input.checkbox.elem"/>
  </define>
  <define name="input.radio.elem">
    <a:documentation>Radiobutton: &lt;input type='radio'&gt;</a:documentation>
    <element name="input">
      <ref name="input.radio.attrs"/>
    </element>
  </define>
  <define name="input.radio.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <ref name="common-form.attrs"/>
      <ref name="input.radio.attrs.type"/>
      <optional>
        <ref name="input.attrs.checked"/>
      </optional>
      <optional>
        <ref name="input.radio.attrs.value"/>
      </optional>
      <optional>
        <choice>
          <ref name="common.attrs.aria.implicit.radio"/>
          <ref name="common.attrs.aria.role.radio"/>
          <ref name="common.attrs.aria.role.menuitemradio-checked-not-required"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="input.radio.attrs.type">
    <attribute name="type">
      <value>radio</value>
    </attribute>
  </define>
  <define name="input.radio.attrs.value">
    <attribute name="value">
      <data type="string"/>
      <!-- REVISIT require non-empty value? -->
    </attribute>
  </define>
  <define name="input.elem" combine="choice">
    <ref name="input.radio.elem"/>
  </define>
  <define name="input.button.elem">
    <a:documentation>Scripting Hook Button: &lt;input type='button'&gt;</a:documentation>
    <element name="input">
      <ref name="input.button.attrs"/>
    </element>
  </define>
  <define name="input.button.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <ref name="common-form.attrs"/>
      <ref name="input.button.attrs.type"/>
      <optional>
        <ref name="input.button.attrs.value"/>
      </optional>
      <ref name="button.attrs.popover-controls"/>
      <optional>
        <choice>
          <ref name="common.attrs.aria.implicit.button"/>
          <ref name="common.attrs.aria.role.button"/>
          <ref name="common.attrs.aria.role.checkbox"/>
          <ref name="common.attrs.aria.role.combobox"/>
          <ref name="common.attrs.aria.role.link"/>
          <ref name="common.attrs.aria.role.menuitem"/>
          <ref name="common.attrs.aria.role.menuitemcheckbox"/>
          <ref name="common.attrs.aria.role.menuitemradio"/>
          <ref name="common.attrs.aria.role.option"/>
          <ref name="common.attrs.aria.role.radio"/>
          <ref name="common.attrs.aria.role.switch"/>
          <ref name="common.attrs.aria.role.tab"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="input.button.attrs.type">
    <attribute name="type">
      <value>button</value>
    </attribute>
  </define>
  <define name="input.button.attrs.value">
    <attribute name="value">
      <data type="string"/>
      <!-- REVISIT require non-empty value? -->
    </attribute>
  </define>
  <define name="input.elem" combine="choice">
    <ref name="input.button.elem"/>
  </define>
  <!-- REVISIT should this be enabled by a scripting module only? -->
  <define name="input.submit.elem">
    <a:documentation>Submit Button: &lt;input type='submit'&gt;</a:documentation>
    <element name="input">
      <ref name="input.submit.attrs"/>
    </element>
  </define>
  <define name="input.submit.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <ref name="common-form.attrs"/>
      <ref name="input.submit.attrs.type"/>
      <optional>
        <ref name="input.submit.attrs.value"/>
      </optional>
      <ref name="button.attrs.popover-controls"/>
      <optional>
        <choice>
          <ref name="common.attrs.aria.implicit.button"/>
          <ref name="common.attrs.aria.role.button"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="input.submit.attrs.type">
    <attribute name="type">
      <value>submit</value>
    </attribute>
  </define>
  <define name="input.submit.attrs.value">
    <attribute name="value">
      <data type="string"/>
      <!-- REVISIT require non-empty value? -->
    </attribute>
  </define>
  <define name="input.elem" combine="choice">
    <ref name="input.submit.elem"/>
  </define>
  <define name="input.reset.elem">
    <a:documentation>Reset Button: &lt;input type='reset'&gt;</a:documentation>
    <element name="input">
      <ref name="input.reset.attrs"/>
    </element>
  </define>
  <define name="input.reset.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <ref name="common-form.attrs"/>
      <ref name="input.reset.attrs.type"/>
      <optional>
        <ref name="input.reset.attrs.value"/>
      </optional>
      <ref name="button.attrs.popover-controls"/>
      <optional>
        <choice>
          <ref name="common.attrs.aria.implicit.button"/>
          <ref name="common.attrs.aria.role.button"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="input.reset.attrs.type">
    <attribute name="type">
      <value>reset</value>
    </attribute>
  </define>
  <define name="input.reset.attrs.value">
    <attribute name="value">
      <data type="string"/>
      <!-- REVISIT require non-empty value? -->
    </attribute>
  </define>
  <define name="input.elem" combine="choice">
    <ref name="input.reset.elem"/>
  </define>
  <!-- REVISIT does reset make sense outside a form? -->
  <define name="input.file.elem">
    <a:documentation>File Upload: &lt;input type='file'&gt;</a:documentation>
    <element name="input">
      <ref name="input.file.attrs"/>
    </element>
  </define>
  <define name="input.file.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <ref name="common-form.attrs"/>
      <ref name="input.file.attrs.type"/>
      <optional>
        <ref name="input.file.attrs.accept"/>
      </optional>
    </interleave>
  </define>
  <define name="input.file.attrs.type">
    <attribute name="type">
      <value>file</value>
    </attribute>
  </define>
  <define name="input.file.attrs.accept">
    <attribute name="accept">
      <ref name="form.data.mimetypelist"/>
    </attribute>
  </define>
  <define name="input.elem" combine="choice">
    <ref name="input.file.elem"/>
  </define>
  <define name="input.hidden.elem">
    <a:documentation>Hidden String: &lt;input type='hidden'&gt;</a:documentation>
    <element name="input">
      <ref name="input.hidden.attrs"/>
    </element>
  </define>
  <define name="input.hidden.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <ref name="common-form.attrs"/>
      <ref name="input.hidden.attrs.type"/>
      <optional>
        <ref name="input.hidden.attrs.value"/>
      </optional>
    </interleave>
  </define>
  <define name="input.hidden.attrs.type">
    <attribute name="type">
      <value>hidden</value>
    </attribute>
  </define>
  <define name="input.hidden.attrs.value">
    <attribute name="value">
      <data type="string"/>
    </attribute>
  </define>
  <define name="input.elem" combine="choice">
    <ref name="input.hidden.elem"/>
  </define>
  <define name="input.image.elem">
    <a:documentation>Image Submit Button: &lt;input type='image'&gt;</a:documentation>
    <element name="input">
      <ref name="input.image.attrs"/>
    </element>
  </define>
  <define name="input.image.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <ref name="common-form.attrs"/>
      <ref name="input.image.attrs.type"/>
      <ref name="input.image.attrs.alt"/>
      <optional>
        <ref name="input.image.attrs.src"/>
      </optional>
      <ref name="button.attrs.popover-controls"/>
      <optional>
        <choice>
          <ref name="common.attrs.aria.implicit.button"/>
          <ref name="common.attrs.aria.role.button"/>
          <ref name="common.attrs.aria.role.link"/>
          <ref name="common.attrs.aria.role.menuitem"/>
          <ref name="common.attrs.aria.role.menuitemcheckbox"/>
          <ref name="common.attrs.aria.role.menuitemradio"/>
          <ref name="common.attrs.aria.role.radio"/>
          <ref name="common.attrs.aria.role.switch"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="input.image.attrs.type">
    <attribute name="type">
      <value>image</value>
    </attribute>
  </define>
  <define name="input.image.attrs.alt">
    <attribute name="alt">
      <ref name="form.data.nonemptystring"/>
    </attribute>
  </define>
  <define name="input.image.attrs.src">
    <attribute name="src">
      <ref name="common.data.uri.non-empty"/>
    </attribute>
  </define>
  <define name="input.elem" combine="choice">
    <ref name="input.image.elem"/>
  </define>
  <define name="common.elem.phrasing" combine="choice">
    <ref name="input.elem"/>
  </define>
  <define name="textarea.elem">
    <a:documentation>Text Area: &lt;textarea&gt;</a:documentation>
    <element name="textarea">
      <interleave>
        <ref name="textarea.inner"/>
        <ref name="textarea.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="textarea.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <ref name="common-form.attrs"/>
      <optional>
        <ref name="shared-form.attrs.readonly"/>
      </optional>
      <ref name="textarea.attrs.rows-and-cols-wf1"/>
      <optional>
        <choice>
          <ref name="common.attrs.aria.implicit.textbox"/>
          <ref name="common.attrs.aria.role.textbox"/>
        </choice>
      </optional>
    </interleave>
    <!-- FIXME onfocus, onblur, onselect,onchange -->
  </define>
  <!-- This is ugly. -->
  <define name="textarea.attrs.rows-and-cols-wf1">
    <ref name="textarea.attrs.rows-and-cols-wf1.inner"/>
  </define>
  <define name="textarea.attrs.rows-and-cols-wf1.inner">
    <interleave>
      <ref name="textarea.attrs.cols"/>
      <ref name="textarea.attrs.rows"/>
    </interleave>
  </define>
  <define name="textarea.attrs.cols">
    <attribute name="cols">
      <ref name="common.data.integer.positive"/>
    </attribute>
  </define>
  <define name="textarea.attrs.rows">
    <attribute name="rows">
      <ref name="common.data.integer.positive"/>
    </attribute>
  </define>
  <define name="textarea.inner">
    <text/>
  </define>
  <define name="common.elem.phrasing" combine="choice">
    <ref name="textarea.elem"/>
  </define>
  <!--
    Due to limitations with interleave, handling single/multiple selection
    enforcement in RELAX NG seems to be possible but really awkward.
    Tried it. Leaving it to Schematron.
  -->
  <define name="option.elem">
    <a:documentation>Select menu option: &lt;option selected&gt;</a:documentation>
    <element name="option">
      <interleave>
        <ref name="option.inner"/>
        <ref name="option.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="option.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <ref name="common-form.attrs.disabled"/>
      </optional>
      <optional>
        <ref name="option.attrs.selected"/>
      </optional>
      <optional>
        <ref name="option.attrs.label"/>
      </optional>
      <optional>
        <ref name="option.attrs.value"/>
      </optional>
      <optional>
        <choice>
          <ref name="common.attrs.aria.implicit.option"/>
          <ref name="common.attrs.aria.role.option"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="option.attrs.selected">
    <attribute name="selected">
      <choice>
        <value>selected</value>
        <value/>
      </choice>
    </attribute>
  </define>
  <define name="option.attrs.label">
    <attribute name="label">
      <ref name="form.data.nonemptystring"/>
    </attribute>
  </define>
  <define name="option.attrs.value">
    <attribute name="value">
      <data type="string"/>
    </attribute>
  </define>
  <define name="option.inner">
    <text/>
  </define>
  <define name="optgroup.elem">
    <a:documentation>Option Group: &lt;optgroup&gt;</a:documentation>
    <element name="optgroup">
      <interleave>
        <ref name="optgroup.inner"/>
        <ref name="optgroup.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="optgroup.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <ref name="optgroup.attrs.label"/>
      <optional>
        <ref name="common-form.attrs.disabled"/>
      </optional>
      <optional>
        <choice>
          <ref name="common.attrs.aria.implicit.group"/>
          <ref name="common.attrs.aria.role.group"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="optgroup.attrs.label">
    <attribute name="label">
      <data type="string"/>
    </attribute>
  </define>
  <define name="optgroup.inner">
    <interleave>
      <zeroOrMore>
        <ref name="option.elem"/>
      </zeroOrMore>
      <zeroOrMore>
        <ref name="common.elem.script-supporting"/>
      </zeroOrMore>
    </interleave>
  </define>
  <define name="select.elem">
    <a:documentation>Selection Menu: &lt;select&gt;</a:documentation>
    <element name="select">
      <interleave>
        <ref name="select.inner"/>
        <ref name="select.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="select.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <ref name="common-form.attrs"/>
      <optional>
        <ref name="select.attrs.size"/>
      </optional>
      <optional>
        <ref name="select.attrs.multiple"/>
      </optional>
      <optional>
        <!-- FIXME onfocus, onblur, onchange -->
        <choice>
          <ref name="common.attrs.aria.role.listbox"/>
          <!-- aria-multiselectable depends on "multiple" value; check in assertions -->
          <ref name="common.attrs.aria.role.combobox"/>
          <ref name="common.attrs.aria.role.menu"/>
          <ref name="common.attrs.aria.implicit.combobox"/>
          <ref name="common.attrs.aria.implicit.listbox"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="select.attrs.size">
    <attribute name="size">
      <ref name="common.data.integer.positive"/>
    </attribute>
  </define>
  <define name="select.attrs.multiple">
    <attribute name="multiple">
      <choice>
        <value>multiple</value>
        <value/>
      </choice>
    </attribute>
  </define>
  <define name="select.inner">
    <interleave>
      <zeroOrMore>
        <ref name="optgroup.elem"/>
      </zeroOrMore>
      <zeroOrMore>
        <ref name="option.elem"/>
      </zeroOrMore>
      <zeroOrMore>
        <ref name="common.elem.script-supporting"/>
      </zeroOrMore>
    </interleave>
  </define>
  <define name="common.elem.phrasing" combine="choice">
    <ref name="select.elem"/>
  </define>
  <define name="button.attrs.value">
    <a:documentation>Shared Definitions for Complex Button</a:documentation>
    <attribute name="value">
      <data type="string"/>
    </attribute>
  </define>
  <define name="button.attrs.popover-controls">
    <interleave>
      <optional>
        <ref name="button.attrs.popovertarget"/>
      </optional>
      <optional>
        <ref name="button.attrs.popovertargetaction"/>
      </optional>
    </interleave>
  </define>
  <define name="button.attrs.popovertarget">
    <attribute name="popovertarget">
      <ref name="common.data.idref"/>
    </attribute>
  </define>
  <define name="button.attrs.popovertargetaction">
    <attribute name="popovertargetaction">
      <choice>
        <value>hide</value>
        <value>show</value>
        <value>toggle</value>
      </choice>
    </attribute>
  </define>
  <define name="button.inner">
    <ref name="common.inner.phrasing"/>
  </define>
  <define name="button.submit.elem">
    <a:documentation>Complex Submit Button: &lt;button type='submit'&gt;</a:documentation>
    <element name="button">
      <interleave>
        <ref name="button.inner"/>
        <ref name="button.submit.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="button.submit.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <ref name="common-form.attrs"/>
      <optional>
        <ref name="button.submit.attrs.type"/>
      </optional>
      <optional>
        <ref name="button.attrs.value"/>
      </optional>
      <ref name="button.attrs.popover-controls"/>
      <optional>
        <choice>
          <ref name="common.attrs.aria.implicit.button"/>
          <ref name="common.attrs.aria.role.button"/>
          <ref name="common.attrs.aria.role.checkbox"/>
          <ref name="common.attrs.aria.role.combobox"/>
          <ref name="common.attrs.aria.role.link"/>
          <ref name="common.attrs.aria.role.menuitem"/>
          <ref name="common.attrs.aria.role.menuitemcheckbox"/>
          <ref name="common.attrs.aria.role.menuitemradio"/>
          <ref name="common.attrs.aria.role.option"/>
          <ref name="common.attrs.aria.role.radio"/>
          <ref name="common.attrs.aria.role.tab"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="button.submit.attrs.type">
    <attribute name="type">
      <value>submit</value>
    </attribute>
  </define>
  <define name="button.elem">
    <ref name="button.submit.elem"/>
  </define>
  <define name="button.reset.elem">
    <a:documentation>Complex Reset Button: &lt;button type='reset'&gt;</a:documentation>
    <element name="button">
      <interleave>
        <ref name="button.inner"/>
        <ref name="button.reset.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="button.reset.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <ref name="common-form.attrs"/>
      <ref name="button.reset.attrs.type"/>
      <optional>
        <ref name="button.attrs.value"/>
      </optional>
      <!-- REVISIT I guess this still affects the DOM -->
      <ref name="button.attrs.popover-controls"/>
      <optional>
        <choice>
          <ref name="common.attrs.aria.implicit.button"/>
          <ref name="common.attrs.aria.role.button"/>
          <ref name="common.attrs.aria.role.checkbox"/>
          <ref name="common.attrs.aria.role.link"/>
          <ref name="common.attrs.aria.role.menuitem"/>
          <ref name="common.attrs.aria.role.menuitemcheckbox"/>
          <ref name="common.attrs.aria.role.menuitemradio"/>
          <ref name="common.attrs.aria.role.option"/>
          <ref name="common.attrs.aria.role.radio"/>
          <ref name="common.attrs.aria.role.switch"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="button.reset.attrs.type">
    <attribute name="type">
      <value>reset</value>
    </attribute>
  </define>
  <define name="button.elem" combine="choice">
    <ref name="button.reset.elem"/>
  </define>
  <define name="button.button.elem">
    <a:documentation>Complex Push Button: &lt;button type='button'&gt;</a:documentation>
    <element name="button">
      <interleave>
        <ref name="button.inner"/>
        <ref name="button.button.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="button.button.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <ref name="common-form.attrs"/>
      <ref name="button.button.attrs.type"/>
      <optional>
        <ref name="button.attrs.value"/>
      </optional>
      <!-- REVISIT I guess this still affects the DOM -->
      <ref name="button.attrs.popover-controls"/>
      <optional>
        <choice>
          <ref name="common.attrs.aria.implicit.button"/>
          <ref name="common.attrs.aria.role.button"/>
          <ref name="common.attrs.aria.role.checkbox"/>
          <ref name="common.attrs.aria.role.link"/>
          <ref name="common.attrs.aria.role.menuitem"/>
          <ref name="common.attrs.aria.role.menuitemcheckbox"/>
          <ref name="common.attrs.aria.role.menuitemradio"/>
          <ref name="common.attrs.aria.role.option"/>
          <ref name="common.attrs.aria.role.radio"/>
          <ref name="common.attrs.aria.role.switch"/>
          <ref name="common.attrs.aria.role.tab"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="button.button.attrs.type">
    <attribute name="type">
      <value>button</value>
    </attribute>
  </define>
  <define name="button.elem" combine="choice">
    <ref name="button.button.elem"/>
  </define>
  <define name="common.elem.phrasing" combine="choice">
    <ref name="button.elem"/>
  </define>
  <define name="form.elem">
    <a:documentation>Form: &lt;form&gt;</a:documentation>
    <element name="form">
      <interleave>
        <ref name="form.inner"/>
        <ref name="form.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="form.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <ref name="form.attrs.action"/>
      </optional>
      <optional>
        <!-- REVISIT Should this be required anyway? -->
        <ref name="form.attrs.method"/>
      </optional>
      <optional>
        <ref name="form.attrs.enctype"/>
      </optional>
      <optional>
        <ref name="common-form.attrs.name"/>
      </optional>
      <optional>
        <ref name="form.attrs.accept-charset"/>
      </optional>
      <optional>
        <choice>
          <ref name="common.attrs.aria.implicit.form"/>
          <ref name="common.attrs.aria.landmark.form"/>
          <ref name="common.attrs.aria.landmark.search"/>
          <ref name="common.attrs.aria.role.presentation"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="form.attrs.action">
    <attribute name="action">
      <ref name="common.data.uri.non-empty"/>
    </attribute>
  </define>
  <define name="form.attrs.method">
    <attribute name="method">
      <ref name="form.attrs.method.data"/>
    </attribute>
  </define>
  <define name="form.attrs.method.data">
    <choice>
      <value>get</value>
      <value>post</value>
      <value>dialog</value>
    </choice>
  </define>
  <define name="form.attrs.enctype">
    <attribute name="enctype">
      <ref name="form.attrs.enctype.data"/>
    </attribute>
  </define>
  <define name="form.attrs.enctype.data">
    <choice>
      <value>application/x-www-form-urlencoded</value>
      <value>multipart/form-data</value>
    </choice>
  </define>
  <define name="form.attrs.accept-charset">
    <attribute name="accept-charset">
      <data type="string"/>
    </attribute>
  </define>
  <define name="form.inner">
    <ref name="common.inner.flow"/>
  </define>
  <define name="common.elem.flow" combine="choice">
    <ref name="form.elem"/>
  </define>
  <define name="fieldset.elem">
    <a:documentation>Fieldset: &lt;fieldset&gt;</a:documentation>
    <element name="fieldset">
      <interleave>
        <ref name="fieldset.inner"/>
        <ref name="fieldset.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="fieldset.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <choice>
          <ref name="common.attrs.aria.implicit.group"/>
          <ref name="common.attrs.aria.role.group"/>
          <ref name="common.attrs.aria.role.radiogroup"/>
          <ref name="common.attrs.aria.role.presentation"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="fieldset.inner">
    <optional>
      <ref name="legend.elem"/>
    </optional>
    <ref name="common.inner.flow"/>
  </define>
  <define name="common.elem.flow" combine="choice">
    <ref name="fieldset.elem"/>
  </define>
  <define name="label.elem">
    <a:documentation>Label: &lt;label&gt;</a:documentation>
    <element name="label">
      <interleave>
        <ref name="label.inner"/>
        <ref name="label.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="label.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <ref name="label.attrs.for"/>
      </optional>
    </interleave>
  </define>
  <define name="label.attrs.for">
    <attribute name="for">
      <ref name="common.data.idref"/>
    </attribute>
  </define>
  <define name="label.inner">
    <ref name="common.inner.phrasing"/>
  </define>
  <!-- REVISIT making obvious guess -->
  <define name="common.elem.phrasing" combine="choice">
    <ref name="label.elem"/>
  </define>
</grammar>
`;

export const WEB_FORMS2_RNG = `<?xml version="1.0" encoding="UTF-8"?>
<grammar xmlns:a="http://relaxng.org/ns/compatibility/annotations/1.0" xmlns="http://relaxng.org/ns/structure/1.0" datatypeLibrary="">
  <!-- ##################################################################### -->
  <define name="common-form.attrs" combine="interleave">
    <a:documentation> RELAX NG Schema for HTML 5: Web Forms 2.0 markup                  #</a:documentation>
    <!-- ##################################################################### -->
    <a:documentation>Shared attributes for form controls</a:documentation>
    <optional>
      <ref name="common-form.attrs.form"/>
    </optional>
  </define>
  <define name="common-form.attrs.form" combine="choice">
    <attribute name="form">
      <ref name="common.data.idref"/>
    </attribute>
  </define>
  <define name="shared-form.attrs.formaction">
    <attribute name="formaction">
      <ref name="common.data.uri.non-empty"/>
    </attribute>
  </define>
  <define name="shared-form.attrs.formenctype">
    <attribute name="formenctype">
      <ref name="shared-form.attrs.formenctype.data"/>
    </attribute>
  </define>
  <define name="shared-form.attrs.formenctype.data">
    <choice>
      <value>application/x-www-form-urlencoded</value>
      <value>multipart/form-data</value>
      <value>text/plain</value>
    </choice>
  </define>
  <define name="shared-form.attrs.formmethod">
    <attribute name="formmethod">
      <ref name="shared-form.attrs.formmethod.data"/>
    </attribute>
  </define>
  <define name="shared-form.attrs.formmethod.data">
    <choice>
      <value>get</value>
      <value>post</value>
      <value>dialog</value>
    </choice>
  </define>
  <define name="shared-form.attrs.formtarget">
    <attribute name="formtarget">
      <ref name="common.data.browsing-context-or-keyword"/>
    </attribute>
  </define>
  <define name="shared-form.attrs.formnovalidate">
    <attribute name="formnovalidate">
      <choice>
        <value>formnovalidate</value>
        <value/>
      </choice>
    </attribute>
  </define>
  <define name="shared-form.attrs.pattern">
    <attribute name="pattern">
      <ref name="form.data.pattern"/>
    </attribute>
  </define>
  <define name="shared-form.attrs.template">
    <attribute name="template">
      <ref name="common.data.idref"/>
    </attribute>
  </define>
  <define name="shared-form.attrs.required">
    <attribute name="required">
      <choice>
        <value>required</value>
        <value/>
      </choice>
    </attribute>
  </define>
  <define name="shared-form.attrs.placeholder">
    <attribute name="placeholder">
      <ref name="form.data.stringwithoutlinebreaks"/>
    </attribute>
  </define>
  <define name="shared-form.attrs.dirname">
    <attribute name="dirname">
      <ref name="form.data.nonemptystring"/>
    </attribute>
  </define>
  <define name="shared-form.attrs.minlength">
    <attribute name="minlength">
      <ref name="common.data.integer.non-negative"/>
    </attribute>
  </define>
  <define name="shared-input-no-size.attrs">
    <a:documentation>Shared attributes for &lt;input&gt;</a:documentation>
    <interleave>
      <optional>
        <ref name="input.attrs.autocomplete"/>
      </optional>
      <optional>
        <ref name="input.attrs.list"/>
      </optional>
      <optional>
        <ref name="shared-form.attrs.maxlength"/>
      </optional>
      <optional>
        <ref name="shared-form.attrs.minlength"/>
      </optional>
      <optional>
        <ref name="shared-form.attrs.pattern"/>
      </optional>
      <optional>
        <ref name="shared-form.attrs.placeholder"/>
      </optional>
      <optional>
        <ref name="aria.prop.placeholder"/>
      </optional>
      <optional>
        <ref name="shared-form.attrs.readonly"/>
      </optional>
      <optional>
        <ref name="shared-form.attrs.required"/>
      </optional>
    </interleave>
  </define>
  <define name="shared-input-no-list.attrs">
    <interleave>
      <optional>
        <ref name="input.attrs.autocomplete"/>
      </optional>
      <optional>
        <ref name="shared-form.attrs.maxlength"/>
      </optional>
      <optional>
        <ref name="shared-form.attrs.minlength"/>
      </optional>
      <optional>
        <ref name="shared-form.attrs.pattern"/>
      </optional>
      <optional>
        <ref name="shared-form.attrs.placeholder"/>
      </optional>
      <optional>
        <ref name="aria.prop.placeholder"/>
      </optional>
      <optional>
        <ref name="shared-form.attrs.readonly"/>
      </optional>
      <optional>
        <ref name="shared-form.attrs.required"/>
      </optional>
      <optional>
        <ref name="shared-form.attrs.size"/>
      </optional>
    </interleave>
  </define>
  <define name="shared-input.attrs">
    <interleave>
      <ref name="shared-input-no-size.attrs"/>
      <optional>
        <ref name="shared-form.attrs.size"/>
      </optional>
    </interleave>
  </define>
  <define name="input.attrs.list">
    <attribute name="list">
      <ref name="common.data.idref"/>
    </attribute>
  </define>
  <define name="input.attrs.step.float">
    <attribute name="step">
      <choice>
        <value>any</value>
        <ref name="common.data.float.positive"/>
      </choice>
    </attribute>
  </define>
  <define name="input.attrs.step.integer">
    <attribute name="step">
      <choice>
        <value>any</value>
        <ref name="common.data.integer.positive"/>
      </choice>
    </attribute>
  </define>
  <define name="input.attrs.multiple">
    <attribute name="multiple">
      <choice>
        <value>multiple</value>
        <value/>
      </choice>
    </attribute>
  </define>
  <define name="input.attrs.autocomplete.any">
    <a:documentation>autocomplete</a:documentation>
    <attribute name="autocomplete">
      <choice>
        <value>on</value>
        <value>off</value>
        <ref name="common.data.autocomplete.any"/>
      </choice>
    </attribute>
  </define>
  <define name="input.attrs.autocomplete">
    <attribute name="autocomplete">
      <data type="string"/>
    </attribute>
  </define>
  <define name="input.hidden.attrs" combine="interleave">
    <a:documentation>Hidden String: &lt;input type='hidden'&gt;, Extensions</a:documentation>
    <optional>
      <ref name="input.attrs.autocomplete"/>
    </optional>
  </define>
  <define name="input.text.attrs" combine="interleave">
    <a:documentation>Text Field: &lt;input type='text'&gt;, Extensions</a:documentation>
    <interleave>
      <optional>
        <ref name="input.attrs.autocomplete"/>
      </optional>
      <optional>
        <ref name="shared-form.attrs.dirname"/>
      </optional>
      <optional>
        <ref name="input.attrs.list"/>
      </optional>
      <optional>
        <ref name="shared-form.attrs.pattern"/>
      </optional>
      <optional>
        <ref name="shared-form.attrs.required"/>
      </optional>
      <optional>
        <ref name="shared-form.attrs.placeholder"/>
      </optional>
      <optional>
        <ref name="aria.prop.placeholder"/>
      </optional>
      <optional>
        <ref name="shared-form.attrs.minlength"/>
      </optional>
    </interleave>
  </define>
  <define name="input.password.attrs" combine="interleave">
    <a:documentation>Password Field: &lt;input type='password'&gt;, Extensions</a:documentation>
    <interleave>
      <optional>
        <ref name="input.attrs.autocomplete"/>
      </optional>
      <optional>
        <ref name="input.attrs.list"/>
      </optional>
      <optional>
        <ref name="shared-form.attrs.pattern"/>
      </optional>
      <optional>
        <ref name="shared-form.attrs.placeholder"/>
      </optional>
      <optional>
        <ref name="aria.prop.placeholder"/>
      </optional>
      <optional>
        <ref name="shared-form.attrs.required"/>
      </optional>
      <optional>
        <ref name="aria.prop.required"/>
      </optional>
      <optional>
        <ref name="shared-form.attrs.minlength"/>
      </optional>
    </interleave>
  </define>
  <define name="input.checkbox.attrs" combine="interleave">
    <a:documentation>Checkbox &lt;input type='checkbox'&gt;, Extensions</a:documentation>
    <interleave>
      <ref name="shared-input.attrs"/>
      <optional>
        <ref name="aria.prop.required"/>
      </optional>
    </interleave>
  </define>
  <define name="input.radio.attrs" combine="interleave">
    <a:documentation>Radiobutton: &lt;input type='radio'&gt;, Extensions</a:documentation>
    <interleave>
      <ref name="shared-input.attrs"/>
      <optional>
        <ref name="aria.prop.required"/>
      </optional>
    </interleave>
  </define>
  <define name="input.button.attrs" combine="interleave">
    <a:documentation>Scripting Hook Button: &lt;input type='button'&gt;, Extensions</a:documentation>
    <ref name="shared-input.attrs"/>
  </define>
  <define name="input.submit.attrs" combine="interleave">
    <a:documentation>Submit Button: &lt;input type='submit'&gt;, Extensions</a:documentation>
    <interleave>
      <ref name="shared-input.attrs"/>
      <optional>
        <ref name="shared-form.attrs.formaction"/>
      </optional>
      <optional>
        <ref name="shared-form.attrs.formenctype"/>
      </optional>
      <optional>
        <ref name="shared-form.attrs.formmethod"/>
      </optional>
      <optional>
        <ref name="shared-form.attrs.formtarget"/>
      </optional>
      <optional>
        <ref name="shared-form.attrs.formnovalidate"/>
      </optional>
    </interleave>
  </define>
  <define name="input.reset.attrs" combine="interleave">
    <a:documentation>Reset Button: &lt;input type='reset'&gt;, Extensions</a:documentation>
    <ref name="shared-input.attrs"/>
  </define>
  <define name="input.file.attrs" combine="interleave">
    <a:documentation>File Upload: &lt;input type='file'&gt;, Extensions</a:documentation>
    <interleave>
      <ref name="shared-input.attrs"/>
      <optional>
        <ref name="input.attrs.multiple"/>
      </optional>
      <optional>
        <ref name="aria.prop.required"/>
      </optional>
      <optional>
        <ref name="input.input.attrs.capture"/>
      </optional>
    </interleave>
  </define>
  <define name="input.input.attrs.capture">
    <attribute name="capture">
      <choice>
        <value>user</value>
        <value>environment</value>
      </choice>
    </attribute>
  </define>
  <define name="input.image.attrs" combine="interleave">
    <a:documentation>Image Submit Button: &lt;input type='image'&gt;, Extensions</a:documentation>
    <interleave>
      <ref name="shared-input.attrs"/>
      <optional>
        <ref name="shared-form.attrs.formaction"/>
      </optional>
      <optional>
        <ref name="shared-form.attrs.formenctype"/>
      </optional>
      <optional>
        <ref name="shared-form.attrs.formmethod"/>
      </optional>
      <optional>
        <ref name="shared-form.attrs.formtarget"/>
      </optional>
      <optional>
        <ref name="shared-form.attrs.formnovalidate"/>
      </optional>
      <optional>
        <ref name="input.image.attrs.height"/>
      </optional>
      <optional>
        <ref name="input.image.attrs.width"/>
      </optional>
    </interleave>
  </define>
  <define name="input.image.attrs.height">
    <attribute name="height">
      <ref name="common.data.integer.non-negative"/>
    </attribute>
  </define>
  <define name="input.image.attrs.width">
    <attribute name="width">
      <ref name="common.data.integer.non-negative"/>
    </attribute>
  </define>
  <define name="input.datetime-local.elem">
    <a:documentation>Date and Time with No Time Zone Information: &lt;input type='datetime-local'&gt;</a:documentation>
    <element name="input">
      <ref name="input.datetime-local.attrs"/>
    </element>
  </define>
  <define name="input.datetime-local.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <ref name="common-form.attrs"/>
      <ref name="shared-input.attrs"/>
      <ref name="input.datetime-local.attrs.type"/>
      <optional>
        <ref name="input.datetime-local.attrs.min"/>
      </optional>
      <optional>
        <ref name="aria.prop.valuemin"/>
      </optional>
      <optional>
        <ref name="input.datetime-local.attrs.max"/>
      </optional>
      <optional>
        <ref name="aria.prop.valuemax"/>
      </optional>
      <optional>
        <ref name="input.attrs.step.float"/>
      </optional>
      <optional>
        <ref name="aria.prop.required"/>
      </optional>
      <optional>
        <ref name="input.datetime-local.attrs.value"/>
      </optional>
    </interleave>
  </define>
  <define name="input.datetime-local.attrs.type">
    <attribute name="type">
      <value>datetime-local</value>
    </attribute>
  </define>
  <define name="input.datetime-local.attrs.min">
    <attribute name="min">
      <ref name="form.data.datetime-local"/>
    </attribute>
  </define>
  <define name="input.datetime-local.attrs.max">
    <attribute name="max">
      <ref name="form.data.datetime-local"/>
    </attribute>
  </define>
  <define name="input.datetime-local.attrs.value">
    <attribute name="value">
      <choice>
        <value/>
        <ref name="form.data.datetime-local"/>
      </choice>
    </attribute>
  </define>
  <define name="input.elem" combine="choice">
    <ref name="input.datetime-local.elem"/>
  </define>
  <define name="input.date.elem">
    <a:documentation>Date: &lt;input type='date'&gt;</a:documentation>
    <element name="input">
      <ref name="input.date.attrs"/>
    </element>
  </define>
  <define name="input.date.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <ref name="common-form.attrs"/>
      <ref name="shared-input.attrs"/>
      <ref name="input.date.attrs.type"/>
      <optional>
        <ref name="input.date.attrs.min"/>
      </optional>
      <optional>
        <ref name="aria.prop.valuemin"/>
      </optional>
      <optional>
        <ref name="input.date.attrs.max"/>
      </optional>
      <optional>
        <ref name="aria.prop.valuemax"/>
      </optional>
      <optional>
        <ref name="aria.prop.required"/>
      </optional>
      <optional>
        <ref name="input.attrs.step.integer"/>
      </optional>
      <optional>
        <ref name="input.date.attrs.value"/>
      </optional>
    </interleave>
  </define>
  <define name="input.date.attrs.type">
    <attribute name="type">
      <value>date</value>
    </attribute>
  </define>
  <define name="input.date.attrs.min">
    <attribute name="min">
      <ref name="form.data.date"/>
    </attribute>
  </define>
  <define name="input.date.attrs.max">
    <attribute name="max">
      <ref name="form.data.date"/>
    </attribute>
  </define>
  <define name="input.date.attrs.value">
    <attribute name="value">
      <choice>
        <value/>
        <ref name="form.data.date"/>
      </choice>
    </attribute>
  </define>
  <define name="input.elem" combine="choice">
    <ref name="input.date.elem"/>
  </define>
  <define name="input.month.elem">
    <a:documentation>Year and Month: &lt;input type='month'&gt;</a:documentation>
    <element name="input">
      <ref name="input.month.attrs"/>
    </element>
  </define>
  <define name="input.month.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <ref name="common-form.attrs"/>
      <ref name="shared-input.attrs"/>
      <ref name="input.month.attrs.type"/>
      <optional>
        <ref name="input.month.attrs.min"/>
      </optional>
      <optional>
        <ref name="aria.prop.valuemin"/>
      </optional>
      <optional>
        <ref name="input.month.attrs.max"/>
      </optional>
      <optional>
        <ref name="aria.prop.valuemax"/>
      </optional>
      <optional>
        <ref name="aria.prop.required"/>
      </optional>
      <optional>
        <ref name="input.attrs.step.integer"/>
      </optional>
      <optional>
        <ref name="input.month.attrs.value"/>
      </optional>
    </interleave>
  </define>
  <define name="input.month.attrs.type">
    <attribute name="type">
      <value>month</value>
    </attribute>
  </define>
  <define name="input.month.attrs.min">
    <attribute name="min">
      <ref name="form.data.month"/>
    </attribute>
  </define>
  <define name="input.month.attrs.max">
    <attribute name="max">
      <ref name="form.data.month"/>
    </attribute>
  </define>
  <define name="input.month.attrs.value">
    <attribute name="value">
      <choice>
        <value/>
        <ref name="form.data.month"/>
      </choice>
    </attribute>
  </define>
  <define name="input.elem" combine="choice">
    <ref name="input.month.elem"/>
  </define>
  <define name="input.time.elem">
    <a:documentation>Time without Time Zone Information: &lt;input type='time'&gt;</a:documentation>
    <element name="input">
      <ref name="input.time.attrs"/>
    </element>
  </define>
  <define name="input.time.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <ref name="common-form.attrs"/>
      <ref name="shared-input.attrs"/>
      <ref name="input.time.attrs.type"/>
      <optional>
        <ref name="input.time.attrs.min"/>
      </optional>
      <optional>
        <ref name="aria.prop.valuemin"/>
      </optional>
      <optional>
        <ref name="input.time.attrs.max"/>
      </optional>
      <optional>
        <ref name="aria.prop.valuemax"/>
      </optional>
      <optional>
        <ref name="aria.prop.required"/>
      </optional>
      <optional>
        <ref name="input.attrs.step.float"/>
      </optional>
      <optional>
        <ref name="input.time.attrs.value"/>
      </optional>
    </interleave>
  </define>
  <define name="input.time.attrs.type">
    <attribute name="type">
      <value>time</value>
    </attribute>
  </define>
  <define name="input.time.attrs.min">
    <attribute name="min">
      <ref name="form.data.time"/>
    </attribute>
  </define>
  <define name="input.time.attrs.max">
    <attribute name="max">
      <ref name="form.data.time"/>
    </attribute>
  </define>
  <define name="input.time.attrs.value">
    <attribute name="value">
      <choice>
        <value/>
        <ref name="form.data.time"/>
      </choice>
    </attribute>
  </define>
  <define name="input.elem" combine="choice">
    <ref name="input.time.elem"/>
  </define>
  <define name="input.week.elem">
    <a:documentation>Year and Week: &lt;input type='week'&gt;</a:documentation>
    <element name="input">
      <ref name="input.week.attrs"/>
    </element>
  </define>
  <define name="input.week.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <ref name="common-form.attrs"/>
      <ref name="shared-input.attrs"/>
      <ref name="input.week.attrs.type"/>
      <optional>
        <ref name="input.week.attrs.min"/>
      </optional>
      <optional>
        <ref name="aria.prop.valuemin"/>
      </optional>
      <optional>
        <ref name="input.week.attrs.max"/>
      </optional>
      <optional>
        <ref name="aria.prop.valuemax"/>
      </optional>
      <optional>
        <ref name="aria.prop.required"/>
      </optional>
      <optional>
        <ref name="input.attrs.step.integer"/>
      </optional>
      <optional>
        <ref name="input.week.attrs.value"/>
      </optional>
    </interleave>
  </define>
  <define name="input.week.attrs.type">
    <attribute name="type">
      <value>week</value>
    </attribute>
  </define>
  <define name="input.week.attrs.min">
    <attribute name="min">
      <ref name="form.data.week"/>
    </attribute>
  </define>
  <define name="input.week.attrs.max">
    <attribute name="max">
      <ref name="form.data.week"/>
    </attribute>
  </define>
  <define name="input.week.attrs.value">
    <attribute name="value">
      <choice>
        <value/>
        <ref name="form.data.week"/>
      </choice>
    </attribute>
  </define>
  <define name="input.elem" combine="choice">
    <ref name="input.week.elem"/>
  </define>
  <define name="input.number.elem">
    <a:documentation>Number: &lt;input type='number'&gt;</a:documentation>
    <element name="input">
      <ref name="input.number.attrs"/>
    </element>
  </define>
  <define name="input.number.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <ref name="common-form.attrs"/>
      <ref name="shared-input-no-size.attrs"/>
      <ref name="input.number.attrs.type"/>
      <optional>
        <ref name="input.number.attrs.min"/>
      </optional>
      <optional>
        <ref name="input.number.attrs.max"/>
      </optional>
      <optional>
        <ref name="input.attrs.step.float"/>
      </optional>
      <optional>
        <ref name="input.number.attrs.value"/>
      </optional>
      <optional>
        <choice>
          <ref name="common.attrs.aria.implicit.spinbutton"/>
          <ref name="common.attrs.aria.role.spinbutton"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="input.number.attrs.type">
    <attribute name="type">
      <value>number</value>
    </attribute>
  </define>
  <define name="input.number.attrs.min">
    <attribute name="min">
      <ref name="common.data.float"/>
    </attribute>
  </define>
  <define name="input.number.attrs.max">
    <attribute name="max">
      <ref name="common.data.float"/>
    </attribute>
  </define>
  <define name="input.number.attrs.value">
    <attribute name="value">
      <choice>
        <value/>
        <ref name="common.data.float"/>
      </choice>
    </attribute>
  </define>
  <define name="input.elem" combine="choice">
    <ref name="input.number.elem"/>
  </define>
  <define name="input.range.elem">
    <a:documentation>Imprecise Number: &lt;input type='range'&gt;</a:documentation>
    <element name="input">
      <ref name="input.range.attrs"/>
    </element>
  </define>
  <define name="input.range.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <ref name="common-form.attrs"/>
      <ref name="shared-input-no-size.attrs"/>
      <ref name="input.range.attrs.type"/>
      <optional>
        <ref name="input.range.attrs.min"/>
      </optional>
      <optional>
        <ref name="input.range.attrs.max"/>
      </optional>
      <optional>
        <ref name="input.attrs.step.float"/>
      </optional>
      <optional>
        <ref name="input.range.attrs.value"/>
      </optional>
      <optional>
        <choice>
          <ref name="common.attrs.aria.implicit.slider"/>
          <ref name="common.attrs.aria.role.slider"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="input.range.attrs.type">
    <attribute name="type">
      <value>range</value>
    </attribute>
  </define>
  <define name="input.range.attrs.min">
    <attribute name="min">
      <ref name="common.data.float"/>
    </attribute>
  </define>
  <define name="input.range.attrs.max">
    <attribute name="max">
      <ref name="common.data.float"/>
    </attribute>
  </define>
  <define name="input.range.attrs.value">
    <attribute name="value">
      <ref name="common.data.float"/>
    </attribute>
  </define>
  <define name="input.elem" combine="choice">
    <ref name="input.range.elem"/>
  </define>
  <define name="input.email.elem">
    <a:documentation>Email Address: &lt;input type='email'&gt;</a:documentation>
    <element name="input">
      <ref name="input.email.attrs"/>
    </element>
  </define>
  <define name="input.email.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <ref name="common-form.attrs"/>
      <ref name="shared-input-no-list.attrs"/>
      <ref name="input.email.attrs.type"/>
      <optional>
        <choice>
          <interleave>
            <ref name="input.attrs.multiple"/>
            <optional>
              <ref name="input.email.attrs.value.multiple"/>
            </optional>
          </interleave>
          <optional>
            <ref name="input.email.attrs.value.single"/>
          </optional>
        </choice>
      </optional>
      <choice>
        <optional>
          <choice>
            <ref name="common.attrs.aria.implicit.textbox"/>
            <ref name="common.attrs.aria.role.textbox"/>
          </choice>
        </optional>
        <optional>
          <interleave>
            <ref name="input.attrs.list"/>
            <optional>
              <choice>
                <ref name="common.attrs.aria.implicit.combobox"/>
                <ref name="common.attrs.aria.role.combobox"/>
              </choice>
            </optional>
          </interleave>
        </optional>
      </choice>
    </interleave>
  </define>
  <define name="input.email.attrs.type">
    <attribute name="type">
      <value>email</value>
    </attribute>
  </define>
  <define name="input.email.attrs.value.single">
    <attribute name="value">
      <ref name="form.data.emailaddress"/>
    </attribute>
  </define>
  <define name="input.email.attrs.value.multiple">
    <attribute name="value">
      <ref name="form.data.emailaddresslist"/>
    </attribute>
  </define>
  <define name="input.elem" combine="choice">
    <ref name="input.email.elem"/>
  </define>
  <define name="input.url.elem">
    <a:documentation>IRI: &lt;input type='url'&gt;</a:documentation>
    <element name="input">
      <ref name="input.url.attrs"/>
    </element>
  </define>
  <define name="input.url.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <ref name="common-form.attrs"/>
      <ref name="shared-input-no-list.attrs"/>
      <ref name="input.url.attrs.type"/>
      <optional>
        <ref name="input.url.attrs.value"/>
      </optional>
      <choice>
        <optional>
          <choice>
            <ref name="common.attrs.aria.implicit.textbox"/>
            <ref name="common.attrs.aria.role.textbox"/>
          </choice>
        </optional>
        <optional>
          <interleave>
            <ref name="input.attrs.list"/>
            <optional>
              <choice>
                <ref name="common.attrs.aria.implicit.combobox"/>
                <ref name="common.attrs.aria.role.combobox"/>
              </choice>
            </optional>
          </interleave>
        </optional>
      </choice>
    </interleave>
  </define>
  <define name="input.url.attrs.type">
    <attribute name="type">
      <value>url</value>
    </attribute>
  </define>
  <define name="input.url.attrs.value">
    <attribute name="value">
      <choice>
        <value/>
        <ref name="common.data.uri.absolute"/>
      </choice>
    </attribute>
  </define>
  <define name="input.elem" combine="choice">
    <ref name="input.url.elem"/>
  </define>
  <define name="input.search.elem">
    <a:documentation>Search: &lt;input type='search'&gt;</a:documentation>
    <element name="input">
      <ref name="input.search.attrs"/>
    </element>
  </define>
  <define name="input.search.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <ref name="common-form.attrs"/>
      <ref name="shared-input.attrs"/>
      <ref name="input.search.attrs.type"/>
      <optional>
        <ref name="input.search.attrs.value"/>
      </optional>
      <optional>
        <ref name="shared-form.attrs.dirname"/>
      </optional>
      <optional>
        <choice>
          <ref name="common.attrs.aria.implicit.searchbox"/>
          <ref name="common.attrs.aria.role.searchbox"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="input.search.attrs.type">
    <attribute name="type">
      <value>search</value>
    </attribute>
  </define>
  <define name="input.search.attrs.value">
    <attribute name="value">
      <ref name="form.data.stringwithoutlinebreaks"/>
    </attribute>
  </define>
  <define name="input.elem" combine="choice">
    <ref name="input.search.elem"/>
  </define>
  <define name="input.tel.elem">
    <a:documentation>Telephone Number: &lt;input type='tel'&gt;</a:documentation>
    <element name="input">
      <ref name="input.tel.attrs"/>
    </element>
  </define>
  <define name="input.tel.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <ref name="common-form.attrs"/>
      <ref name="shared-input-no-list.attrs"/>
      <ref name="input.tel.attrs.type"/>
      <optional>
        <ref name="input.tel.attrs.value"/>
      </optional>
      <choice>
        <optional>
          <choice>
            <ref name="common.attrs.aria.implicit.textbox"/>
            <ref name="common.attrs.aria.role.textbox"/>
          </choice>
        </optional>
        <optional>
          <interleave>
            <ref name="input.attrs.list"/>
            <optional>
              <choice>
                <ref name="common.attrs.aria.implicit.combobox"/>
                <ref name="common.attrs.aria.role.combobox"/>
              </choice>
            </optional>
          </interleave>
        </optional>
      </choice>
    </interleave>
  </define>
  <define name="input.tel.attrs.type">
    <attribute name="type">
      <value>tel</value>
    </attribute>
  </define>
  <define name="input.tel.attrs.value">
    <attribute name="value">
      <ref name="form.data.stringwithoutlinebreaks"/>
    </attribute>
  </define>
  <define name="input.elem" combine="choice">
    <ref name="input.tel.elem"/>
  </define>
  <define name="input.color.elem">
    <a:documentation>Color: &lt;input type='color'&gt;</a:documentation>
    <element name="input">
      <ref name="input.color.attrs"/>
    </element>
  </define>
  <define name="input.color.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <ref name="common-form.attrs"/>
      <ref name="input.color.attrs.type"/>
      <optional>
        <ref name="input.color.attrs.value"/>
      </optional>
      <ref name="shared-input.attrs"/>
    </interleave>
  </define>
  <define name="input.color.attrs.type">
    <attribute name="type">
      <value>color</value>
    </attribute>
  </define>
  <define name="input.color.attrs.value">
    <attribute name="value">
      <choice>
        <value/>
        <ref name="form.data.color"/>
      </choice>
    </attribute>
  </define>
  <define name="input.elem" combine="choice">
    <ref name="input.color.elem"/>
  </define>
  <define name="output.elem">
    <a:documentation>Form Output: &lt;output&gt;</a:documentation>
    <element name="output">
      <interleave>
        <ref name="output.inner"/>
        <ref name="output.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="output.attrs">
    <interleave>
      <ref name="common.attrs"/>
      <optional>
        <ref name="common-form.attrs.name"/>
      </optional>
      <optional>
        <ref name="common-form.attrs.form"/>
      </optional>
      <optional>
        <ref name="output.attrs.for"/>
      </optional>
      <optional>
        <choice>
          <ref name="common.attrs.aria.implicit.status"/>
          <ref name="common.attrs.aria"/>
        </choice>
      </optional>
    </interleave>
  </define>
  <define name="output.attrs.for">
    <attribute name="for">
      <ref name="common.data.idrefs"/>
      <!-- REVISIT spec says space- -not whitespace -->
    </attribute>
  </define>
  <define name="output.inner">
    <ref name="common.inner.phrasing"/>
  </define>
  <define name="common.elem.phrasing" combine="choice">
    <ref name="output.elem"/>
  </define>
  <define name="textarea.attrs.rows-and-cols-wf1.inner" combine="interleave">
    <a:documentation>Text Area: &lt;textarea&gt;, extensions</a:documentation>
    <notAllowed/>
  </define>
  <define name="textarea.attrs.rows-and-cols-wf1" combine="choice">
    <empty/>
  </define>
  <define name="textarea.attrs" combine="interleave">
    <interleave>
      <optional>
        <ref name="shared-form.attrs.maxlength"/>
      </optional>
      <optional>
        <ref name="shared-form.attrs.minlength"/>
      </optional>
      <optional>
        <ref name="shared-form.attrs.required"/>
      </optional>
      <optional>
        <ref name="textarea.attrs.placeholder"/>
      </optional>
      <optional>
        <ref name="aria.prop.placeholder"/>
      </optional>
      <optional>
        <ref name="shared-form.attrs.dirname"/>
      </optional>
      <optional>
        <ref name="textarea.attrs.rows"/>
      </optional>
      <choice>
        <interleave>
          <ref name="textarea.attrs.wrap.hard"/>
          <ref name="textarea.attrs.cols"/>
        </interleave>
        <interleave>
          <optional>
            <ref name="textarea.attrs.wrap.soft"/>
          </optional>
          <optional>
            <ref name="textarea.attrs.cols"/>
          </optional>
        </interleave>
      </choice>
      <optional>
        <ref name="input.attrs.autocomplete.any"/>
      </optional>
    </interleave>
  </define>
  <define name="textarea.attrs.wrap.hard">
    <attribute name="wrap">
      <value>hard</value>
    </attribute>
  </define>
  <define name="textarea.attrs.wrap.soft">
    <attribute name="wrap">
      <value>soft</value>
    </attribute>
  </define>
  <define name="textarea.attrs.placeholder">
    <attribute name="placeholder">
      <data type="string"/>
    </attribute>
  </define>
  <!-- REVISIT should the options in datalist be non-selectable? -->
  <define name="datalist.elem">
    <a:documentation>List of Prefill Data: &lt;datalist&gt;</a:documentation>
    <element name="datalist">
      <interleave>
        <ref name="datalist.inner"/>
        <ref name="datalist.attrs"/>
      </interleave>
    </element>
  </define>
  <define name="datalist.inner">
    <interleave>
      <zeroOrMore>
        <ref name="option.elem"/>
      </zeroOrMore>
      <ref name="common.inner.phrasing"/>
    </interleave>
  </define>
  <define name="datalist.attrs">
    <ref name="common.attrs"/>
  </define>
  <define name="common.elem.phrasing" combine="choice">
    <ref name="datalist.elem"/>
  </define>
  <define name="button.submit.attrs" combine="interleave">
    <a:documentation>Complex Submit Button: &lt;button type='submit'&gt;, extensions</a:documentation>
    <interleave>
      <optional>
        <ref name="shared-form.attrs.formaction"/>
      </optional>
      <optional>
        <ref name="shared-form.attrs.formenctype"/>
      </optional>
      <optional>
        <ref name="shared-form.attrs.formmethod"/>
      </optional>
      <optional>
        <ref name="shared-form.attrs.formtarget"/>
      </optional>
      <optional>
        <ref name="shared-form.attrs.formnovalidate"/>
      </optional>
    </interleave>
  </define>
  <define name="form.attrs" combine="interleave">
    <a:documentation>Form: &lt;form&gt;, extensions</a:documentation>
    <interleave>
      <optional>
        <ref name="form.attrs.novalidate"/>
      </optional>
      <optional>
        <ref name="form.attrs.target"/>
      </optional>
      <optional>
        <ref name="form.attrs.autocomplete"/>
      </optional>
    </interleave>
  </define>
  <define name="form.attrs.novalidate">
    <attribute name="novalidate">
      <choice>
        <value>novalidate</value>
        <value/>
      </choice>
    </attribute>
  </define>
  <define name="form.attrs.target">
    <attribute name="target">
      <ref name="common.data.browsing-context-or-keyword"/>
    </attribute>
  </define>
  <define name="form.attrs.autocomplete">
    <attribute name="autocomplete">
      <choice>
        <value>on</value>
        <value>off</value>
      </choice>
    </attribute>
  </define>
  <!-- REVISIT should this be case-insensitive in conforming XHTML documents? -->
  <define name="form.attrs.enctype.data" combine="choice">
    <value>text/plain</value>
  </define>
  <define name="fieldset.attrs" combine="interleave">
    <a:documentation>Fieldset: &lt;fieldset&gt;, extensions</a:documentation>
    <ref name="common-form.attrs"/>
  </define>
  <define name="select.attrs" combine="interleave">
    <a:documentation>Selection Menu: &lt;select&gt;, Extensions</a:documentation>
    <interleave>
      <optional>
        <ref name="shared-form.attrs.required"/>
      </optional>
      <optional>
        <ref name="input.attrs.autocomplete.any"/>
      </optional>
    </interleave>
  </define>
</grammar>
`;

/**
 * Map of schema filenames to their content
 */
export const SCHEMAS: Record<string, string> = {
  'applications.rng': APPLICATIONS_RNG,
  'aria.rng': ARIA_RNG,
  'block.rng': BLOCK_RNG,
  'common.rng': COMMON_RNG,
  'container.rng': CONTAINER_RNG,
  'core-scripting.rng': CORE_SCRIPTING_RNG,
  'data.rng': DATA_RNG,
  'datatypes.rng': DATATYPES_RNG,
  'embed.rng': EMBED_RNG,
  'epub-mathml3-inc.rng': EPUB_MATHML3_INC_RNG,
  'epub-nav-30.rnc': EPUB_NAV_30_RNC,
  'epub-nav-30.rng': EPUB_NAV_30_RNG,
  'epub-nav-30.sch': EPUB_NAV_30_SCH,
  'epub-prefix-attr.rng': EPUB_PREFIX_ATTR_RNG,
  'epub-shared-inc.rng': EPUB_SHARED_INC_RNG,
  'epub-ssml-attrs.rng': EPUB_SSML_ATTRS_RNG,
  'epub-svg-30.rnc': EPUB_SVG_30_RNC,
  'epub-svg-30.rng': EPUB_SVG_30_RNG,
  'epub-svg-30.sch': EPUB_SVG_30_SCH,
  'epub-svg-forgiving-inc.rng': EPUB_SVG_FORGIVING_INC_RNG,
  'epub-switch.rng': EPUB_SWITCH_RNG,
  'epub-trigger.rng': EPUB_TRIGGER_RNG,
  'epub-type-attr.rng': EPUB_TYPE_ATTR_RNG,
  'epub-xhtml-30.rnc': EPUB_XHTML_30_RNC,
  'epub-xhtml-30.rng': EPUB_XHTML_30_RNG,
  'epub-xhtml-30.sch': EPUB_XHTML_30_SCH,
  'epub-xhtml-inc.rng': EPUB_XHTML_INC_RNG,
  'epub-xhtml-integration.rng': EPUB_XHTML_INTEGRATION_RNG,
  'epub-xhtml-svg-mathml.rng': EPUB_XHTML_SVG_MATHML_RNG,
  'form-datatypes.rng': FORM_DATATYPES_RNG,
  'mathml3-common.rng': MATHML3_COMMON_RNG,
  'mathml3-content.rng': MATHML3_CONTENT_RNG,
  'mathml3-inc.rng': MATHML3_INC_RNG,
  'mathml3-presentation.rng': MATHML3_PRESENTATION_RNG,
  'mathml3-strict-content.rng': MATHML3_STRICT_CONTENT_RNG,
  'media.rng': MEDIA_RNG,
  'meta.rng': META_RNG,
  'microdata.rng': MICRODATA_RNG,
  'ncx.rng': NCX_RNG,
  'ocf-container-30.rnc': OCF_CONTAINER_30_RNC,
  'ocf-container-30.rng': OCF_CONTAINER_30_RNG,
  'opf.rng': OPF_RNG,
  'opf20.rng': OPF20_RNG,
  'package-30.rnc': PACKAGE_30_RNC,
  'package-30.rng': PACKAGE_30_RNG,
  'package-30.sch': PACKAGE_30_SCH,
  'phrase.rng': PHRASE_RNG,
  'rdfa.rng': RDFA_RNG,
  'revision.rng': REVISION_RNG,
  'ruby.rng': RUBY_RNG,
  'sectional.rng': SECTIONAL_RNG,
  'structural.rng': STRUCTURAL_RNG,
  'tables.rng': TABLES_RNG,
  'web-components.rng': WEB_COMPONENTS_RNG,
  'web-forms.rng': WEB_FORMS_RNG,
  'web-forms2.rng': WEB_FORMS2_RNG,
};

/**
 * Get schema content by filename
 */
export function getSchema(filename: string): string | undefined {
  return SCHEMAS[filename];
}
